{"ast":null,"code":"var _ = require(\"./lodash\");\nvar d3 = require(\"./d3\");\nvar layout = require(\"./dagre\").layout;\nmodule.exports = render;\n\n// This design is based on http://bost.ocks.org/mike/chart/.\nfunction render() {\n  var createNodes = require(\"./create-nodes\");\n  var createClusters = require(\"./create-clusters\");\n  var createEdgeLabels = require(\"./create-edge-labels\");\n  var createEdgePaths = require(\"./create-edge-paths\");\n  var positionNodes = require(\"./position-nodes\");\n  var positionEdgeLabels = require(\"./position-edge-labels\");\n  var positionClusters = require(\"./position-clusters\");\n  var shapes = require(\"./shapes\");\n  var arrows = require(\"./arrows\");\n  var fn = function (svg, g) {\n    preProcessGraph(g);\n    var outputGroup = createOrSelectGroup(svg, \"output\");\n    var clustersGroup = createOrSelectGroup(outputGroup, \"clusters\");\n    var edgePathsGroup = createOrSelectGroup(outputGroup, \"edgePaths\");\n    var edgeLabels = createEdgeLabels(createOrSelectGroup(outputGroup, \"edgeLabels\"), g);\n    var nodes = createNodes(createOrSelectGroup(outputGroup, \"nodes\"), g, shapes);\n    layout(g);\n    positionNodes(nodes, g);\n    positionEdgeLabels(edgeLabels, g);\n    createEdgePaths(edgePathsGroup, g, arrows);\n    var clusters = createClusters(clustersGroup, g);\n    positionClusters(clusters, g);\n    postProcessGraph(g);\n  };\n  fn.createNodes = function (value) {\n    if (!arguments.length) return createNodes;\n    createNodes = value;\n    return fn;\n  };\n  fn.createClusters = function (value) {\n    if (!arguments.length) return createClusters;\n    createClusters = value;\n    return fn;\n  };\n  fn.createEdgeLabels = function (value) {\n    if (!arguments.length) return createEdgeLabels;\n    createEdgeLabels = value;\n    return fn;\n  };\n  fn.createEdgePaths = function (value) {\n    if (!arguments.length) return createEdgePaths;\n    createEdgePaths = value;\n    return fn;\n  };\n  fn.shapes = function (value) {\n    if (!arguments.length) return shapes;\n    shapes = value;\n    return fn;\n  };\n  fn.arrows = function (value) {\n    if (!arguments.length) return arrows;\n    arrows = value;\n    return fn;\n  };\n  return fn;\n}\nvar NODE_DEFAULT_ATTRS = {\n  paddingLeft: 10,\n  paddingRight: 10,\n  paddingTop: 10,\n  paddingBottom: 10,\n  rx: 0,\n  ry: 0,\n  shape: \"rect\"\n};\nvar EDGE_DEFAULT_ATTRS = {\n  arrowhead: \"normal\",\n  curve: d3.curveLinear\n};\nfunction preProcessGraph(g) {\n  g.nodes().forEach(function (v) {\n    var node = g.node(v);\n    if (!_.has(node, \"label\") && !g.children(v).length) {\n      node.label = v;\n    }\n    if (_.has(node, \"paddingX\")) {\n      _.defaults(node, {\n        paddingLeft: node.paddingX,\n        paddingRight: node.paddingX\n      });\n    }\n    if (_.has(node, \"paddingY\")) {\n      _.defaults(node, {\n        paddingTop: node.paddingY,\n        paddingBottom: node.paddingY\n      });\n    }\n    if (_.has(node, \"padding\")) {\n      _.defaults(node, {\n        paddingLeft: node.padding,\n        paddingRight: node.padding,\n        paddingTop: node.padding,\n        paddingBottom: node.padding\n      });\n    }\n    _.defaults(node, NODE_DEFAULT_ATTRS);\n    _.each([\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\"], function (k) {\n      node[k] = Number(node[k]);\n    });\n\n    // Save dimensions for restore during post-processing\n    if (_.has(node, \"width\")) {\n      node._prevWidth = node.width;\n    }\n    if (_.has(node, \"height\")) {\n      node._prevHeight = node.height;\n    }\n  });\n  g.edges().forEach(function (e) {\n    var edge = g.edge(e);\n    if (!_.has(edge, \"label\")) {\n      edge.label = \"\";\n    }\n    _.defaults(edge, EDGE_DEFAULT_ATTRS);\n  });\n}\nfunction postProcessGraph(g) {\n  _.each(g.nodes(), function (v) {\n    var node = g.node(v);\n\n    // Restore original dimensions\n    if (_.has(node, \"_prevWidth\")) {\n      node.width = node._prevWidth;\n    } else {\n      delete node.width;\n    }\n    if (_.has(node, \"_prevHeight\")) {\n      node.height = node._prevHeight;\n    } else {\n      delete node.height;\n    }\n    delete node._prevWidth;\n    delete node._prevHeight;\n  });\n}\nfunction createOrSelectGroup(root, name) {\n  var selection = root.select(\"g.\" + name);\n  if (selection.empty()) {\n    selection = root.append(\"g\").attr(\"class\", name);\n  }\n  return selection;\n}","map":{"version":3,"names":["_","require","d3","layout","module","exports","render","createNodes","createClusters","createEdgeLabels","createEdgePaths","positionNodes","positionEdgeLabels","positionClusters","shapes","arrows","fn","svg","g","preProcessGraph","outputGroup","createOrSelectGroup","clustersGroup","edgePathsGroup","edgeLabels","nodes","clusters","postProcessGraph","value","arguments","length","NODE_DEFAULT_ATTRS","paddingLeft","paddingRight","paddingTop","paddingBottom","rx","ry","shape","EDGE_DEFAULT_ATTRS","arrowhead","curve","curveLinear","forEach","v","node","has","children","label","defaults","paddingX","paddingY","padding","each","k","Number","_prevWidth","width","_prevHeight","height","edges","e","edge","root","name","selection","select","empty","append","attr"],"sources":["C:/Users/emmed/Documents/char_test/frontend/node_modules/dagre-d3/lib/render.js"],"sourcesContent":["var _ = require(\"./lodash\");\nvar d3 = require(\"./d3\");\nvar layout = require(\"./dagre\").layout;\n\nmodule.exports = render;\n\n// This design is based on http://bost.ocks.org/mike/chart/.\nfunction render() {\n  var createNodes = require(\"./create-nodes\");\n  var createClusters = require(\"./create-clusters\");\n  var createEdgeLabels = require(\"./create-edge-labels\");\n  var createEdgePaths = require(\"./create-edge-paths\");\n  var positionNodes = require(\"./position-nodes\");\n  var positionEdgeLabels = require(\"./position-edge-labels\");\n  var positionClusters = require(\"./position-clusters\");\n  var shapes = require(\"./shapes\");\n  var arrows = require(\"./arrows\");\n\n  var fn = function(svg, g) {\n    preProcessGraph(g);\n\n    var outputGroup = createOrSelectGroup(svg, \"output\");\n    var clustersGroup = createOrSelectGroup(outputGroup, \"clusters\");\n    var edgePathsGroup = createOrSelectGroup(outputGroup, \"edgePaths\");\n    var edgeLabels = createEdgeLabels(createOrSelectGroup(outputGroup, \"edgeLabels\"), g);\n    var nodes = createNodes(createOrSelectGroup(outputGroup, \"nodes\"), g, shapes);\n\n    layout(g);\n\n    positionNodes(nodes, g);\n    positionEdgeLabels(edgeLabels, g);\n    createEdgePaths(edgePathsGroup, g, arrows);\n\n    var clusters = createClusters(clustersGroup, g);\n    positionClusters(clusters, g);\n\n    postProcessGraph(g);\n  };\n\n  fn.createNodes = function(value) {\n    if (!arguments.length) return createNodes;\n    createNodes = value;\n    return fn;\n  };\n\n  fn.createClusters = function(value) {\n    if (!arguments.length) return createClusters;\n    createClusters = value;\n    return fn;\n  };\n\n  fn.createEdgeLabels = function(value) {\n    if (!arguments.length) return createEdgeLabels;\n    createEdgeLabels = value;\n    return fn;\n  };\n\n  fn.createEdgePaths = function(value) {\n    if (!arguments.length) return createEdgePaths;\n    createEdgePaths = value;\n    return fn;\n  };\n\n  fn.shapes = function(value) {\n    if (!arguments.length) return shapes;\n    shapes = value;\n    return fn;\n  };\n\n  fn.arrows = function(value) {\n    if (!arguments.length) return arrows;\n    arrows = value;\n    return fn;\n  };\n\n  return fn;\n}\n\nvar NODE_DEFAULT_ATTRS = {\n  paddingLeft: 10,\n  paddingRight: 10,\n  paddingTop: 10,\n  paddingBottom: 10,\n  rx: 0,\n  ry: 0,\n  shape: \"rect\"\n};\n\nvar EDGE_DEFAULT_ATTRS = {\n  arrowhead: \"normal\",\n  curve: d3.curveLinear\n};\n\nfunction preProcessGraph(g) {\n  g.nodes().forEach(function(v) {\n    var node = g.node(v);\n    if (!_.has(node, \"label\") && !g.children(v).length) { node.label = v; }\n\n    if (_.has(node, \"paddingX\")) {\n      _.defaults(node, {\n        paddingLeft: node.paddingX,\n        paddingRight: node.paddingX\n      });\n    }\n\n    if (_.has(node, \"paddingY\")) {\n      _.defaults(node, {\n        paddingTop: node.paddingY,\n        paddingBottom: node.paddingY\n      });\n    }\n\n    if (_.has(node, \"padding\")) {\n      _.defaults(node, {\n        paddingLeft: node.padding,\n        paddingRight: node.padding,\n        paddingTop: node.padding,\n        paddingBottom: node.padding\n      });\n    }\n\n    _.defaults(node, NODE_DEFAULT_ATTRS);\n\n    _.each([\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\"], function(k) {\n      node[k] = Number(node[k]);\n    });\n\n    // Save dimensions for restore during post-processing\n    if (_.has(node, \"width\")) { node._prevWidth = node.width; }\n    if (_.has(node, \"height\")) { node._prevHeight = node.height; }\n  });\n\n  g.edges().forEach(function(e) {\n    var edge = g.edge(e);\n    if (!_.has(edge, \"label\")) { edge.label = \"\"; }\n    _.defaults(edge, EDGE_DEFAULT_ATTRS);\n  });\n}\n\nfunction postProcessGraph(g) {\n  _.each(g.nodes(), function(v) {\n    var node = g.node(v);\n\n    // Restore original dimensions\n    if (_.has(node, \"_prevWidth\")) {\n      node.width = node._prevWidth;\n    } else {\n      delete node.width;\n    }\n\n    if (_.has(node, \"_prevHeight\")) {\n      node.height = node._prevHeight;\n    } else {\n      delete node.height;\n    }\n\n    delete node._prevWidth;\n    delete node._prevHeight;\n  });\n}\n\nfunction createOrSelectGroup(root, name) {\n  var selection = root.select(\"g.\" + name);\n  if (selection.empty()) {\n    selection = root.append(\"g\").attr(\"class\", name);\n  }\n  return selection;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}