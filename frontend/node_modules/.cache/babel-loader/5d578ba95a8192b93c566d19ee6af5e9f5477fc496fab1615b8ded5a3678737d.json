{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"mermaid\"] = factory();else root[\"mermaid\"] = factory();\n})(typeof self !== \"undefined\" ? self : this, function () {\n  return /******/(() => {\n    // webpackBootstrap\n    /******/\n    var __webpack_modules__ = {\n      /***/\"./src/diagrams/class/parser/classDiagram.jison\": (\n      /*!******************************************************!*\\\n        !*** ./src/diagrams/class/parser/classDiagram.jison ***!\n        \\******************************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 6],\n            $V1 = [1, 7],\n            $V2 = [1, 8],\n            $V3 = [1, 9],\n            $V4 = [1, 12],\n            $V5 = [1, 11],\n            $V6 = [1, 15, 24],\n            $V7 = [1, 19],\n            $V8 = [1, 31],\n            $V9 = [1, 34],\n            $Va = [1, 32],\n            $Vb = [1, 33],\n            $Vc = [1, 35],\n            $Vd = [1, 36],\n            $Ve = [1, 37],\n            $Vf = [1, 38],\n            $Vg = [1, 41],\n            $Vh = [1, 42],\n            $Vi = [1, 43],\n            $Vj = [1, 44],\n            $Vk = [15, 24],\n            $Vl = [1, 56],\n            $Vm = [1, 57],\n            $Vn = [1, 58],\n            $Vo = [1, 59],\n            $Vp = [1, 60],\n            $Vq = [1, 61],\n            $Vr = [15, 24, 31, 38, 39, 47, 50, 51, 52, 53, 54, 55, 60, 62],\n            $Vs = [15, 24, 29, 31, 38, 39, 43, 47, 50, 51, 52, 53, 54, 55, 60, 62, 77, 78, 79, 80],\n            $Vt = [7, 8, 9, 10, 15, 18, 22, 24],\n            $Vu = [47, 77, 78, 79, 80],\n            $Vv = [47, 54, 55, 77, 78, 79, 80],\n            $Vw = [47, 50, 51, 52, 53, 77, 78, 79, 80],\n            $Vx = [15, 24, 31],\n            $Vy = [1, 93];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"mermaidDoc\": 4,\n              \"direction\": 5,\n              \"directive\": 6,\n              \"direction_tb\": 7,\n              \"direction_bt\": 8,\n              \"direction_rl\": 9,\n              \"direction_lr\": 10,\n              \"graphConfig\": 11,\n              \"openDirective\": 12,\n              \"typeDirective\": 13,\n              \"closeDirective\": 14,\n              \"NEWLINE\": 15,\n              \":\": 16,\n              \"argDirective\": 17,\n              \"open_directive\": 18,\n              \"type_directive\": 19,\n              \"arg_directive\": 20,\n              \"close_directive\": 21,\n              \"CLASS_DIAGRAM\": 22,\n              \"statements\": 23,\n              \"EOF\": 24,\n              \"statement\": 25,\n              \"className\": 26,\n              \"alphaNumToken\": 27,\n              \"classLiteralName\": 28,\n              \"GENERICTYPE\": 29,\n              \"relationStatement\": 30,\n              \"LABEL\": 31,\n              \"classStatement\": 32,\n              \"methodStatement\": 33,\n              \"annotationStatement\": 34,\n              \"clickStatement\": 35,\n              \"cssClassStatement\": 36,\n              \"CLASS\": 37,\n              \"STYLE_SEPARATOR\": 38,\n              \"STRUCT_START\": 39,\n              \"members\": 40,\n              \"STRUCT_STOP\": 41,\n              \"ANNOTATION_START\": 42,\n              \"ANNOTATION_END\": 43,\n              \"MEMBER\": 44,\n              \"SEPARATOR\": 45,\n              \"relation\": 46,\n              \"STR\": 47,\n              \"relationType\": 48,\n              \"lineType\": 49,\n              \"AGGREGATION\": 50,\n              \"EXTENSION\": 51,\n              \"COMPOSITION\": 52,\n              \"DEPENDENCY\": 53,\n              \"LINE\": 54,\n              \"DOTTED_LINE\": 55,\n              \"CALLBACK\": 56,\n              \"LINK\": 57,\n              \"LINK_TARGET\": 58,\n              \"CLICK\": 59,\n              \"CALLBACK_NAME\": 60,\n              \"CALLBACK_ARGS\": 61,\n              \"HREF\": 62,\n              \"CSSCLASS\": 63,\n              \"commentToken\": 64,\n              \"textToken\": 65,\n              \"graphCodeTokens\": 66,\n              \"textNoTagsToken\": 67,\n              \"TAGSTART\": 68,\n              \"TAGEND\": 69,\n              \"==\": 70,\n              \"--\": 71,\n              \"PCT\": 72,\n              \"DEFAULT\": 73,\n              \"SPACE\": 74,\n              \"MINUS\": 75,\n              \"keywords\": 76,\n              \"UNICODE_TEXT\": 77,\n              \"NUM\": 78,\n              \"ALPHA\": 79,\n              \"BQUOTE_STR\": 80,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              7: \"direction_tb\",\n              8: \"direction_bt\",\n              9: \"direction_rl\",\n              10: \"direction_lr\",\n              15: \"NEWLINE\",\n              16: \":\",\n              18: \"open_directive\",\n              19: \"type_directive\",\n              20: \"arg_directive\",\n              21: \"close_directive\",\n              22: \"CLASS_DIAGRAM\",\n              24: \"EOF\",\n              29: \"GENERICTYPE\",\n              31: \"LABEL\",\n              37: \"CLASS\",\n              38: \"STYLE_SEPARATOR\",\n              39: \"STRUCT_START\",\n              41: \"STRUCT_STOP\",\n              42: \"ANNOTATION_START\",\n              43: \"ANNOTATION_END\",\n              44: \"MEMBER\",\n              45: \"SEPARATOR\",\n              47: \"STR\",\n              50: \"AGGREGATION\",\n              51: \"EXTENSION\",\n              52: \"COMPOSITION\",\n              53: \"DEPENDENCY\",\n              54: \"LINE\",\n              55: \"DOTTED_LINE\",\n              56: \"CALLBACK\",\n              57: \"LINK\",\n              58: \"LINK_TARGET\",\n              59: \"CLICK\",\n              60: \"CALLBACK_NAME\",\n              61: \"CALLBACK_ARGS\",\n              62: \"HREF\",\n              63: \"CSSCLASS\",\n              66: \"graphCodeTokens\",\n              68: \"TAGSTART\",\n              69: \"TAGEND\",\n              70: \"==\",\n              71: \"--\",\n              72: \"PCT\",\n              73: \"DEFAULT\",\n              74: \"SPACE\",\n              75: \"MINUS\",\n              76: \"keywords\",\n              77: \"UNICODE_TEXT\",\n              78: \"NUM\",\n              79: \"ALPHA\",\n              80: \"BQUOTE_STR\"\n            },\n            productions_: [0, [3, 1], [3, 1], [3, 2], [5, 1], [5, 1], [5, 1], [5, 1], [4, 1], [6, 4], [6, 6], [12, 1], [13, 1], [17, 1], [14, 1], [11, 4], [23, 1], [23, 2], [23, 3], [26, 1], [26, 1], [26, 2], [26, 2], [26, 2], [25, 1], [25, 2], [25, 1], [25, 1], [25, 1], [25, 1], [25, 1], [25, 1], [25, 1], [32, 2], [32, 4], [32, 5], [32, 7], [34, 4], [40, 1], [40, 2], [33, 1], [33, 2], [33, 1], [33, 1], [30, 3], [30, 4], [30, 4], [30, 5], [46, 3], [46, 2], [46, 2], [46, 1], [48, 1], [48, 1], [48, 1], [48, 1], [49, 1], [49, 1], [35, 3], [35, 4], [35, 3], [35, 4], [35, 4], [35, 5], [35, 3], [35, 4], [35, 4], [35, 5], [35, 3], [35, 4], [35, 4], [35, 5], [36, 3], [64, 1], [64, 1], [65, 1], [65, 1], [65, 1], [65, 1], [65, 1], [65, 1], [65, 1], [67, 1], [67, 1], [67, 1], [67, 1], [27, 1], [27, 1], [27, 1], [28, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 4:\n                  yy.setDirection('TB');\n                  break;\n                case 5:\n                  yy.setDirection('BT');\n                  break;\n                case 6:\n                  yy.setDirection('RL');\n                  break;\n                case 7:\n                  yy.setDirection('LR');\n                  break;\n                case 11:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 12:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 13:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 14:\n                  yy.parseDirective('}%%', 'close_directive', 'class');\n                  break;\n                case 19:\n                case 20:\n                  this.$ = $$[$0];\n                  break;\n                case 21:\n                  this.$ = $$[$0 - 1] + $$[$0];\n                  break;\n                case 22:\n                case 23:\n                  this.$ = $$[$0 - 1] + '~' + $$[$0];\n                  break;\n                case 24:\n                  yy.addRelation($$[$0]);\n                  break;\n                case 25:\n                  $$[$0 - 1].title = yy.cleanupLabel($$[$0]);\n                  yy.addRelation($$[$0 - 1]);\n                  break;\n                case 33:\n                  yy.addClass($$[$0]);\n                  break;\n                case 34:\n                  yy.addClass($$[$0 - 2]);\n                  yy.setCssClass($$[$0 - 2], $$[$0]);\n                  break;\n                case 35:\n                  /*console.log($$[$0-3],JSON.stringify($$[$0-1]));*/yy.addClass($$[$0 - 3]);\n                  yy.addMembers($$[$0 - 3], $$[$0 - 1]);\n                  break;\n                case 36:\n                  yy.addClass($$[$0 - 5]);\n                  yy.setCssClass($$[$0 - 5], $$[$0 - 3]);\n                  yy.addMembers($$[$0 - 5], $$[$0 - 1]);\n                  break;\n                case 37:\n                  yy.addAnnotation($$[$0], $$[$0 - 2]);\n                  break;\n                case 38:\n                  this.$ = [$$[$0]];\n                  break;\n                case 39:\n                  $$[$0].push($$[$0 - 1]);\n                  this.$ = $$[$0];\n                  break;\n                case 40:\n                  /*console.log('Rel found',$$[$0]);*/\n                  break;\n                case 41:\n                  yy.addMember($$[$0 - 1], yy.cleanupLabel($$[$0]));\n                  break;\n                case 42:\n                  /*console.warn('Member',$$[$0]);*/\n                  break;\n                case 43:\n                  /*console.log('sep found',$$[$0]);*/\n                  break;\n                case 44:\n                  this.$ = {\n                    'id1': $$[$0 - 2],\n                    'id2': $$[$0],\n                    relation: $$[$0 - 1],\n                    relationTitle1: 'none',\n                    relationTitle2: 'none'\n                  };\n                  break;\n                case 45:\n                  this.$ = {\n                    id1: $$[$0 - 3],\n                    id2: $$[$0],\n                    relation: $$[$0 - 1],\n                    relationTitle1: $$[$0 - 2],\n                    relationTitle2: 'none'\n                  };\n                  break;\n                case 46:\n                  this.$ = {\n                    id1: $$[$0 - 3],\n                    id2: $$[$0],\n                    relation: $$[$0 - 2],\n                    relationTitle1: 'none',\n                    relationTitle2: $$[$0 - 1]\n                  };\n                  break;\n                case 47:\n                  this.$ = {\n                    id1: $$[$0 - 4],\n                    id2: $$[$0],\n                    relation: $$[$0 - 2],\n                    relationTitle1: $$[$0 - 3],\n                    relationTitle2: $$[$0 - 1]\n                  };\n                  break;\n                case 48:\n                  this.$ = {\n                    type1: $$[$0 - 2],\n                    type2: $$[$0],\n                    lineType: $$[$0 - 1]\n                  };\n                  break;\n                case 49:\n                  this.$ = {\n                    type1: 'none',\n                    type2: $$[$0],\n                    lineType: $$[$0 - 1]\n                  };\n                  break;\n                case 50:\n                  this.$ = {\n                    type1: $$[$0 - 1],\n                    type2: 'none',\n                    lineType: $$[$0]\n                  };\n                  break;\n                case 51:\n                  this.$ = {\n                    type1: 'none',\n                    type2: 'none',\n                    lineType: $$[$0]\n                  };\n                  break;\n                case 52:\n                  this.$ = yy.relationType.AGGREGATION;\n                  break;\n                case 53:\n                  this.$ = yy.relationType.EXTENSION;\n                  break;\n                case 54:\n                  this.$ = yy.relationType.COMPOSITION;\n                  break;\n                case 55:\n                  this.$ = yy.relationType.DEPENDENCY;\n                  break;\n                case 56:\n                  this.$ = yy.lineType.LINE;\n                  break;\n                case 57:\n                  this.$ = yy.lineType.DOTTED_LINE;\n                  break;\n                case 58:\n                case 64:\n                  this.$ = $$[$0 - 2];\n                  yy.setClickEvent($$[$0 - 1], $$[$0]);\n                  break;\n                case 59:\n                case 65:\n                  this.$ = $$[$0 - 3];\n                  yy.setClickEvent($$[$0 - 2], $$[$0 - 1]);\n                  yy.setTooltip($$[$0 - 2], $$[$0]);\n                  break;\n                case 60:\n                case 68:\n                  this.$ = $$[$0 - 2];\n                  yy.setLink($$[$0 - 1], $$[$0]);\n                  break;\n                case 61:\n                  this.$ = $$[$0 - 3];\n                  yy.setLink($$[$0 - 2], $$[$0 - 1], $$[$0]);\n                  break;\n                case 62:\n                case 70:\n                  this.$ = $$[$0 - 3];\n                  yy.setLink($$[$0 - 2], $$[$0 - 1]);\n                  yy.setTooltip($$[$0 - 2], $$[$0]);\n                  break;\n                case 63:\n                case 71:\n                  this.$ = $$[$0 - 4];\n                  yy.setLink($$[$0 - 3], $$[$0 - 2], $$[$0]);\n                  yy.setTooltip($$[$0 - 3], $$[$0 - 1]);\n                  break;\n                case 66:\n                  this.$ = $$[$0 - 3];\n                  yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);\n                  break;\n                case 67:\n                  this.$ = $$[$0 - 4];\n                  yy.setClickEvent($$[$0 - 3], $$[$0 - 2], $$[$0 - 1]);\n                  yy.setTooltip($$[$0 - 3], $$[$0]);\n                  break;\n                case 69:\n                  this.$ = $$[$0 - 3];\n                  yy.setLink($$[$0 - 2], $$[$0 - 1], $$[$0]);\n                  break;\n                case 72:\n                  yy.setCssClass($$[$0 - 1], $$[$0]);\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: 2,\n              5: 3,\n              6: 4,\n              7: $V0,\n              8: $V1,\n              9: $V2,\n              10: $V3,\n              11: 5,\n              12: 10,\n              18: $V4,\n              22: $V5\n            }, {\n              1: [3]\n            }, {\n              1: [2, 1]\n            }, {\n              1: [2, 2]\n            }, {\n              3: 13,\n              4: 2,\n              5: 3,\n              6: 4,\n              7: $V0,\n              8: $V1,\n              9: $V2,\n              10: $V3,\n              11: 5,\n              12: 10,\n              18: $V4,\n              22: $V5\n            }, {\n              1: [2, 8]\n            }, o($V6, [2, 4]), o($V6, [2, 5]), o($V6, [2, 6]), o($V6, [2, 7]), {\n              13: 14,\n              19: [1, 15]\n            }, {\n              15: [1, 16]\n            }, {\n              19: [2, 11]\n            }, {\n              1: [2, 3]\n            }, {\n              14: 17,\n              16: [1, 18],\n              21: $V7\n            }, o([16, 21], [2, 12]), {\n              5: 29,\n              6: 28,\n              7: $V0,\n              8: $V1,\n              9: $V2,\n              10: $V3,\n              12: 10,\n              18: $V4,\n              23: 20,\n              25: 21,\n              26: 30,\n              27: 39,\n              28: 40,\n              30: 22,\n              32: 23,\n              33: 24,\n              34: 25,\n              35: 26,\n              36: 27,\n              37: $V8,\n              42: $V9,\n              44: $Va,\n              45: $Vb,\n              56: $Vc,\n              57: $Vd,\n              59: $Ve,\n              63: $Vf,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, {\n              15: [1, 45]\n            }, {\n              17: 46,\n              20: [1, 47]\n            }, {\n              15: [2, 14]\n            }, {\n              24: [1, 48]\n            }, {\n              15: [1, 49],\n              24: [2, 16]\n            }, o($Vk, [2, 24], {\n              31: [1, 50]\n            }), o($Vk, [2, 26]), o($Vk, [2, 27]), o($Vk, [2, 28]), o($Vk, [2, 29]), o($Vk, [2, 30]), o($Vk, [2, 31]), o($Vk, [2, 32]), o($Vk, [2, 40], {\n              46: 51,\n              48: 54,\n              49: 55,\n              31: [1, 53],\n              47: [1, 52],\n              50: $Vl,\n              51: $Vm,\n              52: $Vn,\n              53: $Vo,\n              54: $Vp,\n              55: $Vq\n            }), {\n              26: 62,\n              27: 39,\n              28: 40,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, o($Vk, [2, 42]), o($Vk, [2, 43]), {\n              27: 63,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi\n            }, {\n              26: 64,\n              27: 39,\n              28: 40,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, {\n              26: 65,\n              27: 39,\n              28: 40,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, {\n              26: 66,\n              27: 39,\n              28: 40,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, {\n              47: [1, 67]\n            }, o($Vr, [2, 19], {\n              27: 39,\n              28: 40,\n              26: 68,\n              29: [1, 69],\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }), o($Vr, [2, 20], {\n              29: [1, 70]\n            }), o($Vs, [2, 86]), o($Vs, [2, 87]), o($Vs, [2, 88]), o([15, 24, 29, 31, 38, 39, 47, 50, 51, 52, 53, 54, 55, 60, 62], [2, 89]), o($Vt, [2, 9]), {\n              14: 71,\n              21: $V7\n            }, {\n              21: [2, 13]\n            }, {\n              1: [2, 15]\n            }, {\n              5: 29,\n              6: 28,\n              7: $V0,\n              8: $V1,\n              9: $V2,\n              10: $V3,\n              12: 10,\n              18: $V4,\n              23: 72,\n              24: [2, 17],\n              25: 21,\n              26: 30,\n              27: 39,\n              28: 40,\n              30: 22,\n              32: 23,\n              33: 24,\n              34: 25,\n              35: 26,\n              36: 27,\n              37: $V8,\n              42: $V9,\n              44: $Va,\n              45: $Vb,\n              56: $Vc,\n              57: $Vd,\n              59: $Ve,\n              63: $Vf,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, o($Vk, [2, 25]), {\n              26: 73,\n              27: 39,\n              28: 40,\n              47: [1, 74],\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, {\n              46: 75,\n              48: 54,\n              49: 55,\n              50: $Vl,\n              51: $Vm,\n              52: $Vn,\n              53: $Vo,\n              54: $Vp,\n              55: $Vq\n            }, o($Vk, [2, 41]), {\n              49: 76,\n              54: $Vp,\n              55: $Vq\n            }, o($Vu, [2, 51], {\n              48: 77,\n              50: $Vl,\n              51: $Vm,\n              52: $Vn,\n              53: $Vo\n            }), o($Vv, [2, 52]), o($Vv, [2, 53]), o($Vv, [2, 54]), o($Vv, [2, 55]), o($Vw, [2, 56]), o($Vw, [2, 57]), o($Vk, [2, 33], {\n              38: [1, 78],\n              39: [1, 79]\n            }), {\n              43: [1, 80]\n            }, {\n              47: [1, 81]\n            }, {\n              47: [1, 82]\n            }, {\n              60: [1, 83],\n              62: [1, 84]\n            }, {\n              27: 85,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi\n            }, o($Vr, [2, 21]), o($Vr, [2, 22]), o($Vr, [2, 23]), {\n              15: [1, 86]\n            }, {\n              24: [2, 18]\n            }, o($Vx, [2, 44]), {\n              26: 87,\n              27: 39,\n              28: 40,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, {\n              26: 88,\n              27: 39,\n              28: 40,\n              47: [1, 89],\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, o($Vu, [2, 50], {\n              48: 90,\n              50: $Vl,\n              51: $Vm,\n              52: $Vn,\n              53: $Vo\n            }), o($Vu, [2, 49]), {\n              27: 91,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi\n            }, {\n              40: 92,\n              44: $Vy\n            }, {\n              26: 94,\n              27: 39,\n              28: 40,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, o($Vk, [2, 58], {\n              47: [1, 95]\n            }), o($Vk, [2, 60], {\n              47: [1, 97],\n              58: [1, 96]\n            }), o($Vk, [2, 64], {\n              47: [1, 98],\n              61: [1, 99]\n            }), o($Vk, [2, 68], {\n              47: [1, 101],\n              58: [1, 100]\n            }), o($Vk, [2, 72]), o($Vt, [2, 10]), o($Vx, [2, 46]), o($Vx, [2, 45]), {\n              26: 102,\n              27: 39,\n              28: 40,\n              77: $Vg,\n              78: $Vh,\n              79: $Vi,\n              80: $Vj\n            }, o($Vu, [2, 48]), o($Vk, [2, 34], {\n              39: [1, 103]\n            }), {\n              41: [1, 104]\n            }, {\n              40: 105,\n              41: [2, 38],\n              44: $Vy\n            }, o($Vk, [2, 37]), o($Vk, [2, 59]), o($Vk, [2, 61]), o($Vk, [2, 62], {\n              58: [1, 106]\n            }), o($Vk, [2, 65]), o($Vk, [2, 66], {\n              47: [1, 107]\n            }), o($Vk, [2, 69]), o($Vk, [2, 70], {\n              58: [1, 108]\n            }), o($Vx, [2, 47]), {\n              40: 109,\n              44: $Vy\n            }, o($Vk, [2, 35]), {\n              41: [2, 39]\n            }, o($Vk, [2, 63]), o($Vk, [2, 67]), o($Vk, [2, 71]), {\n              41: [1, 110]\n            }, o($Vk, [2, 36])],\n            defaultActions: {\n              2: [2, 1],\n              3: [2, 2],\n              5: [2, 8],\n              12: [2, 11],\n              13: [2, 3],\n              19: [2, 14],\n              47: [2, 13],\n              48: [2, 15],\n              72: [2, 18],\n              105: [2, 39]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {},\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    this.begin('open_directive');\n                    return 18;\n                    break;\n                  case 1:\n                    return 7;\n                    break;\n                  case 2:\n                    return 8;\n                    break;\n                  case 3:\n                    return 9;\n                    break;\n                  case 4:\n                    return 10;\n                    break;\n                  case 5:\n                    this.begin('type_directive');\n                    return 19;\n                    break;\n                  case 6:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 16;\n                    break;\n                  case 7:\n                    this.popState();\n                    this.popState();\n                    return 21;\n                    break;\n                  case 8:\n                    return 20;\n                    break;\n                  case 9:\n                    /* skip comments */\n                    break;\n                  case 10:\n                    /* skip comments */\n                    break;\n                  case 11:\n                    return 15;\n                    break;\n                  case 12:\n                    /* skip whitespace */\n                    break;\n                  case 13:\n                    return 22;\n                    break;\n                  case 14:\n                    return 22;\n                    break;\n                  case 15:\n                    this.begin(\"struct\"); /*console.log('Starting struct');*/\n                    return 39;\n                    break;\n                  case 16:\n                    return \"EOF_IN_STRUCT\";\n                    break;\n                  case 17:\n                    return \"OPEN_IN_STRUCT\";\n                    break;\n                  case 18:\n                    /*console.log('Ending struct');*/this.popState();\n                    return 41;\n                    break;\n                  case 19:\n                    /* nothing */\n                    break;\n                  case 20:\n                    /*console.log('lex-member: ' + yy_.yytext);*/return \"MEMBER\";\n                    break;\n                  case 21:\n                    return 37;\n                    break;\n                  case 22:\n                    return 63;\n                    break;\n                  case 23:\n                    return 56;\n                    break;\n                  case 24:\n                    return 57;\n                    break;\n                  case 25:\n                    return 59;\n                    break;\n                  case 26:\n                    return 42;\n                    break;\n                  case 27:\n                    return 43;\n                    break;\n                  case 28:\n                    this.begin(\"generic\");\n                    break;\n                  case 29:\n                    this.popState();\n                    break;\n                  case 30:\n                    return \"GENERICTYPE\";\n                    break;\n                  case 31:\n                    this.begin(\"string\");\n                    break;\n                  case 32:\n                    this.popState();\n                    break;\n                  case 33:\n                    return \"STR\";\n                    break;\n                  case 34:\n                    this.begin(\"bqstring\");\n                    break;\n                  case 35:\n                    this.popState();\n                    break;\n                  case 36:\n                    return \"BQUOTE_STR\";\n                    break;\n                  case 37:\n                    this.begin(\"href\");\n                    break;\n                  case 38:\n                    this.popState();\n                    break;\n                  case 39:\n                    return 62;\n                    break;\n                  case 40:\n                    this.begin(\"callback_name\");\n                    break;\n                  case 41:\n                    this.popState();\n                    break;\n                  case 42:\n                    this.popState();\n                    this.begin(\"callback_args\");\n                    break;\n                  case 43:\n                    return 60;\n                    break;\n                  case 44:\n                    this.popState();\n                    break;\n                  case 45:\n                    return 61;\n                    break;\n                  case 46:\n                    return 58;\n                    break;\n                  case 47:\n                    return 58;\n                    break;\n                  case 48:\n                    return 58;\n                    break;\n                  case 49:\n                    return 58;\n                    break;\n                  case 50:\n                    return 51;\n                    break;\n                  case 51:\n                    return 51;\n                    break;\n                  case 52:\n                    return 53;\n                    break;\n                  case 53:\n                    return 53;\n                    break;\n                  case 54:\n                    return 52;\n                    break;\n                  case 55:\n                    return 50;\n                    break;\n                  case 56:\n                    return 54;\n                    break;\n                  case 57:\n                    return 55;\n                    break;\n                  case 58:\n                    return 31;\n                    break;\n                  case 59:\n                    return 38;\n                    break;\n                  case 60:\n                    return 75;\n                    break;\n                  case 61:\n                    return 'DOT';\n                    break;\n                  case 62:\n                    return 'PLUS';\n                    break;\n                  case 63:\n                    return 72;\n                    break;\n                  case 64:\n                    return 'EQUALS';\n                    break;\n                  case 65:\n                    return 'EQUALS';\n                    break;\n                  case 66:\n                    return 79;\n                    break;\n                  case 67:\n                    return 'PUNCTUATION';\n                    break;\n                  case 68:\n                    return 78;\n                    break;\n                  case 69:\n                    return 77;\n                    break;\n                  case 70:\n                    return 74;\n                    break;\n                  case 71:\n                    return 24;\n                    break;\n                }\n              },\n              rules: [/^(?:%%\\{)/, /^(?:.*direction\\s+TB[^\\n]*)/, /^(?:.*direction\\s+BT[^\\n]*)/, /^(?:.*direction\\s+RL[^\\n]*)/, /^(?:.*direction\\s+LR[^\\n]*)/, /^(?:((?:(?!\\}%%)[^:.])*))/, /^(?::)/, /^(?:\\}%%)/, /^(?:((?:(?!\\}%%).|\\n)*))/, /^(?:%%(?!\\{)*[^\\n]*(\\r?\\n?)+)/, /^(?:%%[^\\n]*(\\r?\\n)*)/, /^(?:\\s*(\\r?\\n)+)/, /^(?:\\s+)/, /^(?:classDiagram-v2\\b)/, /^(?:classDiagram\\b)/, /^(?:[{])/, /^(?:$)/, /^(?:[{])/, /^(?:[}])/, /^(?:[\\n])/, /^(?:[^{}\\n]*)/, /^(?:class\\b)/, /^(?:cssClass\\b)/, /^(?:callback\\b)/, /^(?:link\\b)/, /^(?:click\\b)/, /^(?:<<)/, /^(?:>>)/, /^(?:[~])/, /^(?:[~])/, /^(?:[^~]*)/, /^(?:[\"])/, /^(?:[\"])/, /^(?:[^\"]*)/, /^(?:[`])/, /^(?:[`])/, /^(?:[^`]+)/, /^(?:href[\\s]+[\"])/, /^(?:[\"])/, /^(?:[^\"]*)/, /^(?:call[\\s]+)/, /^(?:\\([\\s]*\\))/, /^(?:\\()/, /^(?:[^(]*)/, /^(?:\\))/, /^(?:[^)]*)/, /^(?:_self\\b)/, /^(?:_blank\\b)/, /^(?:_parent\\b)/, /^(?:_top\\b)/, /^(?:\\s*<\\|)/, /^(?:\\s*\\|>)/, /^(?:\\s*>)/, /^(?:\\s*<)/, /^(?:\\s*\\*)/, /^(?:\\s*o\\b)/, /^(?:--)/, /^(?:\\.\\.)/, /^(?::{1}[^:\\n;]+)/, /^(?::{3})/, /^(?:-)/, /^(?:\\.)/, /^(?:\\+)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:\\w+)/, /^(?:[!\"#$%&'*+,-.`?\\\\/])/, /^(?:[0-9]+)/, /^(?:[\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6]|[\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377]|[\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5]|[\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA]|[\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE]|[\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA]|[\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0]|[\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977]|[\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2]|[\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A]|[\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39]|[\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8]|[\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C]|[\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C]|[\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99]|[\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0]|[\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D]|[\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3]|[\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10]|[\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1]|[\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81]|[\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3]|[\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6]|[\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A]|[\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081]|[\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D]|[\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0]|[\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310]|[\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C]|[\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711]|[\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7]|[\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C]|[\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16]|[\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF]|[\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC]|[\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D]|[\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D]|[\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3]|[\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F]|[\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128]|[\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184]|[\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3]|[\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6]|[\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE]|[\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C]|[\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D]|[\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC]|[\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B]|[\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788]|[\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805]|[\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB]|[\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28]|[\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5]|[\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4]|[\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E]|[\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D]|[\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36]|[\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D]|[\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC]|[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF]|[\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])/, /^(?:\\s)/, /^(?:$)/],\n              conditions: {\n                \"arg_directive\": {\n                  \"rules\": [7, 8],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [6, 7],\n                  \"inclusive\": false\n                },\n                \"open_directive\": {\n                  \"rules\": [5],\n                  \"inclusive\": false\n                },\n                \"callback_args\": {\n                  \"rules\": [44, 45],\n                  \"inclusive\": false\n                },\n                \"callback_name\": {\n                  \"rules\": [41, 42, 43],\n                  \"inclusive\": false\n                },\n                \"href\": {\n                  \"rules\": [38, 39],\n                  \"inclusive\": false\n                },\n                \"struct\": {\n                  \"rules\": [16, 17, 18, 19, 20],\n                  \"inclusive\": false\n                },\n                \"generic\": {\n                  \"rules\": [29, 30],\n                  \"inclusive\": false\n                },\n                \"bqstring\": {\n                  \"rules\": [35, 36],\n                  \"inclusive\": false\n                },\n                \"string\": {\n                  \"rules\": [32, 33],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 1, 2, 3, 4, 9, 10, 11, 12, 13, 14, 15, 21, 22, 23, 24, 25, 26, 27, 28, 31, 34, 37, 40, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?35ed\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/er/parser/erDiagram.jison\": (\n      /*!************************************************!*\\\n        !*** ./src/diagrams/er/parser/erDiagram.jison ***!\n        \\************************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 2],\n            $V1 = [1, 5],\n            $V2 = [6, 9, 11, 23, 41],\n            $V3 = [1, 17],\n            $V4 = [1, 20],\n            $V5 = [1, 25],\n            $V6 = [1, 26],\n            $V7 = [1, 27],\n            $V8 = [1, 28],\n            $V9 = [1, 37],\n            $Va = [23, 38, 39],\n            $Vb = [4, 6, 9, 11, 23, 41],\n            $Vc = [34, 35, 36, 37],\n            $Vd = [22, 29],\n            $Ve = [1, 55];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"ER_DIAGRAM\": 4,\n              \"document\": 5,\n              \"EOF\": 6,\n              \"directive\": 7,\n              \"line\": 8,\n              \"SPACE\": 9,\n              \"statement\": 10,\n              \"NEWLINE\": 11,\n              \"openDirective\": 12,\n              \"typeDirective\": 13,\n              \"closeDirective\": 14,\n              \":\": 15,\n              \"argDirective\": 16,\n              \"entityName\": 17,\n              \"relSpec\": 18,\n              \"role\": 19,\n              \"BLOCK_START\": 20,\n              \"attributes\": 21,\n              \"BLOCK_STOP\": 22,\n              \"ALPHANUM\": 23,\n              \"attribute\": 24,\n              \"attributeType\": 25,\n              \"attributeName\": 26,\n              \"attributeKeyType\": 27,\n              \"attributeComment\": 28,\n              \"ATTRIBUTE_WORD\": 29,\n              \"ATTRIBUTE_KEY\": 30,\n              \"COMMENT\": 31,\n              \"cardinality\": 32,\n              \"relType\": 33,\n              \"ZERO_OR_ONE\": 34,\n              \"ZERO_OR_MORE\": 35,\n              \"ONE_OR_MORE\": 36,\n              \"ONLY_ONE\": 37,\n              \"NON_IDENTIFYING\": 38,\n              \"IDENTIFYING\": 39,\n              \"WORD\": 40,\n              \"open_directive\": 41,\n              \"type_directive\": 42,\n              \"arg_directive\": 43,\n              \"close_directive\": 44,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              4: \"ER_DIAGRAM\",\n              6: \"EOF\",\n              9: \"SPACE\",\n              11: \"NEWLINE\",\n              15: \":\",\n              20: \"BLOCK_START\",\n              22: \"BLOCK_STOP\",\n              23: \"ALPHANUM\",\n              29: \"ATTRIBUTE_WORD\",\n              30: \"ATTRIBUTE_KEY\",\n              31: \"COMMENT\",\n              34: \"ZERO_OR_ONE\",\n              35: \"ZERO_OR_MORE\",\n              36: \"ONE_OR_MORE\",\n              37: \"ONLY_ONE\",\n              38: \"NON_IDENTIFYING\",\n              39: \"IDENTIFYING\",\n              40: \"WORD\",\n              41: \"open_directive\",\n              42: \"type_directive\",\n              43: \"arg_directive\",\n              44: \"close_directive\"\n            },\n            productions_: [0, [3, 3], [3, 2], [5, 0], [5, 2], [8, 2], [8, 1], [8, 1], [8, 1], [7, 4], [7, 6], [10, 1], [10, 5], [10, 4], [10, 3], [10, 1], [17, 1], [21, 1], [21, 2], [24, 2], [24, 3], [24, 3], [24, 4], [25, 1], [26, 1], [27, 1], [28, 1], [18, 3], [32, 1], [32, 1], [32, 1], [32, 1], [33, 1], [33, 1], [19, 1], [19, 1], [12, 1], [13, 1], [16, 1], [14, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 1:\n                  /*console.log('finished parsing');*/\n                  break;\n                case 3:\n                  this.$ = [];\n                  break;\n                case 4:\n                  $$[$0 - 1].push($$[$0]);\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 5:\n                case 6:\n                  this.$ = $$[$0];\n                  break;\n                case 7:\n                case 8:\n                  this.$ = [];\n                  break;\n                case 12:\n                  yy.addEntity($$[$0 - 4]);\n                  yy.addEntity($$[$0 - 2]);\n                  yy.addRelationship($$[$0 - 4], $$[$0], $$[$0 - 2], $$[$0 - 3]);\n                  /*console.log($$[$0-4] + $$[$0-3] + $$[$0-2] + ':' + $$[$0]);*/\n\n                  break;\n                case 13:\n                  /* console.log('detected block'); */\n                  yy.addEntity($$[$0 - 3]);\n                  yy.addAttributes($$[$0 - 3], $$[$0 - 1]);\n                  /* console.log('handled block'); */\n\n                  break;\n                case 14:\n                  yy.addEntity($$[$0 - 2]);\n                  break;\n                case 15:\n                  yy.addEntity($$[$0]);\n                  break;\n                case 16:\n                  this.$ = $$[$0]; /*console.log('Entity: ' + $$[$0]);*/\n                  break;\n                case 17:\n                  this.$ = [$$[$0]];\n                  break;\n                case 18:\n                  $$[$0].push($$[$0 - 1]);\n                  this.$ = $$[$0];\n                  break;\n                case 19:\n                  this.$ = {\n                    attributeType: $$[$0 - 1],\n                    attributeName: $$[$0]\n                  };\n                  break;\n                case 20:\n                  this.$ = {\n                    attributeType: $$[$0 - 2],\n                    attributeName: $$[$0 - 1],\n                    attributeKeyType: $$[$0]\n                  };\n                  break;\n                case 21:\n                  this.$ = {\n                    attributeType: $$[$0 - 2],\n                    attributeName: $$[$0 - 1],\n                    attributeComment: $$[$0]\n                  };\n                  break;\n                case 22:\n                  this.$ = {\n                    attributeType: $$[$0 - 3],\n                    attributeName: $$[$0 - 2],\n                    attributeKeyType: $$[$0 - 1],\n                    attributeComment: $$[$0]\n                  };\n                  break;\n                case 23:\n                case 24:\n                case 25:\n                  this.$ = $$[$0];\n                  break;\n                case 26:\n                  this.$ = $$[$0].replace(/\"/g, '');\n                  break;\n                case 27:\n                  this.$ = {\n                    cardA: $$[$0],\n                    relType: $$[$0 - 1],\n                    cardB: $$[$0 - 2]\n                  };\n                  /*console.log('relSpec: ' + $$[$0] + $$[$0-1] + $$[$0-2]);*/\n\n                  break;\n                case 28:\n                  this.$ = yy.Cardinality.ZERO_OR_ONE;\n                  break;\n                case 29:\n                  this.$ = yy.Cardinality.ZERO_OR_MORE;\n                  break;\n                case 30:\n                  this.$ = yy.Cardinality.ONE_OR_MORE;\n                  break;\n                case 31:\n                  this.$ = yy.Cardinality.ONLY_ONE;\n                  break;\n                case 32:\n                  this.$ = yy.Identification.NON_IDENTIFYING;\n                  break;\n                case 33:\n                  this.$ = yy.Identification.IDENTIFYING;\n                  break;\n                case 34:\n                  this.$ = $$[$0].replace(/\"/g, '');\n                  break;\n                case 35:\n                  this.$ = $$[$0];\n                  break;\n                case 36:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 37:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 38:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 39:\n                  yy.parseDirective('}%%', 'close_directive', 'er');\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: $V0,\n              7: 3,\n              12: 4,\n              41: $V1\n            }, {\n              1: [3]\n            }, o($V2, [2, 3], {\n              5: 6\n            }), {\n              3: 7,\n              4: $V0,\n              7: 3,\n              12: 4,\n              41: $V1\n            }, {\n              13: 8,\n              42: [1, 9]\n            }, {\n              42: [2, 36]\n            }, {\n              6: [1, 10],\n              7: 15,\n              8: 11,\n              9: [1, 12],\n              10: 13,\n              11: [1, 14],\n              12: 4,\n              17: 16,\n              23: $V3,\n              41: $V1\n            }, {\n              1: [2, 2]\n            }, {\n              14: 18,\n              15: [1, 19],\n              44: $V4\n            }, o([15, 44], [2, 37]), o($V2, [2, 8], {\n              1: [2, 1]\n            }), o($V2, [2, 4]), {\n              7: 15,\n              10: 21,\n              12: 4,\n              17: 16,\n              23: $V3,\n              41: $V1\n            }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 11]), o($V2, [2, 15], {\n              18: 22,\n              32: 24,\n              20: [1, 23],\n              34: $V5,\n              35: $V6,\n              36: $V7,\n              37: $V8\n            }), o([6, 9, 11, 15, 20, 23, 34, 35, 36, 37, 41], [2, 16]), {\n              11: [1, 29]\n            }, {\n              16: 30,\n              43: [1, 31]\n            }, {\n              11: [2, 39]\n            }, o($V2, [2, 5]), {\n              17: 32,\n              23: $V3\n            }, {\n              21: 33,\n              22: [1, 34],\n              24: 35,\n              25: 36,\n              29: $V9\n            }, {\n              33: 38,\n              38: [1, 39],\n              39: [1, 40]\n            }, o($Va, [2, 28]), o($Va, [2, 29]), o($Va, [2, 30]), o($Va, [2, 31]), o($Vb, [2, 9]), {\n              14: 41,\n              44: $V4\n            }, {\n              44: [2, 38]\n            }, {\n              15: [1, 42]\n            }, {\n              22: [1, 43]\n            }, o($V2, [2, 14]), {\n              21: 44,\n              22: [2, 17],\n              24: 35,\n              25: 36,\n              29: $V9\n            }, {\n              26: 45,\n              29: [1, 46]\n            }, {\n              29: [2, 23]\n            }, {\n              32: 47,\n              34: $V5,\n              35: $V6,\n              36: $V7,\n              37: $V8\n            }, o($Vc, [2, 32]), o($Vc, [2, 33]), {\n              11: [1, 48]\n            }, {\n              19: 49,\n              23: [1, 51],\n              40: [1, 50]\n            }, o($V2, [2, 13]), {\n              22: [2, 18]\n            }, o($Vd, [2, 19], {\n              27: 52,\n              28: 53,\n              30: [1, 54],\n              31: $Ve\n            }), o([22, 29, 30, 31], [2, 24]), {\n              23: [2, 27]\n            }, o($Vb, [2, 10]), o($V2, [2, 12]), o($V2, [2, 34]), o($V2, [2, 35]), o($Vd, [2, 20], {\n              28: 56,\n              31: $Ve\n            }), o($Vd, [2, 21]), o([22, 29, 31], [2, 25]), o($Vd, [2, 26]), o($Vd, [2, 22])],\n            defaultActions: {\n              5: [2, 36],\n              7: [2, 2],\n              20: [2, 39],\n              31: [2, 38],\n              37: [2, 23],\n              44: [2, 18],\n              47: [2, 27]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    this.begin('open_directive');\n                    return 41;\n                    break;\n                  case 1:\n                    this.begin('type_directive');\n                    return 42;\n                    break;\n                  case 2:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 15;\n                    break;\n                  case 3:\n                    this.popState();\n                    this.popState();\n                    return 44;\n                    break;\n                  case 4:\n                    return 43;\n                    break;\n                  case 5:\n                    /* skip comments */\n                    break;\n                  case 6:\n                    /* skip comments */\n                    break;\n                  case 7:\n                    return 11;\n                    break;\n                  case 8:\n                    /* skip whitespace */\n                    break;\n                  case 9:\n                    return 9;\n                    break;\n                  case 10:\n                    return 40;\n                    break;\n                  case 11:\n                    return 4;\n                    break;\n                  case 12:\n                    this.begin(\"block\");\n                    return 20;\n                    break;\n                  case 13:\n                    /* skip whitespace in block */\n                    break;\n                  case 14:\n                    return 30;\n                    break;\n                  case 15:\n                    return 29;\n                    break;\n                  case 16:\n                    return 31;\n                    break;\n                  case 17:\n                    /* nothing */\n                    break;\n                  case 18:\n                    this.popState();\n                    return 22;\n                    break;\n                  case 19:\n                    return yy_.yytext[0];\n                    break;\n                  case 20:\n                    return 34;\n                    break;\n                  case 21:\n                    return 35;\n                    break;\n                  case 22:\n                    return 36;\n                    break;\n                  case 23:\n                    return 37;\n                    break;\n                  case 24:\n                    return 34;\n                    break;\n                  case 25:\n                    return 35;\n                    break;\n                  case 26:\n                    return 36;\n                    break;\n                  case 27:\n                    return 38;\n                    break;\n                  case 28:\n                    return 39;\n                    break;\n                  case 29:\n                    return 38;\n                    break;\n                  case 30:\n                    return 38;\n                    break;\n                  case 31:\n                    return 23;\n                    break;\n                  case 32:\n                    return yy_.yytext[0];\n                    break;\n                  case 33:\n                    return 6;\n                    break;\n                }\n              },\n              rules: [/^(?:%%\\{)/i, /^(?:((?:(?!\\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\\}%%)/i, /^(?:((?:(?!\\}%%).|\\n)*))/i, /^(?:%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:[\\s]+)/i, /^(?:\"[^\"]*\")/i, /^(?:erDiagram\\b)/i, /^(?:\\{)/i, /^(?:\\s+)/i, /^(?:(?:PK)|(?:FK))/i, /^(?:[A-Za-z][A-Za-z0-9\\-_]*)/i, /^(?:\"[^\"]*\")/i, /^(?:[\\n]+)/i, /^(?:\\})/i, /^(?:.)/i, /^(?:\\|o\\b)/i, /^(?:\\}o\\b)/i, /^(?:\\}\\|)/i, /^(?:\\|\\|)/i, /^(?:o\\|)/i, /^(?:o\\{)/i, /^(?:\\|\\{)/i, /^(?:\\.\\.)/i, /^(?:--)/i, /^(?:\\.-)/i, /^(?:-\\.)/i, /^(?:[A-Za-z][A-Za-z0-9\\-_]*)/i, /^(?:.)/i, /^(?:$)/i],\n              conditions: {\n                \"open_directive\": {\n                  \"rules\": [1],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [2, 3],\n                  \"inclusive\": false\n                },\n                \"arg_directive\": {\n                  \"rules\": [3, 4],\n                  \"inclusive\": false\n                },\n                \"block\": {\n                  \"rules\": [13, 14, 15, 16, 17, 18, 19],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 5, 6, 7, 8, 9, 10, 11, 12, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?3c87\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/flowchart/parser/flow.jison\": (\n      /*!**************************************************!*\\\n        !*** ./src/diagrams/flowchart/parser/flow.jison ***!\n        \\**************************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 9],\n            $V1 = [1, 7],\n            $V2 = [1, 6],\n            $V3 = [1, 8],\n            $V4 = [1, 20, 21, 22, 23, 38, 47, 59, 60, 79, 80, 81, 82, 83, 84, 88, 98, 99, 102, 104, 105, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120],\n            $V5 = [2, 10],\n            $V6 = [1, 20],\n            $V7 = [1, 21],\n            $V8 = [1, 22],\n            $V9 = [1, 23],\n            $Va = [1, 30],\n            $Vb = [1, 59],\n            $Vc = [1, 45],\n            $Vd = [1, 49],\n            $Ve = [1, 33],\n            $Vf = [1, 34],\n            $Vg = [1, 35],\n            $Vh = [1, 36],\n            $Vi = [1, 37],\n            $Vj = [1, 53],\n            $Vk = [1, 60],\n            $Vl = [1, 48],\n            $Vm = [1, 50],\n            $Vn = [1, 52],\n            $Vo = [1, 56],\n            $Vp = [1, 57],\n            $Vq = [1, 38],\n            $Vr = [1, 39],\n            $Vs = [1, 40],\n            $Vt = [1, 41],\n            $Vu = [1, 58],\n            $Vv = [1, 47],\n            $Vw = [1, 51],\n            $Vx = [1, 54],\n            $Vy = [1, 55],\n            $Vz = [1, 46],\n            $VA = [1, 63],\n            $VB = [1, 68],\n            $VC = [1, 20, 21, 22, 23, 38, 42, 47, 59, 60, 79, 80, 81, 82, 83, 84, 88, 98, 99, 102, 104, 105, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120],\n            $VD = [1, 72],\n            $VE = [1, 71],\n            $VF = [1, 73],\n            $VG = [20, 21, 23, 74, 75],\n            $VH = [1, 94],\n            $VI = [1, 99],\n            $VJ = [1, 102],\n            $VK = [1, 103],\n            $VL = [1, 96],\n            $VM = [1, 101],\n            $VN = [1, 104],\n            $VO = [1, 97],\n            $VP = [1, 109],\n            $VQ = [1, 108],\n            $VR = [1, 98],\n            $VS = [1, 100],\n            $VT = [1, 105],\n            $VU = [1, 106],\n            $VV = [1, 107],\n            $VW = [1, 110],\n            $VX = [20, 21, 22, 23, 74, 75],\n            $VY = [20, 21, 22, 23, 48, 74, 75],\n            $VZ = [20, 21, 22, 23, 40, 47, 48, 50, 52, 54, 56, 58, 59, 60, 62, 64, 66, 67, 69, 74, 75, 84, 88, 98, 99, 102, 104, 105, 115, 116, 117, 118, 119, 120],\n            $V_ = [20, 21, 23],\n            $V$ = [20, 21, 23, 47, 59, 60, 74, 75, 84, 88, 98, 99, 102, 104, 105, 115, 116, 117, 118, 119, 120],\n            $V01 = [1, 12, 20, 21, 22, 23, 24, 38, 42, 47, 59, 60, 79, 80, 81, 82, 83, 84, 88, 98, 99, 102, 104, 105, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120],\n            $V11 = [47, 59, 60, 84, 88, 98, 99, 102, 104, 105, 115, 116, 117, 118, 119, 120],\n            $V21 = [1, 143],\n            $V31 = [1, 151],\n            $V41 = [1, 152],\n            $V51 = [1, 153],\n            $V61 = [1, 154],\n            $V71 = [1, 138],\n            $V81 = [1, 139],\n            $V91 = [1, 135],\n            $Va1 = [1, 146],\n            $Vb1 = [1, 147],\n            $Vc1 = [1, 148],\n            $Vd1 = [1, 149],\n            $Ve1 = [1, 150],\n            $Vf1 = [1, 155],\n            $Vg1 = [1, 156],\n            $Vh1 = [1, 141],\n            $Vi1 = [1, 144],\n            $Vj1 = [1, 140],\n            $Vk1 = [1, 137],\n            $Vl1 = [20, 21, 22, 23, 38, 42, 47, 59, 60, 79, 80, 81, 82, 83, 84, 88, 98, 99, 102, 104, 105, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120],\n            $Vm1 = [1, 159],\n            $Vn1 = [20, 21, 22, 23, 26, 47, 59, 60, 84, 98, 99, 102, 104, 105, 115, 116, 117, 118, 119, 120],\n            $Vo1 = [20, 21, 22, 23, 24, 26, 38, 40, 41, 42, 47, 51, 53, 55, 57, 59, 60, 61, 63, 65, 66, 68, 70, 74, 75, 79, 80, 81, 82, 83, 84, 85, 88, 98, 99, 102, 104, 105, 106, 107, 115, 116, 117, 118, 119, 120],\n            $Vp1 = [12, 21, 22, 24],\n            $Vq1 = [22, 99],\n            $Vr1 = [1, 242],\n            $Vs1 = [1, 237],\n            $Vt1 = [1, 238],\n            $Vu1 = [1, 246],\n            $Vv1 = [1, 243],\n            $Vw1 = [1, 240],\n            $Vx1 = [1, 239],\n            $Vy1 = [1, 241],\n            $Vz1 = [1, 244],\n            $VA1 = [1, 245],\n            $VB1 = [1, 247],\n            $VC1 = [1, 265],\n            $VD1 = [20, 21, 23, 99],\n            $VE1 = [20, 21, 22, 23, 59, 60, 79, 95, 98, 99, 102, 103, 104, 105, 106];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"mermaidDoc\": 4,\n              \"directive\": 5,\n              \"openDirective\": 6,\n              \"typeDirective\": 7,\n              \"closeDirective\": 8,\n              \"separator\": 9,\n              \":\": 10,\n              \"argDirective\": 11,\n              \"open_directive\": 12,\n              \"type_directive\": 13,\n              \"arg_directive\": 14,\n              \"close_directive\": 15,\n              \"graphConfig\": 16,\n              \"document\": 17,\n              \"line\": 18,\n              \"statement\": 19,\n              \"SEMI\": 20,\n              \"NEWLINE\": 21,\n              \"SPACE\": 22,\n              \"EOF\": 23,\n              \"GRAPH\": 24,\n              \"NODIR\": 25,\n              \"DIR\": 26,\n              \"FirstStmtSeperator\": 27,\n              \"ending\": 28,\n              \"endToken\": 29,\n              \"spaceList\": 30,\n              \"spaceListNewline\": 31,\n              \"verticeStatement\": 32,\n              \"styleStatement\": 33,\n              \"linkStyleStatement\": 34,\n              \"classDefStatement\": 35,\n              \"classStatement\": 36,\n              \"clickStatement\": 37,\n              \"subgraph\": 38,\n              \"text\": 39,\n              \"SQS\": 40,\n              \"SQE\": 41,\n              \"end\": 42,\n              \"direction\": 43,\n              \"link\": 44,\n              \"node\": 45,\n              \"vertex\": 46,\n              \"AMP\": 47,\n              \"STYLE_SEPARATOR\": 48,\n              \"idString\": 49,\n              \"PS\": 50,\n              \"PE\": 51,\n              \"(-\": 52,\n              \"-)\": 53,\n              \"STADIUMSTART\": 54,\n              \"STADIUMEND\": 55,\n              \"SUBROUTINESTART\": 56,\n              \"SUBROUTINEEND\": 57,\n              \"VERTEX_WITH_PROPS_START\": 58,\n              \"ALPHA\": 59,\n              \"COLON\": 60,\n              \"PIPE\": 61,\n              \"CYLINDERSTART\": 62,\n              \"CYLINDEREND\": 63,\n              \"DIAMOND_START\": 64,\n              \"DIAMOND_STOP\": 65,\n              \"TAGEND\": 66,\n              \"TRAPSTART\": 67,\n              \"TRAPEND\": 68,\n              \"INVTRAPSTART\": 69,\n              \"INVTRAPEND\": 70,\n              \"linkStatement\": 71,\n              \"arrowText\": 72,\n              \"TESTSTR\": 73,\n              \"START_LINK\": 74,\n              \"LINK\": 75,\n              \"textToken\": 76,\n              \"STR\": 77,\n              \"keywords\": 78,\n              \"STYLE\": 79,\n              \"LINKSTYLE\": 80,\n              \"CLASSDEF\": 81,\n              \"CLASS\": 82,\n              \"CLICK\": 83,\n              \"DOWN\": 84,\n              \"UP\": 85,\n              \"textNoTags\": 86,\n              \"textNoTagsToken\": 87,\n              \"DEFAULT\": 88,\n              \"stylesOpt\": 89,\n              \"alphaNum\": 90,\n              \"CALLBACKNAME\": 91,\n              \"CALLBACKARGS\": 92,\n              \"HREF\": 93,\n              \"LINK_TARGET\": 94,\n              \"HEX\": 95,\n              \"numList\": 96,\n              \"INTERPOLATE\": 97,\n              \"NUM\": 98,\n              \"COMMA\": 99,\n              \"style\": 100,\n              \"styleComponent\": 101,\n              \"MINUS\": 102,\n              \"UNIT\": 103,\n              \"BRKT\": 104,\n              \"DOT\": 105,\n              \"PCT\": 106,\n              \"TAGSTART\": 107,\n              \"alphaNumToken\": 108,\n              \"idStringToken\": 109,\n              \"alphaNumStatement\": 110,\n              \"direction_tb\": 111,\n              \"direction_bt\": 112,\n              \"direction_rl\": 113,\n              \"direction_lr\": 114,\n              \"PUNCTUATION\": 115,\n              \"UNICODE_TEXT\": 116,\n              \"PLUS\": 117,\n              \"EQUALS\": 118,\n              \"MULT\": 119,\n              \"UNDERSCORE\": 120,\n              \"graphCodeTokens\": 121,\n              \"ARROW_CROSS\": 122,\n              \"ARROW_POINT\": 123,\n              \"ARROW_CIRCLE\": 124,\n              \"ARROW_OPEN\": 125,\n              \"QUOTE\": 126,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              10: \":\",\n              12: \"open_directive\",\n              13: \"type_directive\",\n              14: \"arg_directive\",\n              15: \"close_directive\",\n              20: \"SEMI\",\n              21: \"NEWLINE\",\n              22: \"SPACE\",\n              23: \"EOF\",\n              24: \"GRAPH\",\n              25: \"NODIR\",\n              26: \"DIR\",\n              38: \"subgraph\",\n              40: \"SQS\",\n              41: \"SQE\",\n              42: \"end\",\n              47: \"AMP\",\n              48: \"STYLE_SEPARATOR\",\n              50: \"PS\",\n              51: \"PE\",\n              52: \"(-\",\n              53: \"-)\",\n              54: \"STADIUMSTART\",\n              55: \"STADIUMEND\",\n              56: \"SUBROUTINESTART\",\n              57: \"SUBROUTINEEND\",\n              58: \"VERTEX_WITH_PROPS_START\",\n              59: \"ALPHA\",\n              60: \"COLON\",\n              61: \"PIPE\",\n              62: \"CYLINDERSTART\",\n              63: \"CYLINDEREND\",\n              64: \"DIAMOND_START\",\n              65: \"DIAMOND_STOP\",\n              66: \"TAGEND\",\n              67: \"TRAPSTART\",\n              68: \"TRAPEND\",\n              69: \"INVTRAPSTART\",\n              70: \"INVTRAPEND\",\n              73: \"TESTSTR\",\n              74: \"START_LINK\",\n              75: \"LINK\",\n              77: \"STR\",\n              79: \"STYLE\",\n              80: \"LINKSTYLE\",\n              81: \"CLASSDEF\",\n              82: \"CLASS\",\n              83: \"CLICK\",\n              84: \"DOWN\",\n              85: \"UP\",\n              88: \"DEFAULT\",\n              91: \"CALLBACKNAME\",\n              92: \"CALLBACKARGS\",\n              93: \"HREF\",\n              94: \"LINK_TARGET\",\n              95: \"HEX\",\n              97: \"INTERPOLATE\",\n              98: \"NUM\",\n              99: \"COMMA\",\n              102: \"MINUS\",\n              103: \"UNIT\",\n              104: \"BRKT\",\n              105: \"DOT\",\n              106: \"PCT\",\n              107: \"TAGSTART\",\n              111: \"direction_tb\",\n              112: \"direction_bt\",\n              113: \"direction_rl\",\n              114: \"direction_lr\",\n              115: \"PUNCTUATION\",\n              116: \"UNICODE_TEXT\",\n              117: \"PLUS\",\n              118: \"EQUALS\",\n              119: \"MULT\",\n              120: \"UNDERSCORE\",\n              122: \"ARROW_CROSS\",\n              123: \"ARROW_POINT\",\n              124: \"ARROW_CIRCLE\",\n              125: \"ARROW_OPEN\",\n              126: \"QUOTE\"\n            },\n            productions_: [0, [3, 1], [3, 2], [5, 4], [5, 6], [6, 1], [7, 1], [11, 1], [8, 1], [4, 2], [17, 0], [17, 2], [18, 1], [18, 1], [18, 1], [18, 1], [18, 1], [16, 2], [16, 2], [16, 2], [16, 3], [28, 2], [28, 1], [29, 1], [29, 1], [29, 1], [27, 1], [27, 1], [27, 2], [31, 2], [31, 2], [31, 1], [31, 1], [30, 2], [30, 1], [19, 2], [19, 2], [19, 2], [19, 2], [19, 2], [19, 2], [19, 9], [19, 6], [19, 4], [19, 1], [9, 1], [9, 1], [9, 1], [32, 3], [32, 4], [32, 2], [32, 1], [45, 1], [45, 5], [45, 3], [46, 4], [46, 6], [46, 4], [46, 4], [46, 4], [46, 8], [46, 4], [46, 4], [46, 4], [46, 6], [46, 4], [46, 4], [46, 4], [46, 4], [46, 4], [46, 1], [44, 2], [44, 3], [44, 3], [44, 1], [44, 3], [71, 1], [72, 3], [39, 1], [39, 2], [39, 1], [78, 1], [78, 1], [78, 1], [78, 1], [78, 1], [78, 1], [78, 1], [78, 1], [78, 1], [78, 1], [78, 1], [86, 1], [86, 2], [35, 5], [35, 5], [36, 5], [37, 2], [37, 4], [37, 3], [37, 5], [37, 2], [37, 4], [37, 4], [37, 6], [37, 2], [37, 4], [37, 2], [37, 4], [37, 4], [37, 6], [33, 5], [33, 5], [34, 5], [34, 5], [34, 9], [34, 9], [34, 7], [34, 7], [96, 1], [96, 3], [89, 1], [89, 3], [100, 1], [100, 2], [101, 1], [101, 1], [101, 1], [101, 1], [101, 1], [101, 1], [101, 1], [101, 1], [101, 1], [101, 1], [101, 1], [76, 1], [76, 1], [76, 1], [76, 1], [76, 1], [76, 1], [87, 1], [87, 1], [87, 1], [87, 1], [49, 1], [49, 2], [90, 1], [90, 2], [110, 1], [110, 1], [110, 1], [110, 1], [43, 1], [43, 1], [43, 1], [43, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [109, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1], [121, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 5:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 6:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 7:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 8:\n                  yy.parseDirective('}%%', 'close_directive', 'flowchart');\n                  break;\n                case 10:\n                  this.$ = [];\n                  break;\n                case 11:\n                  if ($$[$0] !== []) {\n                    $$[$0 - 1].push($$[$0]);\n                  }\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 12:\n                case 78:\n                case 80:\n                case 92:\n                case 148:\n                case 150:\n                case 151:\n                  this.$ = $$[$0];\n                  break;\n                case 19:\n                  yy.setDirection('TB');\n                  this.$ = 'TB';\n                  break;\n                case 20:\n                  yy.setDirection($$[$0 - 1]);\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 35:\n                  /* console.warn('finat vs', $$[$0-1].nodes); */this.$ = $$[$0 - 1].nodes;\n                  break;\n                case 36:\n                case 37:\n                case 38:\n                case 39:\n                case 40:\n                  this.$ = [];\n                  break;\n                case 41:\n                  this.$ = yy.addSubGraph($$[$0 - 6], $$[$0 - 1], $$[$0 - 4]);\n                  break;\n                case 42:\n                  this.$ = yy.addSubGraph($$[$0 - 3], $$[$0 - 1], $$[$0 - 3]);\n                  break;\n                case 43:\n                  this.$ = yy.addSubGraph(undefined, $$[$0 - 1], undefined);\n                  break;\n                case 48:\n                  /* console.warn('vs',$$[$0-2].stmt,$$[$0]); */yy.addLink($$[$0 - 2].stmt, $$[$0], $$[$0 - 1]);\n                  this.$ = {\n                    stmt: $$[$0],\n                    nodes: $$[$0].concat($$[$0 - 2].nodes)\n                  };\n                  break;\n                case 49:\n                  /* console.warn('vs',$$[$0-3].stmt,$$[$0-1]); */yy.addLink($$[$0 - 3].stmt, $$[$0 - 1], $$[$0 - 2]);\n                  this.$ = {\n                    stmt: $$[$0 - 1],\n                    nodes: $$[$0 - 1].concat($$[$0 - 3].nodes)\n                  };\n                  break;\n                case 50:\n                  /*console.warn('noda', $$[$0-1]);*/this.$ = {\n                    stmt: $$[$0 - 1],\n                    nodes: $$[$0 - 1]\n                  };\n                  break;\n                case 51:\n                  /*console.warn('noda', $$[$0]);*/this.$ = {\n                    stmt: $$[$0],\n                    nodes: $$[$0]\n                  };\n                  break;\n                case 52:\n                  /* console.warn('nod', $$[$0]); */this.$ = [$$[$0]];\n                  break;\n                case 53:\n                  this.$ = $$[$0 - 4].concat($$[$0]); /* console.warn('pip', $$[$0-4][0], $$[$0], this.$); */\n                  break;\n                case 54:\n                  this.$ = [$$[$0 - 2]];\n                  yy.setClass($$[$0 - 2], $$[$0]);\n                  break;\n                case 55:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'square');\n                  break;\n                case 56:\n                  this.$ = $$[$0 - 5];\n                  yy.addVertex($$[$0 - 5], $$[$0 - 2], 'circle');\n                  break;\n                case 57:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'ellipse');\n                  break;\n                case 58:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'stadium');\n                  break;\n                case 59:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'subroutine');\n                  break;\n                case 60:\n                  this.$ = $$[$0 - 7];\n                  yy.addVertex($$[$0 - 7], $$[$0 - 1], 'rect', undefined, undefined, undefined, Object.fromEntries([[$$[$0 - 5], $$[$0 - 3]]]));\n                  break;\n                case 61:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'cylinder');\n                  break;\n                case 62:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'round');\n                  break;\n                case 63:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'diamond');\n                  break;\n                case 64:\n                  this.$ = $$[$0 - 5];\n                  yy.addVertex($$[$0 - 5], $$[$0 - 2], 'hexagon');\n                  break;\n                case 65:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'odd');\n                  break;\n                case 66:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'trapezoid');\n                  break;\n                case 67:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'inv_trapezoid');\n                  break;\n                case 68:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'lean_right');\n                  break;\n                case 69:\n                  this.$ = $$[$0 - 3];\n                  yy.addVertex($$[$0 - 3], $$[$0 - 1], 'lean_left');\n                  break;\n                case 70:\n                  /*console.warn('h: ', $$[$0]);*/this.$ = $$[$0];\n                  yy.addVertex($$[$0]);\n                  break;\n                case 71:\n                  $$[$0 - 1].text = $$[$0];\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 72:\n                case 73:\n                  $$[$0 - 2].text = $$[$0 - 1];\n                  this.$ = $$[$0 - 2];\n                  break;\n                case 74:\n                  this.$ = $$[$0];\n                  break;\n                case 75:\n                  var inf = yy.destructLink($$[$0], $$[$0 - 2]);\n                  this.$ = {\n                    \"type\": inf.type,\n                    \"stroke\": inf.stroke,\n                    \"length\": inf.length,\n                    \"text\": $$[$0 - 1]\n                  };\n                  break;\n                case 76:\n                  var inf = yy.destructLink($$[$0]);\n                  this.$ = {\n                    \"type\": inf.type,\n                    \"stroke\": inf.stroke,\n                    \"length\": inf.length\n                  };\n                  break;\n                case 77:\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 79:\n                case 93:\n                case 149:\n                  this.$ = $$[$0 - 1] + '' + $$[$0];\n                  break;\n                case 94:\n                case 95:\n                  this.$ = $$[$0 - 4];\n                  yy.addClass($$[$0 - 2], $$[$0]);\n                  break;\n                case 96:\n                  this.$ = $$[$0 - 4];\n                  yy.setClass($$[$0 - 2], $$[$0]);\n                  break;\n                case 97:\n                case 105:\n                  this.$ = $$[$0 - 1];\n                  yy.setClickEvent($$[$0 - 1], $$[$0]);\n                  break;\n                case 98:\n                case 106:\n                  this.$ = $$[$0 - 3];\n                  yy.setClickEvent($$[$0 - 3], $$[$0 - 2]);\n                  yy.setTooltip($$[$0 - 3], $$[$0]);\n                  break;\n                case 99:\n                  this.$ = $$[$0 - 2];\n                  yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);\n                  break;\n                case 100:\n                  this.$ = $$[$0 - 4];\n                  yy.setClickEvent($$[$0 - 4], $$[$0 - 3], $$[$0 - 2]);\n                  yy.setTooltip($$[$0 - 4], $$[$0]);\n                  break;\n                case 101:\n                case 107:\n                  this.$ = $$[$0 - 1];\n                  yy.setLink($$[$0 - 1], $$[$0]);\n                  break;\n                case 102:\n                case 108:\n                  this.$ = $$[$0 - 3];\n                  yy.setLink($$[$0 - 3], $$[$0 - 2]);\n                  yy.setTooltip($$[$0 - 3], $$[$0]);\n                  break;\n                case 103:\n                case 109:\n                  this.$ = $$[$0 - 3];\n                  yy.setLink($$[$0 - 3], $$[$0 - 2], $$[$0]);\n                  break;\n                case 104:\n                case 110:\n                  this.$ = $$[$0 - 5];\n                  yy.setLink($$[$0 - 5], $$[$0 - 4], $$[$0]);\n                  yy.setTooltip($$[$0 - 5], $$[$0 - 2]);\n                  break;\n                case 111:\n                  this.$ = $$[$0 - 4];\n                  yy.addVertex($$[$0 - 2], undefined, undefined, $$[$0]);\n                  break;\n                case 112:\n                case 114:\n                  this.$ = $$[$0 - 4];\n                  yy.updateLink($$[$0 - 2], $$[$0]);\n                  break;\n                case 113:\n                  this.$ = $$[$0 - 4];\n                  yy.updateLink([$$[$0 - 2]], $$[$0]);\n                  break;\n                case 115:\n                  this.$ = $$[$0 - 8];\n                  yy.updateLinkInterpolate([$$[$0 - 6]], $$[$0 - 2]);\n                  yy.updateLink([$$[$0 - 6]], $$[$0]);\n                  break;\n                case 116:\n                  this.$ = $$[$0 - 8];\n                  yy.updateLinkInterpolate($$[$0 - 6], $$[$0 - 2]);\n                  yy.updateLink($$[$0 - 6], $$[$0]);\n                  break;\n                case 117:\n                  this.$ = $$[$0 - 6];\n                  yy.updateLinkInterpolate([$$[$0 - 4]], $$[$0]);\n                  break;\n                case 118:\n                  this.$ = $$[$0 - 6];\n                  yy.updateLinkInterpolate($$[$0 - 4], $$[$0]);\n                  break;\n                case 119:\n                case 121:\n                  this.$ = [$$[$0]];\n                  break;\n                case 120:\n                case 122:\n                  $$[$0 - 2].push($$[$0]);\n                  this.$ = $$[$0 - 2];\n                  break;\n                case 124:\n                  this.$ = $$[$0 - 1] + $$[$0];\n                  break;\n                case 146:\n                  this.$ = $$[$0];\n                  break;\n                case 147:\n                  this.$ = $$[$0 - 1] + '' + $$[$0];\n                  break;\n                case 152:\n                  this.$ = 'v';\n                  break;\n                case 153:\n                  this.$ = '-';\n                  break;\n                case 154:\n                  this.$ = {\n                    stmt: 'dir',\n                    value: 'TB'\n                  };\n                  break;\n                case 155:\n                  this.$ = {\n                    stmt: 'dir',\n                    value: 'BT'\n                  };\n                  break;\n                case 156:\n                  this.$ = {\n                    stmt: 'dir',\n                    value: 'RL'\n                  };\n                  break;\n                case 157:\n                  this.$ = {\n                    stmt: 'dir',\n                    value: 'LR'\n                  };\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: 2,\n              5: 3,\n              6: 5,\n              12: $V0,\n              16: 4,\n              21: $V1,\n              22: $V2,\n              24: $V3\n            }, {\n              1: [3]\n            }, {\n              1: [2, 1]\n            }, {\n              3: 10,\n              4: 2,\n              5: 3,\n              6: 5,\n              12: $V0,\n              16: 4,\n              21: $V1,\n              22: $V2,\n              24: $V3\n            }, o($V4, $V5, {\n              17: 11\n            }), {\n              7: 12,\n              13: [1, 13]\n            }, {\n              16: 14,\n              21: $V1,\n              22: $V2,\n              24: $V3\n            }, {\n              16: 15,\n              21: $V1,\n              22: $V2,\n              24: $V3\n            }, {\n              25: [1, 16],\n              26: [1, 17]\n            }, {\n              13: [2, 5]\n            }, {\n              1: [2, 2]\n            }, {\n              1: [2, 9],\n              18: 18,\n              19: 19,\n              20: $V6,\n              21: $V7,\n              22: $V8,\n              23: $V9,\n              32: 24,\n              33: 25,\n              34: 26,\n              35: 27,\n              36: 28,\n              37: 29,\n              38: $Va,\n              43: 31,\n              45: 32,\n              46: 42,\n              47: $Vb,\n              49: 43,\n              59: $Vc,\n              60: $Vd,\n              79: $Ve,\n              80: $Vf,\n              81: $Vg,\n              82: $Vh,\n              83: $Vi,\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              109: 44,\n              111: $Vq,\n              112: $Vr,\n              113: $Vs,\n              114: $Vt,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }, {\n              8: 61,\n              10: [1, 62],\n              15: $VA\n            }, o([10, 15], [2, 6]), o($V4, [2, 17]), o($V4, [2, 18]), o($V4, [2, 19]), {\n              20: [1, 65],\n              21: [1, 66],\n              22: $VB,\n              27: 64,\n              30: 67\n            }, o($VC, [2, 11]), o($VC, [2, 12]), o($VC, [2, 13]), o($VC, [2, 14]), o($VC, [2, 15]), o($VC, [2, 16]), {\n              9: 69,\n              20: $VD,\n              21: $VE,\n              23: $VF,\n              44: 70,\n              71: 74,\n              74: [1, 75],\n              75: [1, 76]\n            }, {\n              9: 77,\n              20: $VD,\n              21: $VE,\n              23: $VF\n            }, {\n              9: 78,\n              20: $VD,\n              21: $VE,\n              23: $VF\n            }, {\n              9: 79,\n              20: $VD,\n              21: $VE,\n              23: $VF\n            }, {\n              9: 80,\n              20: $VD,\n              21: $VE,\n              23: $VF\n            }, {\n              9: 81,\n              20: $VD,\n              21: $VE,\n              23: $VF\n            }, {\n              9: 83,\n              20: $VD,\n              21: $VE,\n              22: [1, 82],\n              23: $VF\n            }, o($VC, [2, 44]), o($VG, [2, 51], {\n              30: 84,\n              22: $VB\n            }), {\n              22: [1, 85]\n            }, {\n              22: [1, 86]\n            }, {\n              22: [1, 87]\n            }, {\n              22: [1, 88]\n            }, {\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              77: [1, 92],\n              84: $VL,\n              90: 91,\n              91: [1, 89],\n              93: [1, 90],\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 93,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($VC, [2, 154]), o($VC, [2, 155]), o($VC, [2, 156]), o($VC, [2, 157]), o($VX, [2, 52], {\n              48: [1, 111]\n            }), o($VY, [2, 70], {\n              109: 123,\n              40: [1, 112],\n              47: $Vb,\n              50: [1, 113],\n              52: [1, 114],\n              54: [1, 115],\n              56: [1, 116],\n              58: [1, 117],\n              59: $Vc,\n              60: $Vd,\n              62: [1, 118],\n              64: [1, 119],\n              66: [1, 120],\n              67: [1, 121],\n              69: [1, 122],\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }), o($VZ, [2, 146]), o($VZ, [2, 171]), o($VZ, [2, 172]), o($VZ, [2, 173]), o($VZ, [2, 174]), o($VZ, [2, 175]), o($VZ, [2, 176]), o($VZ, [2, 177]), o($VZ, [2, 178]), o($VZ, [2, 179]), o($VZ, [2, 180]), o($VZ, [2, 181]), o($VZ, [2, 182]), o($VZ, [2, 183]), o($VZ, [2, 184]), o($VZ, [2, 185]), o($VZ, [2, 186]), {\n              9: 124,\n              20: $VD,\n              21: $VE,\n              23: $VF\n            }, {\n              11: 125,\n              14: [1, 126]\n            }, o($V_, [2, 8]), o($V4, [2, 20]), o($V4, [2, 26]), o($V4, [2, 27]), {\n              21: [1, 127]\n            }, o($V$, [2, 34], {\n              30: 128,\n              22: $VB\n            }), o($VC, [2, 35]), {\n              45: 129,\n              46: 42,\n              47: $Vb,\n              49: 43,\n              59: $Vc,\n              60: $Vd,\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              109: 44,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }, o($V01, [2, 45]), o($V01, [2, 46]), o($V01, [2, 47]), o($V11, [2, 74], {\n              72: 130,\n              61: [1, 132],\n              73: [1, 131]\n            }), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 133,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o([47, 59, 60, 61, 73, 84, 88, 98, 99, 102, 104, 105, 115, 116, 117, 118, 119, 120], [2, 76]), o($VC, [2, 36]), o($VC, [2, 37]), o($VC, [2, 38]), o($VC, [2, 39]), o($VC, [2, 40]), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 157,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($Vl1, $V5, {\n              17: 158\n            }), o($VG, [2, 50], {\n              47: $Vm1\n            }), {\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              90: 160,\n              95: [1, 161],\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 93,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              88: [1, 162],\n              96: 163,\n              98: [1, 164]\n            }, {\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              88: [1, 165],\n              90: 166,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 93,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              90: 167,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 93,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($V_, [2, 97], {\n              22: [1, 168],\n              92: [1, 169]\n            }), o($V_, [2, 101], {\n              22: [1, 170]\n            }), o($V_, [2, 105], {\n              108: 95,\n              110: 172,\n              22: [1, 171],\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }), o($V_, [2, 107], {\n              22: [1, 173]\n            }), o($Vn1, [2, 148]), o($Vn1, [2, 150]), o($Vn1, [2, 151]), o($Vn1, [2, 152]), o($Vn1, [2, 153]), o($Vo1, [2, 158]), o($Vo1, [2, 159]), o($Vo1, [2, 160]), o($Vo1, [2, 161]), o($Vo1, [2, 162]), o($Vo1, [2, 163]), o($Vo1, [2, 164]), o($Vo1, [2, 165]), o($Vo1, [2, 166]), o($Vo1, [2, 167]), o($Vo1, [2, 168]), o($Vo1, [2, 169]), o($Vo1, [2, 170]), {\n              47: $Vb,\n              49: 174,\n              59: $Vc,\n              60: $Vd,\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              109: 44,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 175,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 177,\n              42: $V61,\n              47: $VI,\n              50: [1, 176],\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 178,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 179,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 180,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              59: [1, 181]\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 182,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 183,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              64: [1, 184],\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 185,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 186,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 187,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($VZ, [2, 147]), o($Vp1, [2, 3]), {\n              8: 188,\n              15: $VA\n            }, {\n              15: [2, 7]\n            }, o($V4, [2, 28]), o($V$, [2, 33]), o($VG, [2, 48], {\n              30: 189,\n              22: $VB\n            }), o($V11, [2, 71], {\n              22: [1, 190]\n            }), {\n              22: [1, 191]\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 192,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              75: [1, 193],\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($Vo1, [2, 78]), o($Vo1, [2, 80]), o($Vo1, [2, 136]), o($Vo1, [2, 137]), o($Vo1, [2, 138]), o($Vo1, [2, 139]), o($Vo1, [2, 140]), o($Vo1, [2, 141]), o($Vo1, [2, 142]), o($Vo1, [2, 143]), o($Vo1, [2, 144]), o($Vo1, [2, 145]), o($Vo1, [2, 81]), o($Vo1, [2, 82]), o($Vo1, [2, 83]), o($Vo1, [2, 84]), o($Vo1, [2, 85]), o($Vo1, [2, 86]), o($Vo1, [2, 87]), o($Vo1, [2, 88]), o($Vo1, [2, 89]), o($Vo1, [2, 90]), o($Vo1, [2, 91]), {\n              9: 196,\n              20: $VD,\n              21: $VE,\n              22: $V21,\n              23: $VF,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              40: [1, 195],\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              18: 18,\n              19: 19,\n              20: $V6,\n              21: $V7,\n              22: $V8,\n              23: $V9,\n              32: 24,\n              33: 25,\n              34: 26,\n              35: 27,\n              36: 28,\n              37: 29,\n              38: $Va,\n              42: [1, 197],\n              43: 31,\n              45: 32,\n              46: 42,\n              47: $Vb,\n              49: 43,\n              59: $Vc,\n              60: $Vd,\n              79: $Ve,\n              80: $Vf,\n              81: $Vg,\n              82: $Vh,\n              83: $Vi,\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              109: 44,\n              111: $Vq,\n              112: $Vr,\n              113: $Vs,\n              114: $Vt,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }, {\n              22: $VB,\n              30: 198\n            }, {\n              22: [1, 199],\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 172,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: [1, 200]\n            }, {\n              22: [1, 201]\n            }, {\n              22: [1, 202],\n              99: [1, 203]\n            }, o($Vq1, [2, 119]), {\n              22: [1, 204]\n            }, {\n              22: [1, 205],\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 172,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: [1, 206],\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 172,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              77: [1, 207]\n            }, o($V_, [2, 99], {\n              22: [1, 208]\n            }), {\n              77: [1, 209],\n              94: [1, 210]\n            }, {\n              77: [1, 211]\n            }, o($Vn1, [2, 149]), {\n              77: [1, 212],\n              94: [1, 213]\n            }, o($VX, [2, 54], {\n              109: 123,\n              47: $Vb,\n              59: $Vc,\n              60: $Vd,\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              41: [1, 214],\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 215,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              51: [1, 216],\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              53: [1, 217],\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              55: [1, 218],\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              57: [1, 219],\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              60: [1, 220]\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              63: [1, 221],\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              65: [1, 222],\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 223,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              41: [1, 224],\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              68: [1, 225],\n              70: [1, 226],\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              68: [1, 228],\n              70: [1, 227],\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              9: 229,\n              20: $VD,\n              21: $VE,\n              23: $VF\n            }, o($VG, [2, 49], {\n              47: $Vm1\n            }), o($V11, [2, 73]), o($V11, [2, 72]), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              61: [1, 230],\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($V11, [2, 75]), o($Vo1, [2, 79]), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 231,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($Vl1, $V5, {\n              17: 232\n            }), o($VC, [2, 43]), {\n              46: 233,\n              47: $Vb,\n              49: 43,\n              59: $Vc,\n              60: $Vd,\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              109: 44,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }, {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              89: 234,\n              95: $Vv1,\n              98: $Vw1,\n              100: 235,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              89: 248,\n              95: $Vv1,\n              98: $Vw1,\n              100: 235,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              89: 249,\n              95: $Vv1,\n              97: [1, 250],\n              98: $Vw1,\n              100: 235,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              89: 251,\n              95: $Vv1,\n              97: [1, 252],\n              98: $Vw1,\n              100: 235,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, {\n              98: [1, 253]\n            }, {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              89: 254,\n              95: $Vv1,\n              98: $Vw1,\n              100: 235,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              89: 255,\n              95: $Vv1,\n              98: $Vw1,\n              100: 235,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, {\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              90: 256,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 93,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($V_, [2, 98]), {\n              77: [1, 257]\n            }, o($V_, [2, 102], {\n              22: [1, 258]\n            }), o($V_, [2, 103]), o($V_, [2, 106]), o($V_, [2, 108], {\n              22: [1, 259]\n            }), o($V_, [2, 109]), o($VY, [2, 55]), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              51: [1, 260],\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($VY, [2, 62]), o($VY, [2, 57]), o($VY, [2, 58]), o($VY, [2, 59]), {\n              59: [1, 261]\n            }, o($VY, [2, 61]), o($VY, [2, 63]), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              65: [1, 262],\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($VY, [2, 65]), o($VY, [2, 66]), o($VY, [2, 68]), o($VY, [2, 67]), o($VY, [2, 69]), o($Vp1, [2, 4]), o([22, 47, 59, 60, 84, 88, 98, 99, 102, 104, 105, 115, 116, 117, 118, 119, 120], [2, 77]), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              41: [1, 263],\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              18: 18,\n              19: 19,\n              20: $V6,\n              21: $V7,\n              22: $V8,\n              23: $V9,\n              32: 24,\n              33: 25,\n              34: 26,\n              35: 27,\n              36: 28,\n              37: 29,\n              38: $Va,\n              42: [1, 264],\n              43: 31,\n              45: 32,\n              46: 42,\n              47: $Vb,\n              49: 43,\n              59: $Vc,\n              60: $Vd,\n              79: $Ve,\n              80: $Vf,\n              81: $Vg,\n              82: $Vh,\n              83: $Vi,\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              109: 44,\n              111: $Vq,\n              112: $Vr,\n              113: $Vs,\n              114: $Vt,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }, o($VX, [2, 53]), o($V_, [2, 111], {\n              99: $VC1\n            }), o($VD1, [2, 121], {\n              101: 266,\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              95: $Vv1,\n              98: $Vw1,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }), o($VE1, [2, 123]), o($VE1, [2, 125]), o($VE1, [2, 126]), o($VE1, [2, 127]), o($VE1, [2, 128]), o($VE1, [2, 129]), o($VE1, [2, 130]), o($VE1, [2, 131]), o($VE1, [2, 132]), o($VE1, [2, 133]), o($VE1, [2, 134]), o($VE1, [2, 135]), o($V_, [2, 112], {\n              99: $VC1\n            }), o($V_, [2, 113], {\n              99: $VC1\n            }), {\n              22: [1, 267]\n            }, o($V_, [2, 114], {\n              99: $VC1\n            }), {\n              22: [1, 268]\n            }, o($Vq1, [2, 120]), o($V_, [2, 94], {\n              99: $VC1\n            }), o($V_, [2, 95], {\n              99: $VC1\n            }), o($V_, [2, 96], {\n              108: 95,\n              110: 172,\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }), o($V_, [2, 100]), {\n              94: [1, 269]\n            }, {\n              94: [1, 270]\n            }, {\n              51: [1, 271]\n            }, {\n              61: [1, 272]\n            }, {\n              65: [1, 273]\n            }, {\n              9: 274,\n              20: $VD,\n              21: $VE,\n              23: $VF\n            }, o($VC, [2, 42]), {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              95: $Vv1,\n              98: $Vw1,\n              100: 275,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, o($VE1, [2, 124]), {\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              90: 276,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 93,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              90: 277,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              108: 95,\n              110: 93,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($V_, [2, 104]), o($V_, [2, 110]), o($VY, [2, 56]), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              39: 278,\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 134,\n              77: $V91,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, o($VY, [2, 64]), o($Vl1, $V5, {\n              17: 279\n            }), o($VD1, [2, 122], {\n              101: 266,\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              95: $Vv1,\n              98: $Vw1,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }), o($V_, [2, 117], {\n              108: 95,\n              110: 172,\n              22: [1, 280],\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }), o($V_, [2, 118], {\n              108: 95,\n              110: 172,\n              22: [1, 281],\n              26: $VH,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              84: $VL,\n              98: $VM,\n              99: $VN,\n              102: $VO,\n              104: $VP,\n              105: $VQ,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }), {\n              22: $V21,\n              24: $V31,\n              26: $V41,\n              38: $V51,\n              41: [1, 282],\n              42: $V61,\n              47: $VI,\n              59: $VJ,\n              60: $VK,\n              66: $V71,\n              74: $V81,\n              76: 194,\n              78: 145,\n              79: $Va1,\n              80: $Vb1,\n              81: $Vc1,\n              82: $Vd1,\n              83: $Ve1,\n              84: $Vf1,\n              85: $Vg1,\n              87: 136,\n              88: $Vh1,\n              98: $VM,\n              99: $VN,\n              102: $Vi1,\n              104: $VP,\n              105: $VQ,\n              106: $Vj1,\n              107: $Vk1,\n              108: 142,\n              115: $VR,\n              116: $VS,\n              117: $VT,\n              118: $VU,\n              119: $VV,\n              120: $VW\n            }, {\n              18: 18,\n              19: 19,\n              20: $V6,\n              21: $V7,\n              22: $V8,\n              23: $V9,\n              32: 24,\n              33: 25,\n              34: 26,\n              35: 27,\n              36: 28,\n              37: 29,\n              38: $Va,\n              42: [1, 283],\n              43: 31,\n              45: 32,\n              46: 42,\n              47: $Vb,\n              49: 43,\n              59: $Vc,\n              60: $Vd,\n              79: $Ve,\n              80: $Vf,\n              81: $Vg,\n              82: $Vh,\n              83: $Vi,\n              84: $Vj,\n              88: $Vk,\n              98: $Vl,\n              99: $Vm,\n              102: $Vn,\n              104: $Vo,\n              105: $Vp,\n              109: 44,\n              111: $Vq,\n              112: $Vr,\n              113: $Vs,\n              114: $Vt,\n              115: $Vu,\n              116: $Vv,\n              117: $Vw,\n              118: $Vx,\n              119: $Vy,\n              120: $Vz\n            }, {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              89: 284,\n              95: $Vv1,\n              98: $Vw1,\n              100: 235,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, {\n              22: $Vr1,\n              59: $Vs1,\n              60: $Vt1,\n              79: $Vu1,\n              89: 285,\n              95: $Vv1,\n              98: $Vw1,\n              100: 235,\n              101: 236,\n              102: $Vx1,\n              103: $Vy1,\n              104: $Vz1,\n              105: $VA1,\n              106: $VB1\n            }, o($VY, [2, 60]), o($VC, [2, 41]), o($V_, [2, 115], {\n              99: $VC1\n            }), o($V_, [2, 116], {\n              99: $VC1\n            })],\n            defaultActions: {\n              2: [2, 1],\n              9: [2, 5],\n              10: [2, 2],\n              126: [2, 7]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {},\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    this.begin('open_directive');\n                    return 12;\n                    break;\n                  case 1:\n                    this.begin('type_directive');\n                    return 13;\n                    break;\n                  case 2:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 10;\n                    break;\n                  case 3:\n                    this.popState();\n                    this.popState();\n                    return 15;\n                    break;\n                  case 4:\n                    return 14;\n                    break;\n                  case 5:\n                    /* skip comments */\n                    break;\n                  case 6:\n                    /* skip comments */\n                    break;\n                  case 7:\n                    this.begin(\"string\");\n                    break;\n                  case 8:\n                    this.popState();\n                    break;\n                  case 9:\n                    return \"STR\";\n                    break;\n                  case 10:\n                    return 79;\n                    break;\n                  case 11:\n                    return 88;\n                    break;\n                  case 12:\n                    return 80;\n                    break;\n                  case 13:\n                    return 97;\n                    break;\n                  case 14:\n                    return 81;\n                    break;\n                  case 15:\n                    return 82;\n                    break;\n                  case 16:\n                    this.begin(\"href\");\n                    break;\n                  case 17:\n                    this.popState();\n                    break;\n                  case 18:\n                    return 93;\n                    break;\n                  case 19:\n                    this.begin(\"callbackname\");\n                    break;\n                  case 20:\n                    this.popState();\n                    break;\n                  case 21:\n                    this.popState();\n                    this.begin(\"callbackargs\");\n                    break;\n                  case 22:\n                    return 91;\n                    break;\n                  case 23:\n                    this.popState();\n                    break;\n                  case 24:\n                    return 92;\n                    break;\n                  case 25:\n                    this.begin(\"click\");\n                    break;\n                  case 26:\n                    this.popState();\n                    break;\n                  case 27:\n                    return 83;\n                    break;\n                  case 28:\n                    if (yy.lex.firstGraph()) {\n                      this.begin(\"dir\");\n                    }\n                    return 24;\n                    break;\n                  case 29:\n                    if (yy.lex.firstGraph()) {\n                      this.begin(\"dir\");\n                    }\n                    return 24;\n                    break;\n                  case 30:\n                    return 38;\n                    break;\n                  case 31:\n                    return 42;\n                    break;\n                  case 32:\n                    return 94;\n                    break;\n                  case 33:\n                    return 94;\n                    break;\n                  case 34:\n                    return 94;\n                    break;\n                  case 35:\n                    return 94;\n                    break;\n                  case 36:\n                    this.popState();\n                    return 25;\n                    break;\n                  case 37:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 38:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 39:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 40:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 41:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 42:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 43:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 44:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 45:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 46:\n                    this.popState();\n                    return 26;\n                    break;\n                  case 47:\n                    return 111;\n                    break;\n                  case 48:\n                    return 112;\n                    break;\n                  case 49:\n                    return 113;\n                    break;\n                  case 50:\n                    return 114;\n                    break;\n                  case 51:\n                    return 98;\n                    break;\n                  case 52:\n                    return 104;\n                    break;\n                  case 53:\n                    return 48;\n                    break;\n                  case 54:\n                    return 60;\n                    break;\n                  case 55:\n                    return 47;\n                    break;\n                  case 56:\n                    return 20;\n                    break;\n                  case 57:\n                    return 99;\n                    break;\n                  case 58:\n                    return 119;\n                    break;\n                  case 59:\n                    return 75;\n                    break;\n                  case 60:\n                    return 75;\n                    break;\n                  case 61:\n                    return 75;\n                    break;\n                  case 62:\n                    return 74;\n                    break;\n                  case 63:\n                    return 74;\n                    break;\n                  case 64:\n                    return 74;\n                    break;\n                  case 65:\n                    return 52;\n                    break;\n                  case 66:\n                    return 53;\n                    break;\n                  case 67:\n                    return 54;\n                    break;\n                  case 68:\n                    return 55;\n                    break;\n                  case 69:\n                    return 56;\n                    break;\n                  case 70:\n                    return 57;\n                    break;\n                  case 71:\n                    return 58;\n                    break;\n                  case 72:\n                    return 62;\n                    break;\n                  case 73:\n                    return 63;\n                    break;\n                  case 74:\n                    return 102;\n                    break;\n                  case 75:\n                    return 105;\n                    break;\n                  case 76:\n                    return 120;\n                    break;\n                  case 77:\n                    return 117;\n                    break;\n                  case 78:\n                    return 106;\n                    break;\n                  case 79:\n                    return 118;\n                    break;\n                  case 80:\n                    return 118;\n                    break;\n                  case 81:\n                    return 107;\n                    break;\n                  case 82:\n                    return 66;\n                    break;\n                  case 83:\n                    return 85;\n                    break;\n                  case 84:\n                    return 'SEP';\n                    break;\n                  case 85:\n                    return 84;\n                    break;\n                  case 86:\n                    return 59;\n                    break;\n                  case 87:\n                    return 68;\n                    break;\n                  case 88:\n                    return 67;\n                    break;\n                  case 89:\n                    return 70;\n                    break;\n                  case 90:\n                    return 69;\n                    break;\n                  case 91:\n                    return 115;\n                    break;\n                  case 92:\n                    return 116;\n                    break;\n                  case 93:\n                    return 61;\n                    break;\n                  case 94:\n                    return 50;\n                    break;\n                  case 95:\n                    return 51;\n                    break;\n                  case 96:\n                    return 40;\n                    break;\n                  case 97:\n                    return 41;\n                    break;\n                  case 98:\n                    return 64;\n                    break;\n                  case 99:\n                    return 65;\n                    break;\n                  case 100:\n                    return 126;\n                    break;\n                  case 101:\n                    return 21;\n                    break;\n                  case 102:\n                    return 22;\n                    break;\n                  case 103:\n                    return 23;\n                    break;\n                }\n              },\n              rules: [/^(?:%%\\{)/, /^(?:((?:(?!\\}%%)[^:.])*))/, /^(?::)/, /^(?:\\}%%)/, /^(?:((?:(?!\\}%%).|\\n)*))/, /^(?:%%(?!\\{)[^\\n]*)/, /^(?:[^\\}]%%[^\\n]*)/, /^(?:[\"])/, /^(?:[\"])/, /^(?:[^\"]*)/, /^(?:style\\b)/, /^(?:default\\b)/, /^(?:linkStyle\\b)/, /^(?:interpolate\\b)/, /^(?:classDef\\b)/, /^(?:class\\b)/, /^(?:href[\\s]+[\"])/, /^(?:[\"])/, /^(?:[^\"]*)/, /^(?:call[\\s]+)/, /^(?:\\([\\s]*\\))/, /^(?:\\()/, /^(?:[^(]*)/, /^(?:\\))/, /^(?:[^)]*)/, /^(?:click[\\s]+)/, /^(?:[\\s\\n])/, /^(?:[^\\s\\n]*)/, /^(?:graph\\b)/, /^(?:flowchart\\b)/, /^(?:subgraph\\b)/, /^(?:end\\b\\s*)/, /^(?:_self\\b)/, /^(?:_blank\\b)/, /^(?:_parent\\b)/, /^(?:_top\\b)/, /^(?:(\\r?\\n)*\\s*\\n)/, /^(?:\\s*LR\\b)/, /^(?:\\s*RL\\b)/, /^(?:\\s*TB\\b)/, /^(?:\\s*BT\\b)/, /^(?:\\s*TD\\b)/, /^(?:\\s*BR\\b)/, /^(?:\\s*<)/, /^(?:\\s*>)/, /^(?:\\s*\\^)/, /^(?:\\s*v\\b)/, /^(?:.*direction\\s+TB[^\\n]*)/, /^(?:.*direction\\s+BT[^\\n]*)/, /^(?:.*direction\\s+RL[^\\n]*)/, /^(?:.*direction\\s+LR[^\\n]*)/, /^(?:[0-9]+)/, /^(?:#)/, /^(?::::)/, /^(?::)/, /^(?:&)/, /^(?:;)/, /^(?:,)/, /^(?:\\*)/, /^(?:\\s*[xo<]?--+[-xo>]\\s*)/, /^(?:\\s*[xo<]?==+[=xo>]\\s*)/, /^(?:\\s*[xo<]?-?\\.+-[xo>]?\\s*)/, /^(?:\\s*[xo<]?--\\s*)/, /^(?:\\s*[xo<]?==\\s*)/, /^(?:\\s*[xo<]?-\\.\\s*)/, /^(?:\\(-)/, /^(?:-\\))/, /^(?:\\(\\[)/, /^(?:\\]\\))/, /^(?:\\[\\[)/, /^(?:\\]\\])/, /^(?:\\[\\|)/, /^(?:\\[\\()/, /^(?:\\)\\])/, /^(?:-)/, /^(?:\\.)/, /^(?:[\\_])/, /^(?:\\+)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:<)/, /^(?:>)/, /^(?:\\^)/, /^(?:\\\\\\|)/, /^(?:v\\b)/, /^(?:[A-Za-z]+)/, /^(?:\\\\\\])/, /^(?:\\[\\/)/, /^(?:\\/\\])/, /^(?:\\[\\\\)/, /^(?:[!\"#$%&'*+,-.`?\\\\_/])/, /^(?:[\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6]|[\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377]|[\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5]|[\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA]|[\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE]|[\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA]|[\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0]|[\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977]|[\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2]|[\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A]|[\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39]|[\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8]|[\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C]|[\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C]|[\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99]|[\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0]|[\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D]|[\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3]|[\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10]|[\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1]|[\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81]|[\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3]|[\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6]|[\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A]|[\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081]|[\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D]|[\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0]|[\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310]|[\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C]|[\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711]|[\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7]|[\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C]|[\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16]|[\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF]|[\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC]|[\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D]|[\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D]|[\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3]|[\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F]|[\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128]|[\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184]|[\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3]|[\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6]|[\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE]|[\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C]|[\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D]|[\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC]|[\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B]|[\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788]|[\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805]|[\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB]|[\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28]|[\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5]|[\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4]|[\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E]|[\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D]|[\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36]|[\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D]|[\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC]|[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF]|[\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])/, /^(?:\\|)/, /^(?:\\()/, /^(?:\\))/, /^(?:\\[)/, /^(?:\\])/, /^(?:\\{)/, /^(?:\\})/, /^(?:\")/, /^(?:(\\r?\\n)+)/, /^(?:\\s)/, /^(?:$)/],\n              conditions: {\n                \"close_directive\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"arg_directive\": {\n                  \"rules\": [3, 4],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [2, 3],\n                  \"inclusive\": false\n                },\n                \"open_directive\": {\n                  \"rules\": [1],\n                  \"inclusive\": false\n                },\n                \"callbackargs\": {\n                  \"rules\": [23, 24],\n                  \"inclusive\": false\n                },\n                \"callbackname\": {\n                  \"rules\": [20, 21, 22],\n                  \"inclusive\": false\n                },\n                \"href\": {\n                  \"rules\": [17, 18],\n                  \"inclusive\": false\n                },\n                \"click\": {\n                  \"rules\": [26, 27],\n                  \"inclusive\": false\n                },\n                \"vertex\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"dir\": {\n                  \"rules\": [36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46],\n                  \"inclusive\": false\n                },\n                \"string\": {\n                  \"rules\": [8, 9],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 19, 25, 28, 29, 30, 31, 32, 33, 34, 35, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?dbae\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/gantt/parser/gantt.jison\": (\n      /*!***********************************************!*\\\n        !*** ./src/diagrams/gantt/parser/gantt.jison ***!\n        \\***********************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 3],\n            $V1 = [1, 5],\n            $V2 = [7, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 22, 29, 34],\n            $V3 = [1, 15],\n            $V4 = [1, 16],\n            $V5 = [1, 17],\n            $V6 = [1, 18],\n            $V7 = [1, 19],\n            $V8 = [1, 20],\n            $V9 = [1, 21],\n            $Va = [1, 22],\n            $Vb = [1, 23],\n            $Vc = [1, 25],\n            $Vd = [1, 27],\n            $Ve = [1, 30],\n            $Vf = [5, 7, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 22, 29, 34];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"directive\": 4,\n              \"gantt\": 5,\n              \"document\": 6,\n              \"EOF\": 7,\n              \"line\": 8,\n              \"SPACE\": 9,\n              \"statement\": 10,\n              \"NL\": 11,\n              \"dateFormat\": 12,\n              \"inclusiveEndDates\": 13,\n              \"topAxis\": 14,\n              \"axisFormat\": 15,\n              \"excludes\": 16,\n              \"includes\": 17,\n              \"todayMarker\": 18,\n              \"title\": 19,\n              \"section\": 20,\n              \"clickStatement\": 21,\n              \"taskTxt\": 22,\n              \"taskData\": 23,\n              \"openDirective\": 24,\n              \"typeDirective\": 25,\n              \"closeDirective\": 26,\n              \":\": 27,\n              \"argDirective\": 28,\n              \"click\": 29,\n              \"callbackname\": 30,\n              \"callbackargs\": 31,\n              \"href\": 32,\n              \"clickStatementDebug\": 33,\n              \"open_directive\": 34,\n              \"type_directive\": 35,\n              \"arg_directive\": 36,\n              \"close_directive\": 37,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              5: \"gantt\",\n              7: \"EOF\",\n              9: \"SPACE\",\n              11: \"NL\",\n              12: \"dateFormat\",\n              13: \"inclusiveEndDates\",\n              14: \"topAxis\",\n              15: \"axisFormat\",\n              16: \"excludes\",\n              17: \"includes\",\n              18: \"todayMarker\",\n              19: \"title\",\n              20: \"section\",\n              22: \"taskTxt\",\n              23: \"taskData\",\n              27: \":\",\n              29: \"click\",\n              30: \"callbackname\",\n              31: \"callbackargs\",\n              32: \"href\",\n              34: \"open_directive\",\n              35: \"type_directive\",\n              36: \"arg_directive\",\n              37: \"close_directive\"\n            },\n            productions_: [0, [3, 2], [3, 3], [6, 0], [6, 2], [8, 2], [8, 1], [8, 1], [8, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 2], [10, 1], [4, 4], [4, 6], [21, 2], [21, 3], [21, 3], [21, 4], [21, 3], [21, 4], [21, 2], [33, 2], [33, 3], [33, 3], [33, 4], [33, 3], [33, 4], [33, 2], [24, 1], [25, 1], [28, 1], [26, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 2:\n                  return $$[$0 - 1];\n                  break;\n                case 3:\n                  this.$ = [];\n                  break;\n                case 4:\n                  $$[$0 - 1].push($$[$0]);\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 5:\n                case 6:\n                  this.$ = $$[$0];\n                  break;\n                case 7:\n                case 8:\n                  this.$ = [];\n                  break;\n                case 9:\n                  yy.setDateFormat($$[$0].substr(11));\n                  this.$ = $$[$0].substr(11);\n                  break;\n                case 10:\n                  yy.enableInclusiveEndDates();\n                  this.$ = $$[$0].substr(18);\n                  break;\n                case 11:\n                  yy.TopAxis();\n                  this.$ = $$[$0].substr(8);\n                  break;\n                case 12:\n                  yy.setAxisFormat($$[$0].substr(11));\n                  this.$ = $$[$0].substr(11);\n                  break;\n                case 13:\n                  yy.setExcludes($$[$0].substr(9));\n                  this.$ = $$[$0].substr(9);\n                  break;\n                case 14:\n                  yy.setIncludes($$[$0].substr(9));\n                  this.$ = $$[$0].substr(9);\n                  break;\n                case 15:\n                  yy.setTodayMarker($$[$0].substr(12));\n                  this.$ = $$[$0].substr(12);\n                  break;\n                case 16:\n                  yy.setTitle($$[$0].substr(6));\n                  this.$ = $$[$0].substr(6);\n                  break;\n                case 17:\n                  yy.addSection($$[$0].substr(8));\n                  this.$ = $$[$0].substr(8);\n                  break;\n                case 19:\n                  yy.addTask($$[$0 - 1], $$[$0]);\n                  this.$ = 'task';\n                  break;\n                case 23:\n                  this.$ = $$[$0 - 1];\n                  yy.setClickEvent($$[$0 - 1], $$[$0], null);\n                  break;\n                case 24:\n                  this.$ = $$[$0 - 2];\n                  yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);\n                  break;\n                case 25:\n                  this.$ = $$[$0 - 2];\n                  yy.setClickEvent($$[$0 - 2], $$[$0 - 1], null);\n                  yy.setLink($$[$0 - 2], $$[$0]);\n                  break;\n                case 26:\n                  this.$ = $$[$0 - 3];\n                  yy.setClickEvent($$[$0 - 3], $$[$0 - 2], $$[$0 - 1]);\n                  yy.setLink($$[$0 - 3], $$[$0]);\n                  break;\n                case 27:\n                  this.$ = $$[$0 - 2];\n                  yy.setClickEvent($$[$0 - 2], $$[$0], null);\n                  yy.setLink($$[$0 - 2], $$[$0 - 1]);\n                  break;\n                case 28:\n                  this.$ = $$[$0 - 3];\n                  yy.setClickEvent($$[$0 - 3], $$[$0 - 1], $$[$0]);\n                  yy.setLink($$[$0 - 3], $$[$0 - 2]);\n                  break;\n                case 29:\n                  this.$ = $$[$0 - 1];\n                  yy.setLink($$[$0 - 1], $$[$0]);\n                  break;\n                case 30:\n                case 36:\n                  this.$ = $$[$0 - 1] + ' ' + $$[$0];\n                  break;\n                case 31:\n                case 32:\n                case 34:\n                  this.$ = $$[$0 - 2] + ' ' + $$[$0 - 1] + ' ' + $$[$0];\n                  break;\n                case 33:\n                case 35:\n                  this.$ = $$[$0 - 3] + ' ' + $$[$0 - 2] + ' ' + $$[$0 - 1] + ' ' + $$[$0];\n                  break;\n                case 37:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 38:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 39:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 40:\n                  yy.parseDirective('}%%', 'close_directive', 'gantt');\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: 2,\n              5: $V0,\n              24: 4,\n              34: $V1\n            }, {\n              1: [3]\n            }, {\n              3: 6,\n              4: 2,\n              5: $V0,\n              24: 4,\n              34: $V1\n            }, o($V2, [2, 3], {\n              6: 7\n            }), {\n              25: 8,\n              35: [1, 9]\n            }, {\n              35: [2, 37]\n            }, {\n              1: [2, 1]\n            }, {\n              4: 26,\n              7: [1, 10],\n              8: 11,\n              9: [1, 12],\n              10: 13,\n              11: [1, 14],\n              12: $V3,\n              13: $V4,\n              14: $V5,\n              15: $V6,\n              16: $V7,\n              17: $V8,\n              18: $V9,\n              19: $Va,\n              20: $Vb,\n              21: 24,\n              22: $Vc,\n              24: 4,\n              29: $Vd,\n              34: $V1\n            }, {\n              26: 28,\n              27: [1, 29],\n              37: $Ve\n            }, o([27, 37], [2, 38]), o($V2, [2, 8], {\n              1: [2, 2]\n            }), o($V2, [2, 4]), {\n              4: 26,\n              10: 31,\n              12: $V3,\n              13: $V4,\n              14: $V5,\n              15: $V6,\n              16: $V7,\n              17: $V8,\n              18: $V9,\n              19: $Va,\n              20: $Vb,\n              21: 24,\n              22: $Vc,\n              24: 4,\n              29: $Vd,\n              34: $V1\n            }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 9]), o($V2, [2, 10]), o($V2, [2, 11]), o($V2, [2, 12]), o($V2, [2, 13]), o($V2, [2, 14]), o($V2, [2, 15]), o($V2, [2, 16]), o($V2, [2, 17]), o($V2, [2, 18]), {\n              23: [1, 32]\n            }, o($V2, [2, 20]), {\n              30: [1, 33],\n              32: [1, 34]\n            }, {\n              11: [1, 35]\n            }, {\n              28: 36,\n              36: [1, 37]\n            }, {\n              11: [2, 40]\n            }, o($V2, [2, 5]), o($V2, [2, 19]), o($V2, [2, 23], {\n              31: [1, 38],\n              32: [1, 39]\n            }), o($V2, [2, 29], {\n              30: [1, 40]\n            }), o($Vf, [2, 21]), {\n              26: 41,\n              37: $Ve\n            }, {\n              37: [2, 39]\n            }, o($V2, [2, 24], {\n              32: [1, 42]\n            }), o($V2, [2, 25]), o($V2, [2, 27], {\n              31: [1, 43]\n            }), {\n              11: [1, 44]\n            }, o($V2, [2, 26]), o($V2, [2, 28]), o($Vf, [2, 22])],\n            defaultActions: {\n              5: [2, 37],\n              6: [2, 1],\n              30: [2, 40],\n              37: [2, 39]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    this.begin('open_directive');\n                    return 34;\n                    break;\n                  case 1:\n                    this.begin('type_directive');\n                    return 35;\n                    break;\n                  case 2:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 27;\n                    break;\n                  case 3:\n                    this.popState();\n                    this.popState();\n                    return 37;\n                    break;\n                  case 4:\n                    return 36;\n                    break;\n                  case 5:\n                    /* skip comments */\n                    break;\n                  case 6:\n                    /* skip comments */\n                    break;\n                  case 7:\n                    /* do nothing */\n                    break;\n                  case 8:\n                    return 11;\n                    break;\n                  case 9:\n                    /* skip whitespace */\n                    break;\n                  case 10:\n                    /* skip comments */\n                    break;\n                  case 11:\n                    /* skip comments */\n                    break;\n                  case 12:\n                    this.begin(\"href\");\n                    break;\n                  case 13:\n                    this.popState();\n                    break;\n                  case 14:\n                    return 32;\n                    break;\n                  case 15:\n                    this.begin(\"callbackname\");\n                    break;\n                  case 16:\n                    this.popState();\n                    break;\n                  case 17:\n                    this.popState();\n                    this.begin(\"callbackargs\");\n                    break;\n                  case 18:\n                    return 30;\n                    break;\n                  case 19:\n                    this.popState();\n                    break;\n                  case 20:\n                    return 31;\n                    break;\n                  case 21:\n                    this.begin(\"click\");\n                    break;\n                  case 22:\n                    this.popState();\n                    break;\n                  case 23:\n                    return 29;\n                    break;\n                  case 24:\n                    return 5;\n                    break;\n                  case 25:\n                    return 12;\n                    break;\n                  case 26:\n                    return 13;\n                    break;\n                  case 27:\n                    return 14;\n                    break;\n                  case 28:\n                    return 15;\n                    break;\n                  case 29:\n                    return 17;\n                    break;\n                  case 30:\n                    return 16;\n                    break;\n                  case 31:\n                    return 18;\n                    break;\n                  case 32:\n                    return 'date';\n                    break;\n                  case 33:\n                    return 19;\n                    break;\n                  case 34:\n                    return 20;\n                    break;\n                  case 35:\n                    return 22;\n                    break;\n                  case 36:\n                    return 23;\n                    break;\n                  case 37:\n                    return 27;\n                    break;\n                  case 38:\n                    return 7;\n                    break;\n                  case 39:\n                    return 'INVALID';\n                    break;\n                }\n              },\n              rules: [/^(?:%%\\{)/i, /^(?:((?:(?!\\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\\}%%)/i, /^(?:((?:(?!\\}%%).|\\n)*))/i, /^(?:%%(?!\\{)*[^\\n]*)/i, /^(?:[^\\}]%%*[^\\n]*)/i, /^(?:%%*[^\\n]*[\\n]*)/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:#[^\\n]*)/i, /^(?:%[^\\n]*)/i, /^(?:href[\\s]+[\"])/i, /^(?:[\"])/i, /^(?:[^\"]*)/i, /^(?:call[\\s]+)/i, /^(?:\\([\\s]*\\))/i, /^(?:\\()/i, /^(?:[^(]*)/i, /^(?:\\))/i, /^(?:[^)]*)/i, /^(?:click[\\s]+)/i, /^(?:[\\s\\n])/i, /^(?:[^\\s\\n]*)/i, /^(?:gantt\\b)/i, /^(?:dateFormat\\s[^#\\n;]+)/i, /^(?:inclusiveEndDates\\b)/i, /^(?:topAxis\\b)/i, /^(?:axisFormat\\s[^#\\n;]+)/i, /^(?:includes\\s[^#\\n;]+)/i, /^(?:excludes\\s[^#\\n;]+)/i, /^(?:todayMarker\\s[^\\n;]+)/i, /^(?:\\d\\d\\d\\d-\\d\\d-\\d\\d\\b)/i, /^(?:title\\s[^#\\n;]+)/i, /^(?:section\\s[^#:\\n;]+)/i, /^(?:[^#:\\n;]+)/i, /^(?::[^#\\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i],\n              conditions: {\n                \"close_directive\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"arg_directive\": {\n                  \"rules\": [3, 4],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [2, 3],\n                  \"inclusive\": false\n                },\n                \"open_directive\": {\n                  \"rules\": [1],\n                  \"inclusive\": false\n                },\n                \"callbackargs\": {\n                  \"rules\": [19, 20],\n                  \"inclusive\": false\n                },\n                \"callbackname\": {\n                  \"rules\": [16, 17, 18],\n                  \"inclusive\": false\n                },\n                \"href\": {\n                  \"rules\": [13, 14],\n                  \"inclusive\": false\n                },\n                \"click\": {\n                  \"rules\": [22, 23],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 5, 6, 7, 8, 9, 10, 11, 12, 15, 21, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?8ed1\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/git/parser/gitGraph.jison\": (\n      /*!************************************************!*\\\n        !*** ./src/diagrams/git/parser/gitGraph.jison ***!\n        \\************************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [2, 3],\n            $V1 = [1, 7],\n            $V2 = [7, 12, 15, 17, 19, 20, 21],\n            $V3 = [7, 11, 12, 15, 17, 19, 20, 21],\n            $V4 = [2, 20],\n            $V5 = [1, 32];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"GG\": 4,\n              \":\": 5,\n              \"document\": 6,\n              \"EOF\": 7,\n              \"DIR\": 8,\n              \"options\": 9,\n              \"body\": 10,\n              \"OPT\": 11,\n              \"NL\": 12,\n              \"line\": 13,\n              \"statement\": 14,\n              \"COMMIT\": 15,\n              \"commit_arg\": 16,\n              \"BRANCH\": 17,\n              \"ID\": 18,\n              \"CHECKOUT\": 19,\n              \"MERGE\": 20,\n              \"RESET\": 21,\n              \"reset_arg\": 22,\n              \"STR\": 23,\n              \"HEAD\": 24,\n              \"reset_parents\": 25,\n              \"CARET\": 26,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              4: \"GG\",\n              5: \":\",\n              7: \"EOF\",\n              8: \"DIR\",\n              11: \"OPT\",\n              12: \"NL\",\n              15: \"COMMIT\",\n              17: \"BRANCH\",\n              18: \"ID\",\n              19: \"CHECKOUT\",\n              20: \"MERGE\",\n              21: \"RESET\",\n              23: \"STR\",\n              24: \"HEAD\",\n              26: \"CARET\"\n            },\n            productions_: [0, [3, 4], [3, 5], [6, 0], [6, 2], [9, 2], [9, 1], [10, 0], [10, 2], [13, 2], [13, 1], [14, 2], [14, 2], [14, 2], [14, 2], [14, 2], [16, 0], [16, 1], [22, 2], [22, 2], [25, 0], [25, 2]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 1:\n                  return $$[$0 - 1];\n                  break;\n                case 2:\n                  yy.setDirection($$[$0 - 3]);\n                  return $$[$0 - 1];\n                  break;\n                case 4:\n                  yy.setOptions($$[$0 - 1]);\n                  this.$ = $$[$0];\n                  break;\n                case 5:\n                  $$[$0 - 1] += $$[$0];\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 7:\n                  this.$ = [];\n                  break;\n                case 8:\n                  $$[$0 - 1].push($$[$0]);\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 9:\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 11:\n                  yy.commit($$[$0]);\n                  break;\n                case 12:\n                  yy.branch($$[$0]);\n                  break;\n                case 13:\n                  yy.checkout($$[$0]);\n                  break;\n                case 14:\n                  yy.merge($$[$0]);\n                  break;\n                case 15:\n                  yy.reset($$[$0]);\n                  break;\n                case 16:\n                  this.$ = \"\";\n                  break;\n                case 17:\n                  this.$ = $$[$0];\n                  break;\n                case 18:\n                  this.$ = $$[$0 - 1] + \":\" + $$[$0];\n                  break;\n                case 19:\n                  this.$ = $$[$0 - 1] + \":\" + yy.count;\n                  yy.count = 0;\n                  break;\n                case 20:\n                  yy.count = 0;\n                  break;\n                case 21:\n                  yy.count += 1;\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: [1, 2]\n            }, {\n              1: [3]\n            }, {\n              5: [1, 3],\n              8: [1, 4]\n            }, {\n              6: 5,\n              7: $V0,\n              9: 6,\n              12: $V1\n            }, {\n              5: [1, 8]\n            }, {\n              7: [1, 9]\n            }, o($V2, [2, 7], {\n              10: 10,\n              11: [1, 11]\n            }), o($V3, [2, 6]), {\n              6: 12,\n              7: $V0,\n              9: 6,\n              12: $V1\n            }, {\n              1: [2, 1]\n            }, {\n              7: [2, 4],\n              12: [1, 15],\n              13: 13,\n              14: 14,\n              15: [1, 16],\n              17: [1, 17],\n              19: [1, 18],\n              20: [1, 19],\n              21: [1, 20]\n            }, o($V3, [2, 5]), {\n              7: [1, 21]\n            }, o($V2, [2, 8]), {\n              12: [1, 22]\n            }, o($V2, [2, 10]), {\n              12: [2, 16],\n              16: 23,\n              23: [1, 24]\n            }, {\n              18: [1, 25]\n            }, {\n              18: [1, 26]\n            }, {\n              18: [1, 27]\n            }, {\n              18: [1, 30],\n              22: 28,\n              24: [1, 29]\n            }, {\n              1: [2, 2]\n            }, o($V2, [2, 9]), {\n              12: [2, 11]\n            }, {\n              12: [2, 17]\n            }, {\n              12: [2, 12]\n            }, {\n              12: [2, 13]\n            }, {\n              12: [2, 14]\n            }, {\n              12: [2, 15]\n            }, {\n              12: $V4,\n              25: 31,\n              26: $V5\n            }, {\n              12: $V4,\n              25: 33,\n              26: $V5\n            }, {\n              12: [2, 18]\n            }, {\n              12: $V4,\n              25: 34,\n              26: $V5\n            }, {\n              12: [2, 19]\n            }, {\n              12: [2, 21]\n            }],\n            defaultActions: {\n              9: [2, 1],\n              21: [2, 2],\n              23: [2, 11],\n              24: [2, 17],\n              25: [2, 12],\n              26: [2, 13],\n              27: [2, 14],\n              28: [2, 15],\n              31: [2, 18],\n              33: [2, 19],\n              34: [2, 21]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    return 12;\n                    break;\n                  case 1:\n                    /* skip all whitespace */\n                    break;\n                  case 2:\n                    /* skip comments */\n                    break;\n                  case 3:\n                    /* skip comments */\n                    break;\n                  case 4:\n                    return 4;\n                    break;\n                  case 5:\n                    return 15;\n                    break;\n                  case 6:\n                    return 17;\n                    break;\n                  case 7:\n                    return 20;\n                    break;\n                  case 8:\n                    return 21;\n                    break;\n                  case 9:\n                    return 19;\n                    break;\n                  case 10:\n                    return 8;\n                    break;\n                  case 11:\n                    return 8;\n                    break;\n                  case 12:\n                    return 5;\n                    break;\n                  case 13:\n                    return 26;\n                    break;\n                  case 14:\n                    this.begin(\"options\");\n                    break;\n                  case 15:\n                    this.popState();\n                    break;\n                  case 16:\n                    return 11;\n                    break;\n                  case 17:\n                    this.begin(\"string\");\n                    break;\n                  case 18:\n                    this.popState();\n                    break;\n                  case 19:\n                    return 23;\n                    break;\n                  case 20:\n                    return 18;\n                    break;\n                  case 21:\n                    return 7;\n                    break;\n                }\n              },\n              rules: [/^(?:(\\r?\\n)+)/i, /^(?:\\s+)/i, /^(?:#[^\\n]*)/i, /^(?:%[^\\n]*)/i, /^(?:gitGraph\\b)/i, /^(?:commit\\b)/i, /^(?:branch\\b)/i, /^(?:merge\\b)/i, /^(?:reset\\b)/i, /^(?:checkout\\b)/i, /^(?:LR\\b)/i, /^(?:BT\\b)/i, /^(?::)/i, /^(?:\\^)/i, /^(?:options\\r?\\n)/i, /^(?:end\\r?\\n)/i, /^(?:[^\\n]+\\r?\\n)/i, /^(?:[\"])/i, /^(?:[\"])/i, /^(?:[^\"]*)/i, /^(?:[a-zA-Z][-_\\.a-zA-Z0-9]*[-_a-zA-Z0-9])/i, /^(?:$)/i],\n              conditions: {\n                \"options\": {\n                  \"rules\": [15, 16],\n                  \"inclusive\": false\n                },\n                \"string\": {\n                  \"rules\": [18, 19],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 17, 20, 21],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?2b40\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/info/parser/info.jison\": (\n      /*!*********************************************!*\\\n        !*** ./src/diagrams/info/parser/info.jison ***!\n        \\*********************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [6, 9, 10];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"info\": 4,\n              \"document\": 5,\n              \"EOF\": 6,\n              \"line\": 7,\n              \"statement\": 8,\n              \"NL\": 9,\n              \"showInfo\": 10,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              4: \"info\",\n              6: \"EOF\",\n              9: \"NL\",\n              10: \"showInfo\"\n            },\n            productions_: [0, [3, 3], [5, 0], [5, 2], [7, 1], [7, 1], [8, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 1:\n                  return yy;\n                  break;\n                case 4:\n                  break;\n                case 6:\n                  yy.setInfo(true);\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: [1, 2]\n            }, {\n              1: [3]\n            }, o($V0, [2, 2], {\n              5: 3\n            }), {\n              6: [1, 4],\n              7: 5,\n              8: 6,\n              9: [1, 7],\n              10: [1, 8]\n            }, {\n              1: [2, 1]\n            }, o($V0, [2, 3]), o($V0, [2, 4]), o($V0, [2, 5]), o($V0, [2, 6])],\n            defaultActions: {\n              4: [2, 1]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                // Pre-lexer code can go here\n\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    return 4;\n                    break;\n                  case 1:\n                    return 9;\n                    break;\n                  case 2:\n                    return 'space';\n                    break;\n                  case 3:\n                    return 10;\n                    break;\n                  case 4:\n                    return 6;\n                    break;\n                  case 5:\n                    return 'TXT';\n                    break;\n                }\n              },\n              rules: [/^(?:info\\b)/i, /^(?:[\\s\\n\\r]+)/i, /^(?:[\\s]+)/i, /^(?:showInfo\\b)/i, /^(?:$)/i, /^(?:.)/i],\n              conditions: {\n                \"INITIAL\": {\n                  \"rules\": [0, 1, 2, 3, 4, 5],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?c5f1\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/pie/parser/pie.jison\": (\n      /*!*******************************************!*\\\n        !*** ./src/diagrams/pie/parser/pie.jison ***!\n        \\*******************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 4],\n            $V1 = [1, 5],\n            $V2 = [1, 6],\n            $V3 = [1, 7],\n            $V4 = [1, 9],\n            $V5 = [1, 11, 13, 20, 21, 22, 23],\n            $V6 = [2, 5],\n            $V7 = [1, 6, 11, 13, 20, 21, 22, 23],\n            $V8 = [20, 21, 22],\n            $V9 = [2, 8],\n            $Va = [1, 18],\n            $Vb = [1, 19],\n            $Vc = [1, 24],\n            $Vd = [6, 20, 21, 22, 23];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"eol\": 4,\n              \"directive\": 5,\n              \"PIE\": 6,\n              \"document\": 7,\n              \"showData\": 8,\n              \"line\": 9,\n              \"statement\": 10,\n              \"txt\": 11,\n              \"value\": 12,\n              \"title\": 13,\n              \"title_value\": 14,\n              \"openDirective\": 15,\n              \"typeDirective\": 16,\n              \"closeDirective\": 17,\n              \":\": 18,\n              \"argDirective\": 19,\n              \"NEWLINE\": 20,\n              \";\": 21,\n              \"EOF\": 22,\n              \"open_directive\": 23,\n              \"type_directive\": 24,\n              \"arg_directive\": 25,\n              \"close_directive\": 26,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              6: \"PIE\",\n              8: \"showData\",\n              11: \"txt\",\n              12: \"value\",\n              13: \"title\",\n              14: \"title_value\",\n              18: \":\",\n              20: \"NEWLINE\",\n              21: \";\",\n              22: \"EOF\",\n              23: \"open_directive\",\n              24: \"type_directive\",\n              25: \"arg_directive\",\n              26: \"close_directive\"\n            },\n            productions_: [0, [3, 2], [3, 2], [3, 2], [3, 3], [7, 0], [7, 2], [9, 2], [10, 0], [10, 2], [10, 2], [10, 1], [5, 3], [5, 5], [4, 1], [4, 1], [4, 1], [15, 1], [16, 1], [19, 1], [17, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 4:\n                  yy.setShowData(true);\n                  break;\n                case 7:\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 9:\n                  yy.addSection($$[$0 - 1], yy.cleanupValue($$[$0]));\n                  break;\n                case 10:\n                  this.$ = $$[$0].trim();\n                  yy.setTitle(this.$);\n                  break;\n                case 17:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 18:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 19:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 20:\n                  yy.parseDirective('}%%', 'close_directive', 'pie');\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: 2,\n              5: 3,\n              6: $V0,\n              15: 8,\n              20: $V1,\n              21: $V2,\n              22: $V3,\n              23: $V4\n            }, {\n              1: [3]\n            }, {\n              3: 10,\n              4: 2,\n              5: 3,\n              6: $V0,\n              15: 8,\n              20: $V1,\n              21: $V2,\n              22: $V3,\n              23: $V4\n            }, {\n              3: 11,\n              4: 2,\n              5: 3,\n              6: $V0,\n              15: 8,\n              20: $V1,\n              21: $V2,\n              22: $V3,\n              23: $V4\n            }, o($V5, $V6, {\n              7: 12,\n              8: [1, 13]\n            }), o($V7, [2, 14]), o($V7, [2, 15]), o($V7, [2, 16]), {\n              16: 14,\n              24: [1, 15]\n            }, {\n              24: [2, 17]\n            }, {\n              1: [2, 1]\n            }, {\n              1: [2, 2]\n            }, o($V8, $V9, {\n              15: 8,\n              9: 16,\n              10: 17,\n              5: 20,\n              1: [2, 3],\n              11: $Va,\n              13: $Vb,\n              23: $V4\n            }), o($V5, $V6, {\n              7: 21\n            }), {\n              17: 22,\n              18: [1, 23],\n              26: $Vc\n            }, o([18, 26], [2, 18]), o($V5, [2, 6]), {\n              4: 25,\n              20: $V1,\n              21: $V2,\n              22: $V3\n            }, {\n              12: [1, 26]\n            }, {\n              14: [1, 27]\n            }, o($V8, [2, 11]), o($V8, $V9, {\n              15: 8,\n              9: 16,\n              10: 17,\n              5: 20,\n              1: [2, 4],\n              11: $Va,\n              13: $Vb,\n              23: $V4\n            }), o($Vd, [2, 12]), {\n              19: 28,\n              25: [1, 29]\n            }, o($Vd, [2, 20]), o($V5, [2, 7]), o($V8, [2, 9]), o($V8, [2, 10]), {\n              17: 30,\n              26: $Vc\n            }, {\n              26: [2, 19]\n            }, o($Vd, [2, 13])],\n            defaultActions: {\n              9: [2, 17],\n              10: [2, 1],\n              11: [2, 2],\n              29: [2, 19]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    this.begin('open_directive');\n                    return 23;\n                    break;\n                  case 1:\n                    this.begin('type_directive');\n                    return 24;\n                    break;\n                  case 2:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 18;\n                    break;\n                  case 3:\n                    this.popState();\n                    this.popState();\n                    return 26;\n                    break;\n                  case 4:\n                    return 25;\n                    break;\n                  case 5:\n                    /* skip comments */\n                    break;\n                  case 6:\n                    /* skip comments */{/*console.log('');*/}\n                    break;\n                  case 7:\n                    return 20;\n                    break;\n                  case 8:\n                    /* do nothing */\n                    break;\n                  case 9:\n                    /* ignore */\n                    break;\n                  case 10:\n                    this.begin(\"title\");\n                    return 13;\n                    break;\n                  case 11:\n                    this.popState();\n                    return \"title_value\";\n                    break;\n                  case 12:\n                    this.begin(\"string\");\n                    break;\n                  case 13:\n                    this.popState();\n                    break;\n                  case 14:\n                    return \"txt\";\n                    break;\n                  case 15:\n                    return 6;\n                    break;\n                  case 16:\n                    return 8;\n                    break;\n                  case 17:\n                    return \"value\";\n                    break;\n                  case 18:\n                    return 22;\n                    break;\n                }\n              },\n              rules: [/^(?:%%\\{)/i, /^(?:((?:(?!\\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\\}%%)/i, /^(?:((?:(?!\\}%%).|\\n)*))/i, /^(?:%%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n\\r]+)/i, /^(?:%%[^\\n]*)/i, /^(?:[\\s]+)/i, /^(?:title\\b)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:[\"])/i, /^(?:[\"])/i, /^(?:[^\"]*)/i, /^(?:pie\\b)/i, /^(?:showData\\b)/i, /^(?::[\\s]*[\\d]+(?:\\.[\\d]+)?)/i, /^(?:$)/i],\n              conditions: {\n                \"close_directive\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"arg_directive\": {\n                  \"rules\": [3, 4],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [2, 3],\n                  \"inclusive\": false\n                },\n                \"open_directive\": {\n                  \"rules\": [1],\n                  \"inclusive\": false\n                },\n                \"title\": {\n                  \"rules\": [11],\n                  \"inclusive\": false\n                },\n                \"string\": {\n                  \"rules\": [13, 14],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 5, 6, 7, 8, 9, 10, 12, 15, 16, 17, 18],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?a3fa\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/requirement/parser/requirementDiagram.jison\": (\n      /*!******************************************************************!*\\\n        !*** ./src/diagrams/requirement/parser/requirementDiagram.jison ***!\n        \\******************************************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 3],\n            $V1 = [1, 5],\n            $V2 = [1, 17],\n            $V3 = [2, 10],\n            $V4 = [1, 21],\n            $V5 = [1, 22],\n            $V6 = [1, 23],\n            $V7 = [1, 24],\n            $V8 = [1, 25],\n            $V9 = [1, 26],\n            $Va = [1, 19],\n            $Vb = [1, 27],\n            $Vc = [1, 28],\n            $Vd = [1, 31],\n            $Ve = [66, 67],\n            $Vf = [5, 8, 14, 35, 36, 37, 38, 39, 40, 48, 55, 57, 66, 67],\n            $Vg = [5, 6, 8, 14, 35, 36, 37, 38, 39, 40, 48, 66, 67],\n            $Vh = [1, 51],\n            $Vi = [1, 52],\n            $Vj = [1, 53],\n            $Vk = [1, 54],\n            $Vl = [1, 55],\n            $Vm = [1, 56],\n            $Vn = [1, 57],\n            $Vo = [57, 58],\n            $Vp = [1, 69],\n            $Vq = [1, 65],\n            $Vr = [1, 66],\n            $Vs = [1, 67],\n            $Vt = [1, 68],\n            $Vu = [1, 70],\n            $Vv = [1, 74],\n            $Vw = [1, 75],\n            $Vx = [1, 72],\n            $Vy = [1, 73],\n            $Vz = [5, 8, 14, 35, 36, 37, 38, 39, 40, 48, 66, 67];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"directive\": 4,\n              \"NEWLINE\": 5,\n              \"RD\": 6,\n              \"diagram\": 7,\n              \"EOF\": 8,\n              \"openDirective\": 9,\n              \"typeDirective\": 10,\n              \"closeDirective\": 11,\n              \":\": 12,\n              \"argDirective\": 13,\n              \"open_directive\": 14,\n              \"type_directive\": 15,\n              \"arg_directive\": 16,\n              \"close_directive\": 17,\n              \"requirementDef\": 18,\n              \"elementDef\": 19,\n              \"relationshipDef\": 20,\n              \"requirementType\": 21,\n              \"requirementName\": 22,\n              \"STRUCT_START\": 23,\n              \"requirementBody\": 24,\n              \"ID\": 25,\n              \"COLONSEP\": 26,\n              \"id\": 27,\n              \"TEXT\": 28,\n              \"text\": 29,\n              \"RISK\": 30,\n              \"riskLevel\": 31,\n              \"VERIFYMTHD\": 32,\n              \"verifyType\": 33,\n              \"STRUCT_STOP\": 34,\n              \"REQUIREMENT\": 35,\n              \"FUNCTIONAL_REQUIREMENT\": 36,\n              \"INTERFACE_REQUIREMENT\": 37,\n              \"PERFORMANCE_REQUIREMENT\": 38,\n              \"PHYSICAL_REQUIREMENT\": 39,\n              \"DESIGN_CONSTRAINT\": 40,\n              \"LOW_RISK\": 41,\n              \"MED_RISK\": 42,\n              \"HIGH_RISK\": 43,\n              \"VERIFY_ANALYSIS\": 44,\n              \"VERIFY_DEMONSTRATION\": 45,\n              \"VERIFY_INSPECTION\": 46,\n              \"VERIFY_TEST\": 47,\n              \"ELEMENT\": 48,\n              \"elementName\": 49,\n              \"elementBody\": 50,\n              \"TYPE\": 51,\n              \"type\": 52,\n              \"DOCREF\": 53,\n              \"ref\": 54,\n              \"END_ARROW_L\": 55,\n              \"relationship\": 56,\n              \"LINE\": 57,\n              \"END_ARROW_R\": 58,\n              \"CONTAINS\": 59,\n              \"COPIES\": 60,\n              \"DERIVES\": 61,\n              \"SATISFIES\": 62,\n              \"VERIFIES\": 63,\n              \"REFINES\": 64,\n              \"TRACES\": 65,\n              \"unqString\": 66,\n              \"qString\": 67,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              5: \"NEWLINE\",\n              6: \"RD\",\n              8: \"EOF\",\n              12: \":\",\n              14: \"open_directive\",\n              15: \"type_directive\",\n              16: \"arg_directive\",\n              17: \"close_directive\",\n              23: \"STRUCT_START\",\n              25: \"ID\",\n              26: \"COLONSEP\",\n              28: \"TEXT\",\n              30: \"RISK\",\n              32: \"VERIFYMTHD\",\n              34: \"STRUCT_STOP\",\n              35: \"REQUIREMENT\",\n              36: \"FUNCTIONAL_REQUIREMENT\",\n              37: \"INTERFACE_REQUIREMENT\",\n              38: \"PERFORMANCE_REQUIREMENT\",\n              39: \"PHYSICAL_REQUIREMENT\",\n              40: \"DESIGN_CONSTRAINT\",\n              41: \"LOW_RISK\",\n              42: \"MED_RISK\",\n              43: \"HIGH_RISK\",\n              44: \"VERIFY_ANALYSIS\",\n              45: \"VERIFY_DEMONSTRATION\",\n              46: \"VERIFY_INSPECTION\",\n              47: \"VERIFY_TEST\",\n              48: \"ELEMENT\",\n              51: \"TYPE\",\n              53: \"DOCREF\",\n              55: \"END_ARROW_L\",\n              57: \"LINE\",\n              58: \"END_ARROW_R\",\n              59: \"CONTAINS\",\n              60: \"COPIES\",\n              61: \"DERIVES\",\n              62: \"SATISFIES\",\n              63: \"VERIFIES\",\n              64: \"REFINES\",\n              65: \"TRACES\",\n              66: \"unqString\",\n              67: \"qString\"\n            },\n            productions_: [0, [3, 3], [3, 2], [3, 4], [4, 3], [4, 5], [9, 1], [10, 1], [13, 1], [11, 1], [7, 0], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [18, 5], [24, 5], [24, 5], [24, 5], [24, 5], [24, 2], [24, 1], [21, 1], [21, 1], [21, 1], [21, 1], [21, 1], [21, 1], [31, 1], [31, 1], [31, 1], [33, 1], [33, 1], [33, 1], [33, 1], [19, 5], [50, 5], [50, 5], [50, 2], [50, 1], [20, 5], [20, 5], [56, 1], [56, 1], [56, 1], [56, 1], [56, 1], [56, 1], [56, 1], [22, 1], [22, 1], [27, 1], [27, 1], [29, 1], [29, 1], [49, 1], [49, 1], [52, 1], [52, 1], [54, 1], [54, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 6:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 7:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 8:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 9:\n                  yy.parseDirective('}%%', 'close_directive', 'pie');\n                  break;\n                case 10:\n                  this.$ = [];\n                  break;\n                case 16:\n                  yy.addRequirement($$[$0 - 3], $$[$0 - 4]);\n                  break;\n                case 17:\n                  yy.setNewReqId($$[$0 - 2]);\n                  break;\n                case 18:\n                  yy.setNewReqText($$[$0 - 2]);\n                  break;\n                case 19:\n                  yy.setNewReqRisk($$[$0 - 2]);\n                  break;\n                case 20:\n                  yy.setNewReqVerifyMethod($$[$0 - 2]);\n                  break;\n                case 23:\n                  this.$ = yy.RequirementType.REQUIREMENT;\n                  break;\n                case 24:\n                  this.$ = yy.RequirementType.FUNCTIONAL_REQUIREMENT;\n                  break;\n                case 25:\n                  this.$ = yy.RequirementType.INTERFACE_REQUIREMENT;\n                  break;\n                case 26:\n                  this.$ = yy.RequirementType.PERFORMANCE_REQUIREMENT;\n                  break;\n                case 27:\n                  this.$ = yy.RequirementType.PHYSICAL_REQUIREMENT;\n                  break;\n                case 28:\n                  this.$ = yy.RequirementType.DESIGN_CONSTRAINT;\n                  break;\n                case 29:\n                  this.$ = yy.RiskLevel.LOW_RISK;\n                  break;\n                case 30:\n                  this.$ = yy.RiskLevel.MED_RISK;\n                  break;\n                case 31:\n                  this.$ = yy.RiskLevel.HIGH_RISK;\n                  break;\n                case 32:\n                  this.$ = yy.VerifyType.VERIFY_ANALYSIS;\n                  break;\n                case 33:\n                  this.$ = yy.VerifyType.VERIFY_DEMONSTRATION;\n                  break;\n                case 34:\n                  this.$ = yy.VerifyType.VERIFY_INSPECTION;\n                  break;\n                case 35:\n                  this.$ = yy.VerifyType.VERIFY_TEST;\n                  break;\n                case 36:\n                  yy.addElement($$[$0 - 3]);\n                  break;\n                case 37:\n                  yy.setNewElementType($$[$0 - 2]);\n                  break;\n                case 38:\n                  yy.setNewElementDocRef($$[$0 - 2]);\n                  break;\n                case 41:\n                  yy.addRelationship($$[$0 - 2], $$[$0], $$[$0 - 4]);\n                  break;\n                case 42:\n                  yy.addRelationship($$[$0 - 2], $$[$0 - 4], $$[$0]);\n                  break;\n                case 43:\n                  this.$ = yy.Relationships.CONTAINS;\n                  break;\n                case 44:\n                  this.$ = yy.Relationships.COPIES;\n                  break;\n                case 45:\n                  this.$ = yy.Relationships.DERIVES;\n                  break;\n                case 46:\n                  this.$ = yy.Relationships.SATISFIES;\n                  break;\n                case 47:\n                  this.$ = yy.Relationships.VERIFIES;\n                  break;\n                case 48:\n                  this.$ = yy.Relationships.REFINES;\n                  break;\n                case 49:\n                  this.$ = yy.Relationships.TRACES;\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: 2,\n              6: $V0,\n              9: 4,\n              14: $V1\n            }, {\n              1: [3]\n            }, {\n              3: 7,\n              4: 2,\n              5: [1, 6],\n              6: $V0,\n              9: 4,\n              14: $V1\n            }, {\n              5: [1, 8]\n            }, {\n              10: 9,\n              15: [1, 10]\n            }, {\n              15: [2, 6]\n            }, {\n              3: 11,\n              4: 2,\n              6: $V0,\n              9: 4,\n              14: $V1\n            }, {\n              1: [2, 2]\n            }, {\n              4: 16,\n              5: $V2,\n              7: 12,\n              8: $V3,\n              9: 4,\n              14: $V1,\n              18: 13,\n              19: 14,\n              20: 15,\n              21: 18,\n              27: 20,\n              35: $V4,\n              36: $V5,\n              37: $V6,\n              38: $V7,\n              39: $V8,\n              40: $V9,\n              48: $Va,\n              66: $Vb,\n              67: $Vc\n            }, {\n              11: 29,\n              12: [1, 30],\n              17: $Vd\n            }, o([12, 17], [2, 7]), {\n              1: [2, 1]\n            }, {\n              8: [1, 32]\n            }, {\n              4: 16,\n              5: $V2,\n              7: 33,\n              8: $V3,\n              9: 4,\n              14: $V1,\n              18: 13,\n              19: 14,\n              20: 15,\n              21: 18,\n              27: 20,\n              35: $V4,\n              36: $V5,\n              37: $V6,\n              38: $V7,\n              39: $V8,\n              40: $V9,\n              48: $Va,\n              66: $Vb,\n              67: $Vc\n            }, {\n              4: 16,\n              5: $V2,\n              7: 34,\n              8: $V3,\n              9: 4,\n              14: $V1,\n              18: 13,\n              19: 14,\n              20: 15,\n              21: 18,\n              27: 20,\n              35: $V4,\n              36: $V5,\n              37: $V6,\n              38: $V7,\n              39: $V8,\n              40: $V9,\n              48: $Va,\n              66: $Vb,\n              67: $Vc\n            }, {\n              4: 16,\n              5: $V2,\n              7: 35,\n              8: $V3,\n              9: 4,\n              14: $V1,\n              18: 13,\n              19: 14,\n              20: 15,\n              21: 18,\n              27: 20,\n              35: $V4,\n              36: $V5,\n              37: $V6,\n              38: $V7,\n              39: $V8,\n              40: $V9,\n              48: $Va,\n              66: $Vb,\n              67: $Vc\n            }, {\n              4: 16,\n              5: $V2,\n              7: 36,\n              8: $V3,\n              9: 4,\n              14: $V1,\n              18: 13,\n              19: 14,\n              20: 15,\n              21: 18,\n              27: 20,\n              35: $V4,\n              36: $V5,\n              37: $V6,\n              38: $V7,\n              39: $V8,\n              40: $V9,\n              48: $Va,\n              66: $Vb,\n              67: $Vc\n            }, {\n              4: 16,\n              5: $V2,\n              7: 37,\n              8: $V3,\n              9: 4,\n              14: $V1,\n              18: 13,\n              19: 14,\n              20: 15,\n              21: 18,\n              27: 20,\n              35: $V4,\n              36: $V5,\n              37: $V6,\n              38: $V7,\n              39: $V8,\n              40: $V9,\n              48: $Va,\n              66: $Vb,\n              67: $Vc\n            }, {\n              22: 38,\n              66: [1, 39],\n              67: [1, 40]\n            }, {\n              49: 41,\n              66: [1, 42],\n              67: [1, 43]\n            }, {\n              55: [1, 44],\n              57: [1, 45]\n            }, o($Ve, [2, 23]), o($Ve, [2, 24]), o($Ve, [2, 25]), o($Ve, [2, 26]), o($Ve, [2, 27]), o($Ve, [2, 28]), o($Vf, [2, 52]), o($Vf, [2, 53]), o($Vg, [2, 4]), {\n              13: 46,\n              16: [1, 47]\n            }, o($Vg, [2, 9]), {\n              1: [2, 3]\n            }, {\n              8: [2, 11]\n            }, {\n              8: [2, 12]\n            }, {\n              8: [2, 13]\n            }, {\n              8: [2, 14]\n            }, {\n              8: [2, 15]\n            }, {\n              23: [1, 48]\n            }, {\n              23: [2, 50]\n            }, {\n              23: [2, 51]\n            }, {\n              23: [1, 49]\n            }, {\n              23: [2, 56]\n            }, {\n              23: [2, 57]\n            }, {\n              56: 50,\n              59: $Vh,\n              60: $Vi,\n              61: $Vj,\n              62: $Vk,\n              63: $Vl,\n              64: $Vm,\n              65: $Vn\n            }, {\n              56: 58,\n              59: $Vh,\n              60: $Vi,\n              61: $Vj,\n              62: $Vk,\n              63: $Vl,\n              64: $Vm,\n              65: $Vn\n            }, {\n              11: 59,\n              17: $Vd\n            }, {\n              17: [2, 8]\n            }, {\n              5: [1, 60]\n            }, {\n              5: [1, 61]\n            }, {\n              57: [1, 62]\n            }, o($Vo, [2, 43]), o($Vo, [2, 44]), o($Vo, [2, 45]), o($Vo, [2, 46]), o($Vo, [2, 47]), o($Vo, [2, 48]), o($Vo, [2, 49]), {\n              58: [1, 63]\n            }, o($Vg, [2, 5]), {\n              5: $Vp,\n              24: 64,\n              25: $Vq,\n              28: $Vr,\n              30: $Vs,\n              32: $Vt,\n              34: $Vu\n            }, {\n              5: $Vv,\n              34: $Vw,\n              50: 71,\n              51: $Vx,\n              53: $Vy\n            }, {\n              27: 76,\n              66: $Vb,\n              67: $Vc\n            }, {\n              27: 77,\n              66: $Vb,\n              67: $Vc\n            }, o($Vz, [2, 16]), {\n              26: [1, 78]\n            }, {\n              26: [1, 79]\n            }, {\n              26: [1, 80]\n            }, {\n              26: [1, 81]\n            }, {\n              5: $Vp,\n              24: 82,\n              25: $Vq,\n              28: $Vr,\n              30: $Vs,\n              32: $Vt,\n              34: $Vu\n            }, o($Vz, [2, 22]), o($Vz, [2, 36]), {\n              26: [1, 83]\n            }, {\n              26: [1, 84]\n            }, {\n              5: $Vv,\n              34: $Vw,\n              50: 85,\n              51: $Vx,\n              53: $Vy\n            }, o($Vz, [2, 40]), o($Vz, [2, 41]), o($Vz, [2, 42]), {\n              27: 86,\n              66: $Vb,\n              67: $Vc\n            }, {\n              29: 87,\n              66: [1, 88],\n              67: [1, 89]\n            }, {\n              31: 90,\n              41: [1, 91],\n              42: [1, 92],\n              43: [1, 93]\n            }, {\n              33: 94,\n              44: [1, 95],\n              45: [1, 96],\n              46: [1, 97],\n              47: [1, 98]\n            }, o($Vz, [2, 21]), {\n              52: 99,\n              66: [1, 100],\n              67: [1, 101]\n            }, {\n              54: 102,\n              66: [1, 103],\n              67: [1, 104]\n            }, o($Vz, [2, 39]), {\n              5: [1, 105]\n            }, {\n              5: [1, 106]\n            }, {\n              5: [2, 54]\n            }, {\n              5: [2, 55]\n            }, {\n              5: [1, 107]\n            }, {\n              5: [2, 29]\n            }, {\n              5: [2, 30]\n            }, {\n              5: [2, 31]\n            }, {\n              5: [1, 108]\n            }, {\n              5: [2, 32]\n            }, {\n              5: [2, 33]\n            }, {\n              5: [2, 34]\n            }, {\n              5: [2, 35]\n            }, {\n              5: [1, 109]\n            }, {\n              5: [2, 58]\n            }, {\n              5: [2, 59]\n            }, {\n              5: [1, 110]\n            }, {\n              5: [2, 60]\n            }, {\n              5: [2, 61]\n            }, {\n              5: $Vp,\n              24: 111,\n              25: $Vq,\n              28: $Vr,\n              30: $Vs,\n              32: $Vt,\n              34: $Vu\n            }, {\n              5: $Vp,\n              24: 112,\n              25: $Vq,\n              28: $Vr,\n              30: $Vs,\n              32: $Vt,\n              34: $Vu\n            }, {\n              5: $Vp,\n              24: 113,\n              25: $Vq,\n              28: $Vr,\n              30: $Vs,\n              32: $Vt,\n              34: $Vu\n            }, {\n              5: $Vp,\n              24: 114,\n              25: $Vq,\n              28: $Vr,\n              30: $Vs,\n              32: $Vt,\n              34: $Vu\n            }, {\n              5: $Vv,\n              34: $Vw,\n              50: 115,\n              51: $Vx,\n              53: $Vy\n            }, {\n              5: $Vv,\n              34: $Vw,\n              50: 116,\n              51: $Vx,\n              53: $Vy\n            }, o($Vz, [2, 17]), o($Vz, [2, 18]), o($Vz, [2, 19]), o($Vz, [2, 20]), o($Vz, [2, 37]), o($Vz, [2, 38])],\n            defaultActions: {\n              5: [2, 6],\n              7: [2, 2],\n              11: [2, 1],\n              32: [2, 3],\n              33: [2, 11],\n              34: [2, 12],\n              35: [2, 13],\n              36: [2, 14],\n              37: [2, 15],\n              39: [2, 50],\n              40: [2, 51],\n              42: [2, 56],\n              43: [2, 57],\n              47: [2, 8],\n              88: [2, 54],\n              89: [2, 55],\n              91: [2, 29],\n              92: [2, 30],\n              93: [2, 31],\n              95: [2, 32],\n              96: [2, 33],\n              97: [2, 34],\n              98: [2, 35],\n              100: [2, 58],\n              101: [2, 59],\n              103: [2, 60],\n              104: [2, 61]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    this.begin('open_directive');\n                    return 14;\n                    break;\n                  case 1:\n                    this.begin('type_directive');\n                    return 15;\n                    break;\n                  case 2:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 12;\n                    break;\n                  case 3:\n                    this.popState();\n                    this.popState();\n                    return 17;\n                    break;\n                  case 4:\n                    return 16;\n                    break;\n                  case 5:\n                    return 5;\n                    break;\n                  case 6:\n                    /* skip all whitespace */\n                    break;\n                  case 7:\n                    /* skip comments */\n                    break;\n                  case 8:\n                    /* skip comments */\n                    break;\n                  case 9:\n                    return 8;\n                    break;\n                  case 10:\n                    return 6;\n                    break;\n                  case 11:\n                    return 23;\n                    break;\n                  case 12:\n                    return 34;\n                    break;\n                  case 13:\n                    return 26;\n                    break;\n                  case 14:\n                    return 25;\n                    break;\n                  case 15:\n                    return 28;\n                    break;\n                  case 16:\n                    return 30;\n                    break;\n                  case 17:\n                    return 32;\n                    break;\n                  case 18:\n                    return 35;\n                    break;\n                  case 19:\n                    return 36;\n                    break;\n                  case 20:\n                    return 37;\n                    break;\n                  case 21:\n                    return 38;\n                    break;\n                  case 22:\n                    return 39;\n                    break;\n                  case 23:\n                    return 40;\n                    break;\n                  case 24:\n                    return 41;\n                    break;\n                  case 25:\n                    return 42;\n                    break;\n                  case 26:\n                    return 43;\n                    break;\n                  case 27:\n                    return 44;\n                    break;\n                  case 28:\n                    return 45;\n                    break;\n                  case 29:\n                    return 46;\n                    break;\n                  case 30:\n                    return 47;\n                    break;\n                  case 31:\n                    return 48;\n                    break;\n                  case 32:\n                    return 59;\n                    break;\n                  case 33:\n                    return 60;\n                    break;\n                  case 34:\n                    return 61;\n                    break;\n                  case 35:\n                    return 62;\n                    break;\n                  case 36:\n                    return 63;\n                    break;\n                  case 37:\n                    return 64;\n                    break;\n                  case 38:\n                    return 65;\n                    break;\n                  case 39:\n                    return 51;\n                    break;\n                  case 40:\n                    return 53;\n                    break;\n                  case 41:\n                    return 55;\n                    break;\n                  case 42:\n                    return 58;\n                    break;\n                  case 43:\n                    return 57;\n                    break;\n                  case 44:\n                    this.begin(\"string\");\n                    break;\n                  case 45:\n                    this.popState();\n                    break;\n                  case 46:\n                    return \"qString\";\n                    break;\n                  case 47:\n                    yy_.yytext = yy_.yytext.trim();\n                    return 66;\n                    break;\n                }\n              },\n              rules: [/^(?:%%\\{)/i, /^(?:((?:(?!\\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\\}%%)/i, /^(?:((?:(?!\\}%%).|\\n)*))/i, /^(?:(\\r?\\n)+)/i, /^(?:\\s+)/i, /^(?:#[^\\n]*)/i, /^(?:%[^\\n]*)/i, /^(?:$)/i, /^(?:requirementDiagram\\b)/i, /^(?:\\{)/i, /^(?:\\})/i, /^(?::)/i, /^(?:id\\b)/i, /^(?:text\\b)/i, /^(?:risk\\b)/i, /^(?:verifyMethod\\b)/i, /^(?:requirement\\b)/i, /^(?:functionalRequirement\\b)/i, /^(?:interfaceRequirement\\b)/i, /^(?:performanceRequirement\\b)/i, /^(?:physicalRequirement\\b)/i, /^(?:designConstraint\\b)/i, /^(?:low\\b)/i, /^(?:medium\\b)/i, /^(?:high\\b)/i, /^(?:analysis\\b)/i, /^(?:demonstration\\b)/i, /^(?:inspection\\b)/i, /^(?:test\\b)/i, /^(?:element\\b)/i, /^(?:contains\\b)/i, /^(?:copies\\b)/i, /^(?:derives\\b)/i, /^(?:satisfies\\b)/i, /^(?:verifies\\b)/i, /^(?:refines\\b)/i, /^(?:traces\\b)/i, /^(?:type\\b)/i, /^(?:docref\\b)/i, /^(?:<-)/i, /^(?:->)/i, /^(?:-)/i, /^(?:[\"])/i, /^(?:[\"])/i, /^(?:[^\"]*)/i, /^(?:[\\w][^\\r\\n\\{\\<\\>\\-\\=]*)/i],\n              conditions: {\n                \"close_directive\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"arg_directive\": {\n                  \"rules\": [3, 4],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [2, 3],\n                  \"inclusive\": false\n                },\n                \"open_directive\": {\n                  \"rules\": [1],\n                  \"inclusive\": false\n                },\n                \"unqString\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"token\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"string\": {\n                  \"rules\": [45, 46],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 47],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?ebf4\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/sequence/parser/sequenceDiagram.jison\": (\n      /*!************************************************************!*\\\n        !*** ./src/diagrams/sequence/parser/sequenceDiagram.jison ***!\n        \\************************************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 2],\n            $V1 = [1, 3],\n            $V2 = [1, 5],\n            $V3 = [1, 7],\n            $V4 = [2, 5],\n            $V5 = [1, 15],\n            $V6 = [1, 17],\n            $V7 = [1, 18],\n            $V8 = [1, 19],\n            $V9 = [1, 21],\n            $Va = [1, 22],\n            $Vb = [1, 23],\n            $Vc = [1, 29],\n            $Vd = [1, 30],\n            $Ve = [1, 31],\n            $Vf = [1, 32],\n            $Vg = [1, 33],\n            $Vh = [1, 34],\n            $Vi = [1, 37],\n            $Vj = [1, 38],\n            $Vk = [1, 39],\n            $Vl = [1, 40],\n            $Vm = [1, 41],\n            $Vn = [1, 42],\n            $Vo = [1, 45],\n            $Vp = [1, 4, 5, 16, 20, 22, 23, 24, 30, 32, 33, 34, 35, 36, 38, 40, 41, 42, 46, 47, 48, 49, 57, 67],\n            $Vq = [1, 58],\n            $Vr = [4, 5, 16, 20, 22, 23, 24, 30, 32, 33, 34, 35, 36, 38, 42, 46, 47, 48, 49, 57, 67],\n            $Vs = [4, 5, 16, 20, 22, 23, 24, 30, 32, 33, 34, 35, 36, 38, 41, 42, 46, 47, 48, 49, 57, 67],\n            $Vt = [4, 5, 16, 20, 22, 23, 24, 30, 32, 33, 34, 35, 36, 38, 40, 42, 46, 47, 48, 49, 57, 67],\n            $Vu = [55, 56, 57],\n            $Vv = [1, 4, 5, 7, 16, 20, 22, 23, 24, 30, 32, 33, 34, 35, 36, 38, 40, 41, 42, 46, 47, 48, 49, 57, 67];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"SPACE\": 4,\n              \"NEWLINE\": 5,\n              \"directive\": 6,\n              \"SD\": 7,\n              \"document\": 8,\n              \"line\": 9,\n              \"statement\": 10,\n              \"openDirective\": 11,\n              \"typeDirective\": 12,\n              \"closeDirective\": 13,\n              \":\": 14,\n              \"argDirective\": 15,\n              \"participant\": 16,\n              \"actor\": 17,\n              \"AS\": 18,\n              \"restOfLine\": 19,\n              \"participant_actor\": 20,\n              \"signal\": 21,\n              \"autonumber\": 22,\n              \"activate\": 23,\n              \"deactivate\": 24,\n              \"note_statement\": 25,\n              \"links_statement\": 26,\n              \"link_statement\": 27,\n              \"properties_statement\": 28,\n              \"details_statement\": 29,\n              \"title\": 30,\n              \"text2\": 31,\n              \"loop\": 32,\n              \"end\": 33,\n              \"rect\": 34,\n              \"opt\": 35,\n              \"alt\": 36,\n              \"else_sections\": 37,\n              \"par\": 38,\n              \"par_sections\": 39,\n              \"and\": 40,\n              \"else\": 41,\n              \"note\": 42,\n              \"placement\": 43,\n              \"over\": 44,\n              \"actor_pair\": 45,\n              \"links\": 46,\n              \"link\": 47,\n              \"properties\": 48,\n              \"details\": 49,\n              \"spaceList\": 50,\n              \",\": 51,\n              \"left_of\": 52,\n              \"right_of\": 53,\n              \"signaltype\": 54,\n              \"+\": 55,\n              \"-\": 56,\n              \"ACTOR\": 57,\n              \"SOLID_OPEN_ARROW\": 58,\n              \"DOTTED_OPEN_ARROW\": 59,\n              \"SOLID_ARROW\": 60,\n              \"DOTTED_ARROW\": 61,\n              \"SOLID_CROSS\": 62,\n              \"DOTTED_CROSS\": 63,\n              \"SOLID_POINT\": 64,\n              \"DOTTED_POINT\": 65,\n              \"TXT\": 66,\n              \"open_directive\": 67,\n              \"type_directive\": 68,\n              \"arg_directive\": 69,\n              \"close_directive\": 70,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              4: \"SPACE\",\n              5: \"NEWLINE\",\n              7: \"SD\",\n              14: \":\",\n              16: \"participant\",\n              18: \"AS\",\n              19: \"restOfLine\",\n              20: \"participant_actor\",\n              22: \"autonumber\",\n              23: \"activate\",\n              24: \"deactivate\",\n              30: \"title\",\n              32: \"loop\",\n              33: \"end\",\n              34: \"rect\",\n              35: \"opt\",\n              36: \"alt\",\n              38: \"par\",\n              40: \"and\",\n              41: \"else\",\n              42: \"note\",\n              44: \"over\",\n              46: \"links\",\n              47: \"link\",\n              48: \"properties\",\n              49: \"details\",\n              51: \",\",\n              52: \"left_of\",\n              53: \"right_of\",\n              55: \"+\",\n              56: \"-\",\n              57: \"ACTOR\",\n              58: \"SOLID_OPEN_ARROW\",\n              59: \"DOTTED_OPEN_ARROW\",\n              60: \"SOLID_ARROW\",\n              61: \"DOTTED_ARROW\",\n              62: \"SOLID_CROSS\",\n              63: \"DOTTED_CROSS\",\n              64: \"SOLID_POINT\",\n              65: \"DOTTED_POINT\",\n              66: \"TXT\",\n              67: \"open_directive\",\n              68: \"type_directive\",\n              69: \"arg_directive\",\n              70: \"close_directive\"\n            },\n            productions_: [0, [3, 2], [3, 2], [3, 2], [3, 2], [8, 0], [8, 2], [9, 2], [9, 1], [9, 1], [6, 4], [6, 6], [10, 5], [10, 3], [10, 5], [10, 3], [10, 2], [10, 1], [10, 3], [10, 3], [10, 2], [10, 2], [10, 2], [10, 2], [10, 2], [10, 3], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [10, 1], [39, 1], [39, 4], [37, 1], [37, 4], [25, 4], [25, 4], [26, 3], [27, 3], [28, 3], [29, 3], [50, 2], [50, 1], [45, 3], [45, 1], [43, 1], [43, 1], [21, 5], [21, 5], [21, 4], [17, 1], [54, 1], [54, 1], [54, 1], [54, 1], [54, 1], [54, 1], [54, 1], [54, 1], [31, 1], [11, 1], [12, 1], [15, 1], [13, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 4:\n                  yy.apply($$[$0]);\n                  return $$[$0];\n                  break;\n                case 5:\n                  this.$ = [];\n                  break;\n                case 6:\n                  $$[$0 - 1].push($$[$0]);\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 7:\n                case 8:\n                  this.$ = $$[$0];\n                  break;\n                case 9:\n                  this.$ = [];\n                  break;\n                case 12:\n                  $$[$0 - 3].type = 'addParticipant';\n                  $$[$0 - 3].description = yy.parseMessage($$[$0 - 1]);\n                  this.$ = $$[$0 - 3];\n                  break;\n                case 13:\n                  $$[$0 - 1].type = 'addParticipant';\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 14:\n                  $$[$0 - 3].type = 'addActor';\n                  $$[$0 - 3].description = yy.parseMessage($$[$0 - 1]);\n                  this.$ = $$[$0 - 3];\n                  break;\n                case 15:\n                  $$[$0 - 1].type = 'addActor';\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 17:\n                  yy.enableSequenceNumbers();\n                  break;\n                case 18:\n                  this.$ = {\n                    type: 'activeStart',\n                    signalType: yy.LINETYPE.ACTIVE_START,\n                    actor: $$[$0 - 1]\n                  };\n                  break;\n                case 19:\n                  this.$ = {\n                    type: 'activeEnd',\n                    signalType: yy.LINETYPE.ACTIVE_END,\n                    actor: $$[$0 - 1]\n                  };\n                  break;\n                case 25:\n                  this.$ = [{\n                    type: 'setTitle',\n                    text: $$[$0 - 1]\n                  }];\n                  break;\n                case 26:\n                  $$[$0 - 1].unshift({\n                    type: 'loopStart',\n                    loopText: yy.parseMessage($$[$0 - 2]),\n                    signalType: yy.LINETYPE.LOOP_START\n                  });\n                  $$[$0 - 1].push({\n                    type: 'loopEnd',\n                    loopText: $$[$0 - 2],\n                    signalType: yy.LINETYPE.LOOP_END\n                  });\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 27:\n                  $$[$0 - 1].unshift({\n                    type: 'rectStart',\n                    color: yy.parseMessage($$[$0 - 2]),\n                    signalType: yy.LINETYPE.RECT_START\n                  });\n                  $$[$0 - 1].push({\n                    type: 'rectEnd',\n                    color: yy.parseMessage($$[$0 - 2]),\n                    signalType: yy.LINETYPE.RECT_END\n                  });\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 28:\n                  $$[$0 - 1].unshift({\n                    type: 'optStart',\n                    optText: yy.parseMessage($$[$0 - 2]),\n                    signalType: yy.LINETYPE.OPT_START\n                  });\n                  $$[$0 - 1].push({\n                    type: 'optEnd',\n                    optText: yy.parseMessage($$[$0 - 2]),\n                    signalType: yy.LINETYPE.OPT_END\n                  });\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 29:\n                  // Alt start\n                  $$[$0 - 1].unshift({\n                    type: 'altStart',\n                    altText: yy.parseMessage($$[$0 - 2]),\n                    signalType: yy.LINETYPE.ALT_START\n                  });\n                  // Content in alt is already in $$[$0-1]\n                  // End\n                  $$[$0 - 1].push({\n                    type: 'altEnd',\n                    signalType: yy.LINETYPE.ALT_END\n                  });\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 30:\n                  // Parallel start\n                  $$[$0 - 1].unshift({\n                    type: 'parStart',\n                    parText: yy.parseMessage($$[$0 - 2]),\n                    signalType: yy.LINETYPE.PAR_START\n                  });\n                  // Content in par is already in $$[$0-1]\n                  // End\n                  $$[$0 - 1].push({\n                    type: 'parEnd',\n                    signalType: yy.LINETYPE.PAR_END\n                  });\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 33:\n                  this.$ = $$[$0 - 3].concat([{\n                    type: 'and',\n                    parText: yy.parseMessage($$[$0 - 1]),\n                    signalType: yy.LINETYPE.PAR_AND\n                  }, $$[$0]]);\n                  break;\n                case 35:\n                  this.$ = $$[$0 - 3].concat([{\n                    type: 'else',\n                    altText: yy.parseMessage($$[$0 - 1]),\n                    signalType: yy.LINETYPE.ALT_ELSE\n                  }, $$[$0]]);\n                  break;\n                case 36:\n                  this.$ = [$$[$0 - 1], {\n                    type: 'addNote',\n                    placement: $$[$0 - 2],\n                    actor: $$[$0 - 1].actor,\n                    text: $$[$0]\n                  }];\n                  break;\n                case 37:\n                  // Coerce actor_pair into a [to, from, ...] array\n                  $$[$0 - 2] = [].concat($$[$0 - 1], $$[$0 - 1]).slice(0, 2);\n                  $$[$0 - 2][0] = $$[$0 - 2][0].actor;\n                  $$[$0 - 2][1] = $$[$0 - 2][1].actor;\n                  this.$ = [$$[$0 - 1], {\n                    type: 'addNote',\n                    placement: yy.PLACEMENT.OVER,\n                    actor: $$[$0 - 2].slice(0, 2),\n                    text: $$[$0]\n                  }];\n                  break;\n                case 38:\n                  this.$ = [$$[$0 - 1], {\n                    type: 'addLinks',\n                    actor: $$[$0 - 1].actor,\n                    text: $$[$0]\n                  }];\n                  break;\n                case 39:\n                  this.$ = [$$[$0 - 1], {\n                    type: 'addALink',\n                    actor: $$[$0 - 1].actor,\n                    text: $$[$0]\n                  }];\n                  break;\n                case 40:\n                  this.$ = [$$[$0 - 1], {\n                    type: 'addProperties',\n                    actor: $$[$0 - 1].actor,\n                    text: $$[$0]\n                  }];\n                  break;\n                case 41:\n                  this.$ = [$$[$0 - 1], {\n                    type: 'addDetails',\n                    actor: $$[$0 - 1].actor,\n                    text: $$[$0]\n                  }];\n                  break;\n                case 44:\n                  this.$ = [$$[$0 - 2], $$[$0]];\n                  break;\n                case 45:\n                  this.$ = $$[$0];\n                  break;\n                case 46:\n                  this.$ = yy.PLACEMENT.LEFTOF;\n                  break;\n                case 47:\n                  this.$ = yy.PLACEMENT.RIGHTOF;\n                  break;\n                case 48:\n                  this.$ = [$$[$0 - 4], $$[$0 - 1], {\n                    type: 'addMessage',\n                    from: $$[$0 - 4].actor,\n                    to: $$[$0 - 1].actor,\n                    signalType: $$[$0 - 3],\n                    msg: $$[$0]\n                  }, {\n                    type: 'activeStart',\n                    signalType: yy.LINETYPE.ACTIVE_START,\n                    actor: $$[$0 - 1]\n                  }];\n                  break;\n                case 49:\n                  this.$ = [$$[$0 - 4], $$[$0 - 1], {\n                    type: 'addMessage',\n                    from: $$[$0 - 4].actor,\n                    to: $$[$0 - 1].actor,\n                    signalType: $$[$0 - 3],\n                    msg: $$[$0]\n                  }, {\n                    type: 'activeEnd',\n                    signalType: yy.LINETYPE.ACTIVE_END,\n                    actor: $$[$0 - 4]\n                  }];\n                  break;\n                case 50:\n                  this.$ = [$$[$0 - 3], $$[$0 - 1], {\n                    type: 'addMessage',\n                    from: $$[$0 - 3].actor,\n                    to: $$[$0 - 1].actor,\n                    signalType: $$[$0 - 2],\n                    msg: $$[$0]\n                  }];\n                  break;\n                case 51:\n                  this.$ = {\n                    type: 'addParticipant',\n                    actor: $$[$0]\n                  };\n                  break;\n                case 52:\n                  this.$ = yy.LINETYPE.SOLID_OPEN;\n                  break;\n                case 53:\n                  this.$ = yy.LINETYPE.DOTTED_OPEN;\n                  break;\n                case 54:\n                  this.$ = yy.LINETYPE.SOLID;\n                  break;\n                case 55:\n                  this.$ = yy.LINETYPE.DOTTED;\n                  break;\n                case 56:\n                  this.$ = yy.LINETYPE.SOLID_CROSS;\n                  break;\n                case 57:\n                  this.$ = yy.LINETYPE.DOTTED_CROSS;\n                  break;\n                case 58:\n                  this.$ = yy.LINETYPE.SOLID_POINT;\n                  break;\n                case 59:\n                  this.$ = yy.LINETYPE.DOTTED_POINT;\n                  break;\n                case 60:\n                  this.$ = yy.parseMessage($$[$0].trim().substring(1));\n                  break;\n                case 61:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 62:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 63:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 64:\n                  yy.parseDirective('}%%', 'close_directive', 'sequence');\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: $V0,\n              5: $V1,\n              6: 4,\n              7: $V2,\n              11: 6,\n              67: $V3\n            }, {\n              1: [3]\n            }, {\n              3: 8,\n              4: $V0,\n              5: $V1,\n              6: 4,\n              7: $V2,\n              11: 6,\n              67: $V3\n            }, {\n              3: 9,\n              4: $V0,\n              5: $V1,\n              6: 4,\n              7: $V2,\n              11: 6,\n              67: $V3\n            }, {\n              3: 10,\n              4: $V0,\n              5: $V1,\n              6: 4,\n              7: $V2,\n              11: 6,\n              67: $V3\n            }, o([1, 4, 5, 16, 20, 22, 23, 24, 30, 32, 34, 35, 36, 38, 42, 46, 47, 48, 49, 57, 67], $V4, {\n              8: 11\n            }), {\n              12: 12,\n              68: [1, 13]\n            }, {\n              68: [2, 61]\n            }, {\n              1: [2, 1]\n            }, {\n              1: [2, 2]\n            }, {\n              1: [2, 3]\n            }, {\n              1: [2, 4],\n              4: $V5,\n              5: $V6,\n              6: 35,\n              9: 14,\n              10: 16,\n              11: 6,\n              16: $V7,\n              17: 36,\n              20: $V8,\n              21: 20,\n              22: $V9,\n              23: $Va,\n              24: $Vb,\n              25: 24,\n              26: 25,\n              27: 26,\n              28: 27,\n              29: 28,\n              30: $Vc,\n              32: $Vd,\n              34: $Ve,\n              35: $Vf,\n              36: $Vg,\n              38: $Vh,\n              42: $Vi,\n              46: $Vj,\n              47: $Vk,\n              48: $Vl,\n              49: $Vm,\n              57: $Vn,\n              67: $V3\n            }, {\n              13: 43,\n              14: [1, 44],\n              70: $Vo\n            }, o([14, 70], [2, 62]), o($Vp, [2, 6]), {\n              6: 35,\n              10: 46,\n              11: 6,\n              16: $V7,\n              17: 36,\n              20: $V8,\n              21: 20,\n              22: $V9,\n              23: $Va,\n              24: $Vb,\n              25: 24,\n              26: 25,\n              27: 26,\n              28: 27,\n              29: 28,\n              30: $Vc,\n              32: $Vd,\n              34: $Ve,\n              35: $Vf,\n              36: $Vg,\n              38: $Vh,\n              42: $Vi,\n              46: $Vj,\n              47: $Vk,\n              48: $Vl,\n              49: $Vm,\n              57: $Vn,\n              67: $V3\n            }, o($Vp, [2, 8]), o($Vp, [2, 9]), {\n              17: 47,\n              57: $Vn\n            }, {\n              17: 48,\n              57: $Vn\n            }, {\n              5: [1, 49]\n            }, o($Vp, [2, 17]), {\n              17: 50,\n              57: $Vn\n            }, {\n              17: 51,\n              57: $Vn\n            }, {\n              5: [1, 52]\n            }, {\n              5: [1, 53]\n            }, {\n              5: [1, 54]\n            }, {\n              5: [1, 55]\n            }, {\n              5: [1, 56]\n            }, {\n              31: 57,\n              66: $Vq\n            }, {\n              19: [1, 59]\n            }, {\n              19: [1, 60]\n            }, {\n              19: [1, 61]\n            }, {\n              19: [1, 62]\n            }, {\n              19: [1, 63]\n            }, o($Vp, [2, 31]), {\n              54: 64,\n              58: [1, 65],\n              59: [1, 66],\n              60: [1, 67],\n              61: [1, 68],\n              62: [1, 69],\n              63: [1, 70],\n              64: [1, 71],\n              65: [1, 72]\n            }, {\n              43: 73,\n              44: [1, 74],\n              52: [1, 75],\n              53: [1, 76]\n            }, {\n              17: 77,\n              57: $Vn\n            }, {\n              17: 78,\n              57: $Vn\n            }, {\n              17: 79,\n              57: $Vn\n            }, {\n              17: 80,\n              57: $Vn\n            }, o([5, 18, 51, 58, 59, 60, 61, 62, 63, 64, 65, 66], [2, 51]), {\n              5: [1, 81]\n            }, {\n              15: 82,\n              69: [1, 83]\n            }, {\n              5: [2, 64]\n            }, o($Vp, [2, 7]), {\n              5: [1, 85],\n              18: [1, 84]\n            }, {\n              5: [1, 87],\n              18: [1, 86]\n            }, o($Vp, [2, 16]), {\n              5: [1, 88]\n            }, {\n              5: [1, 89]\n            }, o($Vp, [2, 20]), o($Vp, [2, 21]), o($Vp, [2, 22]), o($Vp, [2, 23]), o($Vp, [2, 24]), {\n              5: [1, 90]\n            }, {\n              5: [2, 60]\n            }, o($Vr, $V4, {\n              8: 91\n            }), o($Vr, $V4, {\n              8: 92\n            }), o($Vr, $V4, {\n              8: 93\n            }), o($Vs, $V4, {\n              37: 94,\n              8: 95\n            }), o($Vt, $V4, {\n              39: 96,\n              8: 97\n            }), {\n              17: 100,\n              55: [1, 98],\n              56: [1, 99],\n              57: $Vn\n            }, o($Vu, [2, 52]), o($Vu, [2, 53]), o($Vu, [2, 54]), o($Vu, [2, 55]), o($Vu, [2, 56]), o($Vu, [2, 57]), o($Vu, [2, 58]), o($Vu, [2, 59]), {\n              17: 101,\n              57: $Vn\n            }, {\n              17: 103,\n              45: 102,\n              57: $Vn\n            }, {\n              57: [2, 46]\n            }, {\n              57: [2, 47]\n            }, {\n              31: 104,\n              66: $Vq\n            }, {\n              31: 105,\n              66: $Vq\n            }, {\n              31: 106,\n              66: $Vq\n            }, {\n              31: 107,\n              66: $Vq\n            }, o($Vv, [2, 10]), {\n              13: 108,\n              70: $Vo\n            }, {\n              70: [2, 63]\n            }, {\n              19: [1, 109]\n            }, o($Vp, [2, 13]), {\n              19: [1, 110]\n            }, o($Vp, [2, 15]), o($Vp, [2, 18]), o($Vp, [2, 19]), o($Vp, [2, 25]), {\n              4: $V5,\n              5: $V6,\n              6: 35,\n              9: 14,\n              10: 16,\n              11: 6,\n              16: $V7,\n              17: 36,\n              20: $V8,\n              21: 20,\n              22: $V9,\n              23: $Va,\n              24: $Vb,\n              25: 24,\n              26: 25,\n              27: 26,\n              28: 27,\n              29: 28,\n              30: $Vc,\n              32: $Vd,\n              33: [1, 111],\n              34: $Ve,\n              35: $Vf,\n              36: $Vg,\n              38: $Vh,\n              42: $Vi,\n              46: $Vj,\n              47: $Vk,\n              48: $Vl,\n              49: $Vm,\n              57: $Vn,\n              67: $V3\n            }, {\n              4: $V5,\n              5: $V6,\n              6: 35,\n              9: 14,\n              10: 16,\n              11: 6,\n              16: $V7,\n              17: 36,\n              20: $V8,\n              21: 20,\n              22: $V9,\n              23: $Va,\n              24: $Vb,\n              25: 24,\n              26: 25,\n              27: 26,\n              28: 27,\n              29: 28,\n              30: $Vc,\n              32: $Vd,\n              33: [1, 112],\n              34: $Ve,\n              35: $Vf,\n              36: $Vg,\n              38: $Vh,\n              42: $Vi,\n              46: $Vj,\n              47: $Vk,\n              48: $Vl,\n              49: $Vm,\n              57: $Vn,\n              67: $V3\n            }, {\n              4: $V5,\n              5: $V6,\n              6: 35,\n              9: 14,\n              10: 16,\n              11: 6,\n              16: $V7,\n              17: 36,\n              20: $V8,\n              21: 20,\n              22: $V9,\n              23: $Va,\n              24: $Vb,\n              25: 24,\n              26: 25,\n              27: 26,\n              28: 27,\n              29: 28,\n              30: $Vc,\n              32: $Vd,\n              33: [1, 113],\n              34: $Ve,\n              35: $Vf,\n              36: $Vg,\n              38: $Vh,\n              42: $Vi,\n              46: $Vj,\n              47: $Vk,\n              48: $Vl,\n              49: $Vm,\n              57: $Vn,\n              67: $V3\n            }, {\n              33: [1, 114]\n            }, {\n              4: $V5,\n              5: $V6,\n              6: 35,\n              9: 14,\n              10: 16,\n              11: 6,\n              16: $V7,\n              17: 36,\n              20: $V8,\n              21: 20,\n              22: $V9,\n              23: $Va,\n              24: $Vb,\n              25: 24,\n              26: 25,\n              27: 26,\n              28: 27,\n              29: 28,\n              30: $Vc,\n              32: $Vd,\n              33: [2, 34],\n              34: $Ve,\n              35: $Vf,\n              36: $Vg,\n              38: $Vh,\n              41: [1, 115],\n              42: $Vi,\n              46: $Vj,\n              47: $Vk,\n              48: $Vl,\n              49: $Vm,\n              57: $Vn,\n              67: $V3\n            }, {\n              33: [1, 116]\n            }, {\n              4: $V5,\n              5: $V6,\n              6: 35,\n              9: 14,\n              10: 16,\n              11: 6,\n              16: $V7,\n              17: 36,\n              20: $V8,\n              21: 20,\n              22: $V9,\n              23: $Va,\n              24: $Vb,\n              25: 24,\n              26: 25,\n              27: 26,\n              28: 27,\n              29: 28,\n              30: $Vc,\n              32: $Vd,\n              33: [2, 32],\n              34: $Ve,\n              35: $Vf,\n              36: $Vg,\n              38: $Vh,\n              40: [1, 117],\n              42: $Vi,\n              46: $Vj,\n              47: $Vk,\n              48: $Vl,\n              49: $Vm,\n              57: $Vn,\n              67: $V3\n            }, {\n              17: 118,\n              57: $Vn\n            }, {\n              17: 119,\n              57: $Vn\n            }, {\n              31: 120,\n              66: $Vq\n            }, {\n              31: 121,\n              66: $Vq\n            }, {\n              31: 122,\n              66: $Vq\n            }, {\n              51: [1, 123],\n              66: [2, 45]\n            }, {\n              5: [2, 38]\n            }, {\n              5: [2, 39]\n            }, {\n              5: [2, 40]\n            }, {\n              5: [2, 41]\n            }, {\n              5: [1, 124]\n            }, {\n              5: [1, 125]\n            }, {\n              5: [1, 126]\n            }, o($Vp, [2, 26]), o($Vp, [2, 27]), o($Vp, [2, 28]), o($Vp, [2, 29]), {\n              19: [1, 127]\n            }, o($Vp, [2, 30]), {\n              19: [1, 128]\n            }, {\n              31: 129,\n              66: $Vq\n            }, {\n              31: 130,\n              66: $Vq\n            }, {\n              5: [2, 50]\n            }, {\n              5: [2, 36]\n            }, {\n              5: [2, 37]\n            }, {\n              17: 131,\n              57: $Vn\n            }, o($Vv, [2, 11]), o($Vp, [2, 12]), o($Vp, [2, 14]), o($Vs, $V4, {\n              8: 95,\n              37: 132\n            }), o($Vt, $V4, {\n              8: 97,\n              39: 133\n            }), {\n              5: [2, 48]\n            }, {\n              5: [2, 49]\n            }, {\n              66: [2, 44]\n            }, {\n              33: [2, 35]\n            }, {\n              33: [2, 33]\n            }],\n            defaultActions: {\n              7: [2, 61],\n              8: [2, 1],\n              9: [2, 2],\n              10: [2, 3],\n              45: [2, 64],\n              58: [2, 60],\n              75: [2, 46],\n              76: [2, 47],\n              83: [2, 63],\n              104: [2, 38],\n              105: [2, 39],\n              106: [2, 40],\n              107: [2, 41],\n              120: [2, 50],\n              121: [2, 36],\n              122: [2, 37],\n              129: [2, 48],\n              130: [2, 49],\n              131: [2, 44],\n              132: [2, 35],\n              133: [2, 33]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    this.begin('open_directive');\n                    return 67;\n                    break;\n                  case 1:\n                    this.begin('type_directive');\n                    return 68;\n                    break;\n                  case 2:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 14;\n                    break;\n                  case 3:\n                    this.popState();\n                    this.popState();\n                    return 70;\n                    break;\n                  case 4:\n                    return 69;\n                    break;\n                  case 5:\n                    return 5;\n                    break;\n                  case 6:\n                    /* skip all whitespace */\n                    break;\n                  case 7:\n                    /* skip same-line whitespace */\n                    break;\n                  case 8:\n                    /* skip comments */\n                    break;\n                  case 9:\n                    /* skip comments */\n                    break;\n                  case 10:\n                    /* skip comments */\n                    break;\n                  case 11:\n                    this.begin('ID');\n                    return 16;\n                    break;\n                  case 12:\n                    this.begin('ID');\n                    return 20;\n                    break;\n                  case 13:\n                    yy_.yytext = yy_.yytext.trim();\n                    this.begin('ALIAS');\n                    return 57;\n                    break;\n                  case 14:\n                    this.popState();\n                    this.popState();\n                    this.begin('LINE');\n                    return 18;\n                    break;\n                  case 15:\n                    this.popState();\n                    this.popState();\n                    return 5;\n                    break;\n                  case 16:\n                    this.begin('LINE');\n                    return 32;\n                    break;\n                  case 17:\n                    this.begin('LINE');\n                    return 34;\n                    break;\n                  case 18:\n                    this.begin('LINE');\n                    return 35;\n                    break;\n                  case 19:\n                    this.begin('LINE');\n                    return 36;\n                    break;\n                  case 20:\n                    this.begin('LINE');\n                    return 41;\n                    break;\n                  case 21:\n                    this.begin('LINE');\n                    return 38;\n                    break;\n                  case 22:\n                    this.begin('LINE');\n                    return 40;\n                    break;\n                  case 23:\n                    this.popState();\n                    return 19;\n                    break;\n                  case 24:\n                    return 33;\n                    break;\n                  case 25:\n                    return 52;\n                    break;\n                  case 26:\n                    return 53;\n                    break;\n                  case 27:\n                    return 46;\n                    break;\n                  case 28:\n                    return 47;\n                    break;\n                  case 29:\n                    return 48;\n                    break;\n                  case 30:\n                    return 49;\n                    break;\n                  case 31:\n                    return 44;\n                    break;\n                  case 32:\n                    return 42;\n                    break;\n                  case 33:\n                    this.begin('ID');\n                    return 23;\n                    break;\n                  case 34:\n                    this.begin('ID');\n                    return 24;\n                    break;\n                  case 35:\n                    return 30;\n                    break;\n                  case 36:\n                    return 7;\n                    break;\n                  case 37:\n                    return 22;\n                    break;\n                  case 38:\n                    return 51;\n                    break;\n                  case 39:\n                    return 5;\n                    break;\n                  case 40:\n                    yy_.yytext = yy_.yytext.trim();\n                    return 57;\n                    break;\n                  case 41:\n                    return 60;\n                    break;\n                  case 42:\n                    return 61;\n                    break;\n                  case 43:\n                    return 58;\n                    break;\n                  case 44:\n                    return 59;\n                    break;\n                  case 45:\n                    return 62;\n                    break;\n                  case 46:\n                    return 63;\n                    break;\n                  case 47:\n                    return 64;\n                    break;\n                  case 48:\n                    return 65;\n                    break;\n                  case 49:\n                    return 66;\n                    break;\n                  case 50:\n                    return 55;\n                    break;\n                  case 51:\n                    return 56;\n                    break;\n                  case 52:\n                    return 5;\n                    break;\n                  case 53:\n                    return 'INVALID';\n                    break;\n                }\n              },\n              rules: [/^(?:%%\\{)/i, /^(?:((?:(?!\\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\\}%%)/i, /^(?:((?:(?!\\}%%).|\\n)*))/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:((?!\\n)\\s)+)/i, /^(?:#[^\\n]*)/i, /^(?:%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:participant\\b)/i, /^(?:actor\\b)/i, /^(?:[^\\->:\\n,;]+?(?=((?!\\n)\\s)+as(?!\\n)\\s|[#\\n;]|$))/i, /^(?:as\\b)/i, /^(?:(?:))/i, /^(?:loop\\b)/i, /^(?:rect\\b)/i, /^(?:opt\\b)/i, /^(?:alt\\b)/i, /^(?:else\\b)/i, /^(?:par\\b)/i, /^(?:and\\b)/i, /^(?:(?:[:]?(?:no)?wrap)?[^#\\n;]*)/i, /^(?:end\\b)/i, /^(?:left of\\b)/i, /^(?:right of\\b)/i, /^(?:links\\b)/i, /^(?:link\\b)/i, /^(?:properties\\b)/i, /^(?:details\\b)/i, /^(?:over\\b)/i, /^(?:note\\b)/i, /^(?:activate\\b)/i, /^(?:deactivate\\b)/i, /^(?:title\\b)/i, /^(?:sequenceDiagram\\b)/i, /^(?:autonumber\\b)/i, /^(?:,)/i, /^(?:;)/i, /^(?:[^\\+\\->:\\n,;]+((?!(-x|--x|-\\)|--\\)))[\\-]*[^\\+\\->:\\n,;]+)*)/i, /^(?:->>)/i, /^(?:-->>)/i, /^(?:->)/i, /^(?:-->)/i, /^(?:-[x])/i, /^(?:--[x])/i, /^(?:-[\\)])/i, /^(?:--[\\)])/i, /^(?::(?:(?:no)?wrap)?[^#\\n;]+)/i, /^(?:\\+)/i, /^(?:-)/i, /^(?:$)/i, /^(?:.)/i],\n              conditions: {\n                \"open_directive\": {\n                  \"rules\": [1, 8],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [2, 3, 8],\n                  \"inclusive\": false\n                },\n                \"arg_directive\": {\n                  \"rules\": [3, 4, 8],\n                  \"inclusive\": false\n                },\n                \"ID\": {\n                  \"rules\": [7, 8, 13],\n                  \"inclusive\": false\n                },\n                \"ALIAS\": {\n                  \"rules\": [7, 8, 14, 15],\n                  \"inclusive\": false\n                },\n                \"LINE\": {\n                  \"rules\": [7, 8, 23],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 5, 6, 8, 9, 10, 11, 12, 16, 17, 18, 19, 20, 21, 22, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?e940\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/state/parser/stateDiagram.jison\": (\n      /*!******************************************************!*\\\n        !*** ./src/diagrams/state/parser/stateDiagram.jison ***!\n        \\******************************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 2],\n            $V1 = [1, 3],\n            $V2 = [1, 5],\n            $V3 = [1, 7],\n            $V4 = [2, 5],\n            $V5 = [1, 15],\n            $V6 = [1, 17],\n            $V7 = [1, 19],\n            $V8 = [1, 20],\n            $V9 = [1, 21],\n            $Va = [1, 22],\n            $Vb = [1, 30],\n            $Vc = [1, 23],\n            $Vd = [1, 24],\n            $Ve = [1, 25],\n            $Vf = [1, 26],\n            $Vg = [1, 27],\n            $Vh = [1, 32],\n            $Vi = [1, 33],\n            $Vj = [1, 34],\n            $Vk = [1, 35],\n            $Vl = [1, 31],\n            $Vm = [1, 38],\n            $Vn = [1, 4, 5, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 36, 37, 38, 39, 42, 45],\n            $Vo = [1, 4, 5, 12, 13, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 36, 37, 38, 39, 42, 45],\n            $Vp = [1, 4, 5, 7, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 36, 37, 38, 39, 42, 45],\n            $Vq = [4, 5, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 36, 37, 38, 39, 42, 45];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"SPACE\": 4,\n              \"NL\": 5,\n              \"directive\": 6,\n              \"SD\": 7,\n              \"document\": 8,\n              \"line\": 9,\n              \"statement\": 10,\n              \"idStatement\": 11,\n              \"DESCR\": 12,\n              \"-->\": 13,\n              \"HIDE_EMPTY\": 14,\n              \"scale\": 15,\n              \"WIDTH\": 16,\n              \"COMPOSIT_STATE\": 17,\n              \"STRUCT_START\": 18,\n              \"STRUCT_STOP\": 19,\n              \"STATE_DESCR\": 20,\n              \"AS\": 21,\n              \"ID\": 22,\n              \"FORK\": 23,\n              \"JOIN\": 24,\n              \"CHOICE\": 25,\n              \"CONCURRENT\": 26,\n              \"note\": 27,\n              \"notePosition\": 28,\n              \"NOTE_TEXT\": 29,\n              \"direction\": 30,\n              \"openDirective\": 31,\n              \"typeDirective\": 32,\n              \"closeDirective\": 33,\n              \":\": 34,\n              \"argDirective\": 35,\n              \"direction_tb\": 36,\n              \"direction_bt\": 37,\n              \"direction_rl\": 38,\n              \"direction_lr\": 39,\n              \"eol\": 40,\n              \";\": 41,\n              \"EDGE_STATE\": 42,\n              \"left_of\": 43,\n              \"right_of\": 44,\n              \"open_directive\": 45,\n              \"type_directive\": 46,\n              \"arg_directive\": 47,\n              \"close_directive\": 48,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              4: \"SPACE\",\n              5: \"NL\",\n              7: \"SD\",\n              12: \"DESCR\",\n              13: \"-->\",\n              14: \"HIDE_EMPTY\",\n              15: \"scale\",\n              16: \"WIDTH\",\n              17: \"COMPOSIT_STATE\",\n              18: \"STRUCT_START\",\n              19: \"STRUCT_STOP\",\n              20: \"STATE_DESCR\",\n              21: \"AS\",\n              22: \"ID\",\n              23: \"FORK\",\n              24: \"JOIN\",\n              25: \"CHOICE\",\n              26: \"CONCURRENT\",\n              27: \"note\",\n              29: \"NOTE_TEXT\",\n              34: \":\",\n              36: \"direction_tb\",\n              37: \"direction_bt\",\n              38: \"direction_rl\",\n              39: \"direction_lr\",\n              41: \";\",\n              42: \"EDGE_STATE\",\n              43: \"left_of\",\n              44: \"right_of\",\n              45: \"open_directive\",\n              46: \"type_directive\",\n              47: \"arg_directive\",\n              48: \"close_directive\"\n            },\n            productions_: [0, [3, 2], [3, 2], [3, 2], [3, 2], [8, 0], [8, 2], [9, 2], [9, 1], [9, 1], [10, 1], [10, 2], [10, 3], [10, 4], [10, 1], [10, 2], [10, 1], [10, 4], [10, 3], [10, 6], [10, 1], [10, 1], [10, 1], [10, 1], [10, 4], [10, 4], [10, 1], [10, 1], [6, 3], [6, 5], [30, 1], [30, 1], [30, 1], [30, 1], [40, 1], [40, 1], [11, 1], [11, 1], [28, 1], [28, 1], [31, 1], [32, 1], [35, 1], [33, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 4:\n                  /*console.warn('Root document', $$[$0]);*/yy.setRootDoc($$[$0]);\n                  return $$[$0];\n                  break;\n                case 5:\n                  this.$ = [];\n                  break;\n                case 6:\n                  if ($$[$0] != 'nl') {\n                    $$[$0 - 1].push($$[$0]);\n                    this.$ = $$[$0 - 1];\n                  }\n                  // console.warn('Got document',$$[$0-1], $$[$0]);\n\n                  break;\n                case 7:\n                case 8:\n                  this.$ = $$[$0];\n                  break;\n                case 9:\n                  this.$ = 'nl';\n                  break;\n                case 10:\n                  /*console.warn('got id and descr', $$[$0]);*/this.$ = {\n                    stmt: 'state',\n                    id: $$[$0],\n                    type: 'default',\n                    description: ''\n                  };\n                  break;\n                case 11:\n                  /*console.warn('got id and descr', $$[$0-1], $$[$0].trim());*/this.$ = {\n                    stmt: 'state',\n                    id: $$[$0 - 1],\n                    type: 'default',\n                    description: yy.trimColon($$[$0])\n                  };\n                  break;\n                case 12:\n                  /*console.warn('got id', $$[$0-2]);yy.addRelation($$[$0-2], $$[$0]);*/\n                  this.$ = {\n                    stmt: 'relation',\n                    state1: {\n                      stmt: 'state',\n                      id: $$[$0 - 2],\n                      type: 'default',\n                      description: ''\n                    },\n                    state2: {\n                      stmt: 'state',\n                      id: $$[$0],\n                      type: 'default',\n                      description: ''\n                    }\n                  };\n                  break;\n                case 13:\n                  /*yy.addRelation($$[$0-3], $$[$0-1], $$[$0].substr(1).trim());*/\n                  this.$ = {\n                    stmt: 'relation',\n                    state1: {\n                      stmt: 'state',\n                      id: $$[$0 - 3],\n                      type: 'default',\n                      description: ''\n                    },\n                    state2: {\n                      stmt: 'state',\n                      id: $$[$0 - 1],\n                      type: 'default',\n                      description: ''\n                    },\n                    description: $$[$0].substr(1).trim()\n                  };\n                  break;\n                case 17:\n                  /* console.warn('Adding document for state without id ', $$[$0-3]);*/\n                  this.$ = {\n                    stmt: 'state',\n                    id: $$[$0 - 3],\n                    type: 'default',\n                    description: '',\n                    doc: $$[$0 - 1]\n                  };\n                  break;\n                case 18:\n                  var id = $$[$0];\n                  var description = $$[$0 - 2].trim();\n                  if ($$[$0].match(':')) {\n                    var parts = $$[$0].split(':');\n                    id = parts[0];\n                    description = [description, parts[1]];\n                  }\n                  this.$ = {\n                    stmt: 'state',\n                    id: id,\n                    type: 'default',\n                    description: description\n                  };\n                  break;\n                case 19:\n                  // console.warn('Adding document for state with id zxzx', $$[$0-3], $$[$0-2], yy.getDirection()); yy.addDocument($$[$0-3]);\n                  this.$ = {\n                    stmt: 'state',\n                    id: $$[$0 - 3],\n                    type: 'default',\n                    description: $$[$0 - 5],\n                    doc: $$[$0 - 1]\n                  };\n                  break;\n                case 20:\n                  this.$ = {\n                    stmt: 'state',\n                    id: $$[$0],\n                    type: 'fork'\n                  };\n                  break;\n                case 21:\n                  this.$ = {\n                    stmt: 'state',\n                    id: $$[$0],\n                    type: 'join'\n                  };\n                  break;\n                case 22:\n                  this.$ = {\n                    stmt: 'state',\n                    id: $$[$0],\n                    type: 'choice'\n                  };\n                  break;\n                case 23:\n                  this.$ = {\n                    stmt: 'state',\n                    id: yy.getDividerId(),\n                    type: 'divider'\n                  };\n                  break;\n                case 24:\n                  /* console.warn('got NOTE, position: ', $$[$0-2].trim(), 'id = ', $$[$0-1].trim(), 'note: ', $$[$0]);*/\n                  this.$ = {\n                    stmt: 'state',\n                    id: $$[$0 - 1].trim(),\n                    note: {\n                      position: $$[$0 - 2].trim(),\n                      text: $$[$0].trim()\n                    }\n                  };\n                  break;\n                case 30:\n                  yy.setDirection('TB');\n                  this.$ = {\n                    stmt: 'dir',\n                    value: 'TB'\n                  };\n                  break;\n                case 31:\n                  yy.setDirection('BT');\n                  this.$ = {\n                    stmt: 'dir',\n                    value: 'BT'\n                  };\n                  break;\n                case 32:\n                  yy.setDirection('RL');\n                  this.$ = {\n                    stmt: 'dir',\n                    value: 'RL'\n                  };\n                  break;\n                case 33:\n                  yy.setDirection('LR');\n                  this.$ = {\n                    stmt: 'dir',\n                    value: 'LR'\n                  };\n                  break;\n                case 36:\n                case 37:\n                  this.$ = $$[$0];\n                  break;\n                case 40:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 41:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 42:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 43:\n                  yy.parseDirective('}%%', 'close_directive', 'state');\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: $V0,\n              5: $V1,\n              6: 4,\n              7: $V2,\n              31: 6,\n              45: $V3\n            }, {\n              1: [3]\n            }, {\n              3: 8,\n              4: $V0,\n              5: $V1,\n              6: 4,\n              7: $V2,\n              31: 6,\n              45: $V3\n            }, {\n              3: 9,\n              4: $V0,\n              5: $V1,\n              6: 4,\n              7: $V2,\n              31: 6,\n              45: $V3\n            }, {\n              3: 10,\n              4: $V0,\n              5: $V1,\n              6: 4,\n              7: $V2,\n              31: 6,\n              45: $V3\n            }, o([1, 4, 5, 14, 15, 17, 20, 22, 23, 24, 25, 26, 27, 36, 37, 38, 39, 42, 45], $V4, {\n              8: 11\n            }), {\n              32: 12,\n              46: [1, 13]\n            }, {\n              46: [2, 40]\n            }, {\n              1: [2, 1]\n            }, {\n              1: [2, 2]\n            }, {\n              1: [2, 3]\n            }, {\n              1: [2, 4],\n              4: $V5,\n              5: $V6,\n              6: 28,\n              9: 14,\n              10: 16,\n              11: 18,\n              14: $V7,\n              15: $V8,\n              17: $V9,\n              20: $Va,\n              22: $Vb,\n              23: $Vc,\n              24: $Vd,\n              25: $Ve,\n              26: $Vf,\n              27: $Vg,\n              30: 29,\n              31: 6,\n              36: $Vh,\n              37: $Vi,\n              38: $Vj,\n              39: $Vk,\n              42: $Vl,\n              45: $V3\n            }, {\n              33: 36,\n              34: [1, 37],\n              48: $Vm\n            }, o([34, 48], [2, 41]), o($Vn, [2, 6]), {\n              6: 28,\n              10: 39,\n              11: 18,\n              14: $V7,\n              15: $V8,\n              17: $V9,\n              20: $Va,\n              22: $Vb,\n              23: $Vc,\n              24: $Vd,\n              25: $Ve,\n              26: $Vf,\n              27: $Vg,\n              30: 29,\n              31: 6,\n              36: $Vh,\n              37: $Vi,\n              38: $Vj,\n              39: $Vk,\n              42: $Vl,\n              45: $V3\n            }, o($Vn, [2, 8]), o($Vn, [2, 9]), o($Vn, [2, 10], {\n              12: [1, 40],\n              13: [1, 41]\n            }), o($Vn, [2, 14]), {\n              16: [1, 42]\n            }, o($Vn, [2, 16], {\n              18: [1, 43]\n            }), {\n              21: [1, 44]\n            }, o($Vn, [2, 20]), o($Vn, [2, 21]), o($Vn, [2, 22]), o($Vn, [2, 23]), {\n              28: 45,\n              29: [1, 46],\n              43: [1, 47],\n              44: [1, 48]\n            }, o($Vn, [2, 26]), o($Vn, [2, 27]), o($Vo, [2, 36]), o($Vo, [2, 37]), o($Vn, [2, 30]), o($Vn, [2, 31]), o($Vn, [2, 32]), o($Vn, [2, 33]), o($Vp, [2, 28]), {\n              35: 49,\n              47: [1, 50]\n            }, o($Vp, [2, 43]), o($Vn, [2, 7]), o($Vn, [2, 11]), {\n              11: 51,\n              22: $Vb,\n              42: $Vl\n            }, o($Vn, [2, 15]), o($Vq, $V4, {\n              8: 52\n            }), {\n              22: [1, 53]\n            }, {\n              22: [1, 54]\n            }, {\n              21: [1, 55]\n            }, {\n              22: [2, 38]\n            }, {\n              22: [2, 39]\n            }, {\n              33: 56,\n              48: $Vm\n            }, {\n              48: [2, 42]\n            }, o($Vn, [2, 12], {\n              12: [1, 57]\n            }), {\n              4: $V5,\n              5: $V6,\n              6: 28,\n              9: 14,\n              10: 16,\n              11: 18,\n              14: $V7,\n              15: $V8,\n              17: $V9,\n              19: [1, 58],\n              20: $Va,\n              22: $Vb,\n              23: $Vc,\n              24: $Vd,\n              25: $Ve,\n              26: $Vf,\n              27: $Vg,\n              30: 29,\n              31: 6,\n              36: $Vh,\n              37: $Vi,\n              38: $Vj,\n              39: $Vk,\n              42: $Vl,\n              45: $V3\n            }, o($Vn, [2, 18], {\n              18: [1, 59]\n            }), {\n              29: [1, 60]\n            }, {\n              22: [1, 61]\n            }, o($Vp, [2, 29]), o($Vn, [2, 13]), o($Vn, [2, 17]), o($Vq, $V4, {\n              8: 62\n            }), o($Vn, [2, 24]), o($Vn, [2, 25]), {\n              4: $V5,\n              5: $V6,\n              6: 28,\n              9: 14,\n              10: 16,\n              11: 18,\n              14: $V7,\n              15: $V8,\n              17: $V9,\n              19: [1, 63],\n              20: $Va,\n              22: $Vb,\n              23: $Vc,\n              24: $Vd,\n              25: $Ve,\n              26: $Vf,\n              27: $Vg,\n              30: 29,\n              31: 6,\n              36: $Vh,\n              37: $Vi,\n              38: $Vj,\n              39: $Vk,\n              42: $Vl,\n              45: $V3\n            }, o($Vn, [2, 19])],\n            defaultActions: {\n              7: [2, 40],\n              8: [2, 1],\n              9: [2, 2],\n              10: [2, 3],\n              47: [2, 38],\n              48: [2, 39],\n              50: [2, 42]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    return 36;\n                    break;\n                  case 1:\n                    return 37;\n                    break;\n                  case 2:\n                    return 38;\n                    break;\n                  case 3:\n                    return 39;\n                    break;\n                  case 4:\n                    this.begin('open_directive');\n                    return 45;\n                    break;\n                  case 5:\n                    this.begin('type_directive');\n                    return 46;\n                    break;\n                  case 6:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 34;\n                    break;\n                  case 7:\n                    this.popState();\n                    this.popState();\n                    return 48;\n                    break;\n                  case 8:\n                    return 47;\n                    break;\n                  case 9:\n                    /* skip comments */\n                    break;\n                  case 10:\n                    /* skip comments */{/*console.log('Crap after close');*/}\n                    break;\n                  case 11:\n                    return 5;\n                    break;\n                  case 12:\n                    /* skip all whitespace */\n                    break;\n                  case 13:\n                    /* skip same-line whitespace */\n                    break;\n                  case 14:\n                    /* skip comments */\n                    break;\n                  case 15:\n                    /* skip comments */\n                    break;\n                  case 16:\n                    this.pushState('SCALE'); /* console.log('Got scale', yy_.yytext);*/\n                    return 15;\n                    break;\n                  case 17:\n                    return 16;\n                    break;\n                  case 18:\n                    this.popState();\n                    break;\n                  case 19:\n                    /*console.log('Starting STATE zxzx'+yy.getDirection());*/this.pushState('STATE');\n                    break;\n                  case 20:\n                    this.popState();\n                    yy_.yytext = yy_.yytext.slice(0, -8).trim(); /*console.warn('Fork Fork: ',yy_.yytext);*/\n                    return 23;\n                    break;\n                  case 21:\n                    this.popState();\n                    yy_.yytext = yy_.yytext.slice(0, -8).trim(); /*console.warn('Fork Join: ',yy_.yytext);*/\n                    return 24;\n                    break;\n                  case 22:\n                    this.popState();\n                    yy_.yytext = yy_.yytext.slice(0, -10).trim(); /*console.warn('Fork Join: ',yy_.yytext);*/\n                    return 25;\n                    break;\n                  case 23:\n                    this.popState();\n                    yy_.yytext = yy_.yytext.slice(0, -8).trim(); /*console.warn('Fork Fork: ',yy_.yytext);*/\n                    return 23;\n                    break;\n                  case 24:\n                    this.popState();\n                    yy_.yytext = yy_.yytext.slice(0, -8).trim(); /*console.warn('Fork Join: ',yy_.yytext);*/\n                    return 24;\n                    break;\n                  case 25:\n                    this.popState();\n                    yy_.yytext = yy_.yytext.slice(0, -10).trim(); /*console.warn('Fork Join: ',yy_.yytext);*/\n                    return 25;\n                    break;\n                  case 26:\n                    return 36;\n                    break;\n                  case 27:\n                    return 37;\n                    break;\n                  case 28:\n                    return 38;\n                    break;\n                  case 29:\n                    return 39;\n                    break;\n                  case 30:\n                    /*console.log('Starting STATE_STRING zxzx');*/this.begin(\"STATE_STRING\");\n                    break;\n                  case 31:\n                    this.popState();\n                    this.pushState('STATE_ID');\n                    return \"AS\";\n                    break;\n                  case 32:\n                    this.popState(); /* console.log('STATE_ID', yy_.yytext);*/\n                    return \"ID\";\n                    break;\n                  case 33:\n                    this.popState();\n                    break;\n                  case 34:\n                    /*console.log('Long description:', yy_.yytext);*/return \"STATE_DESCR\";\n                    break;\n                  case 35:\n                    /*console.log('COMPOSIT_STATE', yy_.yytext);*/return 17;\n                    break;\n                  case 36:\n                    this.popState();\n                    break;\n                  case 37:\n                    this.popState();\n                    this.pushState('struct'); /*console.log('begin struct', yy_.yytext);*/\n                    return 18;\n                    break;\n                  case 38:\n                    /*console.log('Ending struct');*/this.popState();\n                    return 19;\n                    break;\n                  case 39:\n                    /* nothing */\n                    break;\n                  case 40:\n                    this.begin('NOTE');\n                    return 27;\n                    break;\n                  case 41:\n                    this.popState();\n                    this.pushState('NOTE_ID');\n                    return 43;\n                    break;\n                  case 42:\n                    this.popState();\n                    this.pushState('NOTE_ID');\n                    return 44;\n                    break;\n                  case 43:\n                    this.popState();\n                    this.pushState('FLOATING_NOTE');\n                    break;\n                  case 44:\n                    this.popState();\n                    this.pushState('FLOATING_NOTE_ID');\n                    return \"AS\";\n                    break;\n                  case 45:\n                    /**/\n                    break;\n                  case 46:\n                    /*console.log('Floating note text: ', yy_.yytext);*/return \"NOTE_TEXT\";\n                    break;\n                  case 47:\n                    this.popState(); /*console.log('Floating note ID', yy_.yytext);*/\n                    return \"ID\";\n                    break;\n                  case 48:\n                    this.popState();\n                    this.pushState('NOTE_TEXT'); /*console.log('Got ID for note', yy_.yytext);*/\n                    return 22;\n                    break;\n                  case 49:\n                    this.popState(); /*console.log('Got NOTE_TEXT for note',yy_.yytext);*/\n                    yy_.yytext = yy_.yytext.substr(2).trim();\n                    return 29;\n                    break;\n                  case 50:\n                    this.popState(); /*console.log('Got NOTE_TEXT for note',yy_.yytext);*/\n                    yy_.yytext = yy_.yytext.slice(0, -8).trim();\n                    return 29;\n                    break;\n                  case 51:\n                    /*console.log('Got state diagram', yy_.yytext,'#');*/return 7;\n                    break;\n                  case 52:\n                    /*console.log('Got state diagram', yy_.yytext,'#');*/return 7;\n                    break;\n                  case 53:\n                    /*console.log('HIDE_EMPTY', yy_.yytext,'#');*/return 14;\n                    break;\n                  case 54:\n                    /*console.log('EDGE_STATE=',yy_.yytext);*/return 42;\n                    break;\n                  case 55:\n                    /*console.log('=>ID=',yy_.yytext);*/return 22;\n                    break;\n                  case 56:\n                    yy_.yytext = yy_.yytext.trim(); /*console.log('Descr = ', yy_.yytext);*/\n                    return 12;\n                    break;\n                  case 57:\n                    return 13;\n                    break;\n                  case 58:\n                    return 26;\n                    break;\n                  case 59:\n                    return 5;\n                    break;\n                  case 60:\n                    return 'INVALID';\n                    break;\n                }\n              },\n              rules: [/^(?:.*direction\\s+TB[^\\n]*)/i, /^(?:.*direction\\s+BT[^\\n]*)/i, /^(?:.*direction\\s+RL[^\\n]*)/i, /^(?:.*direction\\s+LR[^\\n]*)/i, /^(?:%%\\{)/i, /^(?:((?:(?!\\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\\}%%)/i, /^(?:((?:(?!\\}%%).|\\n)*))/i, /^(?:%%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n]+)/i, /^(?:[\\s]+)/i, /^(?:((?!\\n)\\s)+)/i, /^(?:#[^\\n]*)/i, /^(?:%[^\\n]*)/i, /^(?:scale\\s+)/i, /^(?:\\d+)/i, /^(?:\\s+width\\b)/i, /^(?:state\\s+)/i, /^(?:.*<<fork>>)/i, /^(?:.*<<join>>)/i, /^(?:.*<<choice>>)/i, /^(?:.*\\[\\[fork\\]\\])/i, /^(?:.*\\[\\[join\\]\\])/i, /^(?:.*\\[\\[choice\\]\\])/i, /^(?:.*direction\\s+TB[^\\n]*)/i, /^(?:.*direction\\s+BT[^\\n]*)/i, /^(?:.*direction\\s+RL[^\\n]*)/i, /^(?:.*direction\\s+LR[^\\n]*)/i, /^(?:[\"])/i, /^(?:\\s*as\\s+)/i, /^(?:[^\\n\\{]*)/i, /^(?:[\"])/i, /^(?:[^\"]*)/i, /^(?:[^\\n\\s\\{]+)/i, /^(?:\\n)/i, /^(?:\\{)/i, /^(?:\\})/i, /^(?:[\\n])/i, /^(?:note\\s+)/i, /^(?:left of\\b)/i, /^(?:right of\\b)/i, /^(?:\")/i, /^(?:\\s*as\\s*)/i, /^(?:[\"])/i, /^(?:[^\"]*)/i, /^(?:[^\\n]*)/i, /^(?:\\s*[^:\\n\\s\\-]+)/i, /^(?:\\s*:[^:\\n;]+)/i, /^(?:[\\s\\S]*?end note\\b)/i, /^(?:stateDiagram\\s+)/i, /^(?:stateDiagram-v2\\s+)/i, /^(?:hide empty description\\b)/i, /^(?:\\[\\*\\])/i, /^(?:[^:\\n\\s\\-\\{]+)/i, /^(?:\\s*:[^:\\n;]+)/i, /^(?:-->)/i, /^(?:--)/i, /^(?:$)/i, /^(?:.)/i],\n              conditions: {\n                \"LINE\": {\n                  \"rules\": [13, 14],\n                  \"inclusive\": false\n                },\n                \"close_directive\": {\n                  \"rules\": [13, 14],\n                  \"inclusive\": false\n                },\n                \"arg_directive\": {\n                  \"rules\": [7, 8, 13, 14],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [6, 7, 13, 14],\n                  \"inclusive\": false\n                },\n                \"open_directive\": {\n                  \"rules\": [5, 13, 14],\n                  \"inclusive\": false\n                },\n                \"struct\": {\n                  \"rules\": [13, 14, 19, 26, 27, 28, 29, 38, 39, 40, 54, 55, 56, 57, 58],\n                  \"inclusive\": false\n                },\n                \"FLOATING_NOTE_ID\": {\n                  \"rules\": [47],\n                  \"inclusive\": false\n                },\n                \"FLOATING_NOTE\": {\n                  \"rules\": [44, 45, 46],\n                  \"inclusive\": false\n                },\n                \"NOTE_TEXT\": {\n                  \"rules\": [49, 50],\n                  \"inclusive\": false\n                },\n                \"NOTE_ID\": {\n                  \"rules\": [48],\n                  \"inclusive\": false\n                },\n                \"NOTE\": {\n                  \"rules\": [41, 42, 43],\n                  \"inclusive\": false\n                },\n                \"SCALE\": {\n                  \"rules\": [17, 18],\n                  \"inclusive\": false\n                },\n                \"ALIAS\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"STATE_ID\": {\n                  \"rules\": [32],\n                  \"inclusive\": false\n                },\n                \"STATE_STRING\": {\n                  \"rules\": [33, 34],\n                  \"inclusive\": false\n                },\n                \"FORK_STATE\": {\n                  \"rules\": [],\n                  \"inclusive\": false\n                },\n                \"STATE\": {\n                  \"rules\": [13, 14, 20, 21, 22, 23, 24, 25, 30, 31, 35, 36, 37],\n                  \"inclusive\": false\n                },\n                \"ID\": {\n                  \"rules\": [13, 14],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 1, 2, 3, 4, 9, 10, 11, 12, 14, 15, 16, 19, 37, 40, 51, 52, 53, 54, 55, 56, 57, 59, 60],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?a3b8\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/user-journey/parser/journey.jison\": (\n      /*!********************************************************!*\\\n        !*** ./src/diagrams/user-journey/parser/journey.jison ***!\n        \\********************************************************/\n      /***/\n      (module, exports, __webpack_require__) => {\n        /* module decorator */module = __webpack_require__.nmd(module);\n        /* parser generated by jison 0.4.18 */\n        /*\n          Returns a Parser object of the following structure:\n        \n          Parser: {\n            yy: {}\n          }\n        \n          Parser.prototype: {\n            yy: {},\n            trace: function(),\n            symbols_: {associative list: name ==> number},\n            terminals_: {associative list: number ==> name},\n            productions_: [...],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n            table: [...],\n            defaultActions: {...},\n            parseError: function(str, hash),\n            parse: function(input),\n        \n            lexer: {\n                EOF: 1,\n                parseError: function(str, hash),\n                setInput: function(input),\n                input: function(),\n                unput: function(str),\n                more: function(),\n                less: function(n),\n                pastInput: function(),\n                upcomingInput: function(),\n                showPosition: function(),\n                test_match: function(regex_match_array, rule_index),\n                next: function(),\n                lex: function(),\n                begin: function(condition),\n                popState: function(),\n                _currentRules: function(),\n                topState: function(),\n                pushState: function(condition),\n        \n                options: {\n                    ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n                    flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n                    backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n                },\n        \n                performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n                rules: [...],\n                conditions: {associative list: name ==> set},\n            }\n          }\n        \n        \n          token location info (@$, _$, etc.): {\n            first_line: n,\n            last_line: n,\n            first_column: n,\n            last_column: n,\n            range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n          }\n        \n        \n          the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n            text:        (matched text)\n            token:       (the produced terminal token, if any)\n            line:        (yylineno)\n          }\n          while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n            loc:         (yylloc)\n            expected:    (string describing the set of expected tokens)\n            recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n          }\n        */\n        var parser = function () {\n          var o = function (k, v, o, l) {\n              for (o = o || {}, l = k.length; l--; o[k[l]] = v);\n              return o;\n            },\n            $V0 = [1, 2],\n            $V1 = [1, 5],\n            $V2 = [6, 9, 11, 17, 18, 19, 21],\n            $V3 = [1, 15],\n            $V4 = [1, 16],\n            $V5 = [1, 17],\n            $V6 = [1, 21],\n            $V7 = [4, 6, 9, 11, 17, 18, 19, 21];\n          var parser = {\n            trace: function trace() {},\n            yy: {},\n            symbols_: {\n              \"error\": 2,\n              \"start\": 3,\n              \"journey\": 4,\n              \"document\": 5,\n              \"EOF\": 6,\n              \"directive\": 7,\n              \"line\": 8,\n              \"SPACE\": 9,\n              \"statement\": 10,\n              \"NEWLINE\": 11,\n              \"openDirective\": 12,\n              \"typeDirective\": 13,\n              \"closeDirective\": 14,\n              \":\": 15,\n              \"argDirective\": 16,\n              \"title\": 17,\n              \"section\": 18,\n              \"taskName\": 19,\n              \"taskData\": 20,\n              \"open_directive\": 21,\n              \"type_directive\": 22,\n              \"arg_directive\": 23,\n              \"close_directive\": 24,\n              \"$accept\": 0,\n              \"$end\": 1\n            },\n            terminals_: {\n              2: \"error\",\n              4: \"journey\",\n              6: \"EOF\",\n              9: \"SPACE\",\n              11: \"NEWLINE\",\n              15: \":\",\n              17: \"title\",\n              18: \"section\",\n              19: \"taskName\",\n              20: \"taskData\",\n              21: \"open_directive\",\n              22: \"type_directive\",\n              23: \"arg_directive\",\n              24: \"close_directive\"\n            },\n            productions_: [0, [3, 3], [3, 2], [5, 0], [5, 2], [8, 2], [8, 1], [8, 1], [8, 1], [7, 4], [7, 6], [10, 1], [10, 1], [10, 2], [10, 1], [12, 1], [13, 1], [16, 1], [14, 1]],\n            performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n              /* this == yyval */\n\n              var $0 = $$.length - 1;\n              switch (yystate) {\n                case 1:\n                  return $$[$0 - 1];\n                  break;\n                case 3:\n                  this.$ = [];\n                  break;\n                case 4:\n                  $$[$0 - 1].push($$[$0]);\n                  this.$ = $$[$0 - 1];\n                  break;\n                case 5:\n                case 6:\n                  this.$ = $$[$0];\n                  break;\n                case 7:\n                case 8:\n                  this.$ = [];\n                  break;\n                case 11:\n                  yy.setTitle($$[$0].substr(6));\n                  this.$ = $$[$0].substr(6);\n                  break;\n                case 12:\n                  yy.addSection($$[$0].substr(8));\n                  this.$ = $$[$0].substr(8);\n                  break;\n                case 13:\n                  yy.addTask($$[$0 - 1], $$[$0]);\n                  this.$ = 'task';\n                  break;\n                case 15:\n                  yy.parseDirective('%%{', 'open_directive');\n                  break;\n                case 16:\n                  yy.parseDirective($$[$0], 'type_directive');\n                  break;\n                case 17:\n                  $$[$0] = $$[$0].trim().replace(/'/g, '\"');\n                  yy.parseDirective($$[$0], 'arg_directive');\n                  break;\n                case 18:\n                  yy.parseDirective('}%%', 'close_directive', 'journey');\n                  break;\n              }\n            },\n            table: [{\n              3: 1,\n              4: $V0,\n              7: 3,\n              12: 4,\n              21: $V1\n            }, {\n              1: [3]\n            }, o($V2, [2, 3], {\n              5: 6\n            }), {\n              3: 7,\n              4: $V0,\n              7: 3,\n              12: 4,\n              21: $V1\n            }, {\n              13: 8,\n              22: [1, 9]\n            }, {\n              22: [2, 15]\n            }, {\n              6: [1, 10],\n              7: 18,\n              8: 11,\n              9: [1, 12],\n              10: 13,\n              11: [1, 14],\n              12: 4,\n              17: $V3,\n              18: $V4,\n              19: $V5,\n              21: $V1\n            }, {\n              1: [2, 2]\n            }, {\n              14: 19,\n              15: [1, 20],\n              24: $V6\n            }, o([15, 24], [2, 16]), o($V2, [2, 8], {\n              1: [2, 1]\n            }), o($V2, [2, 4]), {\n              7: 18,\n              10: 22,\n              12: 4,\n              17: $V3,\n              18: $V4,\n              19: $V5,\n              21: $V1\n            }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 11]), o($V2, [2, 12]), {\n              20: [1, 23]\n            }, o($V2, [2, 14]), {\n              11: [1, 24]\n            }, {\n              16: 25,\n              23: [1, 26]\n            }, {\n              11: [2, 18]\n            }, o($V2, [2, 5]), o($V2, [2, 13]), o($V7, [2, 9]), {\n              14: 27,\n              24: $V6\n            }, {\n              24: [2, 17]\n            }, {\n              11: [1, 28]\n            }, o($V7, [2, 10])],\n            defaultActions: {\n              5: [2, 15],\n              7: [2, 2],\n              21: [2, 18],\n              26: [2, 17]\n            },\n            parseError: function parseError(str, hash) {\n              if (hash.recoverable) {\n                this.trace(str);\n              } else {\n                var error = new Error(str);\n                error.hash = hash;\n                throw error;\n              }\n            },\n            parse: function parse(input) {\n              var self = this,\n                stack = [0],\n                tstack = [],\n                vstack = [null],\n                lstack = [],\n                table = this.table,\n                yytext = '',\n                yylineno = 0,\n                yyleng = 0,\n                recovering = 0,\n                TERROR = 2,\n                EOF = 1;\n              var args = lstack.slice.call(arguments, 1);\n              var lexer = Object.create(this.lexer);\n              var sharedState = {\n                yy: {}\n              };\n              for (var k in this.yy) {\n                if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n                  sharedState.yy[k] = this.yy[k];\n                }\n              }\n              lexer.setInput(input, sharedState.yy);\n              sharedState.yy.lexer = lexer;\n              sharedState.yy.parser = this;\n              if (typeof lexer.yylloc == 'undefined') {\n                lexer.yylloc = {};\n              }\n              var yyloc = lexer.yylloc;\n              lstack.push(yyloc);\n              var ranges = lexer.options && lexer.options.ranges;\n              if (typeof sharedState.yy.parseError === 'function') {\n                this.parseError = sharedState.yy.parseError;\n              } else {\n                this.parseError = Object.getPrototypeOf(this).parseError;\n              }\n              function popStack(n) {\n                stack.length = stack.length - 2 * n;\n                vstack.length = vstack.length - n;\n                lstack.length = lstack.length - n;\n              }\n              function lex() {\n                var token;\n                token = tstack.pop() || lexer.lex() || EOF;\n                if (typeof token !== 'number') {\n                  if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                  }\n                  token = self.symbols_[token] || token;\n                }\n                return token;\n              }\n              var symbol,\n                preErrorSymbol,\n                state,\n                action,\n                a,\n                r,\n                yyval = {},\n                p,\n                len,\n                newState,\n                expected;\n              while (true) {\n                state = stack[stack.length - 1];\n                if (this.defaultActions[state]) {\n                  action = this.defaultActions[state];\n                } else {\n                  if (symbol === null || typeof symbol == 'undefined') {\n                    symbol = lex();\n                  }\n                  action = table[state] && table[state][symbol];\n                }\n                if (typeof action === 'undefined' || !action.length || !action[0]) {\n                  var errStr = '';\n                  expected = [];\n                  for (p in table[state]) {\n                    if (this.terminals_[p] && p > TERROR) {\n                      expected.push('\\'' + this.terminals_[p] + '\\'');\n                    }\n                  }\n                  if (lexer.showPosition) {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n                  } else {\n                    errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n                  }\n                  this.parseError(errStr, {\n                    text: lexer.match,\n                    token: this.terminals_[symbol] || symbol,\n                    line: lexer.yylineno,\n                    loc: yyloc,\n                    expected: expected\n                  });\n                }\n                if (action[0] instanceof Array && action.length > 1) {\n                  throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n                }\n                switch (action[0]) {\n                  case 1:\n                    stack.push(symbol);\n                    vstack.push(lexer.yytext);\n                    lstack.push(lexer.yylloc);\n                    stack.push(action[1]);\n                    symbol = null;\n                    if (!preErrorSymbol) {\n                      yyleng = lexer.yyleng;\n                      yytext = lexer.yytext;\n                      yylineno = lexer.yylineno;\n                      yyloc = lexer.yylloc;\n                      if (recovering > 0) {\n                        recovering--;\n                      }\n                    } else {\n                      symbol = preErrorSymbol;\n                      preErrorSymbol = null;\n                    }\n                    break;\n                  case 2:\n                    len = this.productions_[action[1]][1];\n                    yyval.$ = vstack[vstack.length - len];\n                    yyval._$ = {\n                      first_line: lstack[lstack.length - (len || 1)].first_line,\n                      last_line: lstack[lstack.length - 1].last_line,\n                      first_column: lstack[lstack.length - (len || 1)].first_column,\n                      last_column: lstack[lstack.length - 1].last_column\n                    };\n                    if (ranges) {\n                      yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n                    }\n                    r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n                    if (typeof r !== 'undefined') {\n                      return r;\n                    }\n                    if (len) {\n                      stack = stack.slice(0, -1 * len * 2);\n                      vstack = vstack.slice(0, -1 * len);\n                      lstack = lstack.slice(0, -1 * len);\n                    }\n                    stack.push(this.productions_[action[1]][0]);\n                    vstack.push(yyval.$);\n                    lstack.push(yyval._$);\n                    newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n                    stack.push(newState);\n                    break;\n                  case 3:\n                    return true;\n                }\n              }\n              return true;\n            }\n          };\n\n          /* generated by jison-lex 0.3.4 */\n          var lexer = function () {\n            var lexer = {\n              EOF: 1,\n              parseError: function parseError(str, hash) {\n                if (this.yy.parser) {\n                  this.yy.parser.parseError(str, hash);\n                } else {\n                  throw new Error(str);\n                }\n              },\n              // resets the lexer, sets new input\n              setInput: function (input, yy) {\n                this.yy = yy || this.yy || {};\n                this._input = input;\n                this._more = this._backtrack = this.done = false;\n                this.yylineno = this.yyleng = 0;\n                this.yytext = this.matched = this.match = '';\n                this.conditionStack = ['INITIAL'];\n                this.yylloc = {\n                  first_line: 1,\n                  first_column: 0,\n                  last_line: 1,\n                  last_column: 0\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [0, 0];\n                }\n                this.offset = 0;\n                return this;\n              },\n              // consumes and returns one char from the input\n              input: function () {\n                var ch = this._input[0];\n                this.yytext += ch;\n                this.yyleng++;\n                this.offset++;\n                this.match += ch;\n                this.matched += ch;\n                var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno++;\n                  this.yylloc.last_line++;\n                } else {\n                  this.yylloc.last_column++;\n                }\n                if (this.options.ranges) {\n                  this.yylloc.range[1]++;\n                }\n                this._input = this._input.slice(1);\n                return ch;\n              },\n              // unshifts one char (or a string) into the input\n              unput: function (ch) {\n                var len = ch.length;\n                var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n                this._input = ch + this._input;\n                this.yytext = this.yytext.substr(0, this.yytext.length - len);\n                //this.yyleng -= len;\n                this.offset -= len;\n                var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n                this.match = this.match.substr(0, this.match.length - 1);\n                this.matched = this.matched.substr(0, this.matched.length - 1);\n                if (lines.length - 1) {\n                  this.yylineno -= lines.length - 1;\n                }\n                var r = this.yylloc.range;\n                this.yylloc = {\n                  first_line: this.yylloc.first_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.first_column,\n                  last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n                };\n                if (this.options.ranges) {\n                  this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n                }\n                this.yyleng = this.yytext.length;\n                return this;\n              },\n              // When called from action, caches matched text and appends it on next action\n              more: function () {\n                this._more = true;\n                return this;\n              },\n              // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n              reject: function () {\n                if (this.options.backtrack_lexer) {\n                  this._backtrack = true;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n                return this;\n              },\n              // retain first n characters of the match\n              less: function (n) {\n                this.unput(this.match.slice(n));\n              },\n              // displays already matched input, i.e. for error messages\n              pastInput: function () {\n                var past = this.matched.substr(0, this.matched.length - this.match.length);\n                return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, \"\");\n              },\n              // displays upcoming input, i.e. for error messages\n              upcomingInput: function () {\n                var next = this.match;\n                if (next.length < 20) {\n                  next += this._input.substr(0, 20 - next.length);\n                }\n                return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n              },\n              // displays the character position where the lexing error occurred, i.e. for error messages\n              showPosition: function () {\n                var pre = this.pastInput();\n                var c = new Array(pre.length + 1).join(\"-\");\n                return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n              },\n              // test the lexed token: return FALSE when not a match, otherwise return token\n              test_match: function (match, indexed_rule) {\n                var token, lines, backup;\n                if (this.options.backtrack_lexer) {\n                  // save context\n                  backup = {\n                    yylineno: this.yylineno,\n                    yylloc: {\n                      first_line: this.yylloc.first_line,\n                      last_line: this.last_line,\n                      first_column: this.yylloc.first_column,\n                      last_column: this.yylloc.last_column\n                    },\n                    yytext: this.yytext,\n                    match: this.match,\n                    matches: this.matches,\n                    matched: this.matched,\n                    yyleng: this.yyleng,\n                    offset: this.offset,\n                    _more: this._more,\n                    _input: this._input,\n                    yy: this.yy,\n                    conditionStack: this.conditionStack.slice(0),\n                    done: this.done\n                  };\n                  if (this.options.ranges) {\n                    backup.yylloc.range = this.yylloc.range.slice(0);\n                  }\n                }\n                lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n                if (lines) {\n                  this.yylineno += lines.length;\n                }\n                this.yylloc = {\n                  first_line: this.yylloc.last_line,\n                  last_line: this.yylineno + 1,\n                  first_column: this.yylloc.last_column,\n                  last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n                };\n                this.yytext += match[0];\n                this.match += match[0];\n                this.matches = match;\n                this.yyleng = this.yytext.length;\n                if (this.options.ranges) {\n                  this.yylloc.range = [this.offset, this.offset += this.yyleng];\n                }\n                this._more = false;\n                this._backtrack = false;\n                this._input = this._input.slice(match[0].length);\n                this.matched += match[0];\n                token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n                if (this.done && this._input) {\n                  this.done = false;\n                }\n                if (token) {\n                  return token;\n                } else if (this._backtrack) {\n                  // recover context\n                  for (var k in backup) {\n                    this[k] = backup[k];\n                  }\n                  return false; // rule action called reject() implying the next rule should be tested instead.\n                }\n                return false;\n              },\n              // return next match in input\n              next: function () {\n                if (this.done) {\n                  return this.EOF;\n                }\n                if (!this._input) {\n                  this.done = true;\n                }\n                var token, match, tempMatch, index;\n                if (!this._more) {\n                  this.yytext = '';\n                  this.match = '';\n                }\n                var rules = this._currentRules();\n                for (var i = 0; i < rules.length; i++) {\n                  tempMatch = this._input.match(this.rules[rules[i]]);\n                  if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                    match = tempMatch;\n                    index = i;\n                    if (this.options.backtrack_lexer) {\n                      token = this.test_match(tempMatch, rules[i]);\n                      if (token !== false) {\n                        return token;\n                      } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                      } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                      }\n                    } else if (!this.options.flex) {\n                      break;\n                    }\n                  }\n                }\n                if (match) {\n                  token = this.test_match(match, rules[index]);\n                  if (token !== false) {\n                    return token;\n                  }\n                  // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                  return false;\n                }\n                if (this._input === \"\") {\n                  return this.EOF;\n                } else {\n                  return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                    text: \"\",\n                    token: null,\n                    line: this.yylineno\n                  });\n                }\n              },\n              // return next match that has a token\n              lex: function lex() {\n                var r = this.next();\n                if (r) {\n                  return r;\n                } else {\n                  return this.lex();\n                }\n              },\n              // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n              begin: function begin(condition) {\n                this.conditionStack.push(condition);\n              },\n              // pop the previously active lexer condition state off the condition stack\n              popState: function popState() {\n                var n = this.conditionStack.length - 1;\n                if (n > 0) {\n                  return this.conditionStack.pop();\n                } else {\n                  return this.conditionStack[0];\n                }\n              },\n              // produce the lexer rule set which is active for the currently active lexer condition state\n              _currentRules: function _currentRules() {\n                if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n                  return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n                } else {\n                  return this.conditions[\"INITIAL\"].rules;\n                }\n              },\n              // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n              topState: function topState(n) {\n                n = this.conditionStack.length - 1 - Math.abs(n || 0);\n                if (n >= 0) {\n                  return this.conditionStack[n];\n                } else {\n                  return \"INITIAL\";\n                }\n              },\n              // alias for begin(condition)\n              pushState: function pushState(condition) {\n                this.begin(condition);\n              },\n              // return the number of states currently on the stack\n              stateStackSize: function stateStackSize() {\n                return this.conditionStack.length;\n              },\n              options: {\n                \"case-insensitive\": true\n              },\n              performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n                var YYSTATE = YY_START;\n                switch ($avoiding_name_collisions) {\n                  case 0:\n                    this.begin('open_directive');\n                    return 21;\n                    break;\n                  case 1:\n                    this.begin('type_directive');\n                    return 22;\n                    break;\n                  case 2:\n                    this.popState();\n                    this.begin('arg_directive');\n                    return 15;\n                    break;\n                  case 3:\n                    this.popState();\n                    this.popState();\n                    return 24;\n                    break;\n                  case 4:\n                    return 23;\n                    break;\n                  case 5:\n                    /* skip comments */\n                    break;\n                  case 6:\n                    /* skip comments */\n                    break;\n                  case 7:\n                    return 11;\n                    break;\n                  case 8:\n                    /* skip whitespace */\n                    break;\n                  case 9:\n                    /* skip comments */\n                    break;\n                  case 10:\n                    return 4;\n                    break;\n                  case 11:\n                    return 17;\n                    break;\n                  case 12:\n                    return 18;\n                    break;\n                  case 13:\n                    return 19;\n                    break;\n                  case 14:\n                    return 20;\n                    break;\n                  case 15:\n                    return 15;\n                    break;\n                  case 16:\n                    return 6;\n                    break;\n                  case 17:\n                    return 'INVALID';\n                    break;\n                }\n              },\n              rules: [/^(?:%%\\{)/i, /^(?:((?:(?!\\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\\}%%)/i, /^(?:((?:(?!\\}%%).|\\n)*))/i, /^(?:%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n]+)/i, /^(?:\\s+)/i, /^(?:#[^\\n]*)/i, /^(?:journey\\b)/i, /^(?:title\\s[^#\\n;]+)/i, /^(?:section\\s[^#:\\n;]+)/i, /^(?:[^#:\\n;]+)/i, /^(?::[^#\\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i],\n              conditions: {\n                \"open_directive\": {\n                  \"rules\": [1],\n                  \"inclusive\": false\n                },\n                \"type_directive\": {\n                  \"rules\": [2, 3],\n                  \"inclusive\": false\n                },\n                \"arg_directive\": {\n                  \"rules\": [3, 4],\n                  \"inclusive\": false\n                },\n                \"INITIAL\": {\n                  \"rules\": [0, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17],\n                  \"inclusive\": true\n                }\n              }\n            };\n            return lexer;\n          }();\n          parser.lexer = lexer;\n          function Parser() {\n            this.yy = {};\n          }\n          Parser.prototype = parser;\n          parser.Parser = Parser;\n          return new Parser();\n        }();\n        if (true) {\n          exports.parser = parser;\n          exports.Parser = parser.Parser;\n          exports.parse = function () {\n            return parser.parse.apply(parser, arguments);\n          };\n          exports.main = function commonjsMain(args) {\n            if (!args[1]) {\n              console.log('Usage: ' + args[0] + ' FILE');\n              process.exit(1);\n            }\n            var source = __webpack_require__(/*! fs */\"?0f62\").readFileSync(__webpack_require__(/*! path */\"./node_modules/path-browserify/index.js\").normalize(args[1]), \"utf8\");\n            return exports.parser.parse(source);\n          };\n          if (true && __webpack_require__.c[__webpack_require__.s] === module) {\n            exports.main(process.argv.slice(1));\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/config.js\": (\n      /*!***********************!*\\\n        !*** ./src/config.js ***!\n        \\***********************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"defaultConfig\": () => (/* binding */defaultConfig),\n          /* harmony export */\"updateCurrentConfig\": () => (/* binding */updateCurrentConfig),\n          /* harmony export */\"setSiteConfig\": () => (/* binding */setSiteConfig),\n          /* harmony export */\"saveConfigFromInitilize\": () => (/* binding */saveConfigFromInitilize),\n          /* harmony export */\"updateSiteConfig\": () => (/* binding */updateSiteConfig),\n          /* harmony export */\"getSiteConfig\": () => (/* binding */getSiteConfig),\n          /* harmony export */\"setConfig\": () => (/* binding */setConfig),\n          /* harmony export */\"getConfig\": () => (/* binding */getConfig),\n          /* harmony export */\"sanitize\": () => (/* binding */sanitize),\n          /* harmony export */\"addDirective\": () => (/* binding */addDirective),\n          /* harmony export */\"reset\": () => (/* binding */reset)\n          /* harmony export */\n        });\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */\"./src/utils.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./logger */\"./src/logger.js\");\n        /* harmony import */\n        var _themes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./themes */\"./src/themes/index.js\");\n        /* harmony import */\n        var _defaultConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defaultConfig */\"./src/defaultConfig.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n\n        // debugger;\n\n        var defaultConfig = Object.freeze(_defaultConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n        var siteConfig = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({}, defaultConfig);\n        var configFromInitialize;\n        var directives = [];\n        var currentConfig = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({}, defaultConfig);\n        var updateCurrentConfig = function updateCurrentConfig(siteCfg, _directives) {\n          // start with config beeing the siteConfig\n          var cfg = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({}, siteCfg); // let sCfg = assignWithDepth(defaultConfig, siteConfigDelta);\n          // Join directives\n\n          var sumOfDirectives = {};\n          for (var i = 0; i < _directives.length; i++) {\n            var d = _directives[i];\n            sanitize(d); // Apply the data from the directive where the the overrides the themeVaraibles\n\n            sumOfDirectives = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(sumOfDirectives, d);\n          }\n          cfg = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(cfg, sumOfDirectives);\n          if (sumOfDirectives.theme) {\n            var tmpConfigFromInitialize = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({}, configFromInitialize);\n            var themeVariables = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(tmpConfigFromInitialize.themeVariables || {}, sumOfDirectives.themeVariables);\n            cfg.themeVariables = _themes__WEBPACK_IMPORTED_MODULE_2__[\"default\"][cfg.theme].getThemeVariables(themeVariables);\n          }\n          currentConfig = cfg;\n          return cfg;\n        };\n        /**\n         * ## setSiteConfig\n         *\n         * | Function      | Description                           | Type        | Values                                  |\n         * | ------------- | ------------------------------------- | ----------- | --------------------------------------- |\n         * | setSiteConfig | Sets the siteConfig to desired values | Put Request | Any Values, except ones in secure array |\n         *\n         * **Notes:** Sets the siteConfig. The siteConfig is a protected configuration for repeat use. Calls\n         * to reset() will reset the currentConfig to siteConfig. Calls to reset(configApi.defaultConfig)\n         * will reset siteConfig and currentConfig to the defaultConfig Note: currentConfig is set in this\n         * function *Default value: At default, will mirror Global Config**\n         *\n         * @param conf - The base currentConfig to use as siteConfig\n         * @returns {object} - The siteConfig\n         */\n\n        var setSiteConfig = function setSiteConfig(conf) {\n          siteConfig = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({}, defaultConfig);\n          siteConfig = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(siteConfig, conf);\n          if (conf.theme) {\n            siteConfig.themeVariables = _themes__WEBPACK_IMPORTED_MODULE_2__[\"default\"][conf.theme].getThemeVariables(conf.themeVariables);\n          }\n          currentConfig = updateCurrentConfig(siteConfig, directives);\n          return siteConfig;\n        };\n        var saveConfigFromInitilize = function saveConfigFromInitilize(conf) {\n          configFromInitialize = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({}, conf);\n        };\n        var updateSiteConfig = function updateSiteConfig(conf) {\n          siteConfig = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(siteConfig, conf);\n          updateCurrentConfig(siteConfig, directives);\n          return siteConfig;\n        };\n        /**\n         * ## getSiteConfig\n         *\n         * | Function      | Description                                       | Type        | Values                           |\n         * | ------------- | ------------------------------------------------- | ----------- | -------------------------------- |\n         * | setSiteConfig | Returns the current siteConfig base configuration | Get Request | Returns Any Values in siteConfig |\n         *\n         * **Notes**: Returns **any** values in siteConfig.\n         *\n         * @returns {object} - The siteConfig\n         */\n\n        var getSiteConfig = function getSiteConfig() {\n          return (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({}, siteConfig);\n        };\n        /**\n         * ## setConfig\n         *\n         * | Function      | Description                           | Type        | Values                                  |\n         * | ------------- | ------------------------------------- | ----------- | --------------------------------------- |\n         * | setSiteConfig | Sets the siteConfig to desired values | Put Request | Any Values, except ones in secure array |\n         *\n         * **Notes**: Sets the currentConfig. The parameter conf is sanitized based on the siteConfig.secure\n         * keys. Any values found in conf with key found in siteConfig.secure will be replaced with the\n         * corresponding siteConfig value.\n         *\n         * @param {any} conf - The potential currentConfig\n         * @returns {any} - The currentConfig merged with the sanitized conf\n         */\n\n        var setConfig = function setConfig(conf) {\n          // sanitize(conf);\n          // Object.keys(conf).forEach(key => {\n          //   const manipulator = manipulators[key];\n          //   conf[key] = manipulator ? manipulator(conf[key]) : conf[key];\n          // });\n          (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(currentConfig, conf);\n          return getConfig();\n        };\n        /**\n         * ## getConfig\n         *\n         * | Function  | Description               | Type        | Return Values                  |\n         * | --------- | ------------------------- | ----------- | ------------------------------ |\n         * | getConfig | Obtains the currentConfig | Get Request | Any Values from current Config |\n         *\n         * **Notes**: Returns **any** the currentConfig\n         *\n         * @returns {any} - The currentConfig\n         */\n\n        var getConfig = function getConfig() {\n          return (0, _utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({}, currentConfig);\n        };\n        /**\n         * ## sanitize\n         *\n         * | Function | Description                            | Type        | Values |\n         * | -------- | -------------------------------------- | ----------- | ------ |\n         * | sanitize | Sets the siteConfig to desired values. | Put Request | None   |\n         *\n         * Ensures options parameter does not attempt to override siteConfig secure keys **Notes**: modifies\n         * options in-place\n         *\n         * @param {any} options - The potential setConfig parameter\n         */\n\n        var sanitize = function sanitize(options) {\n          // Checking that options are not in the list of excluded options\n          Object.keys(siteConfig.secure).forEach(function (key) {\n            if (typeof options[siteConfig.secure[key]] !== 'undefined') {\n              // DO NOT attempt to print options[siteConfig.secure[key]] within `${}` as a malicious script\n              // can exploit the logger's attempt to stringify the value and execute arbitrary code\n              _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"Denied attempt to modify a secure key \".concat(siteConfig.secure[key]), options[siteConfig.secure[key]]);\n              delete options[siteConfig.secure[key]];\n            }\n          }); // Check that there no attempts of prototype pollution\n\n          Object.keys(options).forEach(function (key) {\n            if (key.indexOf('__') === 0) {\n              delete options[key];\n            }\n          }); // Check that there no attempts of xss, there should be no tags at all in the directive\n          // blocking data urls as base64 urls can contain svgs with inline script tags\n\n          Object.keys(options).forEach(function (key) {\n            if (typeof options[key] === 'string') {\n              if (options[key].indexOf('<') > -1 || options[key].indexOf('>') > -1 || options[key].indexOf('url(data:') > -1) {\n                delete options[key];\n              }\n            }\n            if (_typeof(options[key]) === 'object') {\n              sanitize(options[key]);\n            }\n          });\n        };\n        /**\n         * Pushes in a directive to the configuration\n         *\n         * @param {object} directive The directive to push in\n         */\n\n        var addDirective = function addDirective(directive) {\n          if (directive.fontFamily) {\n            if (!directive.themeVariables) {\n              directive.themeVariables = {\n                fontFamily: directive.fontFamily\n              };\n            } else {\n              if (!directive.themeVariables.fontFamily) {\n                directive.themeVariables = {\n                  fontFamily: directive.fontFamily\n                };\n              }\n            }\n          }\n          directives.push(directive);\n          updateCurrentConfig(siteConfig, directives);\n        };\n        /**\n         * ## reset\n         *\n         * | Function | Description                  | Type        | Required | Values |\n         * | -------- | ---------------------------- | ----------- | -------- | ------ |\n         * | reset    | Resets currentConfig to conf | Put Request | Required | None   |\n         *\n         * ## conf\n         *\n         * | Parameter | Description                                                   | Type       | Required | Values                                       |\n         * | --------- | ------------------------------------------------------------- | ---------- | -------- | -------------------------------------------- |\n         * | conf      | base set of values, which currentConfig coul be **reset** to. | Dictionary | Required | Any Values, with respect to the secure Array |\n         *\n         * **Notes**: (default: current siteConfig ) (optional, default `getSiteConfig()`)\n         */\n\n        var reset = function reset() {\n          // Replace current config with siteConfig\n          directives = [];\n          updateCurrentConfig(siteConfig, directives);\n        };\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/clusters.js\": (\n      /*!***************************************!*\\\n        !*** ./src/dagre-wrapper/clusters.js ***!\n        \\***************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"insertCluster\": () => (/* binding */insertCluster),\n          /* harmony export */\"getClusterTitleWidth\": () => (/* binding */getClusterTitleWidth),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"positionCluster\": () => (/* binding */positionCluster)\n          /* harmony export */\n        });\n        /* harmony import */\n        var _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./intersect/intersect-rect */\"./src/dagre-wrapper/intersect/intersect-rect.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _createLabel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./createLabel */\"./src/dagre-wrapper/createLabel.js\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */\"./src/config.js\");\n        /* harmony import */\n        var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../diagrams/common/common */\"./src/diagrams/common/common.js\");\n        var rect = function rect(parent, node) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('Creating subgraph rect for ', node.id, node); // Add outer g element\n\n          var shapeSvg = parent.insert('g').attr('class', 'cluster' + (node.class ? ' ' + node.class : '')).attr('id', node.id); // add the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child'); // Create the label and insert it after the rect\n\n          var label = shapeSvg.insert('g').attr('class', 'cluster-label');\n          var text = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.labelText, node.labelStyle, undefined, true)); // Get the size of the label\n\n          var bbox = text.getBBox();\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {\n            var div = text.children[0];\n            var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text);\n            bbox = div.getBoundingClientRect();\n            dv.attr('width', bbox.width);\n            dv.attr('height', bbox.height);\n          }\n          var padding = 0 * node.padding;\n          var halfPadding = padding / 2;\n          var width = node.width <= bbox.width + padding ? bbox.width + padding : node.width;\n          if (node.width <= bbox.width + padding) {\n            node.diff = (bbox.width - node.width) / 2;\n          } else {\n            node.diff = -node.padding / 2;\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('Data ', node, JSON.stringify(node)); // center the rect around its coordinate\n\n          rect.attr('style', node.style).attr('rx', node.rx).attr('ry', node.ry).attr('x', node.x - width / 2).attr('y', node.y - node.height / 2 - halfPadding).attr('width', width).attr('height', node.height + padding); // Center the label\n\n          label.attr('transform', 'translate(' + (node.x - bbox.width / 2) + ', ' + (node.y - node.height / 2 + node.padding / 3) + ')');\n          var rectBox = rect.node().getBBox();\n          node.width = rectBox.width;\n          node.height = rectBox.height;\n          node.intersect = function (point) {\n            return (0, _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(node, point);\n          };\n          return shapeSvg;\n        };\n        /**\n         * Non visiable cluster where the note is group with its\n         *\n         * @param {any} parent\n         * @param {any} node\n         * @returns {any} ShapeSvg\n         */\n\n        var noteGroup = function noteGroup(parent, node) {\n          // Add outer g element\n          var shapeSvg = parent.insert('g').attr('class', 'note-cluster').attr('id', node.id); // add the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child');\n          var padding = 0 * node.padding;\n          var halfPadding = padding / 2; // center the rect around its coordinate\n\n          rect.attr('rx', node.rx).attr('ry', node.ry).attr('x', node.x - node.width / 2 - halfPadding).attr('y', node.y - node.height / 2 - halfPadding).attr('width', node.width + padding).attr('height', node.height + padding).attr('fill', 'none');\n          var rectBox = rect.node().getBBox();\n          node.width = rectBox.width;\n          node.height = rectBox.height;\n          node.intersect = function (point) {\n            return (0, _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(node, point);\n          };\n          return shapeSvg;\n        };\n        var roundedWithTitle = function roundedWithTitle(parent, node) {\n          // Add outer g element\n          var shapeSvg = parent.insert('g').attr('class', node.classes).attr('id', node.id); // add the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child'); // Create the label and insert it after the rect\n\n          var label = shapeSvg.insert('g').attr('class', 'cluster-label');\n          var innerRect = shapeSvg.append('rect');\n          var text = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.labelText, node.labelStyle, undefined, true)); // Get the size of the label\n\n          var bbox = text.getBBox();\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {\n            var div = text.children[0];\n            var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text);\n            bbox = div.getBoundingClientRect();\n            dv.attr('width', bbox.width);\n            dv.attr('height', bbox.height);\n          }\n          bbox = text.getBBox();\n          var padding = 0 * node.padding;\n          var halfPadding = padding / 2;\n          var width = node.width <= bbox.width + node.padding ? bbox.width + node.padding : node.width;\n          if (node.width <= bbox.width + node.padding) {\n            node.diff = (bbox.width + node.padding * 0 - node.width) / 2;\n          } else {\n            node.diff = -node.padding / 2;\n          } // center the rect around its coordinate\n\n          rect.attr('class', 'outer').attr('x', node.x - width / 2 - halfPadding).attr('y', node.y - node.height / 2 - halfPadding).attr('width', width + padding).attr('height', node.height + padding);\n          innerRect.attr('class', 'inner').attr('x', node.x - width / 2 - halfPadding).attr('y', node.y - node.height / 2 - halfPadding + bbox.height - 1).attr('width', width + padding).attr('height', node.height + padding - bbox.height - 3); // Center the label\n\n          label.attr('transform', 'translate(' + (node.x - bbox.width / 2) + ', ' + (node.y - node.height / 2 - node.padding / 3 + ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels) ? 5 : 3)) + ')');\n          var rectBox = rect.node().getBBox();\n          node.height = rectBox.height;\n          node.intersect = function (point) {\n            return (0, _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(node, point);\n          };\n          return shapeSvg;\n        };\n        var divider = function divider(parent, node) {\n          // Add outer g element\n          var shapeSvg = parent.insert('g').attr('class', node.classes).attr('id', node.id); // add the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child');\n          var padding = 0 * node.padding;\n          var halfPadding = padding / 2; // center the rect around its coordinate\n\n          rect.attr('class', 'divider').attr('x', node.x - node.width / 2 - halfPadding).attr('y', node.y - node.height / 2).attr('width', node.width + padding).attr('height', node.height + padding);\n          var rectBox = rect.node().getBBox();\n          node.width = rectBox.width;\n          node.height = rectBox.height;\n          node.diff = -node.padding / 2;\n          node.intersect = function (point) {\n            return (0, _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(node, point);\n          };\n          return shapeSvg;\n        };\n        var shapes = {\n          rect: rect,\n          roundedWithTitle: roundedWithTitle,\n          noteGroup: noteGroup,\n          divider: divider\n        };\n        var clusterElems = {};\n        var insertCluster = function insertCluster(elem, node) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('Inserting cluster');\n          var shape = node.shape || 'rect';\n          clusterElems[node.id] = shapes[shape](elem, node);\n        };\n        var getClusterTitleWidth = function getClusterTitleWidth(elem, node) {\n          var label = (0, _createLabel__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(node.labelText, node.labelStyle, undefined, true);\n          elem.node().appendChild(label);\n          var width = label.getBBox().width;\n          elem.node().removeChild(label);\n          return width;\n        };\n        var clear = function clear() {\n          clusterElems = {};\n        };\n        var positionCluster = function positionCluster(node) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Position cluster (' + node.id + ', ' + node.x + ', ' + node.y + ')');\n          var el = clusterElems[node.id];\n          el.attr('transform', 'translate(' + node.x + ', ' + node.y + ')');\n        };\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/createLabel.js\": (\n      /*!******************************************!*\\\n        !*** ./src/dagre-wrapper/createLabel.js ***!\n        \\******************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */\"./src/config.js\");\n        /* harmony import */\n        var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../diagrams/common/common */\"./src/diagrams/common/common.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n\n        // eslint-disable-line\n\n        var sanitizeTxt = function sanitizeTxt(txt) {\n          return (0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.sanitizeText)(txt, (0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)());\n        };\n        /**\n         * @param dom\n         * @param styleFn\n         */\n\n        function applyStyle(dom, styleFn) {\n          if (styleFn) {\n            dom.attr('style', styleFn);\n          }\n        }\n        /**\n         * @param {any} node\n         * @returns {SVGForeignObjectElement} Node\n         */\n\n        function addHtmlLabel(node) {\n          var fo = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(document.createElementNS('http://www.w3.org/2000/svg', 'foreignObject'));\n          var div = fo.append('xhtml:div');\n          var label = node.label;\n          var labelClass = node.isNode ? 'nodeLabel' : 'edgeLabel';\n          div.html('<span class=\"' + labelClass + '\" ' + (node.labelStyle ? 'style=\"' + node.labelStyle + '\"' : '') + '>' + label + '</span>');\n          applyStyle(div, node.labelStyle);\n          div.style('display', 'inline-block'); // Fix for firefox\n\n          div.style('white-space', 'nowrap');\n          div.attr('xmlns', 'http://www.w3.org/1999/xhtml');\n          return fo.node();\n        }\n        var createLabel = function createLabel(_vertexText, style, isTitle, isNode) {\n          var vertexText = _vertexText || '';\n          if (_typeof(vertexText) === 'object') vertexText = vertexText[0];\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {\n            // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\n            vertexText = vertexText.replace(/\\\\n|\\n/g, '<br />');\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.info('vertexText' + vertexText);\n            var node = {\n              isNode: isNode,\n              label: vertexText.replace(/fa[lrsb]?:fa-[\\w-]+/g, function (s) {\n                return \"<i class='\".concat(s.replace(':', ' '), \"'></i>\");\n              }),\n              labelStyle: style.replace('fill:', 'color:')\n            };\n            var vertexNode = addHtmlLabel(node); // vertexNode.parentNode.removeChild(vertexNode);\n\n            return vertexNode;\n          } else {\n            var svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n            svgLabel.setAttribute('style', style.replace('color:', 'fill:'));\n            var rows = [];\n            if (typeof vertexText === 'string') {\n              rows = vertexText.split(/\\\\n|\\n|<br\\s*\\/?>/gi);\n            } else if (Array.isArray(vertexText)) {\n              rows = vertexText;\n            } else {\n              rows = [];\n            }\n            for (var j = 0; j < rows.length; j++) {\n              var tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n              tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n              tspan.setAttribute('dy', '1em');\n              tspan.setAttribute('x', '0');\n              if (isTitle) {\n                tspan.setAttribute('class', 'title-row');\n              } else {\n                tspan.setAttribute('class', 'row');\n              }\n              tspan.textContent = rows[j].trim();\n              svgLabel.appendChild(tspan);\n            }\n            return svgLabel;\n          }\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = createLabel;\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/edges.js\": (\n      /*!************************************!*\\\n        !*** ./src/dagre-wrapper/edges.js ***!\n        \\************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"insertEdgeLabel\": () => (/* binding */insertEdgeLabel),\n          /* harmony export */\"positionEdgeLabel\": () => (/* binding */positionEdgeLabel),\n          /* harmony export */\"intersection\": () => (/* binding */intersection),\n          /* harmony export */\"insertEdge\": () => (/* binding */insertEdge)\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _createLabel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createLabel */\"./src/dagre-wrapper/createLabel.js\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */\"./src/config.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../diagrams/common/common */\"./src/diagrams/common/common.js\");\n        // eslint-disable-line\n\n        var edgeLabels = {};\n        var terminalLabels = {};\n        var clear = function clear() {\n          edgeLabels = {};\n          terminalLabels = {};\n        };\n        var insertEdgeLabel = function insertEdgeLabel(elem, edge) {\n          // Create the actual text element\n          var labelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(edge.label, edge.labelStyle); // Create outer g, edgeLabel, this will be positioned after graph layout\n\n          var edgeLabel = elem.insert('g').attr('class', 'edgeLabel'); // Create inner g, label, this will be positioned now for centering the text\n\n          var label = edgeLabel.insert('g').attr('class', 'label');\n          label.node().appendChild(labelElement); // Center the label\n\n          var bbox = labelElement.getBBox();\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.htmlLabels)) {\n            var div = labelElement.children[0];\n            var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(labelElement);\n            bbox = div.getBoundingClientRect();\n            dv.attr('width', bbox.width);\n            dv.attr('height', bbox.height);\n          }\n          label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + -bbox.height / 2 + ')'); // Make element accessible by id for positioning\n\n          edgeLabels[edge.id] = edgeLabel; // Update the abstract data of the edge with the new information about its width and height\n\n          edge.width = bbox.width;\n          edge.height = bbox.height;\n          var fo;\n          if (edge.startLabelLeft) {\n            // Create the actual text element\n            var startLabelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(edge.startLabelLeft, edge.labelStyle);\n            var startEdgeLabelLeft = elem.insert('g').attr('class', 'edgeTerminals');\n            var inner = startEdgeLabelLeft.insert('g').attr('class', 'inner');\n            fo = inner.node().appendChild(startLabelElement);\n            var slBox = startLabelElement.getBBox();\n            inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n            if (!terminalLabels[edge.id]) {\n              terminalLabels[edge.id] = {};\n            }\n            terminalLabels[edge.id].startLeft = startEdgeLabelLeft;\n            setTerminalWidth(fo, edge.startLabelLeft);\n          }\n          if (edge.startLabelRight) {\n            // Create the actual text element\n            var _startLabelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(edge.startLabelRight, edge.labelStyle);\n            var startEdgeLabelRight = elem.insert('g').attr('class', 'edgeTerminals');\n            var _inner = startEdgeLabelRight.insert('g').attr('class', 'inner');\n            fo = startEdgeLabelRight.node().appendChild(_startLabelElement);\n            _inner.node().appendChild(_startLabelElement);\n            var _slBox = _startLabelElement.getBBox();\n            _inner.attr('transform', 'translate(' + -_slBox.width / 2 + ', ' + -_slBox.height / 2 + ')');\n            if (!terminalLabels[edge.id]) {\n              terminalLabels[edge.id] = {};\n            }\n            terminalLabels[edge.id].startRight = startEdgeLabelRight;\n            setTerminalWidth(fo, edge.startLabelRight);\n          }\n          if (edge.endLabelLeft) {\n            // Create the actual text element\n            var endLabelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(edge.endLabelLeft, edge.labelStyle);\n            var endEdgeLabelLeft = elem.insert('g').attr('class', 'edgeTerminals');\n            var _inner2 = endEdgeLabelLeft.insert('g').attr('class', 'inner');\n            fo = _inner2.node().appendChild(endLabelElement);\n            var _slBox2 = endLabelElement.getBBox();\n            _inner2.attr('transform', 'translate(' + -_slBox2.width / 2 + ', ' + -_slBox2.height / 2 + ')');\n            endEdgeLabelLeft.node().appendChild(endLabelElement);\n            if (!terminalLabels[edge.id]) {\n              terminalLabels[edge.id] = {};\n            }\n            terminalLabels[edge.id].endLeft = endEdgeLabelLeft;\n            setTerminalWidth(fo, edge.endLabelLeft);\n          }\n          if (edge.endLabelRight) {\n            // Create the actual text element\n            var _endLabelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(edge.endLabelRight, edge.labelStyle);\n            var endEdgeLabelRight = elem.insert('g').attr('class', 'edgeTerminals');\n            var _inner3 = endEdgeLabelRight.insert('g').attr('class', 'inner');\n            fo = _inner3.node().appendChild(_endLabelElement);\n            var _slBox3 = _endLabelElement.getBBox();\n            _inner3.attr('transform', 'translate(' + -_slBox3.width / 2 + ', ' + -_slBox3.height / 2 + ')');\n            endEdgeLabelRight.node().appendChild(_endLabelElement);\n            if (!terminalLabels[edge.id]) {\n              terminalLabels[edge.id] = {};\n            }\n            terminalLabels[edge.id].endRight = endEdgeLabelRight;\n            setTerminalWidth(fo, edge.endLabelRight);\n          }\n        };\n        /**\n         * @param {any} fo\n         * @param {any} value\n         */\n\n        function setTerminalWidth(fo, value) {\n          if ((0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.htmlLabels && fo) {\n            fo.style.width = value.length * 9 + 'px';\n            fo.style.height = '12px';\n          }\n        }\n        var positionEdgeLabel = function positionEdgeLabel(edge, paths) {\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('Moving label abc78 ', edge.id, edge.label, edgeLabels[edge.id]);\n          var path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n          if (edge.label) {\n            var el = edgeLabels[edge.id];\n            var x = edge.x;\n            var y = edge.y;\n            if (path) {\n              //   // debugger;\n              var pos = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calcLabelPosition(path);\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('Moving label from (', x, ',', y, ') to (', pos.x, ',', pos.y, ') abc78'); // x = pos.x;\n              // y = pos.y;\n            }\n            el.attr('transform', 'translate(' + x + ', ' + y + ')');\n          } //let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n\n          if (edge.startLabelLeft) {\n            var _el = terminalLabels[edge.id].startLeft;\n            var _x2 = edge.x;\n            var _y2 = edge.y;\n            if (path) {\n              // debugger;\n              var _pos = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, 'start_left', path);\n              _x2 = _pos.x;\n              _y2 = _pos.y;\n            }\n            _el.attr('transform', 'translate(' + _x2 + ', ' + _y2 + ')');\n          }\n          if (edge.startLabelRight) {\n            var _el2 = terminalLabels[edge.id].startRight;\n            var _x3 = edge.x;\n            var _y3 = edge.y;\n            if (path) {\n              // debugger;\n              var _pos2 = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, 'start_right', path);\n              _x3 = _pos2.x;\n              _y3 = _pos2.y;\n            }\n            _el2.attr('transform', 'translate(' + _x3 + ', ' + _y3 + ')');\n          }\n          if (edge.endLabelLeft) {\n            var _el3 = terminalLabels[edge.id].endLeft;\n            var _x4 = edge.x;\n            var _y4 = edge.y;\n            if (path) {\n              // debugger;\n              var _pos3 = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, 'end_left', path);\n              _x4 = _pos3.x;\n              _y4 = _pos3.y;\n            }\n            _el3.attr('transform', 'translate(' + _x4 + ', ' + _y4 + ')');\n          }\n          if (edge.endLabelRight) {\n            var _el4 = terminalLabels[edge.id].endRight;\n            var _x5 = edge.x;\n            var _y5 = edge.y;\n            if (path) {\n              // debugger;\n              var _pos4 = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, 'end_right', path);\n              _x5 = _pos4.x;\n              _y5 = _pos4.y;\n            }\n            _el4.attr('transform', 'translate(' + _x5 + ', ' + _y5 + ')');\n          }\n        }; // const getRelationType = function(type) {\n        //   switch (type) {\n        //     case stateDb.relationType.AGGREGATION:\n        //       return 'aggregation';\n        //     case stateDb.relationType.EXTENSION:\n        //       return 'extension';\n        //     case stateDb.relationType.COMPOSITION:\n        //       return 'composition';\n        //     case stateDb.relationType.DEPENDENCY:\n        //       return 'dependency';\n        //   }\n        // };\n\n        var outsideNode = function outsideNode(node, point) {\n          // log.warn('Checking bounds ', node, point);\n          var x = node.x;\n          var y = node.y;\n          var dx = Math.abs(point.x - x);\n          var dy = Math.abs(point.y - y);\n          var w = node.width / 2;\n          var h = node.height / 2;\n          if (dx >= w || dy >= h) {\n            return true;\n          }\n          return false;\n        };\n        var intersection = function intersection(node, outsidePoint, insidePoint) {\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn(\"intersection calc abc89:\\n  outsidePoint: \".concat(JSON.stringify(outsidePoint), \"\\n  insidePoint : \").concat(JSON.stringify(insidePoint), \"\\n  node        : x:\").concat(node.x, \" y:\").concat(node.y, \" w:\").concat(node.width, \" h:\").concat(node.height));\n          var x = node.x;\n          var y = node.y;\n          var dx = Math.abs(x - insidePoint.x); // const dy = Math.abs(y - insidePoint.y);\n\n          var w = node.width / 2;\n          var r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n          var h = node.height / 2; // const edges = {\n          //   x1: x - w,\n          //   x2: x + w,\n          //   y1: y - h,\n          //   y2: y + h\n          // };\n          // if (\n          //   outsidePoint.x === edges.x1 ||\n          //   outsidePoint.x === edges.x2 ||\n          //   outsidePoint.y === edges.y1 ||\n          //   outsidePoint.y === edges.y2\n          // ) {\n          //   log.warn('abc89 calc equals on edge', outsidePoint, edges);\n          //   return outsidePoint;\n          // }\n\n          var Q = Math.abs(outsidePoint.y - insidePoint.y);\n          var R = Math.abs(outsidePoint.x - insidePoint.x); // log.warn();\n\n          if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n            // eslint-disable-line\n            // Intersection is top or bottom of rect.\n            // let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n            var q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n            r = R * q / Q;\n            var res = {\n              x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n              y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q\n            };\n            if (r === 0) {\n              res.x = outsidePoint.x;\n              res.y = outsidePoint.y;\n            }\n            if (R === 0) {\n              res.x = outsidePoint.x;\n            }\n            if (Q === 0) {\n              res.y = outsidePoint.y;\n            }\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn(\"abc89 topp/bott calc, Q \".concat(Q, \", q \").concat(q, \", R \").concat(R, \", r \").concat(r), res);\n            return res;\n          } else {\n            // Intersection onn sides of rect\n            if (insidePoint.x < outsidePoint.x) {\n              r = outsidePoint.x - w - x;\n            } else {\n              // r = outsidePoint.x - w - x;\n              r = x - w - outsidePoint.x;\n            }\n            var _q = Q * r / R; //  OK let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x + dx - w;\n            // OK let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : outsidePoint.x + r;\n\n            var _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r; // let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : outsidePoint.x + r;\n\n            var _y = insidePoint.y < outsidePoint.y ? insidePoint.y + _q : insidePoint.y - _q;\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn(\"sides calc abc89, Q \".concat(Q, \", q \").concat(_q, \", R \").concat(R, \", r \").concat(r), {\n              _x: _x,\n              _y: _y\n            });\n            if (r === 0) {\n              _x = outsidePoint.x;\n              _y = outsidePoint.y;\n            }\n            if (R === 0) {\n              _x = outsidePoint.x;\n            }\n            if (Q === 0) {\n              _y = outsidePoint.y;\n            }\n            return {\n              x: _x,\n              y: _y\n            };\n          }\n        };\n        /**\n         * This function will page a path and node where the last point(s) in the path is inside the node\n         * and return an update path ending by the border of the node.\n         *\n         * @param {Array} _points\n         * @param {any} boundryNode\n         * @returns {Array} Points\n         */\n\n        var cutPathAtIntersect = function cutPathAtIntersect(_points, boundryNode) {\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn('abc88 cutPathAtIntersect', _points, boundryNode);\n          var points = [];\n          var lastPointOutside = _points[0];\n          var isInside = false;\n          _points.forEach(function (point) {\n            // const node = clusterDb[edge.toCluster].node;\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('abc88 checking point', point, boundryNode); // check if point is inside the boundry rect\n\n            if (!outsideNode(boundryNode, point) && !isInside) {\n              // First point inside the rect found\n              // Calc the intersection coord between the point anf the last opint ouside the rect\n              var inter = intersection(boundryNode, lastPointOutside, point);\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn('abc88 inside', point, lastPointOutside, inter);\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn('abc88 intersection', inter); // // Check case where the intersection is the same as the last point\n\n              var pointPresent = false;\n              points.forEach(function (p) {\n                pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;\n              }); // // if (!pointPresent) {\n\n              if (!points.find(function (e) {\n                return e.x === inter.x && e.y === inter.y;\n              })) {\n                points.push(inter);\n              } else {\n                _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn('abc88 no intersect', inter, points);\n              } // points.push(inter);\n\n              isInside = true;\n            } else {\n              // Outside\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn('abc88 outside', point, lastPointOutside);\n              lastPointOutside = point; // points.push(point);\n\n              if (!isInside) points.push(point);\n            }\n          });\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn('abc88 returning points', points);\n          return points;\n        }; //(edgePaths, e, edge, clusterDb, diagramtype, graph)\n\n        var insertEdge = function insertEdge(elem, e, edge, clusterDb, diagramType, graph) {\n          var points = edge.points;\n          var pointsHasChanged = false;\n          var tail = graph.node(e.v);\n          var head = graph.node(e.w);\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('abc88 InsertEdge: ', edge);\n          if (head.intersect && tail.intersect) {\n            points = points.slice(1, edge.points.length - 1);\n            points.unshift(tail.intersect(points[0]));\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('Last point', points[points.length - 1], head, head.intersect(points[points.length - 1]));\n            points.push(head.intersect(points[points.length - 1]));\n          }\n          if (edge.toCluster) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('to cluster abc88', clusterDb[edge.toCluster]);\n            points = cutPathAtIntersect(edge.points, clusterDb[edge.toCluster].node); // log.trace('edge', edge);\n            // points = [];\n            // let lastPointOutside; // = edge.points[0];\n            // let isInside = false;\n            // edge.points.forEach(point => {\n            //   const node = clusterDb[edge.toCluster].node;\n            //   log.warn('checking from', edge.fromCluster, point, node);\n            //   if (!outsideNode(node, point) && !isInside) {\n            //     log.trace('inside', edge.toCluster, point, lastPointOutside);\n            //     // First point inside the rect\n            //     const inter = intersection(node, lastPointOutside, point);\n            //     let pointPresent = false;\n            //     points.forEach(p => {\n            //       pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\n            //     });\n            //     // if (!pointPresent) {\n            //     if (!points.find(e => e.x === inter.x && e.y === inter.y)) {\n            //       points.push(inter);\n            //     } else {\n            //       log.warn('no intersect', inter, points);\n            //     }\n            //     isInside = true;\n            // } else {\n            //   // outtside\n            //   lastPointOutside = point;\n            //   if (!isInside) points.push(point);\n            // }\n            // });\n\n            pointsHasChanged = true;\n          }\n          if (edge.fromCluster) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('from cluster abc88', clusterDb[edge.fromCluster]);\n            points = cutPathAtIntersect(points.reverse(), clusterDb[edge.fromCluster].node).reverse(); // log.warn('edge', edge);\n            // log.warn('from cluster', clusterDb[edge.fromCluster], points);\n            // const updatedPoints = [];\n            // let lastPointOutside = edge.points[edge.points.length - 1];\n            // let isInside = false;\n            // for (let i = points.length - 1; i >= 0; i--) {\n            //   const point = points[i];\n            //   const node = clusterDb[edge.fromCluster].node;\n            //   log.warn('checking to', edge.fromCluster, point, node);\n            //   if (!outsideNode(node, point) && !isInside) {\n            //     log.warn('inside', edge.fromCluster, point, node);\n            //     // First point inside the rect\n            //     const inter = intersection(node, lastPointOutside, point);\n            //     log.warn('intersect', intersection(node, lastPointOutside, point));\n            //     let pointPresent = false;\n            //     points.forEach(p => {\n            //       pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\n            //     });\n            //     // if (!pointPresent) {\n            //     if (!points.find(e => e.x === inter.x && e.y === inter.y)) {\n            //       updatedPoints.unshift(inter);\n            //       log.warn('Adding point -updated = ', updatedPoints);\n            //     } else {\n            //       log.warn('no intersect', inter, points);\n            //     }\n            //     // points.push(insterection);\n            //     isInside = true;\n            //   } else {\n            //     // at the outside\n            //     // if (!isInside) updatedPoints.unshift(point);\n            //     updatedPoints.unshift(point);\n            //     log.warn('Outside point', point, updatedPoints);\n            //   }\n            //   lastPointOutside = point;\n            // }\n            // points = updatedPoints;\n            // points = edge.points;\n\n            pointsHasChanged = true;\n          } // The data for our line\n\n          var lineData = points.filter(function (p) {\n            return !Number.isNaN(p.y);\n          }); // This is the accessor function we talked about above\n\n          var curve; // Currently only flowcharts get the curve from the settings, perhaps this should\n          // be expanded to a common setting? Restricting it for now in order not to cause side-effects that\n          // have not been thought through\n\n          if (diagramType === 'graph' || diagramType === 'flowchart') {\n            curve = edge.curve || d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis;\n          } else {\n            curve = d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis;\n          } // curve = curveLinear;\n\n          var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function (d) {\n            return d.x;\n          }).y(function (d) {\n            return d.y;\n          }).curve(curve); // Contruct stroke classes based on properties\n\n          var strokeClasses;\n          switch (edge.thickness) {\n            case 'normal':\n              strokeClasses = 'edge-thickness-normal';\n              break;\n            case 'thick':\n              strokeClasses = 'edge-thickness-thick';\n              break;\n            default:\n              strokeClasses = '';\n          }\n          switch (edge.pattern) {\n            case 'solid':\n              strokeClasses += ' edge-pattern-solid';\n              break;\n            case 'dotted':\n              strokeClasses += ' edge-pattern-dotted';\n              break;\n            case 'dashed':\n              strokeClasses += ' edge-pattern-dashed';\n              break;\n          }\n          var svgPath = elem.append('path').attr('d', lineFunction(lineData)).attr('id', edge.id).attr('class', ' ' + strokeClasses + (edge.classes ? ' ' + edge.classes : '')).attr('style', edge.style); // DEBUG code, adds a red circle at each edge coordinate\n          // edge.points.forEach(point => {\n          //   elem\n          //     .append('circle')\n          //     .style('stroke', 'red')\n          //     .style('fill', 'red')\n          //     .attr('r', 1)\n          //     .attr('cx', point.x)\n          //     .attr('cy', point.y);\n          // });\n\n          var url = '';\n          if ((0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().state.arrowMarkerAbsolute) {\n            url = window.location.protocol + '//' + window.location.host + window.location.pathname + window.location.search;\n            url = url.replace(/\\(/g, '\\\\(');\n            url = url.replace(/\\)/g, '\\\\)');\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('arrowTypeStart', edge.arrowTypeStart);\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('arrowTypeEnd', edge.arrowTypeEnd);\n          switch (edge.arrowTypeStart) {\n            case 'arrow_cross':\n              svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-crossStart' + ')');\n              break;\n            case 'arrow_point':\n              svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-pointStart' + ')');\n              break;\n            case 'arrow_barb':\n              svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-barbStart' + ')');\n              break;\n            case 'arrow_circle':\n              svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-circleStart' + ')');\n              break;\n            case 'aggregation':\n              svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-aggregationStart' + ')');\n              break;\n            case 'extension':\n              svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-extensionStart' + ')');\n              break;\n            case 'composition':\n              svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-compositionStart' + ')');\n              break;\n            case 'dependency':\n              svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-dependencyStart' + ')');\n              break;\n            default:\n          }\n          switch (edge.arrowTypeEnd) {\n            case 'arrow_cross':\n              svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-crossEnd' + ')');\n              break;\n            case 'arrow_point':\n              svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-pointEnd' + ')');\n              break;\n            case 'arrow_barb':\n              svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-barbEnd' + ')');\n              break;\n            case 'arrow_circle':\n              svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-circleEnd' + ')');\n              break;\n            case 'aggregation':\n              svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-aggregationEnd' + ')');\n              break;\n            case 'extension':\n              svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-extensionEnd' + ')');\n              break;\n            case 'composition':\n              svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-compositionEnd' + ')');\n              break;\n            case 'dependency':\n              svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-dependencyEnd' + ')');\n              break;\n            default:\n          }\n          var paths = {};\n          if (pointsHasChanged) {\n            paths.updatedPath = points;\n          }\n          paths.originalPath = edge.points;\n          return paths;\n        };\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/index.js\": (\n      /*!************************************!*\\\n        !*** ./src/dagre-wrapper/index.js ***!\n        \\************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"render\": () => (/* binding */render)\n          /* harmony export */\n        });\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dagre */\"dagre\");\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dagre__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _markers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./markers */\"./src/dagre-wrapper/markers.js\");\n        /* harmony import */\n        var _shapes_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shapes/util */\"./src/dagre-wrapper/shapes/util.js\");\n        /* harmony import */\n        var _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mermaid-graphlib */\"./src/dagre-wrapper/mermaid-graphlib.js\");\n        /* harmony import */\n        var _nodes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nodes */\"./src/dagre-wrapper/nodes.js\");\n        /* harmony import */\n        var _clusters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./clusters */\"./src/dagre-wrapper/clusters.js\");\n        /* harmony import */\n        var _edges__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./edges */\"./src/dagre-wrapper/edges.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logger */\"./src/logger.js\");\n        var recursiveRender = function recursiveRender(_elem, graph, diagramtype, parentCluster) {\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Graph in recursive render: XXX', graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph), parentCluster);\n          var dir = graph.graph().rankdir;\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace('Dir in recursive render - dir:', dir);\n          var elem = _elem.insert('g').attr('class', 'root'); // eslint-disable-line\n\n          if (!graph.nodes()) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('No nodes found for', graph);\n          } else {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Recursive render XXX', graph.nodes());\n          }\n          if (graph.edges().length > 0) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace('Recursive edges', graph.edge(graph.edges()[0]));\n          }\n          var clusters = elem.insert('g').attr('class', 'clusters'); // eslint-disable-line\n\n          var edgePaths = elem.insert('g').attr('class', 'edgePaths');\n          var edgeLabels = elem.insert('g').attr('class', 'edgeLabels');\n          var nodes = elem.insert('g').attr('class', 'nodes'); // Insert nodes, this will insert them into the dom and each node will get a size. The size is updated\n          // to the abstract node and is later used by dagre for the layout\n\n          graph.nodes().forEach(function (v) {\n            var node = graph.node(v);\n            if (typeof parentCluster !== 'undefined') {\n              var data = JSON.parse(JSON.stringify(parentCluster.clusterData)); // data.clusterPositioning = true;\n\n              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Setting data for cluster XXX (', v, ') ', data, parentCluster);\n              graph.setNode(parentCluster.id, data);\n              if (!graph.parent(v)) {\n                _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace('Setting parent', v, parentCluster.id);\n                graph.setParent(v, parentCluster.id, data);\n              }\n            }\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('(Insert) Node XXX' + v + ': ' + JSON.stringify(graph.node(v)));\n            if (node && node.clusterNode) {\n              // const children = graph.children(v);\n              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Cluster identified', v, node.width, graph.node(v));\n              var o = recursiveRender(nodes, node.graph, diagramtype, graph.node(v));\n              var newEl = o.elem;\n              (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, newEl);\n              node.diff = o.diff || 0;\n              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Node bounds (abc123)', v, node, node.width, node.x, node.y);\n              (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.setNodeElem)(newEl, node);\n              _logger__WEBPACK_IMPORTED_MODULE_2__.log.warn('Recursive render complete ', newEl, node);\n            } else {\n              if (graph.children(v).length > 0) {\n                // This is a cluster but not to be rendered recusively\n                // Render as before\n                _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Cluster - the non recursive path XXX', v, node.id, node, graph);\n                _logger__WEBPACK_IMPORTED_MODULE_2__.log.info((0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.findNonClusterChild)(node.id, graph));\n                _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[node.id] = {\n                  id: (0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.findNonClusterChild)(node.id, graph),\n                  node: node\n                }; // insertCluster(clusters, graph.node(v));\n              } else {\n                _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Node - the non recursive path', v, node.id, node);\n                (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.insertNode)(nodes, graph.node(v), dir);\n              }\n            }\n          }); // Insert labels, this will insert them into the dom so that the width can be calculated\n          // Also figure out which edges point to/from clusters and adjust them accordingly\n          // Edges from/to clusters really points to the first child in the cluster.\n          // TODO: pick optimal child in the cluster to us as link anchor\n\n          graph.edges().forEach(function (e) {\n            var edge = graph.edge(e.v, e.w, e.name);\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Edge ' + e.v + ' -> ' + e.w + ': ', e, ' ', JSON.stringify(graph.edge(e))); // Check if link is either from or to a cluster\n\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Fix', _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb, 'ids:', e.v, e.w, 'Translateing: ', _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[e.v], _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[e.w]);\n            (0, _edges__WEBPACK_IMPORTED_MODULE_6__.insertEdgeLabel)(edgeLabels, edge);\n          });\n          graph.edges().forEach(function (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\n          });\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('#############################################');\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('###                Layout                 ###');\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('#############################################');\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info(graph);\n          dagre__WEBPACK_IMPORTED_MODULE_0___default().layout(graph);\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Graph after layout:', graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph)); // Move the nodes to the correct place\n\n          var diff = 0;\n          (0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.sortNodesByHierarchy)(graph).forEach(function (v) {\n            var node = graph.node(v);\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Position ' + v + ': ' + JSON.stringify(graph.node(v)));\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Position ' + v + ': (' + node.x, ',' + node.y, ') width: ', node.width, ' height: ', node.height);\n            if (node && node.clusterNode) {\n              // clusterDb[node.id].node = node;\n              (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.positionNode)(node);\n            } else {\n              // Non cluster node\n              if (graph.children(v).length > 0) {\n                // A cluster in the non-recurive way\n                // positionCluster(node);\n                (0, _clusters__WEBPACK_IMPORTED_MODULE_7__.insertCluster)(clusters, node);\n                _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[node.id].node = node;\n              } else {\n                (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.positionNode)(node);\n              }\n            }\n          }); // Move the edge labels to the correct place after layout\n\n          graph.edges().forEach(function (e) {\n            var edge = graph.edge(e);\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(edge), edge);\n            var paths = (0, _edges__WEBPACK_IMPORTED_MODULE_6__.insertEdge)(edgePaths, e, edge, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb, diagramtype, graph);\n            (0, _edges__WEBPACK_IMPORTED_MODULE_6__.positionEdgeLabel)(edge, paths);\n          });\n          graph.nodes().forEach(function (v) {\n            var n = graph.node(v);\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info(v, n.type, n.diff);\n            if (n.type === 'group') {\n              diff = n.diff;\n            }\n          });\n          return {\n            elem: elem,\n            diff: diff\n          };\n        };\n        var render = function render(elem, graph, markers, diagramtype, id) {\n          (0, _markers__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(elem, markers, diagramtype, id);\n          (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.clear)();\n          (0, _edges__WEBPACK_IMPORTED_MODULE_6__.clear)();\n          (0, _clusters__WEBPACK_IMPORTED_MODULE_7__.clear)();\n          (0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clear)();\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.warn('Graph at first:', graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph));\n          (0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.adjustClustersAndEdges)(graph);\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.warn('Graph after:', graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph)); // log.warn('Graph ever  after:', graphlib.json.write(graph.node('A').graph));\n\n          recursiveRender(elem, graph, diagramtype);\n        }; // const shapeDefinitions = {};\n        // export const addShape = ({ shapeType: fun }) => {\n        //   shapeDefinitions[shapeType] = fun;\n        // };\n        // const arrowDefinitions = {};\n        // export const addArrow = ({ arrowType: fun }) => {\n        //   arrowDefinitions[arrowType] = fun;\n        // };\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/intersect/index.js\": (\n      /*!**********************************************!*\\\n        !*** ./src/dagre-wrapper/intersect/index.js ***!\n        \\**********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _intersect_node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./intersect-node.js */\"./src/dagre-wrapper/intersect/intersect-node.js\");\n        /* harmony import */\n        var _intersect_node_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_intersect_node_js__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _intersect_circle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./intersect-circle.js */\"./src/dagre-wrapper/intersect/intersect-circle.js\");\n        /* harmony import */\n        var _intersect_ellipse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./intersect-ellipse.js */\"./src/dagre-wrapper/intersect/intersect-ellipse.js\");\n        /* harmony import */\n        var _intersect_polygon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./intersect-polygon.js */\"./src/dagre-wrapper/intersect/intersect-polygon.js\");\n        /* harmony import */\n        var _intersect_rect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./intersect-rect.js */\"./src/dagre-wrapper/intersect/intersect-rect.js\");\n        /*\n         * Borrowed with love from from dagrge-d3. Many thanks to cpettitt!\n         */\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          node: _intersect_node_js__WEBPACK_IMPORTED_MODULE_0___default(),\n          circle: _intersect_circle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n          ellipse: _intersect_ellipse_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n          polygon: _intersect_polygon_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n          rect: _intersect_rect_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n        };\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/intersect/intersect-circle.js\": (\n      /*!*********************************************************!*\\\n        !*** ./src/dagre-wrapper/intersect/intersect-circle.js ***!\n        \\*********************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _intersect_ellipse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./intersect-ellipse */\"./src/dagre-wrapper/intersect/intersect-ellipse.js\");\n\n        /**\n         * @param node\n         * @param rx\n         * @param point\n         */\n\n        function intersectCircle(node, rx, point) {\n          return (0, _intersect_ellipse__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(node, rx, rx, point);\n        }\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = intersectCircle;\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/intersect/intersect-ellipse.js\": (\n      /*!**********************************************************!*\\\n        !*** ./src/dagre-wrapper/intersect/intersect-ellipse.js ***!\n        \\**********************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /**\n         * @param node\n         * @param rx\n         * @param ry\n         * @param point\n         */\n        function intersectEllipse(node, rx, ry, point) {\n          // Formulae from: http://mathworld.wolfram.com/Ellipse-LineIntersection.html\n          var cx = node.x;\n          var cy = node.y;\n          var px = cx - point.x;\n          var py = cy - point.y;\n          var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n          var dx = Math.abs(rx * ry * px / det);\n          if (point.x < cx) {\n            dx = -dx;\n          }\n          var dy = Math.abs(rx * ry * py / det);\n          if (point.y < cy) {\n            dy = -dy;\n          }\n          return {\n            x: cx + dx,\n            y: cy + dy\n          };\n        }\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = intersectEllipse;\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/intersect/intersect-line.js\": (\n      /*!*******************************************************!*\\\n        !*** ./src/dagre-wrapper/intersect/intersect-line.js ***!\n        \\*******************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /**\n         * Returns the point at which two lines, p and q, intersect or returns undefined if they do not intersect.\n         *\n         * @param p1\n         * @param p2\n         * @param q1\n         * @param q2\n         */\n        function intersectLine(p1, p2, q1, q2) {\n          // Algorithm from J. Avro, (ed.) Graphics Gems, No 2, Morgan Kaufmann, 1994,\n          // p7 and p473.\n          var a1, a2, b1, b2, c1, c2;\n          var r1, r2, r3, r4;\n          var denom, offset, num;\n          var x, y; // Compute a1, b1, c1, where line joining points 1 and 2 is F(x,y) = a1 x +\n          // b1 y + c1 = 0.\n\n          a1 = p2.y - p1.y;\n          b1 = p1.x - p2.x;\n          c1 = p2.x * p1.y - p1.x * p2.y; // Compute r3 and r4.\n\n          r3 = a1 * q1.x + b1 * q1.y + c1;\n          r4 = a1 * q2.x + b1 * q2.y + c1; // Check signs of r3 and r4. If both point 3 and point 4 lie on\n          // same side of line 1, the line segments do not intersect.\n\n          if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n            return;\n          } // Compute a2, b2, c2 where line joining points 3 and 4 is G(x,y) = a2 x + b2 y + c2 = 0\n\n          a2 = q2.y - q1.y;\n          b2 = q1.x - q2.x;\n          c2 = q2.x * q1.y - q1.x * q2.y; // Compute r1 and r2\n\n          r1 = a2 * p1.x + b2 * p1.y + c2;\n          r2 = a2 * p2.x + b2 * p2.y + c2; // Check signs of r1 and r2. If both point 1 and point 2 lie\n          // on same side of second line segment, the line segments do\n          // not intersect.\n\n          if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\n            return;\n          } // Line segments intersect: compute intersection point.\n\n          denom = a1 * b2 - a2 * b1;\n          if (denom === 0) {\n            return;\n          }\n          offset = Math.abs(denom / 2); // The denom/2 is to get rounding instead of truncating. It\n          // is added or subtracted to the numerator, depending upon the\n          // sign of the numerator.\n\n          num = b1 * c2 - b2 * c1;\n          x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n          num = a2 * c1 - a1 * c2;\n          y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n          return {\n            x: x,\n            y: y\n          };\n        }\n        /**\n         * @param r1\n         * @param r2\n         */\n\n        function sameSign(r1, r2) {\n          return r1 * r2 > 0;\n        }\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = intersectLine;\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/intersect/intersect-node.js\": (\n      /*!*******************************************************!*\\\n        !*** ./src/dagre-wrapper/intersect/intersect-node.js ***!\n        \\*******************************************************/\n      /***/\n      module => {\n        module.exports = intersectNode;\n        /**\n         * @param node\n         * @param point\n         */\n\n        function intersectNode(node, point) {\n          // console.info('Intersect Node');\n          return node.intersect(point);\n        }\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/intersect/intersect-polygon.js\": (\n      /*!**********************************************************!*\\\n        !*** ./src/dagre-wrapper/intersect/intersect-polygon.js ***!\n        \\**********************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _intersect_line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./intersect-line */\"./src/dagre-wrapper/intersect/intersect-line.js\");\n        /* eslint \"no-console\": off */\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = intersectPolygon;\n        /**\n         * Returns the point ({x, y}) at which the point argument intersects with the node argument assuming\n         * that it has the shape specified by polygon.\n         *\n         * @param node\n         * @param polyPoints\n         * @param point\n         */\n\n        function intersectPolygon(node, polyPoints, point) {\n          var x1 = node.x;\n          var y1 = node.y;\n          var intersections = [];\n          var minX = Number.POSITIVE_INFINITY;\n          var minY = Number.POSITIVE_INFINITY;\n          if (typeof polyPoints.forEach === 'function') {\n            polyPoints.forEach(function (entry) {\n              minX = Math.min(minX, entry.x);\n              minY = Math.min(minY, entry.y);\n            });\n          } else {\n            minX = Math.min(minX, polyPoints.x);\n            minY = Math.min(minY, polyPoints.y);\n          }\n          var left = x1 - node.width / 2 - minX;\n          var top = y1 - node.height / 2 - minY;\n          for (var i = 0; i < polyPoints.length; i++) {\n            var p1 = polyPoints[i];\n            var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n            var intersect = (0, _intersect_line__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(node, point, {\n              x: left + p1.x,\n              y: top + p1.y\n            }, {\n              x: left + p2.x,\n              y: top + p2.y\n            });\n            if (intersect) {\n              intersections.push(intersect);\n            }\n          }\n          if (!intersections.length) {\n            // console.log('NO INTERSECTION FOUND, RETURN NODE CENTER', node);\n            return node;\n          }\n          if (intersections.length > 1) {\n            // More intersections, find the one nearest to edge end point\n            intersections.sort(function (p, q) {\n              var pdx = p.x - point.x;\n              var pdy = p.y - point.y;\n              var distp = Math.sqrt(pdx * pdx + pdy * pdy);\n              var qdx = q.x - point.x;\n              var qdy = q.y - point.y;\n              var distq = Math.sqrt(qdx * qdx + qdy * qdy);\n              return distp < distq ? -1 : distp === distq ? 0 : 1;\n            });\n          }\n          return intersections[0];\n        }\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/intersect/intersect-rect.js\": (\n      /*!*******************************************************!*\\\n        !*** ./src/dagre-wrapper/intersect/intersect-rect.js ***!\n        \\*******************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var intersectRect = function intersectRect(node, point) {\n          var x = node.x;\n          var y = node.y; // Rectangle intersection algorithm from:\n          // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n\n          var dx = point.x - x;\n          var dy = point.y - y;\n          var w = node.width / 2;\n          var h = node.height / 2;\n          var sx, sy;\n          if (Math.abs(dy) * w > Math.abs(dx) * h) {\n            // Intersection is top or bottom of rect.\n            if (dy < 0) {\n              h = -h;\n            }\n            sx = dy === 0 ? 0 : h * dx / dy;\n            sy = h;\n          } else {\n            // Intersection is left or right of rect.\n            if (dx < 0) {\n              w = -w;\n            }\n            sx = w;\n            sy = dx === 0 ? 0 : w * dy / dx;\n          }\n          return {\n            x: x + sx,\n            y: y + sy\n          };\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = intersectRect;\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/markers.js\": (\n      /*!**************************************!*\\\n        !*** ./src/dagre-wrapper/markers.js ***!\n        \\**************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../logger */\"./src/logger.js\");\n        /** Setup arrow head and define the marker. The result is appended to the svg. */\n        // Only add the number of markers that the diagram needs\n\n        var insertMarkers = function insertMarkers(elem, markerArray, type, id) {\n          markerArray.forEach(function (markerName) {\n            markers[markerName](elem, type, id);\n          });\n        };\n        var extension = function extension(elem, type, id) {\n          _logger__WEBPACK_IMPORTED_MODULE_0__.log.trace('Making markers for ', id);\n          elem.append('defs').append('marker').attr('id', type + '-extensionStart').attr('class', 'marker extension ' + type).attr('refX', 0).attr('refY', 7).attr('markerWidth', 190).attr('markerHeight', 240).attr('orient', 'auto').append('path').attr('d', 'M 1,7 L18,13 V 1 Z');\n          elem.append('defs').append('marker').attr('id', type + '-extensionEnd').attr('class', 'marker extension ' + type).attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 1,1 V 13 L18,7 Z'); // this is actual shape for arrowhead\n        };\n        var composition = function composition(elem, type) {\n          elem.append('defs').append('marker').attr('id', type + '-compositionStart').attr('class', 'marker composition ' + type).attr('refX', 0).attr('refY', 7).attr('markerWidth', 190).attr('markerHeight', 240).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n          elem.append('defs').append('marker').attr('id', type + '-compositionEnd').attr('class', 'marker composition ' + type).attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n        };\n        var aggregation = function aggregation(elem, type) {\n          elem.append('defs').append('marker').attr('id', type + '-aggregationStart').attr('class', 'marker aggregation ' + type).attr('refX', 0).attr('refY', 7).attr('markerWidth', 190).attr('markerHeight', 240).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n          elem.append('defs').append('marker').attr('id', type + '-aggregationEnd').attr('class', 'marker aggregation ' + type).attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n        };\n        var dependency = function dependency(elem, type) {\n          elem.append('defs').append('marker').attr('id', type + '-dependencyStart').attr('class', 'marker dependency ' + type).attr('refX', 0).attr('refY', 7).attr('markerWidth', 190).attr('markerHeight', 240).attr('orient', 'auto').append('path').attr('d', 'M 5,7 L9,13 L1,7 L9,1 Z');\n          elem.append('defs').append('marker').attr('id', type + '-dependencyEnd').attr('class', 'marker dependency ' + type).attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\n        };\n        var point = function point(elem, type) {\n          elem.append('marker').attr('id', type + '-pointEnd').attr('class', 'marker ' + type).attr('viewBox', '0 0 10 10').attr('refX', 9).attr('refY', 5).attr('markerUnits', 'userSpaceOnUse').attr('markerWidth', 12).attr('markerHeight', 12).attr('orient', 'auto').append('path').attr('d', 'M 0 0 L 10 5 L 0 10 z').attr('class', 'arrowMarkerPath').style('stroke-width', 1).style('stroke-dasharray', '1,0');\n          elem.append('marker').attr('id', type + '-pointStart').attr('class', 'marker ' + type).attr('viewBox', '0 0 10 10').attr('refX', 0).attr('refY', 5).attr('markerUnits', 'userSpaceOnUse').attr('markerWidth', 12).attr('markerHeight', 12).attr('orient', 'auto').append('path').attr('d', 'M 0 5 L 10 10 L 10 0 z').attr('class', 'arrowMarkerPath').style('stroke-width', 1).style('stroke-dasharray', '1,0');\n        };\n        var circle = function circle(elem, type) {\n          elem.append('marker').attr('id', type + '-circleEnd').attr('class', 'marker ' + type).attr('viewBox', '0 0 10 10').attr('refX', 11).attr('refY', 5).attr('markerUnits', 'userSpaceOnUse').attr('markerWidth', 11).attr('markerHeight', 11).attr('orient', 'auto').append('circle').attr('cx', '5').attr('cy', '5').attr('r', '5').attr('class', 'arrowMarkerPath').style('stroke-width', 1).style('stroke-dasharray', '1,0');\n          elem.append('marker').attr('id', type + '-circleStart').attr('class', 'marker ' + type).attr('viewBox', '0 0 10 10').attr('refX', -1).attr('refY', 5).attr('markerUnits', 'userSpaceOnUse').attr('markerWidth', 11).attr('markerHeight', 11).attr('orient', 'auto').append('circle').attr('cx', '5').attr('cy', '5').attr('r', '5').attr('class', 'arrowMarkerPath').style('stroke-width', 1).style('stroke-dasharray', '1,0');\n        };\n        var cross = function cross(elem, type) {\n          elem.append('marker').attr('id', type + '-crossEnd').attr('class', 'marker cross ' + type).attr('viewBox', '0 0 11 11').attr('refX', 12).attr('refY', 5.2).attr('markerUnits', 'userSpaceOnUse').attr('markerWidth', 11).attr('markerHeight', 11).attr('orient', 'auto').append('path') // .attr('stroke', 'black')\n          .attr('d', 'M 1,1 l 9,9 M 10,1 l -9,9').attr('class', 'arrowMarkerPath').style('stroke-width', 2).style('stroke-dasharray', '1,0');\n          elem.append('marker').attr('id', type + '-crossStart').attr('class', 'marker cross ' + type).attr('viewBox', '0 0 11 11').attr('refX', -1).attr('refY', 5.2).attr('markerUnits', 'userSpaceOnUse').attr('markerWidth', 11).attr('markerHeight', 11).attr('orient', 'auto').append('path') // .attr('stroke', 'black')\n          .attr('d', 'M 1,1 l 9,9 M 10,1 l -9,9').attr('class', 'arrowMarkerPath').style('stroke-width', 2).style('stroke-dasharray', '1,0');\n        };\n        var barb = function barb(elem, type) {\n          elem.append('defs').append('marker').attr('id', type + '-barbEnd').attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 14).attr('markerUnits', 'strokeWidth').attr('orient', 'auto').append('path').attr('d', 'M 19,7 L9,13 L14,7 L9,1 Z');\n        }; // TODO rename the class diagram markers to something shape descriptive and semanitc free\n\n        var markers = {\n          extension: extension,\n          composition: composition,\n          aggregation: aggregation,\n          dependency: dependency,\n          point: point,\n          circle: circle,\n          cross: cross,\n          barb: barb\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = insertMarkers;\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/mermaid-graphlib.js\": (\n      /*!***********************************************!*\\\n        !*** ./src/dagre-wrapper/mermaid-graphlib.js ***!\n        \\***********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"clusterDb\": () => (/* binding */clusterDb),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"extractDecendants\": () => (/* binding */extractDecendants),\n          /* harmony export */\"validate\": () => (/* binding */validate),\n          /* harmony export */\"findNonClusterChild\": () => (/* binding */findNonClusterChild),\n          /* harmony export */\"adjustClustersAndEdges\": () => (/* binding */adjustClustersAndEdges),\n          /* harmony export */\"extractor\": () => (/* binding */extractor),\n          /* harmony export */\"sortNodesByHierarchy\": () => (/* binding */sortNodesByHierarchy)\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logger */\"./src/logger.js\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);\n        /** Decorates with functions required by mermaids dagre-wrapper. */\n\n        var clusterDb = {};\n        var decendants = {};\n        var parents = {};\n        var clear = function clear() {\n          decendants = {};\n          parents = {};\n          clusterDb = {};\n        };\n        var isDecendant = function isDecendant(id, ancenstorId) {\n          // if (id === ancenstorId) return true;\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('In isDecendant', ancenstorId, ' ', id, ' = ', decendants[ancenstorId].indexOf(id) >= 0);\n          if (decendants[ancenstorId].indexOf(id) >= 0) return true;\n          return false;\n        };\n        var edgeInCluster = function edgeInCluster(edge, clusterId) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Decendants of ', clusterId, ' is ', decendants[clusterId]);\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Edge is ', edge); // Edges to/from the cluster is not in the cluster, they are in the parent\n\n          if (edge.v === clusterId) return false;\n          if (edge.w === clusterId) return false;\n          if (!decendants[clusterId]) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Tilt, ', clusterId, ',not in decendants');\n            return false;\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Here ');\n          if (decendants[clusterId].indexOf(edge.v) >= 0) return true;\n          if (isDecendant(edge.v, clusterId)) return true;\n          if (isDecendant(edge.w, clusterId)) return true;\n          if (decendants[clusterId].indexOf(edge.w) >= 0) return true;\n          return false;\n        };\n        var copy = function copy(clusterId, graph, newGraph, rootId) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Copying children of ', clusterId, 'root', rootId, 'data', graph.node(clusterId), rootId);\n          var nodes = graph.children(clusterId) || []; // Include cluster node if it is not the root\n\n          if (clusterId !== rootId) {\n            nodes.push(clusterId);\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Copying (nodes) clusterId', clusterId, 'nodes', nodes);\n          nodes.forEach(function (node) {\n            if (graph.children(node).length > 0) {\n              copy(node, graph, newGraph, rootId);\n            } else {\n              var data = graph.node(node);\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('cp ', node, ' to ', rootId, ' with parent ', clusterId); //,node, data, ' parent is ', clusterId);\n\n              newGraph.setNode(node, data);\n              if (rootId !== graph.parent(node)) {\n                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Setting parent', node, graph.parent(node));\n                newGraph.setParent(node, graph.parent(node));\n              }\n              if (clusterId !== rootId && node !== clusterId) {\n                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Setting parent', node, clusterId);\n                newGraph.setParent(node, clusterId);\n              } else {\n                _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('In copy ', clusterId, 'root', rootId, 'data', graph.node(clusterId), rootId);\n                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Not Setting parent for node=', node, 'cluster!==rootId', clusterId !== rootId, 'node!==clusterId', node !== clusterId);\n              }\n              var edges = graph.edges(node);\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Copying Edges', edges);\n              edges.forEach(function (edge) {\n                _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Edge', edge);\n                var data = graph.edge(edge.v, edge.w, edge.name);\n                _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Edge data', data, rootId);\n                try {\n                  // Do not copy edges in and out of the root cluster, they belong to the parent graph\n                  if (edgeInCluster(edge, rootId)) {\n                    _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Copying as ', edge.v, edge.w, data, edge.name);\n                    newGraph.setEdge(edge.v, edge.w, data, edge.name);\n                    _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('newGraph edges ', newGraph.edges(), newGraph.edge(newGraph.edges()[0]));\n                  } else {\n                    _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Skipping copy of edge ', edge.v, '-->', edge.w, ' rootId: ', rootId, ' clusterId:', clusterId);\n                  }\n                } catch (e) {\n                  _logger__WEBPACK_IMPORTED_MODULE_1__.log.error(e);\n                }\n              });\n            }\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Removing node', node);\n            graph.removeNode(node);\n          });\n        };\n        var extractDecendants = function extractDecendants(id, graph) {\n          // log.debug('Extracting ', id);\n          var children = graph.children(id);\n          var res = [].concat(children);\n          for (var i = 0; i < children.length; i++) {\n            parents[children[i]] = id;\n            res = res.concat(extractDecendants(children[i], graph));\n          }\n          return res;\n        };\n        /**\n         * Validates the graph, checking that all parent child relation points to existing nodes and that\n         * edges between nodes also ia correct. When not correct the function logs the discrepancies.\n         *\n         * @param graph\n         */\n\n        var validate = function validate(graph) {\n          var edges = graph.edges();\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('Edges: ', edges);\n          for (var i = 0; i < edges.length; i++) {\n            if (graph.children(edges[i].v).length > 0) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('The node ', edges[i].v, ' is part of and edge even though it has children');\n              return false;\n            }\n            if (graph.children(edges[i].w).length > 0) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('The node ', edges[i].w, ' is part of and edge even though it has children');\n              return false;\n            }\n          }\n          return true;\n        };\n        /**\n         * Finds a child that is not a cluster. When faking a edge between a node and a cluster.\n         *\n         * @param {Finds a} id\n         * @param {any} graph\n         */\n\n        var findNonClusterChild = function findNonClusterChild(id, graph) {\n          // const node = graph.node(id);\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('Searching', id); // const children = graph.children(id).reverse();\n\n          var children = graph.children(id); //.reverse();\n\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('Searching children of id ', id, children);\n          if (children.length < 1) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('This is a valid node', id);\n            return id;\n          }\n          for (var i = 0; i < children.length; i++) {\n            var _id = findNonClusterChild(children[i], graph);\n            if (_id) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace('Found replacement for', id, ' => ', _id);\n              return _id;\n            }\n          }\n        };\n        var getAnchorId = function getAnchorId(id) {\n          if (!clusterDb[id]) {\n            return id;\n          } // If the cluster has no external connections\n\n          if (!clusterDb[id].externalConnections) {\n            return id;\n          } // Return the replacement node\n\n          if (clusterDb[id]) {\n            return clusterDb[id].id;\n          }\n          return id;\n        };\n        var adjustClustersAndEdges = function adjustClustersAndEdges(graph, depth) {\n          if (!graph || depth > 10) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Opting out, no graph ');\n            return;\n          } else {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Opting in, graph ');\n          } // Go through the nodes and for each cluster found, save a replacment node, this can be used when\n          // faking a link to a cluster\n\n          graph.nodes().forEach(function (id) {\n            var children = graph.children(id);\n            if (children.length > 0) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Cluster identified', id, ' Replacement id in edges: ', findNonClusterChild(id, graph));\n              decendants[id] = extractDecendants(id, graph);\n              clusterDb[id] = {\n                id: findNonClusterChild(id, graph),\n                clusterData: graph.node(id)\n              };\n            }\n          }); // Check incoming and outgoing edges for each cluster\n\n          graph.nodes().forEach(function (id) {\n            var children = graph.children(id);\n            var edges = graph.edges();\n            if (children.length > 0) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Cluster identified', id, decendants);\n              edges.forEach(function (edge) {\n                // log.debug('Edge, decendants: ', edge, decendants[id]);\n                // Check if any edge leaves the cluster (not the actual cluster, thats a link from the box)\n                if (edge.v !== id && edge.w !== id) {\n                  // Any edge where either the one of the nodes is decending to the cluster but not the other\n                  // if (decendants[id].indexOf(edge.v) < 0 && decendants[id].indexOf(edge.w) < 0) {\n                  var d1 = isDecendant(edge.v, id);\n                  var d2 = isDecendant(edge.w, id); // d1 xor d2 - if either d1 is true and d2 is false or the other way around\n\n                  if (d1 ^ d2) {\n                    _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Edge: ', edge, ' leaves cluster ', id);\n                    _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Decendants of XXX ', id, ': ', decendants[id]);\n                    clusterDb[id].externalConnections = true;\n                  }\n                }\n              });\n            } else {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Not a cluster ', id, decendants);\n            }\n          }); // For clusters with incoming and/or outgoing edges translate those edges to a real node\n          // in the cluster inorder to fake the edge\n\n          graph.edges().forEach(function (e) {\n            var edge = graph.edge(e);\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(graph.edge(e)));\n            var v = e.v;\n            var w = e.w; // Check if link is either from or to a cluster\n\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Fix XXX', clusterDb, 'ids:', e.v, e.w, 'Translateing: ', clusterDb[e.v], ' --- ', clusterDb[e.w]);\n            if (clusterDb[e.v] || clusterDb[e.w]) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Fixing and trixing - removing XXX', e.v, e.w, e.name);\n              v = getAnchorId(e.v);\n              w = getAnchorId(e.w);\n              graph.removeEdge(e.v, e.w, e.name);\n              if (v !== e.v) edge.fromCluster = e.v;\n              if (w !== e.w) edge.toCluster = e.w;\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Fix Replacing with XXX', v, w, e.name);\n              graph.setEdge(v, w, edge, e.name);\n            }\n          });\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Adjusted Graph', graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph));\n          extractor(graph, 0);\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace(clusterDb); // Remove references to extracted cluster\n          // graph.edges().forEach(edge => {\n          //   if (isDecendant(edge.v, clusterId) || isDecendant(edge.w, clusterId)) {\n          //     graph.removeEdge(edge);\n          //   }\n          // });\n        };\n        var extractor = function extractor(graph, depth) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('extractor - ', depth, graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph), graph.children('D'));\n          if (depth > 10) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.error('Bailing out');\n            return;\n          } // For clusters without incoming and/or outgoing edges, create a new cluster-node\n          // containing the nodes and edges in the custer in a new graph\n          // for (let i = 0;)\n\n          var nodes = graph.nodes();\n          var hasChildren = false;\n          for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            var children = graph.children(node);\n            hasChildren = hasChildren || children.length > 0;\n          }\n          if (!hasChildren) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Done, no node has children', graph.nodes());\n            return;\n          } // const clusters = Object.keys(clusterDb);\n          // clusters.forEach(clusterId => {\n\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Nodes = ', nodes, depth);\n          for (var _i = 0; _i < nodes.length; _i++) {\n            var _node = nodes[_i];\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Extracting node', _node, clusterDb, clusterDb[_node] && !clusterDb[_node].externalConnections, !graph.parent(_node), graph.node(_node), graph.children('D'), ' Depth ', depth); // Note that the node might have been removed after the Object.keys call so better check\n            // that it still is in the game\n\n            if (!clusterDb[_node]) {\n              // Skip if the node is not a cluster\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Not a cluster', _node, depth); // break;\n            } else if (!clusterDb[_node].externalConnections &&\n            // !graph.parent(node) &&\n            graph.children(_node) && graph.children(_node).length > 0) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Cluster without external connections, without a parent and with children', _node, depth);\n              var graphSettings = graph.graph();\n              var dir = graphSettings.rankdir === 'TB' ? 'LR' : 'TB';\n              if (clusterDb[_node]) {\n                if (clusterDb[_node].clusterData && clusterDb[_node].clusterData.dir) {\n                  dir = clusterDb[_node].clusterData.dir;\n                  _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Fixing dir', clusterDb[_node].clusterData.dir, dir);\n                }\n              }\n              var clusterGraph = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({\n                multigraph: true,\n                compound: true\n              }).setGraph({\n                rankdir: dir,\n                // Todo: set proper spacing\n                nodesep: 50,\n                ranksep: 50,\n                marginx: 8,\n                marginy: 8\n              }).setDefaultEdgeLabel(function () {\n                return {};\n              });\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Old graph before copy', graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph));\n              copy(_node, graph, clusterGraph, _node);\n              graph.setNode(_node, {\n                clusterNode: true,\n                id: _node,\n                clusterData: clusterDb[_node].clusterData,\n                labelText: clusterDb[_node].labelText,\n                graph: clusterGraph\n              });\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('New graph after copy node: (', _node, ')', graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(clusterGraph));\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Old graph after copy', graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph));\n            } else {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Cluster ** ', _node, ' **not meeting the criteria !externalConnections:', !clusterDb[_node].externalConnections, ' no parent: ', !graph.parent(_node), ' children ', graph.children(_node) && graph.children(_node).length > 0, graph.children('D'), depth);\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(clusterDb);\n            }\n          }\n          nodes = graph.nodes();\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('New list of nodes', nodes);\n          for (var _i2 = 0; _i2 < nodes.length; _i2++) {\n            var _node2 = nodes[_i2];\n            var data = graph.node(_node2);\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn(' Now next level', _node2, data);\n            if (data.clusterNode) {\n              extractor(data.graph, depth + 1);\n            }\n          }\n        };\n        var sorter = function sorter(graph, nodes) {\n          if (nodes.length === 0) return [];\n          var result = Object.assign(nodes);\n          nodes.forEach(function (node) {\n            var children = graph.children(node);\n            var sorted = sorter(graph, children);\n            result = result.concat(sorted);\n          });\n          return result;\n        };\n        var sortNodesByHierarchy = function sortNodesByHierarchy(graph) {\n          return sorter(graph, graph.children());\n        };\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/nodes.js\": (\n      /*!************************************!*\\\n        !*** ./src/dagre-wrapper/nodes.js ***!\n        \\************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"insertNode\": () => (/* binding */insertNode),\n          /* harmony export */\"setNodeElem\": () => (/* binding */setNodeElem),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"positionNode\": () => (/* binding */positionNode)\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _shapes_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shapes/util */\"./src/dagre-wrapper/shapes/util.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */\"./src/config.js\");\n        /* harmony import */\n        var _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./intersect/index.js */\"./src/dagre-wrapper/intersect/index.js\");\n        /* harmony import */\n        var _createLabel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./createLabel */\"./src/dagre-wrapper/createLabel.js\");\n        /* harmony import */\n        var _shapes_note__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./shapes/note */\"./src/dagre-wrapper/shapes/note.js\");\n        /* harmony import */\n        var _diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../diagrams/class/svgDraw */\"./src/diagrams/class/svgDraw.js\");\n        /* harmony import */\n        var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../diagrams/common/common */\"./src/diagrams/common/common.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n\n        // eslint-disable-line\n\n        var sanitizeText = function sanitizeText(txt) {\n          return (0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.sanitizeText)(txt, (0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)());\n        };\n        var question = function question(parent, node) {\n          var _labelHelper = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper.shapeSvg,\n            bbox = _labelHelper.bbox;\n          var w = bbox.width + node.padding;\n          var h = bbox.height + node.padding;\n          var s = w + h;\n          var points = [{\n            x: s / 2,\n            y: 0\n          }, {\n            x: s,\n            y: -s / 2\n          }, {\n            x: s / 2,\n            y: -s\n          }, {\n            x: 0,\n            y: -s / 2\n          }];\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('Question main (Circle)');\n          var questionElem = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, s, s, points);\n          questionElem.attr('style', node.style);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, questionElem);\n          node.intersect = function (point) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn('Intersect called');\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var choice = function choice(parent, node) {\n          var shapeSvg = parent.insert('g').attr('class', 'node default').attr('id', node.domId || node.id);\n          var s = 28;\n          var points = [{\n            x: 0,\n            y: s / 2\n          }, {\n            x: s / 2,\n            y: 0\n          }, {\n            x: 0,\n            y: -s / 2\n          }, {\n            x: -s / 2,\n            y: 0\n          }];\n          var choice = shapeSvg.insert('polygon', ':first-child').attr('points', points.map(function (d) {\n            return d.x + ',' + d.y;\n          }).join(' ')); // center the circle around its coordinate\n\n          choice.attr('class', 'state-start').attr('r', 7).attr('width', 28).attr('height', 28);\n          node.width = 28;\n          node.height = 28;\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].circle(node, 14, point);\n          };\n          return shapeSvg;\n        };\n        var hexagon = function hexagon(parent, node) {\n          var _labelHelper2 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper2.shapeSvg,\n            bbox = _labelHelper2.bbox;\n          var f = 4;\n          var h = bbox.height + node.padding;\n          var m = h / f;\n          var w = bbox.width + 2 * m + node.padding;\n          var points = [{\n            x: m,\n            y: 0\n          }, {\n            x: w - m,\n            y: 0\n          }, {\n            x: w,\n            y: -h / 2\n          }, {\n            x: w - m,\n            y: -h\n          }, {\n            x: m,\n            y: -h\n          }, {\n            x: 0,\n            y: -h / 2\n          }];\n          var hex = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);\n          hex.attr('style', node.style);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, hex);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var rect_left_inv_arrow = function rect_left_inv_arrow(parent, node) {\n          var _labelHelper3 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper3.shapeSvg,\n            bbox = _labelHelper3.bbox;\n          var w = bbox.width + node.padding;\n          var h = bbox.height + node.padding;\n          var points = [{\n            x: -h / 2,\n            y: 0\n          }, {\n            x: w,\n            y: 0\n          }, {\n            x: w,\n            y: -h\n          }, {\n            x: -h / 2,\n            y: -h\n          }, {\n            x: 0,\n            y: -h / 2\n          }];\n          var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);\n          el.attr('style', node.style);\n          node.width = w + h;\n          node.height = h;\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var lean_right = function lean_right(parent, node) {\n          var _labelHelper4 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper4.shapeSvg,\n            bbox = _labelHelper4.bbox;\n          var w = bbox.width + node.padding;\n          var h = bbox.height + node.padding;\n          var points = [{\n            x: -2 * h / 6,\n            y: 0\n          }, {\n            x: w - h / 6,\n            y: 0\n          }, {\n            x: w + 2 * h / 6,\n            y: -h\n          }, {\n            x: h / 6,\n            y: -h\n          }];\n          var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);\n          el.attr('style', node.style);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var lean_left = function lean_left(parent, node) {\n          var _labelHelper5 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper5.shapeSvg,\n            bbox = _labelHelper5.bbox;\n          var w = bbox.width + node.padding;\n          var h = bbox.height + node.padding;\n          var points = [{\n            x: 2 * h / 6,\n            y: 0\n          }, {\n            x: w + h / 6,\n            y: 0\n          }, {\n            x: w - 2 * h / 6,\n            y: -h\n          }, {\n            x: -h / 6,\n            y: -h\n          }];\n          var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);\n          el.attr('style', node.style);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var trapezoid = function trapezoid(parent, node) {\n          var _labelHelper6 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper6.shapeSvg,\n            bbox = _labelHelper6.bbox;\n          var w = bbox.width + node.padding;\n          var h = bbox.height + node.padding;\n          var points = [{\n            x: -2 * h / 6,\n            y: 0\n          }, {\n            x: w + 2 * h / 6,\n            y: 0\n          }, {\n            x: w - h / 6,\n            y: -h\n          }, {\n            x: h / 6,\n            y: -h\n          }];\n          var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);\n          el.attr('style', node.style);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var inv_trapezoid = function inv_trapezoid(parent, node) {\n          var _labelHelper7 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper7.shapeSvg,\n            bbox = _labelHelper7.bbox;\n          var w = bbox.width + node.padding;\n          var h = bbox.height + node.padding;\n          var points = [{\n            x: h / 6,\n            y: 0\n          }, {\n            x: w - h / 6,\n            y: 0\n          }, {\n            x: w + 2 * h / 6,\n            y: -h\n          }, {\n            x: -2 * h / 6,\n            y: -h\n          }];\n          var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);\n          el.attr('style', node.style);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var rect_right_inv_arrow = function rect_right_inv_arrow(parent, node) {\n          var _labelHelper8 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper8.shapeSvg,\n            bbox = _labelHelper8.bbox;\n          var w = bbox.width + node.padding;\n          var h = bbox.height + node.padding;\n          var points = [{\n            x: 0,\n            y: 0\n          }, {\n            x: w + h / 2,\n            y: 0\n          }, {\n            x: w,\n            y: -h / 2\n          }, {\n            x: w + h / 2,\n            y: -h\n          }, {\n            x: 0,\n            y: -h\n          }];\n          var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);\n          el.attr('style', node.style);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var cylinder = function cylinder(parent, node) {\n          var _labelHelper9 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper9.shapeSvg,\n            bbox = _labelHelper9.bbox;\n          var w = bbox.width + node.padding;\n          var rx = w / 2;\n          var ry = rx / (2.5 + w / 50);\n          var h = bbox.height + ry + node.padding;\n          var shape = 'M 0,' + ry + ' a ' + rx + ',' + ry + ' 0,0,0 ' + w + ' 0 a ' + rx + ',' + ry + ' 0,0,0 ' + -w + ' 0 l 0,' + h + ' a ' + rx + ',' + ry + ' 0,0,0 ' + w + ' 0 l 0,' + -h;\n          var el = shapeSvg.attr('label-offset-y', ry).insert('path', ':first-child').attr('style', node.style).attr('d', shape).attr('transform', 'translate(' + -w / 2 + ',' + -(h / 2 + ry) + ')');\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);\n          node.intersect = function (point) {\n            var pos = _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].rect(node, point);\n            var x = pos.x - node.x;\n            if (rx != 0 && (Math.abs(x) < node.width / 2 || Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry)) {\n              // ellipsis equation: x*x / a*a + y*y / b*b = 1\n              // solve for y to get adjustion value for pos.y\n              var y = ry * ry * (1 - x * x / (rx * rx));\n              if (y != 0) y = Math.sqrt(y);\n              y = ry - y;\n              if (point.y - node.y > 0) y = -y;\n              pos.y += y;\n            }\n            return pos;\n          };\n          return shapeSvg;\n        };\n        var rect = function rect(parent, node) {\n          var _labelHelper10 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, 'node ' + node.classes, true),\n            shapeSvg = _labelHelper10.shapeSvg,\n            bbox = _labelHelper10.bbox,\n            halfPadding = _labelHelper10.halfPadding;\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.trace('Classes = ', node.classes); // add the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child');\n          var totalWidth = bbox.width + node.padding;\n          var totalHeight = bbox.height + node.padding;\n          rect.attr('class', 'basic label-container').attr('style', node.style).attr('rx', node.rx).attr('ry', node.ry).attr('x', -bbox.width / 2 - halfPadding).attr('y', -bbox.height / 2 - halfPadding).attr('width', totalWidth).attr('height', totalHeight);\n          if (node.props) {\n            var propKeys = new Set(Object.keys(node.props));\n            if (node.props.borders) {\n              applyNodePropertyBorders(rect, node.props.borders, totalWidth, totalHeight);\n              propKeys.delete('borders');\n            }\n            propKeys.forEach(function (propKey) {\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn(\"Unknown node property \".concat(propKey));\n            });\n          }\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].rect(node, point);\n          };\n          return shapeSvg;\n        };\n        /**\n         * @param rect\n         * @param borders\n         * @param totalWidth\n         * @param totalHeight\n         */\n\n        function applyNodePropertyBorders(rect, borders, totalWidth, totalHeight) {\n          var strokeDashArray = [];\n          var addBorder = function addBorder(length) {\n            strokeDashArray.push(length);\n            strokeDashArray.push(0);\n          };\n          var skipBorder = function skipBorder(length) {\n            strokeDashArray.push(0);\n            strokeDashArray.push(length);\n          };\n          if (borders.includes('t')) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('add top border');\n            addBorder(totalWidth);\n          } else {\n            skipBorder(totalWidth);\n          }\n          if (borders.includes('r')) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('add right border');\n            addBorder(totalHeight);\n          } else {\n            skipBorder(totalHeight);\n          }\n          if (borders.includes('b')) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('add bottom border');\n            addBorder(totalWidth);\n          } else {\n            skipBorder(totalWidth);\n          }\n          if (borders.includes('l')) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('add left border');\n            addBorder(totalHeight);\n          } else {\n            skipBorder(totalHeight);\n          }\n          rect.attr('stroke-dasharray', strokeDashArray.join(' '));\n        }\n        var rectWithTitle = function rectWithTitle(parent, node) {\n          // const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes);\n          var classes;\n          if (!node.classes) {\n            classes = 'node default';\n          } else {\n            classes = 'node ' + node.classes;\n          } // Add outer g element\n\n          var shapeSvg = parent.insert('g').attr('class', classes).attr('id', node.domId || node.id); // Create the title label and insert it after the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child'); // const innerRect = shapeSvg.insert('rect');\n\n          var innerLine = shapeSvg.insert('line');\n          var label = shapeSvg.insert('g').attr('class', 'label');\n          var text2 = node.labelText.flat ? node.labelText.flat() : node.labelText; // const text2 = typeof text2prim === 'object' ? text2prim[0] : text2prim;\n\n          var title = '';\n          if (_typeof(text2) === 'object') {\n            title = text2[0];\n          } else {\n            title = text2;\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('Label text abc79', title, text2, _typeof(text2) === 'object');\n          var text = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(title, node.labelStyle, true, true));\n          var bbox = {\n            width: 0,\n            height: 0\n          };\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {\n            var div = text.children[0];\n            var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text);\n            bbox = div.getBoundingClientRect();\n            dv.attr('width', bbox.width);\n            dv.attr('height', bbox.height);\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('Text 2', text2);\n          var textRows = text2.slice(1, text2.length);\n          var titleBox = text.getBBox();\n          var descr = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(textRows.join ? textRows.join('<br/>') : textRows, node.labelStyle, true, true));\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {\n            var _div = descr.children[0];\n            var _dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(descr);\n            bbox = _div.getBoundingClientRect();\n            _dv.attr('width', bbox.width);\n            _dv.attr('height', bbox.height);\n          } // bbox = label.getBBox();\n          // log.info(descr);\n\n          var halfPadding = node.padding / 2;\n          (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(descr).attr('transform', 'translate( ' + (\n          // (titleBox.width - bbox.width) / 2 +\n          bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) + ', ' + (titleBox.height + halfPadding + 5) + ')');\n          (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text).attr('transform', 'translate( ' + (\n          // (titleBox.width - bbox.width) / 2 +\n          bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) + ', ' + 0 + ')'); // Get the size of the label\n          // Bounding box for title and text\n\n          bbox = label.node().getBBox(); // Center the label\n\n          label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + (-bbox.height / 2 - halfPadding + 3) + ')');\n          rect.attr('class', 'outer title-state').attr('x', -bbox.width / 2 - halfPadding).attr('y', -bbox.height / 2 - halfPadding).attr('width', bbox.width + node.padding).attr('height', bbox.height + node.padding);\n          innerLine.attr('class', 'divider').attr('x1', -bbox.width / 2 - halfPadding).attr('x2', bbox.width / 2 + halfPadding).attr('y1', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding).attr('y2', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].rect(node, point);\n          };\n          return shapeSvg;\n        };\n        var stadium = function stadium(parent, node) {\n          var _labelHelper11 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper11.shapeSvg,\n            bbox = _labelHelper11.bbox;\n          var h = bbox.height + node.padding;\n          var w = bbox.width + h / 4 + node.padding; // add the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child').attr('style', node.style).attr('rx', h / 2).attr('ry', h / 2).attr('x', -w / 2).attr('y', -h / 2).attr('width', w).attr('height', h);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].rect(node, point);\n          };\n          return shapeSvg;\n        };\n        var circle = function circle(parent, node) {\n          var _labelHelper12 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper12.shapeSvg,\n            bbox = _labelHelper12.bbox,\n            halfPadding = _labelHelper12.halfPadding;\n          var circle = shapeSvg.insert('circle', ':first-child'); // center the circle around its coordinate\n\n          circle.attr('style', node.style).attr('rx', node.rx).attr('ry', node.ry).attr('r', bbox.width / 2 + halfPadding).attr('width', bbox.width + node.padding).attr('height', bbox.height + node.padding);\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('Circle main');\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, circle);\n          node.intersect = function (point) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info('Circle intersect', node, bbox.width / 2 + halfPadding, point);\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].circle(node, bbox.width / 2 + halfPadding, point);\n          };\n          return shapeSvg;\n        };\n        var subroutine = function subroutine(parent, node) {\n          var _labelHelper13 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, undefined, true),\n            shapeSvg = _labelHelper13.shapeSvg,\n            bbox = _labelHelper13.bbox;\n          var w = bbox.width + node.padding;\n          var h = bbox.height + node.padding;\n          var points = [{\n            x: 0,\n            y: 0\n          }, {\n            x: w,\n            y: 0\n          }, {\n            x: w,\n            y: -h\n          }, {\n            x: 0,\n            y: -h\n          }, {\n            x: 0,\n            y: 0\n          }, {\n            x: -8,\n            y: 0\n          }, {\n            x: w + 8,\n            y: 0\n          }, {\n            x: w + 8,\n            y: -h\n          }, {\n            x: -8,\n            y: -h\n          }, {\n            x: -8,\n            y: 0\n          }];\n          var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);\n          el.attr('style', node.style);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].polygon(node, points, point);\n          };\n          return shapeSvg;\n        };\n        var start = function start(parent, node) {\n          var shapeSvg = parent.insert('g').attr('class', 'node default').attr('id', node.domId || node.id);\n          var circle = shapeSvg.insert('circle', ':first-child'); // center the circle around its coordinate\n\n          circle.attr('class', 'state-start').attr('r', 7).attr('width', 14).attr('height', 14);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, circle);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].circle(node, 7, point);\n          };\n          return shapeSvg;\n        };\n        var forkJoin = function forkJoin(parent, node, dir) {\n          var shapeSvg = parent.insert('g').attr('class', 'node default').attr('id', node.domId || node.id);\n          var width = 70;\n          var height = 10;\n          if (dir === 'LR') {\n            width = 10;\n            height = 70;\n          }\n          var shape = shapeSvg.append('rect').attr('x', -1 * width / 2).attr('y', -1 * height / 2).attr('width', width).attr('height', height).attr('class', 'fork-join');\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, shape);\n          node.height = node.height + node.padding / 2;\n          node.width = node.width + node.padding / 2;\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].rect(node, point);\n          };\n          return shapeSvg;\n        };\n        var end = function end(parent, node) {\n          var shapeSvg = parent.insert('g').attr('class', 'node default').attr('id', node.domId || node.id);\n          var innerCircle = shapeSvg.insert('circle', ':first-child');\n          var circle = shapeSvg.insert('circle', ':first-child');\n          circle.attr('class', 'state-start').attr('r', 7).attr('width', 14).attr('height', 14);\n          innerCircle.attr('class', 'state-end').attr('r', 5).attr('width', 10).attr('height', 10);\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, circle);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].circle(node, 7, point);\n          };\n          return shapeSvg;\n        };\n        var class_box = function class_box(parent, node) {\n          var halfPadding = node.padding / 2;\n          var rowPadding = 4;\n          var lineHeight = 8;\n          var classes;\n          if (!node.classes) {\n            classes = 'node default';\n          } else {\n            classes = 'node ' + node.classes;\n          } // Add outer g element\n\n          var shapeSvg = parent.insert('g').attr('class', classes).attr('id', node.domId || node.id); // Create the title label and insert it after the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child');\n          var topLine = shapeSvg.insert('line');\n          var bottomLine = shapeSvg.insert('line');\n          var maxWidth = 0;\n          var maxHeight = rowPadding;\n          var labelContainer = shapeSvg.insert('g').attr('class', 'label');\n          var verticalPos = 0;\n          var hasInterface = node.classData.annotations && node.classData.annotations[0]; // 1. Create the labels\n\n          var interfaceLabelText = node.classData.annotations[0] ? '' + node.classData.annotations[0] + '' : '';\n          var interfaceLabel = labelContainer.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(interfaceLabelText, node.labelStyle, true, true));\n          var interfaceBBox = interfaceLabel.getBBox();\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {\n            var div = interfaceLabel.children[0];\n            var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(interfaceLabel);\n            interfaceBBox = div.getBoundingClientRect();\n            dv.attr('width', interfaceBBox.width);\n            dv.attr('height', interfaceBBox.height);\n          }\n          if (node.classData.annotations[0]) {\n            maxHeight += interfaceBBox.height + rowPadding;\n            maxWidth += interfaceBBox.width;\n          }\n          var classTitleString = node.classData.id;\n          if (node.classData.type !== undefined && node.classData.type !== '') {\n            if ((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels) {\n              classTitleString += '&lt;' + node.classData.type + '&gt;';\n            } else {\n              classTitleString += '<' + node.classData.type + '>';\n            }\n          }\n          var classTitleLabel = labelContainer.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(classTitleString, node.labelStyle, true, true));\n          (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel).attr('class', 'classTitle');\n          var classTitleBBox = classTitleLabel.getBBox();\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {\n            var _div2 = classTitleLabel.children[0];\n            var _dv2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel);\n            classTitleBBox = _div2.getBoundingClientRect();\n            _dv2.attr('width', classTitleBBox.width);\n            _dv2.attr('height', classTitleBBox.height);\n          }\n          maxHeight += classTitleBBox.height + rowPadding;\n          if (classTitleBBox.width > maxWidth) {\n            maxWidth = classTitleBBox.width;\n          }\n          var classAttributes = [];\n          node.classData.members.forEach(function (str) {\n            var parsedInfo = (0, _diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__.parseMember)(str);\n            var parsedText = parsedInfo.displayText;\n            if ((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels) {\n              parsedText = parsedText.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n            }\n            var lbl = labelContainer.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(parsedText, parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle, true, true));\n            var bbox = lbl.getBBox();\n            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {\n              var _div3 = lbl.children[0];\n              var _dv3 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl);\n              bbox = _div3.getBoundingClientRect();\n              _dv3.attr('width', bbox.width);\n              _dv3.attr('height', bbox.height);\n            }\n            if (bbox.width > maxWidth) {\n              maxWidth = bbox.width;\n            }\n            maxHeight += bbox.height + rowPadding;\n            classAttributes.push(lbl);\n          });\n          maxHeight += lineHeight;\n          var classMethods = [];\n          node.classData.methods.forEach(function (str) {\n            var parsedInfo = (0, _diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__.parseMember)(str);\n            var displayText = parsedInfo.displayText;\n            if ((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels) {\n              displayText = displayText.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n            }\n            var lbl = labelContainer.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(displayText, parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle, true, true));\n            var bbox = lbl.getBBox();\n            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {\n              var _div4 = lbl.children[0];\n              var _dv4 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl);\n              bbox = _div4.getBoundingClientRect();\n              _dv4.attr('width', bbox.width);\n              _dv4.attr('height', bbox.height);\n            }\n            if (bbox.width > maxWidth) {\n              maxWidth = bbox.width;\n            }\n            maxHeight += bbox.height + rowPadding;\n            classMethods.push(lbl);\n          });\n          maxHeight += lineHeight; // 2. Position the labels\n          // position the interface label\n\n          if (hasInterface) {\n            var _diffX = (maxWidth - interfaceBBox.width) / 2;\n            (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(interfaceLabel).attr('transform', 'translate( ' + (-1 * maxWidth / 2 + _diffX) + ', ' + -1 * maxHeight / 2 + ')');\n            verticalPos = interfaceBBox.height + rowPadding;\n          } // Positin the class title label\n\n          var diffX = (maxWidth - classTitleBBox.width) / 2;\n          (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel).attr('transform', 'translate( ' + (-1 * maxWidth / 2 + diffX) + ', ' + (-1 * maxHeight / 2 + verticalPos) + ')');\n          verticalPos += classTitleBBox.height + rowPadding;\n          topLine.attr('class', 'divider').attr('x1', -maxWidth / 2 - halfPadding).attr('x2', maxWidth / 2 + halfPadding).attr('y1', -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr('y2', -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n          verticalPos += lineHeight;\n          classAttributes.forEach(function (lbl) {\n            (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl).attr('transform', 'translate( ' + -maxWidth / 2 + ', ' + (-1 * maxHeight / 2 + verticalPos + lineHeight / 2) + ')');\n            verticalPos += classTitleBBox.height + rowPadding;\n          });\n          verticalPos += lineHeight;\n          bottomLine.attr('class', 'divider').attr('x1', -maxWidth / 2 - halfPadding).attr('x2', maxWidth / 2 + halfPadding).attr('y1', -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr('y2', -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n          verticalPos += lineHeight;\n          classMethods.forEach(function (lbl) {\n            (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl).attr('transform', 'translate( ' + -maxWidth / 2 + ', ' + (-1 * maxHeight / 2 + verticalPos) + ')');\n            verticalPos += classTitleBBox.height + rowPadding;\n          }); //\n          // let bbox;\n          // if (evaluate(getConfig().flowchart.htmlLabels)) {\n          //   const div = interfaceLabel.children[0];\n          //   const dv = select(interfaceLabel);\n          //   bbox = div.getBoundingClientRect();\n          //   dv.attr('width', bbox.width);\n          //   dv.attr('height', bbox.height);\n          // }\n          // bbox = labelContainer.getBBox();\n          // log.info('Text 2', text2);\n          // const textRows = text2.slice(1, text2.length);\n          // let titleBox = text.getBBox();\n          // const descr = label\n          //   .node()\n          //   .appendChild(createLabel(textRows.join('<br/>'), node.labelStyle, true, true));\n          // if (evaluate(getConfig().flowchart.htmlLabels)) {\n          //   const div = descr.children[0];\n          //   const dv = select(descr);\n          //   bbox = div.getBoundingClientRect();\n          //   dv.attr('width', bbox.width);\n          //   dv.attr('height', bbox.height);\n          // }\n          // // bbox = label.getBBox();\n          // // log.info(descr);\n          // select(descr).attr(\n          //   'transform',\n          //   'translate( ' +\n          //     // (titleBox.width - bbox.width) / 2 +\n          //     (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) +\n          //     ', ' +\n          //     (titleBox.height + halfPadding + 5) +\n          //     ')'\n          // );\n          // select(text).attr(\n          //   'transform',\n          //   'translate( ' +\n          //     // (titleBox.width - bbox.width) / 2 +\n          //     (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) +\n          //     ', ' +\n          //     0 +\n          //     ')'\n          // );\n          // // Get the size of the label\n          // // Bounding box for title and text\n          // bbox = label.node().getBBox();\n          // // Center the label\n          // label.attr(\n          //   'transform',\n          //   'translate(' + -bbox.width / 2 + ', ' + (-bbox.height / 2 - halfPadding + 3) + ')'\n          // );\n\n          rect.attr('class', 'outer title-state').attr('x', -maxWidth / 2 - halfPadding).attr('y', -(maxHeight / 2) - halfPadding).attr('width', maxWidth + node.padding).attr('height', maxHeight + node.padding); // innerLine\n          //   .attr('class', 'divider')\n          //   .attr('x1', -bbox.width / 2 - halfPadding)\n          //   .attr('x2', bbox.width / 2 + halfPadding)\n          //   .attr('y1', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding)\n          //   .attr('y2', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n\n          (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].rect(node, point);\n          };\n          return shapeSvg;\n        };\n        var shapes = {\n          question: question,\n          rect: rect,\n          rectWithTitle: rectWithTitle,\n          choice: choice,\n          circle: circle,\n          stadium: stadium,\n          hexagon: hexagon,\n          rect_left_inv_arrow: rect_left_inv_arrow,\n          lean_right: lean_right,\n          lean_left: lean_left,\n          trapezoid: trapezoid,\n          inv_trapezoid: inv_trapezoid,\n          rect_right_inv_arrow: rect_right_inv_arrow,\n          cylinder: cylinder,\n          start: start,\n          end: end,\n          note: _shapes_note__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n          subroutine: subroutine,\n          fork: forkJoin,\n          join: forkJoin,\n          class_box: class_box\n        };\n        var nodeElems = {};\n        var insertNode = function insertNode(elem, node, dir) {\n          var newEl;\n          var el; // Add link when appropriate\n\n          if (node.link) {\n            var target;\n            if ((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().securityLevel === 'sandbox') {\n              target = '_top';\n            } else if (node.linkTarget) {\n              target = node.linkTarget || '_blank';\n            }\n            newEl = elem.insert('svg:a').attr('xlink:href', node.link).attr('target', target);\n            el = shapes[node.shape](newEl, node, dir);\n          } else {\n            el = shapes[node.shape](elem, node, dir);\n            newEl = el;\n          }\n          if (node.tooltip) {\n            el.attr('title', node.tooltip);\n          }\n          if (node.class) {\n            el.attr('class', 'node default ' + node.class);\n          }\n          nodeElems[node.id] = newEl;\n          if (node.haveCallback) {\n            nodeElems[node.id].attr('class', nodeElems[node.id].attr('class') + ' clickable');\n          }\n        };\n        var setNodeElem = function setNodeElem(elem, node) {\n          nodeElems[node.id] = elem;\n        };\n        var clear = function clear() {\n          nodeElems = {};\n        };\n        var positionNode = function positionNode(node) {\n          var el = nodeElems[node.id];\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.trace('Transforming node', node.diff, node, 'translate(' + (node.x - node.width / 2 - 5) + ', ' + node.width / 2 + ')');\n          var padding = 8;\n          var diff = node.diff || 0;\n          if (node.clusterNode) {\n            el.attr('transform', 'translate(' + (node.x + diff - node.width / 2) + ', ' + (node.y - node.height / 2 - padding) + ')');\n          } else {\n            el.attr('transform', 'translate(' + node.x + ', ' + node.y + ')');\n          }\n          return diff;\n        };\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/shapes/note.js\": (\n      /*!******************************************!*\\\n        !*** ./src/dagre-wrapper/shapes/note.js ***!\n        \\******************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */\"./src/dagre-wrapper/shapes/util.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _intersect_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../intersect/index.js */\"./src/dagre-wrapper/intersect/index.js\");\n\n        // eslint-disable-line\n\n        var note = function note(parent, node) {\n          var _labelHelper = (0, _util__WEBPACK_IMPORTED_MODULE_0__.labelHelper)(parent, node, 'node ' + node.classes, true),\n            shapeSvg = _labelHelper.shapeSvg,\n            bbox = _labelHelper.bbox,\n            halfPadding = _labelHelper.halfPadding;\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Classes = ', node.classes); // add the rect\n\n          var rect = shapeSvg.insert('rect', ':first-child');\n          rect.attr('rx', node.rx).attr('ry', node.ry).attr('x', -bbox.width / 2 - halfPadding).attr('y', -bbox.height / 2 - halfPadding).attr('width', bbox.width + node.padding).attr('height', bbox.height + node.padding);\n          (0, _util__WEBPACK_IMPORTED_MODULE_0__.updateNodeBounds)(node, rect);\n          node.intersect = function (point) {\n            return _intersect_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].rect(node, point);\n          };\n          return shapeSvg;\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = note;\n\n        /***/\n      }),\n      /***/\"./src/dagre-wrapper/shapes/util.js\": (\n      /*!******************************************!*\\\n        !*** ./src/dagre-wrapper/shapes/util.js ***!\n        \\******************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"labelHelper\": () => (/* binding */labelHelper),\n          /* harmony export */\"updateNodeBounds\": () => (/* binding */updateNodeBounds),\n          /* harmony export */\"insertPolygonShape\": () => (/* binding */insertPolygonShape)\n          /* harmony export */\n        });\n        /* harmony import */\n        var _createLabel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../createLabel */\"./src/dagre-wrapper/createLabel.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../diagrams/common/common */\"./src/diagrams/common/common.js\");\n        var labelHelper = function labelHelper(parent, node, _classes, isNode) {\n          var classes;\n          if (!_classes) {\n            classes = 'node default';\n          } else {\n            classes = _classes;\n          } // Add outer g element\n\n          var shapeSvg = parent.insert('g').attr('class', classes).attr('id', node.domId || node.id); // Create the label and insert it after the rect\n\n          var label = shapeSvg.insert('g').attr('class', 'label').attr('style', node.labelStyle);\n          var labelText = typeof node.labelText === 'string' ? node.labelText : node.labelText[0];\n          var text = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)((0, _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__.decodeEntities)(labelText), (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)()), node.labelStyle, false, isNode)); // Get the size of the label\n\n          var bbox = text.getBBox();\n          if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {\n            var div = text.children[0];\n            var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text);\n            bbox = div.getBoundingClientRect();\n            dv.attr('width', bbox.width);\n            dv.attr('height', bbox.height);\n          }\n          var halfPadding = node.padding / 2; // Center the label\n\n          label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + -bbox.height / 2 + ')');\n          return {\n            shapeSvg: shapeSvg,\n            bbox: bbox,\n            halfPadding: halfPadding,\n            label: label\n          };\n        };\n        var updateNodeBounds = function updateNodeBounds(node, element) {\n          var bbox = element.node().getBBox();\n          node.width = bbox.width;\n          node.height = bbox.height;\n        };\n        /**\n         * @param parent\n         * @param w\n         * @param h\n         * @param points\n         */\n\n        function insertPolygonShape(parent, w, h, points) {\n          return parent.insert('polygon', ':first-child').attr('points', points.map(function (d) {\n            return d.x + ',' + d.y;\n          }).join(' ')).attr('class', 'label-container').attr('transform', 'translate(' + -w / 2 + ',' + h / 2 + ')');\n        }\n\n        /***/\n      }),\n      /***/\"./src/defaultConfig.js\": (\n      /*!******************************!*\\\n        !*** ./src/defaultConfig.js ***!\n        \\******************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"configKeys\": () => (/* binding */configKeys),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _themes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./themes */\"./src/themes/index.js\");\n        function _toConsumableArray(arr) {\n          return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n        }\n        function _nonIterableSpread() {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        function _unsupportedIterableToArray(o, minLen) {\n          if (!o) return;\n          if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n          var n = Object.prototype.toString.call(o).slice(8, -1);\n          if (n === \"Object\" && o.constructor) n = o.constructor.name;\n          if (n === \"Map\" || n === \"Set\") return Array.from(o);\n          if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n        }\n        function _iterableToArray(iter) {\n          if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n        }\n        function _arrayWithoutHoles(arr) {\n          if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n        }\n        function _arrayLikeToArray(arr, len) {\n          if (len == null || len > arr.length) len = arr.length;\n          for (var i = 0, arr2 = new Array(len); i < len; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        }\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n\n        /**\n         * **Configuration methods in Mermaid version 8.6.0 have been updated, to learn more[[click\n         * here](8.6.0_docs.md)].**\n         *\n         * ## **What follows are config instructions for older versions**\n         *\n         * These are the default options which can be overridden with the initialization call like so:\n         *\n         * **Example 1:**<pre> mermaid.initialize({ flowchart:{ htmlLabels: false } }); </pre>\n         *\n         * **Example 2:**<pre> <script> var config = { startOnLoad:true, flowchart:{ useMaxWidth:true,\n         * htmlLabels:true, curve:'cardinal', },\n         *\n         *     securityLevel:'loose',\n         *\n         * }; mermaid.initialize(config); </script> </pre>\n         *\n         * A summary of all options and their defaults is found [here](#mermaidapi-configuration-defaults).\n         * A description of each option follows below.\n         *\n         * @name Configuration\n         */\n\n        var config = {\n          /**\n           * Theme , the CSS style sheet\n           *\n           * | Parameter | Description     | Type   | Required | Values                                         |\n           * | --------- | --------------- | ------ | -------- | ---------------------------------------------- |\n           * | theme     | Built in Themes | string | Optional | 'default', 'forest', 'dark', 'neutral', 'null' |\n           *\n           * **Notes:** To disable any pre-defined mermaid theme, use \"null\".<pre> \"theme\": \"forest\",\n           * \"themeCSS\": \".node rect { fill: red; }\" </pre>\n           */\n          theme: 'default',\n          themeVariables: _themes__WEBPACK_IMPORTED_MODULE_0__[\"default\"][\"default\"].getThemeVariables(),\n          themeCSS: undefined,\n          /* **maxTextSize** - The maximum allowed size of the users text diagram */\n          maxTextSize: 50000,\n          darkMode: false,\n          /**\n           * | Parameter  | Description                                            | Type   | Required | Values                      |\n           * | ---------- | ------------------------------------------------------ | ------ | -------- | --------------------------- |\n           * | fontFamily | specifies the font to be used in the rendered diagrams | string | Required | Any Possible CSS FontFamily |\n           *\n           * **Notes:** Default value: '\"trebuchet ms\", verdana, arial, sans-serif;'.\n           */\n          fontFamily: '\"trebuchet ms\", verdana, arial, sans-serif;',\n          /**\n           * | Parameter | Description                                           | Type             | Required | Values        |\n           * | --------- | ----------------------------------------------------- | ---------------- | -------- | ------------- |\n           * | logLevel  | This option decides the amount of logging to be used. | string \\| number | Required | 1, 2, 3, 4, 5 |\n           *\n           * **Notes:**\n           *\n           * - Debug: 1\n           * - Info: 2\n           * - Warn: 3\n           * - Error: 4\n           * - Fatal: 5 (default)\n           */\n          logLevel: 5,\n          /**\n           * | Parameter     | Description                       | Type   | Required | Values                          |\n           * | ------------- | --------------------------------- | ------ | -------- | ------------------------------- |\n           * | securitylevel | Level of trust for parsed diagram | string | Required | 'strict', 'loose', 'antiscript' |\n           *\n           * **Notes**:\n           *\n           * - **strict**: (**default**) tags in text are encoded, click functionality is disabled\n           * - **loose**: tags in text are allowed, click functionality is enabled\n           * - **antiscript**: html tags in text are allowed, (only script element is removed), click\n           *   functionality is enabled\n           */\n          securityLevel: 'strict',\n          /**\n           * | Parameter   | Description                                  | Type    | Required | Values      |\n           * | ----------- | -------------------------------------------- | ------- | -------- | ----------- |\n           * | startOnLoad | Dictates whether mermaid starts on Page load | boolean | Required | true, false |\n           *\n           * **Notes:** Default value: true\n           */\n          startOnLoad: true,\n          /**\n           * | Parameter           | Description                                                                  | Type    | Required | Values      |\n           * | ------------------- | ---------------------------------------------------------------------------- | ------- | -------- | ----------- |\n           * | arrowMarkerAbsolute | Controls whether or arrow markers in html code are absolute paths or anchors | boolean | Required | true, false |\n           *\n           * **Notes**:\n           *\n           * This matters if you are using base tag settings.\n           *\n           * Default value: false\n           */\n          arrowMarkerAbsolute: false,\n          /**\n           * This option controls which currentConfig keys are considered *secure* and can only be changed\n           * via call to mermaidAPI.initialize. Calls to mermaidAPI.reinitialize cannot make changes to the\n           * `secure` keys in the current currentConfig. This prevents malicious graph directives from\n           * overriding a site's default security.\n           *\n           * **Notes**:\n           *\n           * Default value: ['secure', 'securityLevel', 'startOnLoad', 'maxTextSize']\n           */\n          secure: ['secure', 'securityLevel', 'startOnLoad', 'maxTextSize'],\n          /**\n           * This option controls if the generated ids of nodes in the SVG are generated randomly or based\n           * on a seed. If set to false, the IDs are generated based on the current date and thus are not\n           * deterministic. This is the default behaviour.\n           *\n           * **Notes**:\n           *\n           * This matters if your files are checked into sourcecontrol e.g. git and should not change unless\n           * content is changed.\n           *\n           * Default value: false\n           */\n          deterministicIds: false,\n          /**\n           * This option is the optional seed for deterministic ids. if set to undefined but\n           * deterministicIds is true, a simple number iterator is used. You can set this attribute to base\n           * the seed on a static string.\n           */\n          deterministicIDSeed: undefined,\n          /** The object containing configurations specific for flowcharts */\n          flowchart: {\n            /**\n             * | Parameter      | Description                                     | Type    | Required | Values             |\n             * | -------------- | ----------------------------------------------- | ------- | -------- | ------------------ |\n             * | diagramPadding | Amount of padding around the diagram as a whole | Integer | Required | Any Positive Value |\n             *\n             * **Notes:**\n             *\n             * The amount of padding around the diagram as a whole so that embedded diagrams have margins,\n             * expressed in pixels\n             *\n             * Default value: 8\n             */\n            diagramPadding: 8,\n            /**\n             * | Parameter  | Description                                                                                  | Type    | Required | Values      |\n             * | ---------- | -------------------------------------------------------------------------------------------- | ------- | -------- | ----------- |\n             * | htmlLabels | Flag for setting whether or not a html tag should be used for rendering labels on the edges. | boolean | Required | true, false |\n             *\n             * **Notes:** Default value: true.\n             */\n            htmlLabels: true,\n            /**\n             * | Parameter   | Description                                         | Type    | Required | Values              |\n             * | ----------- | --------------------------------------------------- | ------- | -------- | ------------------- |\n             * | nodeSpacing | Defines the spacing between nodes on the same level | Integer | Required | Any positive Number |\n             *\n             * **Notes:**\n             *\n             * Pertains to horizontal spacing for TB (top to bottom) or BT (bottom to top) graphs, and the\n             * vertical spacing for LR as well as RL graphs.**\n             *\n             * Default value: 50\n             */\n            nodeSpacing: 50,\n            /**\n             * | Parameter   | Description                                           | Type    | Required | Values              |\n             * | ----------- | ----------------------------------------------------- | ------- | -------- | ------------------- |\n             * | rankSpacing | Defines the spacing between nodes on different levels | Integer | Required | Any Positive Number |\n             *\n             * **Notes**:\n             *\n             * Pertains to vertical spacing for TB (top to bottom) or BT (bottom to top), and the horizontal\n             * spacing for LR as well as RL graphs.\n             *\n             * Default value 50\n             */\n            rankSpacing: 50,\n            /**\n             * | Parameter | Description                                        | Type   | Required | Values                        |\n             * | --------- | -------------------------------------------------- | ------ | -------- | ----------------------------- |\n             * | curve     | Defines how mermaid renders curves for flowcharts. | string | Required | 'basis', 'linear', 'cardinal' |\n             *\n             * **Notes:**\n             *\n             * Default Value: 'basis'\n             */\n            curve: 'basis',\n            // Only used in new experimental rendering\n            // represents the padding between the labels and the shape\n            padding: 15,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See notes   | boolean | 4        | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set the height and width is set to 100% and is then scaling with the\n             * available space if not the absolute space required is used.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true,\n            /**\n             * | Parameter       | Description | Type    | Required | Values                  |\n             * | --------------- | ----------- | ------- | -------- | ----------------------- |\n             * | defaultRenderer | See notes   | boolean | 4        | dagre-d3, dagre-wrapper |\n             *\n             * **Notes:**\n             *\n             * Decides which rendering engine that is to be used for the rendering. Legal values are:\n             * dagre-d3 dagre-wrapper - wrapper for dagre implemented in mermaid\n             *\n             * Default value: 'dagre-d3'\n             */\n            defaultRenderer: 'dagre-d3'\n          },\n          /** The object containing configurations specific for sequence diagrams */\n          sequence: {\n            /**\n             * | Parameter       | Description                  | Type    | Required | Values             |\n             * | --------------- | ---------------------------- | ------- | -------- | ------------------ |\n             * | activationWidth | Width of the activation rect | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value :10\n             */\n            activationWidth: 10,\n            /**\n             * | Parameter      | Description                                          | Type    | Required | Values             |\n             * | -------------- | ---------------------------------------------------- | ------- | -------- | ------------------ |\n             * | diagramMarginX | Margin to the right and left of the sequence diagram | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 50\n             */\n            diagramMarginX: 50,\n            /**\n             * | Parameter      | Description                                       | Type    | Required | Values             |\n             * | -------------- | ------------------------------------------------- | ------- | -------- | ------------------ |\n             * | diagramMarginY | Margin to the over and under the sequence diagram | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 10\n             */\n            diagramMarginY: 10,\n            /**\n             * | Parameter   | Description           | Type    | Required | Values             |\n             * | ----------- | --------------------- | ------- | -------- | ------------------ |\n             * | actorMargin | Margin between actors | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 50\n             */\n            actorMargin: 50,\n            /**\n             * | Parameter | Description          | Type    | Required | Values             |\n             * | --------- | -------------------- | ------- | -------- | ------------------ |\n             * | width     | Width of actor boxes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 150\n             */\n            width: 150,\n            /**\n             * | Parameter | Description           | Type    | Required | Values             |\n             * | --------- | --------------------- | ------- | -------- | ------------------ |\n             * | height    | Height of actor boxes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 65\n             */\n            height: 65,\n            /**\n             * | Parameter | Description              | Type    | Required | Values             |\n             * | --------- | ------------------------ | ------- | -------- | ------------------ |\n             * | boxMargin | Margin around loop boxes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 10\n             */\n            boxMargin: 10,\n            /**\n             * | Parameter     | Description                                  | Type    | Required | Values             |\n             * | ------------- | -------------------------------------------- | ------- | -------- | ------------------ |\n             * | boxTextMargin | Margin around the text in loop/alt/opt boxes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 5\n             */\n            boxTextMargin: 5,\n            /**\n             * | Parameter  | Description         | Type    | Required | Values             |\n             * | ---------- | ------------------- | ------- | -------- | ------------------ |\n             * | noteMargin | margin around notes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 10\n             */\n            noteMargin: 10,\n            /**\n             * | Parameter     | Description            | Type    | Required | Values             |\n             * | ------------- | ---------------------- | ------- | -------- | ------------------ |\n             * | messageMargin | Space between messages | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 35\n             */\n            messageMargin: 35,\n            /**\n             * | Parameter    | Description                 | Type   | Required | Values                    |\n             * | ------------ | --------------------------- | ------ | -------- | ------------------------- |\n             * | messageAlign | Multiline message alignment | string | Required | 'left', 'center', 'right' |\n             *\n             * **Notes:** Default value: 'center'\n             */\n            messageAlign: 'center',\n            /**\n             * | Parameter    | Description                 | Type    | Required | Values      |\n             * | ------------ | --------------------------- | ------- | -------- | ----------- |\n             * | mirrorActors | Mirror actors under diagram | boolean | Required | true, false |\n             *\n             * **Notes:** Default value: true\n             */\n            mirrorActors: true,\n            /**\n             * | Parameter  | Description                                                             | Type    | Required | Values      |\n             * | ---------- | ----------------------------------------------------------------------- | ------- | -------- | ----------- |\n             * | forceMenus | forces actor popup menus to always be visible (to support E2E testing). | Boolean | Required | True, False |\n             *\n             * **Notes:**\n             *\n             * Default value: false.\n             */\n            forceMenus: false,\n            /**\n             * | Parameter       | Description                                | Type    | Required | Values             |\n             * | --------------- | ------------------------------------------ | ------- | -------- | ------------------ |\n             * | bottomMarginAdj | Prolongs the edge of the diagram downwards | Integer | Required | Any Positive Value |\n             *\n             * **Notes:**\n             *\n             * Depending on css styling this might need adjustment.\n             *\n             * Default value: 1\n             */\n            bottomMarginAdj: 1,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See Notes   | boolean | Required | true, false |\n             *\n             * **Notes:** When this flag is set to true, the height and width is set to 100% and is then\n             * scaling with the available space. If set to false, the absolute space required is used.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true,\n            /**\n             * | Parameter   | Description                          | Type    | Required | Values      |\n             * | ----------- | ------------------------------------ | ------- | -------- | ----------- |\n             * | rightAngles | display curve arrows as right angles | boolean | Required | true, false |\n             *\n             * **Notes:**\n             *\n             * This will display arrows that start and begin at the same node as right angles, rather than a curve\n             *\n             * Default value: false\n             */\n            rightAngles: false,\n            /**\n             * | Parameter           | Description                     | Type    | Required | Values      |\n             * | ------------------- | ------------------------------- | ------- | -------- | ----------- |\n             * | showSequenceNumbers | This will show the node numbers | boolean | Required | true, false |\n             *\n             * **Notes:** Default value: false\n             */\n            showSequenceNumbers: false,\n            /**\n             * | Parameter     | Description                                        | Type    | Required | Values             |\n             * | ------------- | -------------------------------------------------- | ------- | -------- | ------------------ |\n             * | actorFontSize | This sets the font size of the actor's description | Integer | Require  | Any Positive Value |\n             *\n             * **Notes:** **Default value 14**..\n             */\n            actorFontSize: 14,\n            /**\n             * | Parameter       | Description                                          | Type   | Required | Values                      |\n             * | --------------- | ---------------------------------------------------- | ------ | -------- | --------------------------- |\n             * | actorFontFamily | This sets the font family of the actor's description | string | Required | Any Possible CSS FontFamily |\n             *\n             * **Notes:** Default value: \"'Open-Sans\", \"sans-serif\"'\n             */\n            actorFontFamily: '\"Open-Sans\", \"sans-serif\"',\n            /**\n             * This sets the font weight of the actor's description\n             *\n             * **Notes:** Default value: 400.\n             */\n            actorFontWeight: 400,\n            /**\n             * | Parameter    | Description                                     | Type    | Required | Values             |\n             * | ------------ | ----------------------------------------------- | ------- | -------- | ------------------ |\n             * | noteFontSize | This sets the font size of actor-attached notes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 14\n             */\n            noteFontSize: 14,\n            /**\n             * | Parameter      | Description                                        | Type   | Required | Values                      |\n             * | -------------- | -------------------------------------------------- | ------ | -------- | --------------------------- |\n             * | noteFontFamily | This sets the font family of actor-attached notes. | string | Required | Any Possible CSS FontFamily |\n             *\n             * **Notes:** Default value: ''\"trebuchet ms\", verdana, arial, sans-serif'\n             */\n            noteFontFamily: '\"trebuchet ms\", verdana, arial, sans-serif',\n            /**\n             * This sets the font weight of the note's description\n             *\n             * **Notes:** Default value: 400\n             */\n            noteFontWeight: 400,\n            /**\n             * | Parameter | Description                                          | Type   | Required | Values                    |\n             * | --------- | ---------------------------------------------------- | ------ | -------- | ------------------------- |\n             * | noteAlign | This sets the text alignment of actor-attached notes | string | required | 'left', 'center', 'right' |\n             *\n             * **Notes:** Default value: 'center'\n             */\n            noteAlign: 'center',\n            /**\n             * | Parameter       | Description                               | Type    | Required | Values              |\n             * | --------------- | ----------------------------------------- | ------- | -------- | ------------------- |\n             * | messageFontSize | This sets the font size of actor messages | Integer | Required | Any Positive Number |\n             *\n             * **Notes:** Default value: 16\n             */\n            messageFontSize: 16,\n            /**\n             * | Parameter         | Description                                 | Type   | Required | Values                      |\n             * | ----------------- | ------------------------------------------- | ------ | -------- | --------------------------- |\n             * | messageFontFamily | This sets the font family of actor messages | string | Required | Any Possible CSS FontFamily |\n             *\n             * **Notes:** Default value: '\"trebuchet ms\", verdana, arial, sans-serif'\n             */\n            messageFontFamily: '\"trebuchet ms\", verdana, arial, sans-serif',\n            /**\n             * This sets the font weight of the message's description\n             *\n             * **Notes:** Default value: 400.\n             */\n            messageFontWeight: 400,\n            /**\n             * This sets the auto-wrap state for the diagram\n             *\n             * **Notes:** Default value: false.\n             */\n            wrap: false,\n            /**\n             * This sets the auto-wrap padding for the diagram (sides only)\n             *\n             * **Notes:** Default value: 0.\n             */\n            wrapPadding: 10,\n            /**\n             * This sets the width of the loop-box (loop, alt, opt, par)\n             *\n             * **Notes:** Default value: 50.\n             */\n            labelBoxWidth: 50,\n            /**\n             * This sets the height of the loop-box (loop, alt, opt, par)\n             *\n             * **Notes:** Default value: 20.\n             */\n            labelBoxHeight: 20,\n            messageFont: function messageFont() {\n              return {\n                fontFamily: this.messageFontFamily,\n                fontSize: this.messageFontSize,\n                fontWeight: this.messageFontWeight\n              };\n            },\n            noteFont: function noteFont() {\n              return {\n                fontFamily: this.noteFontFamily,\n                fontSize: this.noteFontSize,\n                fontWeight: this.noteFontWeight\n              };\n            },\n            actorFont: function actorFont() {\n              return {\n                fontFamily: this.actorFontFamily,\n                fontSize: this.actorFontSize,\n                fontWeight: this.actorFontWeight\n              };\n            }\n          },\n          /** The object containing configurations specific for gantt diagrams */\n          gantt: {\n            /**\n             * ### titleTopMargin\n             *\n             * | Parameter      | Description                                    | Type    | Required | Values             |\n             * | -------------- | ---------------------------------------------- | ------- | -------- | ------------------ |\n             * | titleTopMargin | Margin top for the text over the gantt diagram | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 25\n             */\n            titleTopMargin: 25,\n            /**\n             * | Parameter | Description                         | Type    | Required | Values             |\n             * | --------- | ----------------------------------- | ------- | -------- | ------------------ |\n             * | barHeight | The height of the bars in the graph | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 20\n             */\n            barHeight: 20,\n            /**\n             * | Parameter | Description                                                      | Type    | Required | Values             |\n             * | --------- | ---------------------------------------------------------------- | ------- | -------- | ------------------ |\n             * | barGap    | The margin between the different activities in the gantt diagram | Integer | Optional | Any Positive Value |\n             *\n             * **Notes:** Default value: 4\n             */\n            barGap: 4,\n            /**\n             * | Parameter  | Description                                                                | Type    | Required | Values             |\n             * | ---------- | -------------------------------------------------------------------------- | ------- | -------- | ------------------ |\n             * | topPadding | Margin between title and gantt diagram and between axis and gantt diagram. | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 50\n             */\n            topPadding: 50,\n            /**\n             * | Parameter    | Description                                                             | Type    | Required | Values             |\n             * | ------------ | ----------------------------------------------------------------------- | ------- | -------- | ------------------ |\n             * | rightPadding | The space allocated for the section name to the right of the activities | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 75\n             */\n            rightPadding: 75,\n            /**\n             * | Parameter   | Description                                                            | Type    | Required | Values             |\n             * | ----------- | ---------------------------------------------------------------------- | ------- | -------- | ------------------ |\n             * | leftPadding | The space allocated for the section name to the left of the activities | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 75\n             */\n            leftPadding: 75,\n            /**\n             * | Parameter            | Description                                  | Type    | Required | Values             |\n             * | -------------------- | -------------------------------------------- | ------- | -------- | ------------------ |\n             * | gridLineStartPadding | Vertical starting position of the grid lines | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 35\n             */\n            gridLineStartPadding: 35,\n            /**\n             * | Parameter | Description | Type    | Required | Values             |\n             * | --------- | ----------- | ------- | -------- | ------------------ |\n             * | fontSize  | Font size   | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 11\n             */\n            fontSize: 11,\n            /**\n             * | Parameter       | Description            | Type    | Required | Values             |\n             * | --------------- | ---------------------- | ------- | -------- | ------------------ |\n             * | sectionFontSize | Font size for sections | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 11\n             */\n            sectionFontSize: 11,\n            /**\n             * | Parameter           | Description                              | Type    | Required | Values             |\n             * | ------------------- | ---------------------------------------- | ------- | -------- | ------------------ |\n             * | numberSectionStyles | The number of alternating section styles | Integer | 4        | Any Positive Value |\n             *\n             * **Notes:** Default value: 4\n             */\n            numberSectionStyles: 4,\n            /**\n             * | Parameter  | Description                 | Type | Required | Values           |\n             * | ---------- | --------------------------- | ---- | -------- | ---------------- |\n             * | axisFormat | Datetime format of the axis | 3    | Required | Date in yy-mm-dd |\n             *\n             * **Notes:**\n             *\n             * This might need adjustment to match your locale and preferences\n             *\n             * Default value: '%Y-%m-%d'.\n             */\n            axisFormat: '%Y-%m-%d',\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See notes   | boolean | 4        | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set the height and width is set to 100% and is then scaling with the\n             * available space if not the absolute space required is used.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true,\n            /**\n             * | Parameter | Description | Type    | Required | Values      |\n             * | --------- | ----------- | ------- | -------- | ----------- |\n             * | topAxis   | See notes   | Boolean | 4        | True, False |\n             *\n             * **Notes:** when this flag is set date labels will be added to the top of the chart\n             *\n             * **Default value false**.\n             */\n            topAxis: false,\n            useWidth: undefined\n          },\n          /** The object containing configurations specific for journey diagrams */\n          journey: {\n            /**\n             * | Parameter      | Description                                          | Type    | Required | Values             |\n             * | -------------- | ---------------------------------------------------- | ------- | -------- | ------------------ |\n             * | diagramMarginX | Margin to the right and left of the sequence diagram | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 50\n             */\n            diagramMarginX: 50,\n            /**\n             * | Parameter      | Description                                        | Type    | Required | Values             |\n             * | -------------- | -------------------------------------------------- | ------- | -------- | ------------------ |\n             * | diagramMarginY | Margin to the over and under the sequence diagram. | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 10\n             */\n            diagramMarginY: 10,\n            /**\n             * | Parameter   | Description           | Type    | Required | Values             |\n             * | ----------- | --------------------- | ------- | -------- | ------------------ |\n             * | actorMargin | Margin between actors | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 50\n             */\n            leftMargin: 150,\n            /**\n             * | Parameter | Description          | Type    | Required | Values             |\n             * | --------- | -------------------- | ------- | -------- | ------------------ |\n             * | width     | Width of actor boxes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 150\n             */\n            width: 150,\n            /**\n             * | Parameter | Description           | Type    | Required | Values             |\n             * | --------- | --------------------- | ------- | -------- | ------------------ |\n             * | height    | Height of actor boxes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 65\n             */\n            height: 50,\n            /**\n             * | Parameter | Description              | Type    | Required | Values             |\n             * | --------- | ------------------------ | ------- | -------- | ------------------ |\n             * | boxMargin | Margin around loop boxes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 10\n             */\n            boxMargin: 10,\n            /**\n             * | Parameter     | Description                                  | Type    | Required | Values             |\n             * | ------------- | -------------------------------------------- | ------- | -------- | ------------------ |\n             * | boxTextMargin | Margin around the text in loop/alt/opt boxes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 5\n             */\n            boxTextMargin: 5,\n            /**\n             * | Parameter  | Description         | Type    | Required | Values             |\n             * | ---------- | ------------------- | ------- | -------- | ------------------ |\n             * | noteMargin | Margin around notes | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Default value: 10\n             */\n            noteMargin: 10,\n            /**\n             * | Parameter     | Description             | Type    | Required | Values             |\n             * | ------------- | ----------------------- | ------- | -------- | ------------------ |\n             * | messageMargin | Space between messages. | Integer | Required | Any Positive Value |\n             *\n             * **Notes:**\n             *\n             * Space between messages.\n             *\n             * Default value: 35\n             */\n            messageMargin: 35,\n            /**\n             * | Parameter    | Description                 | Type | Required | Values                    |\n             * | ------------ | --------------------------- | ---- | -------- | ------------------------- |\n             * | messageAlign | Multiline message alignment | 3    | 4        | 'left', 'center', 'right' |\n             *\n             * **Notes:** Default value: 'center'\n             */\n            messageAlign: 'center',\n            /**\n             * | Parameter       | Description                                | Type    | Required | Values             |\n             * | --------------- | ------------------------------------------ | ------- | -------- | ------------------ |\n             * | bottomMarginAdj | Prolongs the edge of the diagram downwards | Integer | 4        | Any Positive Value |\n             *\n             * **Notes:**\n             *\n             * Depending on css styling this might need adjustment.\n             *\n             * Default value: 1\n             */\n            bottomMarginAdj: 1,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See notes   | boolean | 4        | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set the height and width is set to 100% and is then scaling with the\n             * available space if not the absolute space required is used.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true,\n            /**\n             * | Parameter   | Description                       | Type | Required | Values      |\n             * | ----------- | --------------------------------- | ---- | -------- | ----------- |\n             * | rightAngles | Curved Arrows become Right Angles | 3    | 4        | true, false |\n             *\n             * **Notes:**\n             *\n             * This will display arrows that start and begin at the same node as right angles, rather than a curves\n             *\n             * Default value: false\n             */\n            rightAngles: false,\n            taskFontSize: 14,\n            taskFontFamily: '\"Open-Sans\", \"sans-serif\"',\n            taskMargin: 50,\n            // width of activation box\n            activationWidth: 10,\n            // text placement as: tspan | fo | old only text as before\n            textPlacement: 'fo',\n            actorColours: ['#8FBC8F', '#7CFC00', '#00FFFF', '#20B2AA', '#B0E0E6', '#FFFFE0'],\n            sectionFills: ['#191970', '#8B008B', '#4B0082', '#2F4F4F', '#800000', '#8B4513', '#00008B'],\n            sectionColours: ['#fff']\n          },\n          class: {\n            arrowMarkerAbsolute: false,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See notes   | boolean | 4        | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set the height and width is set to 100% and is then scaling with the\n             * available space if not the absolute space required is used.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true,\n            /**\n             * | Parameter       | Description | Type    | Required | Values                  |\n             * | --------------- | ----------- | ------- | -------- | ----------------------- |\n             * | defaultRenderer | See notes   | boolean | 4        | dagre-d3, dagre-wrapper |\n             *\n             * **Notes**:\n             *\n             * Decides which rendering engine that is to be used for the rendering. Legal values are:\n             * dagre-d3 dagre-wrapper - wrapper for dagre implemented in mermaid\n             *\n             * Default value: 'dagre-d3'\n             */\n            defaultRenderer: 'dagre-wrapper'\n          },\n          git: {\n            arrowMarkerAbsolute: false,\n            useWidth: undefined,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See notes   | boolean | 4        | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set the height and width is set to 100% and is then scaling with the\n             * available space if not the absolute space required is used.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true\n          },\n          state: {\n            dividerMargin: 10,\n            sizeUnit: 5,\n            padding: 8,\n            textHeight: 10,\n            titleShift: -15,\n            noteMargin: 10,\n            forkWidth: 70,\n            forkHeight: 7,\n            // Used\n            miniPadding: 2,\n            // Font size factor, this is used to guess the width of the edges labels before rendering by dagre\n            // layout. This might need updating if/when switching font\n            fontSizeFactor: 5.02,\n            fontSize: 24,\n            labelHeight: 16,\n            edgeLengthFactor: '20',\n            compositTitleSize: 35,\n            radius: 5,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See notes   | boolean | 4        | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set the height and width is set to 100% and is then scaling with the\n             * available space if not the absolute space required is used.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true,\n            /**\n             * | Parameter       | Description | Type    | Required | Values                  |\n             * | --------------- | ----------- | ------- | -------- | ----------------------- |\n             * | defaultRenderer | See notes   | boolean | 4        | dagre-d3, dagre-wrapper |\n             *\n             * **Notes:**\n             *\n             * Decides which rendering engine that is to be used for the rendering. Legal values are:\n             * dagre-d3 dagre-wrapper - wrapper for dagre implemented in mermaid\n             *\n             * Default value: 'dagre-d3'\n             */\n            defaultRenderer: 'dagre-wrapper'\n          },\n          /** The object containing configurations specific for entity relationship diagrams */\n          er: {\n            /**\n             * | Parameter      | Description                                     | Type    | Required | Values             |\n             * | -------------- | ----------------------------------------------- | ------- | -------- | ------------------ |\n             * | diagramPadding | Amount of padding around the diagram as a whole | Integer | Required | Any Positive Value |\n             *\n             * **Notes:**\n             *\n             * The amount of padding around the diagram as a whole so that embedded diagrams have margins,\n             * expressed in pixels\n             *\n             * Default value: 20\n             */\n            diagramPadding: 20,\n            /**\n             * | Parameter       | Description                              | Type   | Required | Values                 |\n             * | --------------- | ---------------------------------------- | ------ | -------- | ---------------------- |\n             * | layoutDirection | Directional bias for layout of entities. | string | Required | \"TB\", \"BT\", \"LR\", \"RL\" |\n             *\n             * **Notes:**\n             *\n             * 'TB' for Top-Bottom, 'BT'for Bottom-Top, 'LR' for Left-Right, or 'RL' for Right to Left.\n             *\n             * T = top, B = bottom, L = left, and R = right.\n             *\n             * Default value: 'TB'\n             */\n            layoutDirection: 'TB',\n            /**\n             * | Parameter      | Description                        | Type    | Required | Values             |\n             * | -------------- | ---------------------------------- | ------- | -------- | ------------------ |\n             * | minEntityWidth | The minimum width of an entity box | Integer | Required | Any Positive Value |\n             *\n             * **Notes:** Expressed in pixels. Default value: 100\n             */\n            minEntityWidth: 100,\n            /**\n             * | Parameter       | Description                         | Type    | Required | Values             |\n             * | --------------- | ----------------------------------- | ------- | -------- | ------------------ |\n             * | minEntityHeight | The minimum height of an entity box | Integer | 4        | Any Positive Value |\n             *\n             * **Notes:** Expressed in pixels Default value: 75\n             */\n            minEntityHeight: 75,\n            /**\n             * | Parameter     | Description                                                 | Type    | Required | Values             |\n             * | ------------- | ----------------------------------------------------------- | ------- | -------- | ------------------ |\n             * | entityPadding | Minimum internal padding betweentext in box and box borders | Integer | 4        | Any Positive Value |\n             *\n             * **Notes:**\n             *\n             * The minimum internal padding betweentext in an entity box and the enclosing box borders,\n             * expressed in pixels.\n             *\n             * Default value: 15\n             */\n            entityPadding: 15,\n            /**\n             * | Parameter | Description                         | Type   | Required | Values               |\n             * | --------- | ----------------------------------- | ------ | -------- | -------------------- |\n             * | stroke    | Stroke color of box edges and lines | string | 4        | Any recognized color |\n             *\n             * **Notes:** Default value: 'gray'\n             */\n            stroke: 'gray',\n            /**\n             * | Parameter | Description                | Type   | Required | Values               |\n             * | --------- | -------------------------- | ------ | -------- | -------------------- |\n             * | fill      | Fill color of entity boxes | string | 4        | Any recognized color |\n             *\n             * **Notes:** Default value: 'honeydew'\n             */\n            fill: 'honeydew',\n            /**\n             * | Parameter | Description         | Type    | Required | Values             |\n             * | --------- | ------------------- | ------- | -------- | ------------------ |\n             * | fontSize  | Font Size in pixels | Integer |          | Any Positive Value |\n             *\n             * **Notes:**\n             *\n             * Font size (expressed as an integer representing a number of pixels) Default value: 12\n             */\n            fontSize: 12,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See Notes   | boolean | Required | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set to true, the diagram width is locked to 100% and scaled based on\n             * available space. If set to false, the diagram reserves its absolute width.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true\n          },\n          /** The object containing configurations specific for pie diagrams */\n          pie: {\n            useWidth: undefined,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See Notes   | boolean | Required | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set to true, the diagram width is locked to 100% and scaled based on\n             * available space. If set to false, the diagram reserves its absolute width.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true\n          },\n          /** The object containing configurations specific for req diagrams */\n          requirement: {\n            useWidth: undefined,\n            /**\n             * | Parameter   | Description | Type    | Required | Values      |\n             * | ----------- | ----------- | ------- | -------- | ----------- |\n             * | useMaxWidth | See Notes   | boolean | Required | true, false |\n             *\n             * **Notes:**\n             *\n             * When this flag is set to true, the diagram width is locked to 100% and scaled based on\n             * available space. If set to false, the diagram reserves its absolute width.\n             *\n             * Default value: true\n             */\n            useMaxWidth: true,\n            rect_fill: '#f9f9f9',\n            text_color: '#333',\n            rect_border_size: '0.5px',\n            rect_border_color: '#bbb',\n            rect_min_width: 200,\n            rect_min_height: 200,\n            fontSize: 14,\n            rect_padding: 10,\n            line_height: 20\n          }\n        };\n        config.class.arrowMarkerAbsolute = config.arrowMarkerAbsolute;\n        config.git.arrowMarkerAbsolute = config.arrowMarkerAbsolute;\n        var keyify = function keyify(obj) {\n          var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n          return Object.keys(obj).reduce(function (res, el) {\n            if (Array.isArray(obj[el])) {\n              return res;\n            } else if (_typeof(obj[el]) === 'object' && obj[el] !== null) {\n              return [].concat(_toConsumableArray(res), [prefix + el], _toConsumableArray(keyify(obj[el], '')));\n            }\n            return [].concat(_toConsumableArray(res), [prefix + el]);\n          }, []);\n        };\n        var configKeys = keyify(config, '');\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = config;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/class/classDb.js\": (\n      /*!***************************************!*\\\n        !*** ./src/diagrams/class/classDb.js ***!\n        \\***************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"addClass\": () => (/* binding */addClass),\n          /* harmony export */\"lookUpDomId\": () => (/* binding */lookUpDomId),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"getClass\": () => (/* binding */getClass),\n          /* harmony export */\"getClasses\": () => (/* binding */getClasses),\n          /* harmony export */\"getRelations\": () => (/* binding */getRelations),\n          /* harmony export */\"addRelation\": () => (/* binding */addRelation),\n          /* harmony export */\"addAnnotation\": () => (/* binding */addAnnotation),\n          /* harmony export */\"addMember\": () => (/* binding */addMember),\n          /* harmony export */\"addMembers\": () => (/* binding */addMembers),\n          /* harmony export */\"cleanupLabel\": () => (/* binding */cleanupLabel),\n          /* harmony export */\"setCssClass\": () => (/* binding */setCssClass),\n          /* harmony export */\"setLink\": () => (/* binding */setLink),\n          /* harmony export */\"setClickEvent\": () => (/* binding */setClickEvent),\n          /* harmony export */\"bindFunctions\": () => (/* binding */bindFunctions),\n          /* harmony export */\"lineType\": () => (/* binding */lineType),\n          /* harmony export */\"relationType\": () => (/* binding */relationType),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        function _toConsumableArray(arr) {\n          return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n        }\n        function _nonIterableSpread() {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        function _unsupportedIterableToArray(o, minLen) {\n          if (!o) return;\n          if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n          var n = Object.prototype.toString.call(o).slice(8, -1);\n          if (n === \"Object\" && o.constructor) n = o.constructor.name;\n          if (n === \"Map\" || n === \"Set\") return Array.from(o);\n          if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n        }\n        function _iterableToArray(iter) {\n          if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n        }\n        function _arrayWithoutHoles(arr) {\n          if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n        }\n        function _arrayLikeToArray(arr, len) {\n          if (len == null || len > arr.length) len = arr.length;\n          for (var i = 0, arr2 = new Array(len); i < len; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        }\n        var MERMAID_DOM_ID_PREFIX = 'classid-';\n        var relations = [];\n        var classes = {};\n        var classCounter = 0;\n        var funs = [];\n        var sanitizeText = function sanitizeText(txt) {\n          return _common_common__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sanitizeText(txt, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());\n        };\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        var splitClassNameAndType = function splitClassNameAndType(id) {\n          var genericType = '';\n          var className = id;\n          if (id.indexOf('~') > 0) {\n            var split = id.split('~');\n            className = split[0];\n            genericType = _common_common__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sanitizeText(split[1], _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());\n          }\n          return {\n            className: className,\n            type: genericType\n          };\n        };\n        /**\n         * Function called by parser when a node definition has been found.\n         *\n         * @param id\n         * @public\n         */\n\n        var addClass = function addClass(id) {\n          var classId = splitClassNameAndType(id); // Only add class if not exists\n\n          if (typeof classes[classId.className] !== 'undefined') return;\n          classes[classId.className] = {\n            id: classId.className,\n            type: classId.type,\n            cssClasses: [],\n            methods: [],\n            members: [],\n            annotations: [],\n            domId: MERMAID_DOM_ID_PREFIX + classId.className + '-' + classCounter\n          };\n          classCounter++;\n        };\n        /**\n         * Function to lookup domId from id in the graph definition.\n         *\n         * @param id\n         * @public\n         */\n\n        var lookUpDomId = function lookUpDomId(id) {\n          var classKeys = Object.keys(classes);\n          for (var i = 0; i < classKeys.length; i++) {\n            if (classes[classKeys[i]].id === id) {\n              return classes[classKeys[i]].domId;\n            }\n          }\n        };\n        var clear = function clear() {\n          relations = [];\n          classes = {};\n          funs = [];\n          funs.push(setupToolTips);\n        };\n        var getClass = function getClass(id) {\n          return classes[id];\n        };\n        var getClasses = function getClasses() {\n          return classes;\n        };\n        var getRelations = function getRelations() {\n          return relations;\n        };\n        var addRelation = function addRelation(relation) {\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('Adding relation: ' + JSON.stringify(relation));\n          addClass(relation.id1);\n          addClass(relation.id2);\n          relation.id1 = splitClassNameAndType(relation.id1).className;\n          relation.id2 = splitClassNameAndType(relation.id2).className;\n          relation.relationTitle1 = _common_common__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sanitizeText(relation.relationTitle1.trim(), _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());\n          relation.relationTitle2 = _common_common__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sanitizeText(relation.relationTitle2.trim(), _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());\n          relations.push(relation);\n        };\n        /**\n         * Adds an annotation to the specified class Annotations mark special properties of the given type\n         * (like 'interface' or 'service')\n         *\n         * @param className The class name\n         * @param annotation The name of the annotation without any brackets\n         * @public\n         */\n\n        var addAnnotation = function addAnnotation(className, annotation) {\n          var validatedClassName = splitClassNameAndType(className).className;\n          classes[validatedClassName].annotations.push(annotation);\n        };\n        /**\n         * Adds a member to the specified class\n         *\n         * @param className The class name\n         * @param member The full name of the member. If the member is enclosed in <<brackets>> it is\n         *   treated as an annotation If the member is ending with a closing bracket ) it is treated as a\n         *   method Otherwise the member will be treated as a normal property\n         * @public\n         */\n\n        var addMember = function addMember(className, member) {\n          var validatedClassName = splitClassNameAndType(className).className;\n          var theClass = classes[validatedClassName];\n          if (typeof member === 'string') {\n            // Member can contain white spaces, we trim them out\n            var memberString = member.trim();\n            if (memberString.startsWith('<<') && memberString.endsWith('>>')) {\n              // Remove leading and trailing brackets\n              // theClass.annotations.push(memberString.substring(2, memberString.length - 2));\n              theClass.annotations.push(sanitizeText(memberString.substring(2, memberString.length - 2)));\n            } else if (memberString.indexOf(')') > 0) {\n              theClass.methods.push(sanitizeText(memberString));\n            } else if (memberString) {\n              theClass.members.push(sanitizeText(memberString));\n            }\n          }\n        };\n        var addMembers = function addMembers(className, members) {\n          if (Array.isArray(members)) {\n            members.reverse();\n            members.forEach(function (member) {\n              return addMember(className, member);\n            });\n          }\n        };\n        var cleanupLabel = function cleanupLabel(label) {\n          if (label.substring(0, 1) === ':') {\n            return _common_common__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sanitizeText(label.substr(1).trim(), _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());\n          } else {\n            return sanitizeText(label.trim());\n          }\n        };\n        /**\n         * Called by parser when a special node is found, e.g. a clickable element.\n         *\n         * @param ids Comma separated list of ids\n         * @param className Class to add\n         */\n\n        var setCssClass = function setCssClass(ids, className) {\n          ids.split(',').forEach(function (_id) {\n            var id = _id;\n            if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n            if (typeof classes[id] !== 'undefined') {\n              classes[id].cssClasses.push(className);\n            }\n          });\n        };\n        /**\n         * Called by parser when a tooltip is found, e.g. a clickable element.\n         *\n         * @param ids Comma separated list of ids\n         * @param tooltip Tooltip to add\n         */\n\n        var setTooltip = function setTooltip(ids, tooltip) {\n          var config = _config__WEBPACK_IMPORTED_MODULE_2__.getConfig();\n          ids.split(',').forEach(function (id) {\n            if (typeof tooltip !== 'undefined') {\n              classes[id].tooltip = _common_common__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sanitizeText(tooltip, config);\n            }\n          });\n        };\n        /**\n         * Called by parser when a link is found. Adds the URL to the vertex data.\n         *\n         * @param ids Comma separated list of ids\n         * @param linkStr URL to create a link for\n         * @param target Target of the link, _blank by default as originally defined in the svgDraw.js file\n         */\n\n        var setLink = function setLink(ids, linkStr, target) {\n          var config = _config__WEBPACK_IMPORTED_MODULE_2__.getConfig();\n          ids.split(',').forEach(function (_id) {\n            var id = _id;\n            if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n            if (typeof classes[id] !== 'undefined') {\n              classes[id].link = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].formatUrl(linkStr, config);\n              if (config.securityLevel === 'sandbox') {\n                classes[id].linkTarget = '_top';\n              } else if (typeof target === 'string') {\n                classes[id].linkTarget = sanitizeText(target);\n              } else {\n                classes[id].linkTarget = '_blank';\n              }\n            }\n          });\n          setCssClass(ids, 'clickable');\n        };\n        /**\n         * Called by parser when a click definition is found. Registers an event handler.\n         *\n         * @param ids Comma separated list of ids\n         * @param functionName Function to be called on click\n         * @param functionArgs Function args the function should be called with\n         */\n\n        var setClickEvent = function setClickEvent(ids, functionName, functionArgs) {\n          ids.split(',').forEach(function (id) {\n            setClickFunc(id, functionName, functionArgs);\n            classes[id].haveCallback = true;\n          });\n          setCssClass(ids, 'clickable');\n        };\n        var setClickFunc = function setClickFunc(domId, functionName, functionArgs) {\n          var config = _config__WEBPACK_IMPORTED_MODULE_2__.getConfig();\n          var id = domId;\n          var elemId = lookUpDomId(id);\n          if (config.securityLevel !== 'loose') {\n            return;\n          }\n          if (typeof functionName === 'undefined') {\n            return;\n          }\n          if (typeof classes[id] !== 'undefined') {\n            var argList = [];\n            if (typeof functionArgs === 'string') {\n              /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\n              argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\n              for (var i = 0; i < argList.length; i++) {\n                var item = argList[i].trim();\n                /* Removes all double quotes at the start and end of an argument */\n\n                /* This preserves all starting and ending whitespace inside */\n\n                if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\n                  item = item.substr(1, item.length - 2);\n                }\n                argList[i] = item;\n              }\n            }\n            /* if no arguments passed into callback, default to passing in id */\n\n            if (argList.length === 0) {\n              argList.push(elemId);\n            }\n            funs.push(function () {\n              var elem = document.querySelector(\"[id=\\\"\".concat(elemId, \"\\\"]\"));\n              if (elem !== null) {\n                elem.addEventListener('click', function () {\n                  _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"], [functionName].concat(_toConsumableArray(argList)));\n                }, false);\n              }\n            });\n          }\n        };\n        var bindFunctions = function bindFunctions(element) {\n          funs.forEach(function (fun) {\n            fun(element);\n          });\n        };\n        var lineType = {\n          LINE: 0,\n          DOTTED_LINE: 1\n        };\n        var relationType = {\n          AGGREGATION: 0,\n          EXTENSION: 1,\n          COMPOSITION: 2,\n          DEPENDENCY: 3\n        };\n        var setupToolTips = function setupToolTips(element) {\n          var tooltipElem = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('.mermaidTooltip');\n          if ((tooltipElem._groups || tooltipElem)[0][0] === null) {\n            tooltipElem = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body').append('div').attr('class', 'mermaidTooltip').style('opacity', 0);\n          }\n          var svg = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(element).select('svg');\n          var nodes = svg.selectAll('g.node');\n          nodes.on('mouseover', function () {\n            var el = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);\n            var title = el.attr('title'); // Dont try to draw a tooltip if no data is provided\n\n            if (title === null) {\n              return;\n            }\n            var rect = this.getBoundingClientRect();\n            tooltipElem.transition().duration(200).style('opacity', '.9');\n            tooltipElem.html(el.attr('title')).style('left', window.scrollX + rect.left + (rect.right - rect.left) / 2 + 'px').style('top', window.scrollY + rect.top - 14 + document.body.scrollTop + 'px');\n            el.classed('hover', true);\n          }).on('mouseout', function () {\n            tooltipElem.transition().duration(500).style('opacity', 0);\n            var el = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);\n            el.classed('hover', false);\n          });\n        };\n        funs.push(setupToolTips);\n        var direction = 'TB';\n        var getDirection = function getDirection() {\n          return direction;\n        };\n        var setDirection = function setDirection(dir) {\n          direction = dir;\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          parseDirective: parseDirective,\n          getConfig: function getConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().class;\n          },\n          addClass: addClass,\n          bindFunctions: bindFunctions,\n          clear: clear,\n          getClass: getClass,\n          getClasses: getClasses,\n          addAnnotation: addAnnotation,\n          getRelations: getRelations,\n          addRelation: addRelation,\n          getDirection: getDirection,\n          setDirection: setDirection,\n          addMember: addMember,\n          addMembers: addMembers,\n          cleanupLabel: cleanupLabel,\n          lineType: lineType,\n          relationType: relationType,\n          setClickEvent: setClickEvent,\n          setCssClass: setCssClass,\n          setLink: setLink,\n          setTooltip: setTooltip,\n          lookUpDomId: lookUpDomId\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/class/classRenderer-v2.js\": (\n      /*!************************************************!*\\\n        !*** ./src/diagrams/class/classRenderer-v2.js ***!\n        \\************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"addClasses\": () => (/* binding */addClasses),\n          /* harmony export */\"addRelations\": () => (/* binding */addRelations),\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dagre */\"dagre\");\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dagre__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _classDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./classDb */\"./src/diagrams/class/classDb.js\");\n        /* harmony import */\n        var _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parser/classDiagram */\"./src/diagrams/class/parser/classDiagram.jison\");\n        /* harmony import */\n        var _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../dagre-wrapper/index.js */\"./src/dagre-wrapper/index.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n\n        // import addHtmlLabel from 'dagre-d3/lib/label/add-html-label.js';\n\n        _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy = _classDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n        var idCache = {};\n        var padding = 20;\n        var sanitizeText = function sanitizeText(txt) {\n          return _common_common__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sanitizeText(txt, (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)());\n        };\n        var conf = {\n          dividerMargin: 10,\n          padding: 5,\n          textHeight: 10\n        };\n        /**\n         * Function that adds the vertices found during parsing to the graph to be rendered.\n         *\n         * @param {Object<\n         *   string,\n         *   { cssClasses: string[]; text: string; id: string; type: string; domId: string }\n         * >} classes\n         *   Object containing the vertices.\n         * @param {SVGGElement} g The graph that is to be drawn.\n         */\n\n        var addClasses = function addClasses(classes, g) {\n          // const svg = select(`[id=\"${svgId}\"]`);\n          var keys = Object.keys(classes);\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('keys:', keys);\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info(classes); // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\n\n          keys.forEach(function (id) {\n            var vertex = classes[id];\n            /**\n             * Variable for storing the classes for the vertex\n             *\n             * @type {string}\n             */\n\n            var cssClassStr = '';\n            if (vertex.cssClasses.length > 0) {\n              cssClassStr = cssClassStr + ' ' + vertex.cssClasses.join(' ');\n            } // if (vertex.classes.length > 0) {\n            //   classStr = vertex.classes.join(' ');\n            // }\n\n            var styles = {\n              labelStyle: ''\n            }; //getStylesFromArray(vertex.styles);\n            // Use vertex id as text in the box if no text is provided by the graph definition\n\n            var vertexText = vertex.text !== undefined ? vertex.text : vertex.id; // We create a SVG label, either by delegating to addHtmlLabel or manually\n            // let vertexNode;\n            // if (evaluate(getConfig().flowchart.htmlLabels)) {\n            //   const node = {\n            //     label: vertexText.replace(\n            //       /fa[lrsb]?:fa-[\\w-]+/g,\n            //       s => `<i class='${s.replace(':', ' ')}'></i>`\n            //     )\n            //   };\n            //   vertexNode = addHtmlLabel(svg, node).node();\n            //   vertexNode.parentNode.removeChild(vertexNode);\n            // } else {\n            //   const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n            //   svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\n            //   const rows = vertexText.split(common.lineBreakRegex);\n            //   for (let j = 0; j < rows.length; j++) {\n            //     const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n            //     tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n            //     tspan.setAttribute('dy', '1em');\n            //     tspan.setAttribute('x', '1');\n            //     tspan.textContent = rows[j];\n            //     svgLabel.appendChild(tspan);\n            //   }\n            //   vertexNode = svgLabel;\n            // }\n\n            var radious = 0;\n            var _shape = ''; // Set the shape based parameters\n\n            switch (vertex.type) {\n              case 'class':\n                _shape = 'class_box';\n                break;\n              default:\n                _shape = 'class_box';\n            } // Add the node\n\n            g.setNode(vertex.id, {\n              labelStyle: styles.labelStyle,\n              shape: _shape,\n              labelText: sanitizeText(vertexText),\n              classData: vertex,\n              rx: radious,\n              ry: radious,\n              class: cssClassStr,\n              style: styles.style,\n              id: vertex.id,\n              domId: vertex.domId,\n              haveCallback: vertex.haveCallback,\n              link: vertex.link,\n              width: vertex.type === 'group' ? 500 : undefined,\n              type: vertex.type,\n              padding: (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().flowchart.padding\n            });\n            _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('setNode', {\n              labelStyle: styles.labelStyle,\n              shape: _shape,\n              labelText: vertexText,\n              rx: radious,\n              ry: radious,\n              class: cssClassStr,\n              style: styles.style,\n              id: vertex.id,\n              width: vertex.type === 'group' ? 500 : undefined,\n              type: vertex.type,\n              padding: (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().flowchart.padding\n            });\n          });\n        };\n        /**\n         * Add edges to graph based on parsed graph defninition\n         *\n         * @param relations\n         * @param {object} g The graph object\n         */\n\n        var addRelations = function addRelations(relations, g) {\n          var cnt = 0;\n          var defaultStyle;\n          var defaultLabelStyle; // if (typeof relations.defaultStyle !== 'undefined') {\n          //   const defaultStyles = getStylesFromArray(relations.defaultStyle);\n          //   defaultStyle = defaultStyles.style;\n          //   defaultLabelStyle = defaultStyles.labelStyle;\n          // }\n\n          relations.forEach(function (edge) {\n            cnt++;\n            var edgeData = {}; //Set relationship style and line type\n\n            edgeData.classes = 'relation';\n            edgeData.pattern = edge.relation.lineType == 1 ? 'dashed' : 'solid';\n            edgeData.id = 'id' + cnt; // Set link type for rendering\n\n            if (edge.type === 'arrow_open') {\n              edgeData.arrowhead = 'none';\n            } else {\n              edgeData.arrowhead = 'normal';\n            }\n            _logger__WEBPACK_IMPORTED_MODULE_7__.log.info(edgeData, edge); //Set edge extra labels\n            //edgeData.startLabelLeft = edge.relationTitle1;\n\n            edgeData.startLabelRight = edge.relationTitle1 === 'none' ? '' : edge.relationTitle1;\n            edgeData.endLabelLeft = edge.relationTitle2 === 'none' ? '' : edge.relationTitle2; //edgeData.endLabelRight = edge.relationTitle2;\n            //Set relation arrow types\n\n            edgeData.arrowTypeStart = getArrowMarker(edge.relation.type1);\n            edgeData.arrowTypeEnd = getArrowMarker(edge.relation.type2);\n            var style = '';\n            var labelStyle = '';\n            if (typeof edge.style !== 'undefined') {\n              var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_8__.getStylesFromArray)(edge.style);\n              style = styles.style;\n              labelStyle = styles.labelStyle;\n            } else {\n              style = 'fill:none';\n              if (typeof defaultStyle !== 'undefined') {\n                style = defaultStyle;\n              }\n              if (typeof defaultLabelStyle !== 'undefined') {\n                labelStyle = defaultLabelStyle;\n              }\n            }\n            edgeData.style = style;\n            edgeData.labelStyle = labelStyle;\n            if (typeof edge.interpolate !== 'undefined') {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_8__.interpolateToCurve)(edge.interpolate, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);\n            } else if (typeof relations.defaultInterpolate !== 'undefined') {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_8__.interpolateToCurve)(relations.defaultInterpolate, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);\n            } else {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_8__.interpolateToCurve)(conf.curve, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);\n            }\n            edge.text = edge.title;\n            if (typeof edge.text === 'undefined') {\n              if (typeof edge.style !== 'undefined') {\n                edgeData.arrowheadStyle = 'fill: #333';\n              }\n            } else {\n              edgeData.arrowheadStyle = 'fill: #333';\n              edgeData.labelpos = 'c';\n              if ((0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().flowchart.htmlLabels) {\n                // eslint-disable-line\n                edgeData.labelType = 'html';\n                edgeData.label = '<span class=\"edgeLabel\">' + edge.text + '</span>';\n              } else {\n                edgeData.labelType = 'text';\n                edgeData.label = edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_5__[\"default\"].lineBreakRegex, '\\n');\n                if (typeof edge.style === 'undefined') {\n                  edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none';\n                }\n                edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:');\n              }\n            } // Add the edge to the graph\n\n            g.setEdge(edge.id1, edge.id2, edgeData, cnt);\n          });\n        };\n        /**\n         * Gets the ID with the same label as in the cache\n         *\n         * @param {string} label The label to look for\n         * @returns {string} The resulting ID\n         */\n\n        var getGraphId = function getGraphId(label) {\n          var foundEntry = Object.entries(idCache).find(function (entry) {\n            return entry[1].label === label;\n          });\n          if (foundEntry) {\n            return foundEntry[0];\n          }\n        };\n        /**\n         * Merges the value of `conf` with the passed `cnf`\n         *\n         * @param {object} cnf Config to merge\n         */\n\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          keys.forEach(function (key) {\n            conf[key] = cnf[key];\n          });\n        };\n        /**\n         * Draws a flowchart in the tag with id: id based on the graph definition in text.\n         *\n         * @param {string} text\n         * @param {string} id\n         */\n\n        var draw = function draw(text, id) {\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('Drawing class - ', id);\n          _classDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].clear(); // const parser = classDb.parser;\n          // parser.yy = classDb;\n          // Parse the graph definition\n          // try {\n\n          _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.parse(text); // } catch (err) {\n          // log.debug('Parsing failed');\n          // }\n          // Fetch the default direction, use TD if none was found\n          //let dir = 'TD';\n\n          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().flowchart;\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().securityLevel;\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('config:', conf);\n          var nodeSpacing = conf.nodeSpacing || 50;\n          var rankSpacing = conf.rankSpacing || 50; // Create the input mermaid.graph\n\n          var g = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({\n            multigraph: true,\n            compound: true\n          }).setGraph({\n            rankdir: _classDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getDirection(),\n            nodesep: nodeSpacing,\n            ranksep: rankSpacing,\n            marginx: 8,\n            marginy: 8\n          }).setDefaultEdgeLabel(function () {\n            return {};\n          }); // let subG;\n          // const subGraphs = flowDb.getSubGraphs();\n          // log.info('Subgraphs - ', subGraphs);\n          // for (let i = subGraphs.length - 1; i >= 0; i--) {\n          //   subG = subGraphs[i];\n          //   log.info('Subgraph - ', subG);\n          //   flowDb.addVertex(subG.id, subG.title, 'group', undefined, subG.classes);\n          // }\n          // Fetch the verices/nodes and edges/links from the parsed graph definition\n\n          var classes = _classDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getClasses();\n          var relations = _classDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getRelations();\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info(relations); // let i = 0;\n          // for (i = subGraphs.length - 1; i >= 0; i--) {\n          //   subG = subGraphs[i];\n          //   selectAll('cluster').append('text');\n          //   for (let j = 0; j < subG.nodes.length; j++) {\n          //     g.setParent(subG.nodes[j], subG.id);\n          //   }\n          // }\n\n          addClasses(classes, g, id);\n          addRelations(relations, g); // Add custom shapes\n          // flowChartShapes.addToRenderV2(addShape);\n          // Set up an SVG group so that we can translate the final graph.\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n          var svg = root.select(\"[id=\\\"\".concat(id, \"\\\"]\"));\n          svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink'); // Run the renderer. This is what draws the final graph.\n\n          var element = root.select('#' + id + ' g');\n          (0, _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__.render)(element, g, ['aggregation', 'extension', 'composition', 'dependency'], 'classDiagram', id); // element.selectAll('g.node').attr('title', function() {\n          //   return flowDb.getTooltip(this.id);\n          // });\n\n          var padding = 8;\n          var svgBounds = svg.node().getBBox();\n          var width = svgBounds.width + padding * 2;\n          var height = svgBounds.height + padding * 2;\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.debug(\"new ViewBox 0 0 \".concat(width, \" \").concat(height), \"translate(\".concat(padding - g._label.marginx, \", \").concat(padding - g._label.marginy, \")\"));\n          (0, _utils__WEBPACK_IMPORTED_MODULE_8__.configureSvgSize)(svg, height, width, conf.useMaxWidth);\n          svg.attr('viewBox', \"0 0 \".concat(width, \" \").concat(height));\n          svg.select('g').attr('transform', \"translate(\".concat(padding - g._label.marginx, \", \").concat(padding - svgBounds.y, \")\")); // Index nodes\n          // flowDb.indexNodes('subGraph' + i);\n          // Add label rects for non html labels\n\n          if (!conf.htmlLabels) {\n            var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n            var labels = doc.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n            for (var k = 0; k < labels.length; k++) {\n              var label = labels[k]; // Get dimensions of label\n\n              var dim = label.getBBox();\n              var rect = doc.createElementNS('http://www.w3.org/2000/svg', 'rect');\n              rect.setAttribute('rx', 0);\n              rect.setAttribute('ry', 0);\n              rect.setAttribute('width', dim.width);\n              rect.setAttribute('height', dim.height); // rect.setAttribute('style', 'fill:#e8e8e8;');\n\n              label.insertBefore(rect, label.firstChild);\n            }\n          } // If node has a link, wrap it in an anchor SVG object.\n          // const keys = Object.keys(classes);\n          // keys.forEach(function(key) {\n          //   const vertex = classes[key];\n          //   if (vertex.link) {\n          //     const node = select('#' + id + ' [id=\"' + key + '\"]');\n          //     if (node) {\n          //       const link = document.createElementNS('http://www.w3.org/2000/svg', 'a');\n          //       link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\n          //       link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\n          //       link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\n          //       const linkNode = node.insert(function() {\n          //         return link;\n          //       }, ':first-child');\n          //       const shape = node.select('.label-container');\n          //       if (shape) {\n          //         linkNode.append(function() {\n          //           return shape.node();\n          //         });\n          //       }\n          //       const label = node.select('.label');\n          //       if (label) {\n          //         linkNode.append(function() {\n          //           return label.node();\n          //         });\n          //       }\n          //     }\n          //   }\n          // });\n        };\n        /**\n         * Gets the arrow marker for a type index\n         *\n         * @param {number} type The type to look for\n         * @returns {'aggregation' | 'extension' | 'composition' | 'dependency'} The arrow marker\n         */\n\n        function getArrowMarker(type) {\n          var marker;\n          switch (type) {\n            case 0:\n              marker = 'aggregation';\n              break;\n            case 1:\n              marker = 'extension';\n              break;\n            case 2:\n              marker = 'composition';\n              break;\n            case 3:\n              marker = 'dependency';\n              break;\n            default:\n              marker = 'none';\n          }\n          return marker;\n        }\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/class/classRenderer.js\": (\n      /*!*********************************************!*\\\n        !*** ./src/diagrams/class/classRenderer.js ***!\n        \\*********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dagre */\"dagre\");\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dagre__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _classDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./classDb */\"./src/diagrams/class/classDb.js\");\n        /* harmony import */\n        var _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parser/classDiagram */\"./src/diagrams/class/parser/classDiagram.jison\");\n        /* harmony import */\n        var _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var _svgDraw__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./svgDraw */\"./src/diagrams/class/svgDraw.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy = _classDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n        var idCache = {};\n        var padding = 20;\n        var conf = {\n          dividerMargin: 10,\n          padding: 5,\n          textHeight: 10\n        };\n        /**\n         * Gets the ID with the same label as in the cache\n         *\n         * @param {string} label The label to look for\n         * @returns {string} The resulting ID\n         */\n\n        var getGraphId = function getGraphId(label) {\n          var foundEntry = Object.entries(idCache).find(function (entry) {\n            return entry[1].label === label;\n          });\n          if (foundEntry) {\n            return foundEntry[0];\n          }\n        };\n        /**\n         * Setup arrow head and define the marker. The result is appended to the svg.\n         *\n         * @param {SVGSVGElement} elem The SVG element to append to\n         */\n\n        var insertMarkers = function insertMarkers(elem) {\n          elem.append('defs').append('marker').attr('id', 'extensionStart').attr('class', 'extension').attr('refX', 0).attr('refY', 7).attr('markerWidth', 190).attr('markerHeight', 240).attr('orient', 'auto').append('path').attr('d', 'M 1,7 L18,13 V 1 Z');\n          elem.append('defs').append('marker').attr('id', 'extensionEnd').attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 1,1 V 13 L18,7 Z'); // this is actual shape for arrowhead\n\n          elem.append('defs').append('marker').attr('id', 'compositionStart').attr('class', 'extension').attr('refX', 0).attr('refY', 7).attr('markerWidth', 190).attr('markerHeight', 240).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n          elem.append('defs').append('marker').attr('id', 'compositionEnd').attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n          elem.append('defs').append('marker').attr('id', 'aggregationStart').attr('class', 'extension').attr('refX', 0).attr('refY', 7).attr('markerWidth', 190).attr('markerHeight', 240).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n          elem.append('defs').append('marker').attr('id', 'aggregationEnd').attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n          elem.append('defs').append('marker').attr('id', 'dependencyStart').attr('class', 'extension').attr('refX', 0).attr('refY', 7).attr('markerWidth', 190).attr('markerHeight', 240).attr('orient', 'auto').append('path').attr('d', 'M 5,7 L9,13 L1,7 L9,1 Z');\n          elem.append('defs').append('marker').attr('id', 'dependencyEnd').attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\n        };\n        /**\n         * Merges the value of `conf` with the passed `cnf`\n         *\n         * @param {object} cnf Config to merge\n         */\n\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          keys.forEach(function (key) {\n            conf[key] = cnf[key];\n          });\n        };\n        /**\n         * Draws a flowchart in the tag with id: id based on the graph definition in text.\n         *\n         * @param {string} text\n         * @param {string} id\n         */\n\n        var draw = function draw(text, id) {\n          idCache = {};\n          _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy.clear();\n          _parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.parse(text);\n          _logger__WEBPACK_IMPORTED_MODULE_5__.log.info('Rendering diagram ' + text);\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document; // Fetch the default direction, use TD if none was found\n\n          var diagram = root.select(\"[id='\".concat(id, \"']\"));\n          diagram.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n          insertMarkers(diagram); // Layout graph, Create a new directed graph\n\n          var g = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({\n            multigraph: true\n          }); // Set an object for the graph label\n\n          g.setGraph({\n            isMultiGraph: true\n          }); // Default to assigning a new object as a label for each new edge.\n\n          g.setDefaultEdgeLabel(function () {\n            return {};\n          });\n          var classes = _classDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getClasses();\n          var keys = Object.keys(classes);\n          for (var i = 0; i < keys.length; i++) {\n            var classDef = classes[keys[i]];\n            var node = _svgDraw__WEBPACK_IMPORTED_MODULE_7__[\"default\"].drawClass(diagram, classDef, conf);\n            idCache[node.id] = node; // Add nodes to the graph. The first argument is the node id. The second is\n            // metadata about the node. In this case we're going to add labels to each of\n            // our nodes.\n\n            g.setNode(node.id, node);\n            _logger__WEBPACK_IMPORTED_MODULE_5__.log.info('Org height: ' + node.height);\n          }\n          var relations = _classDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getRelations();\n          relations.forEach(function (relation) {\n            _logger__WEBPACK_IMPORTED_MODULE_5__.log.info('tjoho' + getGraphId(relation.id1) + getGraphId(relation.id2) + JSON.stringify(relation));\n            g.setEdge(getGraphId(relation.id1), getGraphId(relation.id2), {\n              relation: relation\n            }, relation.title || 'DEFAULT');\n          });\n          dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(g);\n          g.nodes().forEach(function (v) {\n            if (typeof v !== 'undefined' && typeof g.node(v) !== 'undefined') {\n              _logger__WEBPACK_IMPORTED_MODULE_5__.log.debug('Node ' + v + ': ' + JSON.stringify(g.node(v)));\n              root.select('#' + (0, _classDb__WEBPACK_IMPORTED_MODULE_4__.lookUpDomId)(v)).attr('transform', 'translate(' + (g.node(v).x - g.node(v).width / 2) + ',' + (g.node(v).y - g.node(v).height / 2) + ' )');\n            }\n          });\n          g.edges().forEach(function (e) {\n            if (typeof e !== 'undefined' && typeof g.edge(e) !== 'undefined') {\n              _logger__WEBPACK_IMPORTED_MODULE_5__.log.debug('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(g.edge(e)));\n              _svgDraw__WEBPACK_IMPORTED_MODULE_7__[\"default\"].drawEdge(diagram, g.edge(e), g.edge(e).relation, conf);\n            }\n          });\n          var svgBounds = diagram.node().getBBox();\n          var width = svgBounds.width + padding * 2;\n          var height = svgBounds.height + padding * 2;\n          (0, _utils__WEBPACK_IMPORTED_MODULE_8__.configureSvgSize)(diagram, height, width, conf.useMaxWidth); // Ensure the viewBox includes the whole svgBounds area with extra space for padding\n\n          var vBox = \"\".concat(svgBounds.x - padding, \" \").concat(svgBounds.y - padding, \" \").concat(width, \" \").concat(height);\n          _logger__WEBPACK_IMPORTED_MODULE_5__.log.debug(\"viewBox \".concat(vBox));\n          diagram.attr('viewBox', vBox);\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/class/styles.js\": (\n      /*!**************************************!*\\\n        !*** ./src/diagrams/class/styles.js ***!\n        \\**************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles(options) {\n          return \"g.classGroup text {\\n  fill: \".concat(options.nodeBorder, \";\\n  fill: \").concat(options.classText, \";\\n  stroke: none;\\n  font-family: \").concat(options.fontFamily, \";\\n  font-size: 10px;\\n\\n  .title {\\n    font-weight: bolder;\\n  }\\n\\n}\\n\\n.nodeLabel, .edgeLabel {\\n  color: \").concat(options.classText, \";\\n}\\n.edgeLabel .label rect {\\n  fill: \").concat(options.mainBkg, \";\\n}\\n.label text {\\n  fill: \").concat(options.classText, \";\\n}\\n.edgeLabel .label span {\\n  background: \").concat(options.mainBkg, \";\\n}\\n\\n.classTitle {\\n  font-weight: bolder;\\n}\\n.node rect,\\n  .node circle,\\n  .node ellipse,\\n  .node polygon,\\n  .node path {\\n    fill: \").concat(options.mainBkg, \";\\n    stroke: \").concat(options.nodeBorder, \";\\n    stroke-width: 1px;\\n  }\\n\\n\\n.divider {\\n  stroke: \").concat(options.nodeBorder, \";\\n  stroke: 1;\\n}\\n\\ng.clickable {\\n  cursor: pointer;\\n}\\n\\ng.classGroup rect {\\n  fill: \").concat(options.mainBkg, \";\\n  stroke: \").concat(options.nodeBorder, \";\\n}\\n\\ng.classGroup line {\\n  stroke: \").concat(options.nodeBorder, \";\\n  stroke-width: 1;\\n}\\n\\n.classLabel .box {\\n  stroke: none;\\n  stroke-width: 0;\\n  fill: \").concat(options.mainBkg, \";\\n  opacity: 0.5;\\n}\\n\\n.classLabel .label {\\n  fill: \").concat(options.nodeBorder, \";\\n  font-size: 10px;\\n}\\n\\n.relation {\\n  stroke: \").concat(options.lineColor, \";\\n  stroke-width: 1;\\n  fill: none;\\n}\\n\\n.dashed-line{\\n  stroke-dasharray: 3;\\n}\\n\\n#compositionStart, .composition {\\n  fill: \").concat(options.lineColor, \" !important;\\n  stroke: \").concat(options.lineColor, \" !important;\\n  stroke-width: 1;\\n}\\n\\n#compositionEnd, .composition {\\n  fill: \").concat(options.lineColor, \" !important;\\n  stroke: \").concat(options.lineColor, \" !important;\\n  stroke-width: 1;\\n}\\n\\n#dependencyStart, .dependency {\\n  fill: \").concat(options.lineColor, \" !important;\\n  stroke: \").concat(options.lineColor, \" !important;\\n  stroke-width: 1;\\n}\\n\\n#dependencyStart, .dependency {\\n  fill: \").concat(options.lineColor, \" !important;\\n  stroke: \").concat(options.lineColor, \" !important;\\n  stroke-width: 1;\\n}\\n\\n#extensionStart, .extension {\\n  fill: \").concat(options.lineColor, \" !important;\\n  stroke: \").concat(options.lineColor, \" !important;\\n  stroke-width: 1;\\n}\\n\\n#extensionEnd, .extension {\\n  fill: \").concat(options.lineColor, \" !important;\\n  stroke: \").concat(options.lineColor, \" !important;\\n  stroke-width: 1;\\n}\\n\\n#aggregationStart, .aggregation {\\n  fill: \").concat(options.mainBkg, \" !important;\\n  stroke: \").concat(options.lineColor, \" !important;\\n  stroke-width: 1;\\n}\\n\\n#aggregationEnd, .aggregation {\\n  fill: \").concat(options.mainBkg, \" !important;\\n  stroke: \").concat(options.lineColor, \" !important;\\n  stroke-width: 1;\\n}\\n\\n.edgeTerminals {\\n  font-size: 11px;\\n}\\n\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/class/svgDraw.js\": (\n      /*!***************************************!*\\\n        !*** ./src/diagrams/class/svgDraw.js ***!\n        \\***************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"drawEdge\": () => (/* binding */drawEdge),\n          /* harmony export */\"drawClass\": () => (/* binding */drawClass),\n          /* harmony export */\"parseMember\": () => (/* binding */parseMember),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _classDb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./classDb */\"./src/diagrams/class/classDb.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        var edgeCount = 0;\n        var drawEdge = function drawEdge(elem, path, relation, conf) {\n          var getRelationType = function getRelationType(type) {\n            switch (type) {\n              case _classDb__WEBPACK_IMPORTED_MODULE_1__.relationType.AGGREGATION:\n                return 'aggregation';\n              case _classDb__WEBPACK_IMPORTED_MODULE_1__.relationType.EXTENSION:\n                return 'extension';\n              case _classDb__WEBPACK_IMPORTED_MODULE_1__.relationType.COMPOSITION:\n                return 'composition';\n              case _classDb__WEBPACK_IMPORTED_MODULE_1__.relationType.DEPENDENCY:\n                return 'dependency';\n            }\n          };\n          path.points = path.points.filter(function (p) {\n            return !Number.isNaN(p.y);\n          }); // The data for our line\n\n          var lineData = path.points; // This is the accessor function we talked about above\n\n          var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function (d) {\n            return d.x;\n          }).y(function (d) {\n            return d.y;\n          }).curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis);\n          var svgPath = elem.append('path').attr('d', lineFunction(lineData)).attr('id', 'edge' + edgeCount).attr('class', 'relation');\n          var url = '';\n          if (conf.arrowMarkerAbsolute) {\n            url = window.location.protocol + '//' + window.location.host + window.location.pathname + window.location.search;\n            url = url.replace(/\\(/g, '\\\\(');\n            url = url.replace(/\\)/g, '\\\\)');\n          }\n          if (relation.relation.lineType == 1) {\n            svgPath.attr('class', 'relation dashed-line');\n          }\n          if (relation.relation.type1 !== 'none') {\n            svgPath.attr('marker-start', 'url(' + url + '#' + getRelationType(relation.relation.type1) + 'Start' + ')');\n          }\n          if (relation.relation.type2 !== 'none') {\n            svgPath.attr('marker-end', 'url(' + url + '#' + getRelationType(relation.relation.type2) + 'End' + ')');\n          }\n          var x, y;\n          var l = path.points.length; // Calculate Label position\n\n          var labelPosition = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].calcLabelPosition(path.points);\n          x = labelPosition.x;\n          y = labelPosition.y;\n          var p1_card_x, p1_card_y;\n          var p2_card_x, p2_card_y;\n          if (l % 2 !== 0 && l > 1) {\n            var cardinality_1_point = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].calcCardinalityPosition(relation.relation.type1 !== 'none', path.points, path.points[0]);\n            var cardinality_2_point = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].calcCardinalityPosition(relation.relation.type2 !== 'none', path.points, path.points[l - 1]);\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug('cardinality_1_point ' + JSON.stringify(cardinality_1_point));\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug('cardinality_2_point ' + JSON.stringify(cardinality_2_point));\n            p1_card_x = cardinality_1_point.x;\n            p1_card_y = cardinality_1_point.y;\n            p2_card_x = cardinality_2_point.x;\n            p2_card_y = cardinality_2_point.y;\n          }\n          if (typeof relation.title !== 'undefined') {\n            var g = elem.append('g').attr('class', 'classLabel');\n            var label = g.append('text').attr('class', 'label').attr('x', x).attr('y', y).attr('fill', 'red').attr('text-anchor', 'middle').text(relation.title);\n            window.label = label;\n            var bounds = label.node().getBBox();\n            g.insert('rect', ':first-child').attr('class', 'box').attr('x', bounds.x - conf.padding / 2).attr('y', bounds.y - conf.padding / 2).attr('width', bounds.width + conf.padding).attr('height', bounds.height + conf.padding);\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_3__.log.info('Rendering relation ' + JSON.stringify(relation));\n          if (typeof relation.relationTitle1 !== 'undefined' && relation.relationTitle1 !== 'none') {\n            var _g = elem.append('g').attr('class', 'cardinality');\n            _g.append('text').attr('class', 'type1').attr('x', p1_card_x).attr('y', p1_card_y).attr('fill', 'black').attr('font-size', '6').text(relation.relationTitle1);\n          }\n          if (typeof relation.relationTitle2 !== 'undefined' && relation.relationTitle2 !== 'none') {\n            var _g2 = elem.append('g').attr('class', 'cardinality');\n            _g2.append('text').attr('class', 'type2').attr('x', p2_card_x).attr('y', p2_card_y).attr('fill', 'black').attr('font-size', '6').text(relation.relationTitle2);\n          }\n          edgeCount++;\n        };\n        /**\n         * Renders a class diagram\n         *\n         * @param {SVGSVGElement} elem The element to draw it into\n         * @param classDef\n         * @param conf\n         * @todo Add more information in the JSDOC here\n         */\n\n        var drawClass = function drawClass(elem, classDef, conf) {\n          _logger__WEBPACK_IMPORTED_MODULE_3__.log.info('Rendering class ' + classDef);\n          var id = classDef.id;\n          var classInfo = {\n            id: id,\n            label: classDef.id,\n            width: 0,\n            height: 0\n          }; // add class group\n\n          var g = elem.append('g').attr('id', (0, _classDb__WEBPACK_IMPORTED_MODULE_1__.lookUpDomId)(id)).attr('class', 'classGroup'); // add title\n\n          var title;\n          if (classDef.link) {\n            title = g.append('svg:a').attr('xlink:href', classDef.link).attr('target', classDef.linkTarget).append('text').attr('y', conf.textHeight + conf.padding).attr('x', 0);\n          } else {\n            title = g.append('text').attr('y', conf.textHeight + conf.padding).attr('x', 0);\n          } // add annotations\n\n          var isFirst = true;\n          classDef.annotations.forEach(function (member) {\n            var titleText2 = title.append('tspan').text('' + member + '');\n            if (!isFirst) titleText2.attr('dy', conf.textHeight);\n            isFirst = false;\n          });\n          var classTitleString = classDef.id;\n          if (classDef.type !== undefined && classDef.type !== '') {\n            classTitleString += '<' + classDef.type + '>';\n          }\n          var classTitle = title.append('tspan').text(classTitleString).attr('class', 'title'); // If class has annotations the title needs to have an offset of the text height\n\n          if (!isFirst) classTitle.attr('dy', conf.textHeight);\n          var titleHeight = title.node().getBBox().height;\n          var membersLine = g.append('line') // text label for the x axis\n          .attr('x1', 0).attr('y1', conf.padding + titleHeight + conf.dividerMargin / 2).attr('y2', conf.padding + titleHeight + conf.dividerMargin / 2);\n          var members = g.append('text') // text label for the x axis\n          .attr('x', conf.padding).attr('y', titleHeight + conf.dividerMargin + conf.textHeight).attr('fill', 'white').attr('class', 'classText');\n          isFirst = true;\n          classDef.members.forEach(function (member) {\n            addTspan(members, member, isFirst, conf);\n            isFirst = false;\n          });\n          var membersBox = members.node().getBBox();\n          var methodsLine = g.append('line') // text label for the x axis\n          .attr('x1', 0).attr('y1', conf.padding + titleHeight + conf.dividerMargin + membersBox.height).attr('y2', conf.padding + titleHeight + conf.dividerMargin + membersBox.height);\n          var methods = g.append('text') // text label for the x axis\n          .attr('x', conf.padding).attr('y', titleHeight + 2 * conf.dividerMargin + membersBox.height + conf.textHeight).attr('fill', 'white').attr('class', 'classText');\n          isFirst = true;\n          classDef.methods.forEach(function (method) {\n            addTspan(methods, method, isFirst, conf);\n            isFirst = false;\n          });\n          var classBox = g.node().getBBox();\n          var cssClassStr = ' ';\n          if (classDef.cssClasses.length > 0) {\n            cssClassStr = cssClassStr + classDef.cssClasses.join(' ');\n          }\n          var rect = g.insert('rect', ':first-child').attr('x', 0).attr('y', 0).attr('width', classBox.width + 2 * conf.padding).attr('height', classBox.height + conf.padding + 0.5 * conf.dividerMargin).attr('class', cssClassStr);\n          var rectWidth = rect.node().getBBox().width; // Center title\n          // We subtract the width of each text element from the class box width and divide it by 2\n\n          title.node().childNodes.forEach(function (x) {\n            x.setAttribute('x', (rectWidth - x.getBBox().width) / 2);\n          });\n          if (classDef.tooltip) {\n            title.insert('title').text(classDef.tooltip);\n          }\n          membersLine.attr('x2', rectWidth);\n          methodsLine.attr('x2', rectWidth);\n          classInfo.width = rectWidth;\n          classInfo.height = classBox.height + conf.padding + 0.5 * conf.dividerMargin;\n          return classInfo;\n        };\n        var parseMember = function parseMember(text) {\n          var fieldRegEx = /^(\\+|-|~|#)?(\\w+)(~\\w+~|\\[\\])?\\s+(\\w+) *(\\*|\\$)?$/;\n          var methodRegEx = /^([+|\\-|~|#])?(\\w+) *\\( *(.*)\\) *(\\*|\\$)? *(\\w*[~|[\\]]*\\s*\\w*~?)$/;\n          var fieldMatch = text.match(fieldRegEx);\n          var methodMatch = text.match(methodRegEx);\n          if (fieldMatch && !methodMatch) {\n            return buildFieldDisplay(fieldMatch);\n          } else if (methodMatch) {\n            return buildMethodDisplay(methodMatch);\n          } else {\n            return buildLegacyDisplay(text);\n          }\n        };\n        var buildFieldDisplay = function buildFieldDisplay(parsedText) {\n          var cssStyle = '';\n          var displayText = '';\n          try {\n            var visibility = parsedText[1] ? parsedText[1].trim() : '';\n            var fieldType = parsedText[2] ? parsedText[2].trim() : '';\n            var genericType = parsedText[3] ? parseGenericTypes(parsedText[3].trim()) : '';\n            var fieldName = parsedText[4] ? parsedText[4].trim() : '';\n            var classifier = parsedText[5] ? parsedText[5].trim() : '';\n            displayText = visibility + fieldType + genericType + ' ' + fieldName;\n            cssStyle = parseClassifier(classifier);\n          } catch (err) {\n            displayText = parsedText;\n          }\n          return {\n            displayText: displayText,\n            cssStyle: cssStyle\n          };\n        };\n        var buildMethodDisplay = function buildMethodDisplay(parsedText) {\n          var cssStyle = '';\n          var displayText = '';\n          try {\n            var visibility = parsedText[1] ? parsedText[1].trim() : '';\n            var methodName = parsedText[2] ? parsedText[2].trim() : '';\n            var parameters = parsedText[3] ? parseGenericTypes(parsedText[3].trim()) : '';\n            var classifier = parsedText[4] ? parsedText[4].trim() : '';\n            var returnType = parsedText[5] ? ' : ' + parseGenericTypes(parsedText[5]).trim() : '';\n            displayText = visibility + methodName + '(' + parameters + ')' + returnType;\n            cssStyle = parseClassifier(classifier);\n          } catch (err) {\n            displayText = parsedText;\n          }\n          return {\n            displayText: displayText,\n            cssStyle: cssStyle\n          };\n        };\n        var buildLegacyDisplay = function buildLegacyDisplay(text) {\n          // if for some reason we dont have any match, use old format to parse text\n          var displayText = '';\n          var cssStyle = '';\n          var memberText = '';\n          var returnType = '';\n          var methodStart = text.indexOf('(');\n          var methodEnd = text.indexOf(')');\n          if (methodStart > 1 && methodEnd > methodStart && methodEnd <= text.length) {\n            var visibility = '';\n            var methodName = '';\n            var firstChar = text.substring(0, 1);\n            if (firstChar.match(/\\w/)) {\n              methodName = text.substring(0, methodStart).trim();\n            } else {\n              if (firstChar.match(/\\+|-|~|#/)) {\n                visibility = firstChar;\n              }\n              methodName = text.substring(1, methodStart).trim();\n            }\n            var parameters = text.substring(methodStart + 1, methodEnd);\n            var classifier = text.substring(methodEnd + 1, 1);\n            cssStyle = parseClassifier(classifier);\n            displayText = visibility + methodName + '(' + parseGenericTypes(parameters.trim()) + ')';\n            if (methodEnd < memberText.length) {\n              returnType = text.substring(methodEnd + 2).trim();\n              if (returnType !== '') {\n                returnType = ' : ' + parseGenericTypes(returnType);\n              }\n            }\n          } else {\n            // finally - if all else fails, just send the text back as written (other than parsing for generic types)\n            displayText = parseGenericTypes(text);\n          }\n          return {\n            displayText: displayText,\n            cssStyle: cssStyle\n          };\n        };\n        /**\n         * Adds a <tspan> for a member in a diagram\n         *\n         * @param {SVGElement} textEl The element to append to\n         * @param {string} txt The member\n         * @param {boolean} isFirst\n         * @param {{ padding: string; textHeight: string }} conf The configuration for the member\n         */\n\n        var addTspan = function addTspan(textEl, txt, isFirst, conf) {\n          var member = parseMember(txt);\n          var tSpan = textEl.append('tspan').attr('x', conf.padding).text(member.displayText);\n          if (member.cssStyle !== '') {\n            tSpan.attr('style', member.cssStyle);\n          }\n          if (!isFirst) {\n            tSpan.attr('dy', conf.textHeight);\n          }\n        };\n        /**\n         * Makes generics in typescript syntax\n         *\n         * @example <caption>Array of array of strings in typescript syntax</caption>\n         *   // returns \"Array<Array<string>>\"\n         *   parseGenericTypes('Array~Array~string~~');\n         *\n         * @param {string} text The text to convert\n         * @returns {string} The converted string\n         */\n\n        var parseGenericTypes = function parseGenericTypes(text) {\n          var cleanedText = text;\n          if (text.indexOf('~') != -1) {\n            cleanedText = cleanedText.replace('~', '<');\n            cleanedText = cleanedText.replace('~', '>');\n            return parseGenericTypes(cleanedText);\n          } else {\n            return cleanedText;\n          }\n        };\n        /**\n         * Gives the styles for a classifier\n         *\n         * @param {'+' | '-' | '#' | '~' | '*' | '$'} classifier The classifier string\n         * @returns {string} Styling for the classifier\n         */\n\n        var parseClassifier = function parseClassifier(classifier) {\n          switch (classifier) {\n            case '*':\n              return 'font-style:italic;';\n            case '$':\n              return 'text-decoration:underline;';\n            default:\n              return '';\n          }\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          drawClass: drawClass,\n          drawEdge: drawEdge,\n          parseMember: parseMember\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/common/common.js\": (\n      /*!***************************************!*\\\n        !*** ./src/diagrams/common/common.js ***!\n        \\***************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"getRows\": () => (/* binding */getRows),\n          /* harmony export */\"removeEscapes\": () => (/* binding */removeEscapes),\n          /* harmony export */\"removeScript\": () => (/* binding */removeScript),\n          /* harmony export */\"sanitizeText\": () => (/* binding */sanitizeText),\n          /* harmony export */\"sanitizeTextOrArray\": () => (/* binding */sanitizeTextOrArray),\n          /* harmony export */\"lineBreakRegex\": () => (/* binding */lineBreakRegex),\n          /* harmony export */\"hasBreaks\": () => (/* binding */hasBreaks),\n          /* harmony export */\"splitBreaks\": () => (/* binding */splitBreaks),\n          /* harmony export */\"evaluate\": () => (/* binding */evaluate),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var dompurify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dompurify */\"dompurify\");\n        /* harmony import */\n        var dompurify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dompurify__WEBPACK_IMPORTED_MODULE_0__);\n\n        /**\n         * Gets the number of lines in a string\n         *\n         * @param {string | undefined} s The string to check the lines for\n         * @returns {number} The number of lines in that string\n         */\n\n        var getRows = function getRows(s) {\n          if (!s) return 1;\n          var str = breakToPlaceholder(s);\n          str = str.replace(/\\\\n/g, '#br#');\n          return str.split('#br#');\n        };\n        var removeEscapes = function removeEscapes(text) {\n          var newStr = text.replace(/\\\\u[\\dA-F]{4}/gi, function (match) {\n            return String.fromCharCode(parseInt(match.replace(/\\\\u/g, ''), 16));\n          });\n          newStr = newStr.replace(/\\\\x([0-9a-f]{2})/gi, function (_, c) {\n            return String.fromCharCode(parseInt(c, 16));\n          });\n          newStr = newStr.replace(/\\\\[\\d\\d\\d]{3}/gi, function (match) {\n            return String.fromCharCode(parseInt(match.replace(/\\\\/g, ''), 8));\n          });\n          newStr = newStr.replace(/\\\\[\\d\\d\\d]{2}/gi, function (match) {\n            return String.fromCharCode(parseInt(match.replace(/\\\\/g, ''), 8));\n          });\n          return newStr;\n        };\n        /**\n         * Removes script tags from a text\n         *\n         * @param {string} txt The text to sanitize\n         * @returns {string} The safer text\n         */\n\n        var removeScript = function removeScript(txt) {\n          var rs = '';\n          var idx = 0;\n          while (idx >= 0) {\n            idx = txt.indexOf('<script');\n            if (idx >= 0) {\n              rs += txt.substr(0, idx);\n              txt = txt.substr(idx + 1);\n              idx = txt.indexOf('</script>');\n              if (idx >= 0) {\n                idx += 9;\n                txt = txt.substr(idx);\n              }\n            } else {\n              rs += txt;\n              idx = -1;\n              break;\n            }\n          }\n          var decodedText = removeEscapes(rs);\n          decodedText = decodedText.replace(/script>/gi, '#');\n          decodedText = decodedText.replace(/javascript:/gi, '#');\n          decodedText = decodedText.replace(/onerror=/gi, 'onerror:');\n          decodedText = decodedText.replace(/<iframe/gi, '');\n          return decodedText;\n        };\n        var sanitizeMore = function sanitizeMore(text, config) {\n          var txt = text;\n          var htmlLabels = true;\n          if (config.flowchart && (config.flowchart.htmlLabels === false || config.flowchart.htmlLabels === 'false')) {\n            htmlLabels = false;\n          }\n          if (htmlLabels) {\n            var level = config.securityLevel;\n            if (level === 'antiscript' || level === 'strict') {\n              txt = removeScript(txt);\n            } else if (level !== 'loose') {\n              // eslint-disable-line\n              txt = breakToPlaceholder(txt);\n              txt = txt.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n              txt = txt.replace(/=/g, '&equals;');\n              txt = placeholderToBreak(txt);\n            }\n          }\n          return txt;\n        };\n        var sanitizeText = function sanitizeText(text, config) {\n          if (!text) return text;\n          var txt = dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(sanitizeMore(text, config));\n          return txt;\n        };\n        var sanitizeTextOrArray = function sanitizeTextOrArray(a, config) {\n          if (typeof a === 'string') return sanitizeText(a, config);\n          var f = function f(x) {\n            return sanitizeText(x, config);\n          };\n          return a.flat().map(f);\n        };\n        var lineBreakRegex = /<br\\s*\\/?>/gi;\n        /**\n         * Whether or not a text has any linebreaks\n         *\n         * @param {string} text The text to test\n         * @returns {boolean} Whether or not the text has breaks\n         */\n\n        var hasBreaks = function hasBreaks(text) {\n          return lineBreakRegex.test(text);\n        };\n        /**\n         * Splits on <br> tags\n         *\n         * @param {string} text Text to split\n         * @returns {string[]} List of lines as strings\n         */\n\n        var splitBreaks = function splitBreaks(text) {\n          return text.split(lineBreakRegex);\n        };\n        /**\n         * Converts placeholders to linebreaks in HTML\n         *\n         * @param {string} s HTML with placeholders\n         * @returns {string} HTML with breaks instead of placeholders\n         */\n\n        var placeholderToBreak = function placeholderToBreak(s) {\n          return s.replace(/#br#/g, '<br/>');\n        };\n        /**\n         * Opposite of `placeholderToBreak`, converts breaks to placeholders\n         *\n         * @param {string} s HTML string\n         * @returns {string} String with placeholders\n         */\n\n        var breakToPlaceholder = function breakToPlaceholder(s) {\n          return s.replace(lineBreakRegex, '#br#');\n        };\n        /**\n         * Gets the current URL\n         *\n         * @param {boolean} useAbsolute Whether to return the absolute URL or not\n         * @returns {string} The current URL\n         */\n\n        var getUrl = function getUrl(useAbsolute) {\n          var url = '';\n          if (useAbsolute) {\n            url = window.location.protocol + '//' + window.location.host + window.location.pathname + window.location.search;\n            url = url.replace(/\\(/g, '\\\\(');\n            url = url.replace(/\\)/g, '\\\\)');\n          }\n          return url;\n        };\n        /**\n         * Converts a string/boolean into a boolean\n         *\n         * @param {string | boolean} val String or boolean to convert\n         * @returns {boolean} The result from the input\n         */\n\n        var evaluate = function evaluate(val) {\n          return val === 'false' || val === false ? false : true;\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          getRows: getRows,\n          sanitizeText: sanitizeText,\n          sanitizeTextOrArray: sanitizeTextOrArray,\n          hasBreaks: hasBreaks,\n          splitBreaks: splitBreaks,\n          lineBreakRegex: lineBreakRegex,\n          removeScript: removeScript,\n          getUrl: getUrl,\n          evaluate: evaluate,\n          removeEscapes: removeEscapes\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/er/erDb.js\": (\n      /*!*********************************!*\\\n        !*** ./src/diagrams/er/erDb.js ***!\n        \\*********************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        var entities = {};\n        var relationships = [];\n        var title = '';\n        var Cardinality = {\n          ZERO_OR_ONE: 'ZERO_OR_ONE',\n          ZERO_OR_MORE: 'ZERO_OR_MORE',\n          ONE_OR_MORE: 'ONE_OR_MORE',\n          ONLY_ONE: 'ONLY_ONE'\n        };\n        var Identification = {\n          NON_IDENTIFYING: 'NON_IDENTIFYING',\n          IDENTIFYING: 'IDENTIFYING'\n        };\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        var addEntity = function addEntity(name) {\n          if (typeof entities[name] === 'undefined') {\n            entities[name] = {\n              attributes: []\n            };\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Added new entity :', name);\n          }\n          return entities[name];\n        };\n        var getEntities = function getEntities() {\n          return entities;\n        };\n        var addAttributes = function addAttributes(entityName, attribs) {\n          var entity = addEntity(entityName); // May do nothing (if entity has already been added)\n          // Process attribs in reverse order due to effect of recursive construction (last attribute is first)\n\n          var i;\n          for (i = attribs.length - 1; i >= 0; i--) {\n            entity.attributes.push(attribs[i]);\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Added attribute ', attribs[i].attributeName);\n          }\n        };\n        /**\n         * Add a relationship\n         *\n         * @param entA The first entity in the relationship\n         * @param rolA The role played by the first entity in relation to the second\n         * @param entB The second entity in the relationship\n         * @param rSpec The details of the relationship between the two entities\n         */\n\n        var addRelationship = function addRelationship(entA, rolA, entB, rSpec) {\n          var rel = {\n            entityA: entA,\n            roleA: rolA,\n            entityB: entB,\n            relSpec: rSpec\n          };\n          relationships.push(rel);\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Added new relationship :', rel);\n        };\n        var getRelationships = function getRelationships() {\n          return relationships;\n        }; // Keep this - TODO: revisit...allow the diagram to have a title\n\n        var setTitle = function setTitle(txt) {\n          title = txt;\n        };\n        var getTitle = function getTitle() {\n          return title;\n        };\n        var clear = function clear() {\n          entities = {};\n          relationships = [];\n          title = '';\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          Cardinality: Cardinality,\n          Identification: Identification,\n          parseDirective: parseDirective,\n          getConfig: function getConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().er;\n          },\n          addEntity: addEntity,\n          addAttributes: addAttributes,\n          getEntities: getEntities,\n          addRelationship: addRelationship,\n          getRelationships: getRelationships,\n          clear: clear,\n          setTitle: setTitle,\n          getTitle: getTitle\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/er/erMarkers.js\": (\n      /*!**************************************!*\\\n        !*** ./src/diagrams/er/erMarkers.js ***!\n        \\**************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var ERMarkers = {\n          ONLY_ONE_START: 'ONLY_ONE_START',\n          ONLY_ONE_END: 'ONLY_ONE_END',\n          ZERO_OR_ONE_START: 'ZERO_OR_ONE_START',\n          ZERO_OR_ONE_END: 'ZERO_OR_ONE_END',\n          ONE_OR_MORE_START: 'ONE_OR_MORE_START',\n          ONE_OR_MORE_END: 'ONE_OR_MORE_END',\n          ZERO_OR_MORE_START: 'ZERO_OR_MORE_START',\n          ZERO_OR_MORE_END: 'ZERO_OR_MORE_END'\n        };\n        /**\n         * Put the markers into the svg DOM for later use with edge paths\n         *\n         * @param elem\n         * @param conf\n         */\n\n        var insertMarkers = function insertMarkers(elem, conf) {\n          var marker;\n          elem.append('defs').append('marker').attr('id', ERMarkers.ONLY_ONE_START).attr('refX', 0).attr('refY', 9).attr('markerWidth', 18).attr('markerHeight', 18).attr('orient', 'auto').append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M9,0 L9,18 M15,0 L15,18');\n          elem.append('defs').append('marker').attr('id', ERMarkers.ONLY_ONE_END).attr('refX', 18).attr('refY', 9).attr('markerWidth', 18).attr('markerHeight', 18).attr('orient', 'auto').append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M3,0 L3,18 M9,0 L9,18');\n          marker = elem.append('defs').append('marker').attr('id', ERMarkers.ZERO_OR_ONE_START).attr('refX', 0).attr('refY', 9).attr('markerWidth', 30).attr('markerHeight', 18).attr('orient', 'auto');\n          marker.append('circle').attr('stroke', conf.stroke).attr('fill', 'white').attr('cx', 21).attr('cy', 9).attr('r', 6);\n          marker.append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M9,0 L9,18');\n          marker = elem.append('defs').append('marker').attr('id', ERMarkers.ZERO_OR_ONE_END).attr('refX', 30).attr('refY', 9).attr('markerWidth', 30).attr('markerHeight', 18).attr('orient', 'auto');\n          marker.append('circle').attr('stroke', conf.stroke).attr('fill', 'white').attr('cx', 9).attr('cy', 9).attr('r', 6);\n          marker.append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M21,0 L21,18');\n          elem.append('defs').append('marker').attr('id', ERMarkers.ONE_OR_MORE_START).attr('refX', 18).attr('refY', 18).attr('markerWidth', 45).attr('markerHeight', 36).attr('orient', 'auto').append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27');\n          elem.append('defs').append('marker').attr('id', ERMarkers.ONE_OR_MORE_END).attr('refX', 27).attr('refY', 18).attr('markerWidth', 45).attr('markerHeight', 36).attr('orient', 'auto').append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18');\n          marker = elem.append('defs').append('marker').attr('id', ERMarkers.ZERO_OR_MORE_START).attr('refX', 18).attr('refY', 18).attr('markerWidth', 57).attr('markerHeight', 36).attr('orient', 'auto');\n          marker.append('circle').attr('stroke', conf.stroke).attr('fill', 'white').attr('cx', 48).attr('cy', 18).attr('r', 6);\n          marker.append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M0,18 Q18,0 36,18 Q18,36 0,18');\n          marker = elem.append('defs').append('marker').attr('id', ERMarkers.ZERO_OR_MORE_END).attr('refX', 39).attr('refY', 18).attr('markerWidth', 57).attr('markerHeight', 36).attr('orient', 'auto');\n          marker.append('circle').attr('stroke', conf.stroke).attr('fill', 'white').attr('cx', 9).attr('cy', 18).attr('r', 6);\n          marker.append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M21,18 Q39,0 57,18 Q39,36 21,18');\n          return;\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          ERMarkers: ERMarkers,\n          insertMarkers: insertMarkers\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/er/erRenderer.js\": (\n      /*!***************************************!*\\\n        !*** ./src/diagrams/er/erRenderer.js ***!\n        \\***************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _erDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./erDb */\"./src/diagrams/er/erDb.js\");\n        /* harmony import */\n        var _parser_erDiagram__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parser/erDiagram */\"./src/diagrams/er/parser/erDiagram.jison\");\n        /* harmony import */\n        var _parser_erDiagram__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_parser_erDiagram__WEBPACK_IMPORTED_MODULE_7__);\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dagre */\"dagre\");\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dagre__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _erMarkers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./erMarkers */\"./src/diagrams/er/erMarkers.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        var conf = {};\n        /**\n         * Allows the top-level API module to inject config specific to this renderer, storing it in the\n         * local conf object. Note that generic config still needs to be retrieved using getConfig()\n         * imported from the config module\n         *\n         * @param cnf\n         */\n\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          for (var i = 0; i < keys.length; i++) {\n            conf[keys[i]] = cnf[keys[i]];\n          }\n        };\n        /**\n         * Draw attributes for an entity\n         *\n         * @param groupNode The svg group node for the entity\n         * @param entityTextNode The svg node for the entity label text\n         * @param attributes An array of attributes defined for the entity (each attribute has a type and a name)\n         * @returns The bounding box of the entity, after attributes have been added\n         */\n\n        var drawAttributes = function drawAttributes(groupNode, entityTextNode, attributes) {\n          var heightPadding = conf.entityPadding / 3; // Padding internal to attribute boxes\n\n          var widthPadding = conf.entityPadding / 3; // Ditto\n\n          var attrFontSize = conf.fontSize * 0.85;\n          var labelBBox = entityTextNode.node().getBBox();\n          var attributeNodes = []; // Intermediate storage for attribute nodes created so that we can do a second pass\n\n          var hasKeyType = false;\n          var hasComment = false;\n          var maxTypeWidth = 0;\n          var maxNameWidth = 0;\n          var maxKeyWidth = 0;\n          var maxCommentWidth = 0;\n          var cumulativeHeight = labelBBox.height + heightPadding * 2;\n          var attrNum = 1; // Check to see if any of the attributes has a key or a comment\n\n          attributes.forEach(function (item) {\n            if (item.attributeKeyType !== undefined) {\n              hasKeyType = true;\n            }\n            if (item.attributeComment !== undefined) {\n              hasComment = true;\n            }\n          });\n          attributes.forEach(function (item) {\n            var attrPrefix = \"\".concat(entityTextNode.node().id, \"-attr-\").concat(attrNum);\n            var nodeHeight = 0; // Add a text node for the attribute type\n\n            var typeNode = groupNode.append('text').attr('class', 'er entityLabel').attr('id', \"\".concat(attrPrefix, \"-type\")).attr('x', 0).attr('y', 0).attr('dominant-baseline', 'middle').attr('text-anchor', 'left').attr('style', 'font-family: ' + (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily + '; font-size: ' + attrFontSize + 'px').text(item.attributeType); // Add a text node for the attribute name\n\n            var nameNode = groupNode.append('text').attr('class', 'er entityLabel').attr('id', \"\".concat(attrPrefix, \"-name\")).attr('x', 0).attr('y', 0).attr('dominant-baseline', 'middle').attr('text-anchor', 'left').attr('style', 'font-family: ' + (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily + '; font-size: ' + attrFontSize + 'px').text(item.attributeName);\n            var attributeNode = {};\n            attributeNode.tn = typeNode;\n            attributeNode.nn = nameNode;\n            var typeBBox = typeNode.node().getBBox();\n            var nameBBox = nameNode.node().getBBox();\n            maxTypeWidth = Math.max(maxTypeWidth, typeBBox.width);\n            maxNameWidth = Math.max(maxNameWidth, nameBBox.width);\n            nodeHeight = Math.max(typeBBox.height, nameBBox.height);\n            if (hasKeyType) {\n              var keyTypeNode = groupNode.append('text').attr('class', 'er entityLabel').attr('id', \"\".concat(attrPrefix, \"-key\")).attr('x', 0).attr('y', 0).attr('dominant-baseline', 'middle').attr('text-anchor', 'left').attr('style', 'font-family: ' + (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily + '; font-size: ' + attrFontSize + 'px').text(item.attributeKeyType || '');\n              attributeNode.kn = keyTypeNode;\n              var keyTypeBBox = keyTypeNode.node().getBBox();\n              maxKeyWidth = Math.max(maxKeyWidth, keyTypeBBox.width);\n              nodeHeight = Math.max(nodeHeight, keyTypeBBox.height);\n            }\n            if (hasComment) {\n              var commentNode = groupNode.append('text').attr('class', 'er entityLabel').attr('id', \"\".concat(attrPrefix, \"-comment\")).attr('x', 0).attr('y', 0).attr('dominant-baseline', 'middle').attr('text-anchor', 'left').attr('style', 'font-family: ' + (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily + '; font-size: ' + attrFontSize + 'px').text(item.attributeComment || '');\n              attributeNode.cn = commentNode;\n              var commentNodeBBox = commentNode.node().getBBox();\n              maxCommentWidth = Math.max(maxCommentWidth, commentNodeBBox.width);\n              nodeHeight = Math.max(nodeHeight, commentNodeBBox.height);\n            }\n            attributeNode.height = nodeHeight; // Keep a reference to the nodes so that we can iterate through them later\n\n            attributeNodes.push(attributeNode);\n            cumulativeHeight += nodeHeight + heightPadding * 2;\n            attrNum += 1;\n          });\n          var widthPaddingFactor = 4;\n          if (hasKeyType) {\n            widthPaddingFactor += 2;\n          }\n          if (hasComment) {\n            widthPaddingFactor += 2;\n          }\n          var maxWidth = maxTypeWidth + maxNameWidth + maxKeyWidth + maxCommentWidth; // Calculate the new bounding box of the overall entity, now that attributes have been added\n\n          var bBox = {\n            width: Math.max(conf.minEntityWidth, Math.max(labelBBox.width + conf.entityPadding * 2, maxWidth + widthPadding * widthPaddingFactor)),\n            height: attributes.length > 0 ? cumulativeHeight : Math.max(conf.minEntityHeight, labelBBox.height + conf.entityPadding * 2)\n          };\n          if (attributes.length > 0) {\n            // There might be some spare width for padding out attributes if the entity name is very long\n            var spareColumnWidth = Math.max(0, (bBox.width - maxWidth - widthPadding * widthPaddingFactor) / (widthPaddingFactor / 2)); // Position the entity label near the top of the entity bounding box\n\n            entityTextNode.attr('transform', 'translate(' + bBox.width / 2 + ',' + (heightPadding + labelBBox.height / 2) + ')'); // Add rectangular boxes for the attribute types/names\n\n            var heightOffset = labelBBox.height + heightPadding * 2; // Start at the bottom of the entity label\n\n            var attribStyle = 'attributeBoxOdd'; // We will flip the style on alternate rows to achieve a banded effect\n\n            attributeNodes.forEach(function (attributeNode) {\n              // Calculate the alignment y co-ordinate for the type/name of the attribute\n              var alignY = heightOffset + heightPadding + attributeNode.height / 2; // Position the type attribute\n\n              attributeNode.tn.attr('transform', 'translate(' + widthPadding + ',' + alignY + ')'); // TODO Handle spareWidth in attr('width')\n              // Insert a rectangle for the type\n\n              var typeRect = groupNode.insert('rect', '#' + attributeNode.tn.node().id).attr('class', \"er \".concat(attribStyle)).attr('fill', conf.fill).attr('fill-opacity', '100%').attr('stroke', conf.stroke).attr('x', 0).attr('y', heightOffset).attr('width', maxTypeWidth + widthPadding * 2 + spareColumnWidth).attr('height', attributeNode.height + heightPadding * 2);\n              var nameXOffset = parseFloat(typeRect.attr('x')) + parseFloat(typeRect.attr('width')); // Position the name attribute\n\n              attributeNode.nn.attr('transform', 'translate(' + (nameXOffset + widthPadding) + ',' + alignY + ')'); // Insert a rectangle for the name\n\n              var nameRect = groupNode.insert('rect', '#' + attributeNode.nn.node().id).attr('class', \"er \".concat(attribStyle)).attr('fill', conf.fill).attr('fill-opacity', '100%').attr('stroke', conf.stroke).attr('x', nameXOffset).attr('y', heightOffset).attr('width', maxNameWidth + widthPadding * 2 + spareColumnWidth).attr('height', attributeNode.height + heightPadding * 2);\n              var keyTypeAndCommentXOffset = parseFloat(nameRect.attr('x')) + parseFloat(nameRect.attr('width'));\n              if (hasKeyType) {\n                // Position the key type attribute\n                attributeNode.kn.attr('transform', 'translate(' + (keyTypeAndCommentXOffset + widthPadding) + ',' + alignY + ')'); // Insert a rectangle for the key type\n\n                var keyTypeRect = groupNode.insert('rect', '#' + attributeNode.kn.node().id).attr('class', \"er \".concat(attribStyle)).attr('fill', conf.fill).attr('fill-opacity', '100%').attr('stroke', conf.stroke).attr('x', keyTypeAndCommentXOffset).attr('y', heightOffset).attr('width', maxKeyWidth + widthPadding * 2 + spareColumnWidth).attr('height', attributeNode.height + heightPadding * 2);\n                keyTypeAndCommentXOffset = parseFloat(keyTypeRect.attr('x')) + parseFloat(keyTypeRect.attr('width'));\n              }\n              if (hasComment) {\n                // Position the comment attribute\n                attributeNode.cn.attr('transform', 'translate(' + (keyTypeAndCommentXOffset + widthPadding) + ',' + alignY + ')'); // Insert a rectangle for the comment\n\n                groupNode.insert('rect', '#' + attributeNode.cn.node().id).attr('class', \"er \".concat(attribStyle)).attr('fill', conf.fill).attr('fill-opacity', '100%').attr('stroke', conf.stroke).attr('x', keyTypeAndCommentXOffset).attr('y', heightOffset).attr('width', maxCommentWidth + widthPadding * 2 + spareColumnWidth).attr('height', attributeNode.height + heightPadding * 2);\n              } // Increment the height offset to move to the next row\n\n              heightOffset += attributeNode.height + heightPadding * 2; // Flip the attribute style for row banding\n\n              attribStyle = attribStyle == 'attributeBoxOdd' ? 'attributeBoxEven' : 'attributeBoxOdd';\n            });\n          } else {\n            // Ensure the entity box is a decent size without any attributes\n            bBox.height = Math.max(conf.minEntityHeight, cumulativeHeight); // Position the entity label in the middle of the box\n\n            entityTextNode.attr('transform', 'translate(' + bBox.width / 2 + ',' + bBox.height / 2 + ')');\n          }\n          return bBox;\n        };\n        /**\n         * Use D3 to construct the svg elements for the entities\n         *\n         * @param svgNode The svg node that contains the diagram\n         * @param entities The entities to be drawn\n         * @param graph The graph that contains the vertex and edge definitions post-layout\n         * @returns The first entity that was inserted\n         */\n\n        var drawEntities = function drawEntities(svgNode, entities, graph) {\n          var keys = Object.keys(entities);\n          var firstOne;\n          keys.forEach(function (id) {\n            // Create a group for each entity\n            var groupNode = svgNode.append('g').attr('id', id);\n            firstOne = firstOne === undefined ? id : firstOne; // Label the entity - this is done first so that we can get the bounding box\n            // which then determines the size of the rectangle\n\n            var textId = 'entity-' + id;\n            var textNode = groupNode.append('text').attr('class', 'er entityLabel').attr('id', textId).attr('x', 0).attr('y', 0).attr('dominant-baseline', 'middle').attr('text-anchor', 'middle').attr('style', 'font-family: ' + (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily + '; font-size: ' + conf.fontSize + 'px').text(id);\n            var _drawAttributes = drawAttributes(groupNode, textNode, entities[id].attributes),\n              entityWidth = _drawAttributes.width,\n              entityHeight = _drawAttributes.height; // Draw the rectangle - insert it before the text so that the text is not obscured\n\n            var rectNode = groupNode.insert('rect', '#' + textId).attr('class', 'er entityBox').attr('fill', conf.fill).attr('fill-opacity', '100%').attr('stroke', conf.stroke).attr('x', 0).attr('y', 0).attr('width', entityWidth).attr('height', entityHeight);\n            var rectBBox = rectNode.node().getBBox(); // Add the entity to the graph\n\n            graph.setNode(id, {\n              width: rectBBox.width,\n              height: rectBBox.height,\n              shape: 'rect',\n              id: id\n            });\n          });\n          return firstOne;\n        }; // drawEntities\n\n        var adjustEntities = function adjustEntities(svgNode, graph) {\n          graph.nodes().forEach(function (v) {\n            if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\n              svgNode.select('#' + v).attr('transform', 'translate(' + (graph.node(v).x - graph.node(v).width / 2) + ',' + (graph.node(v).y - graph.node(v).height / 2) + ' )');\n            }\n          });\n          return;\n        };\n        var getEdgeName = function getEdgeName(rel) {\n          return (rel.entityA + rel.roleA + rel.entityB).replace(/\\s/g, '');\n        };\n        /**\n         * Add each relationship to the graph\n         *\n         * @param relationships The relationships to be added\n         * @param g The graph\n         * @returns {Array} The array of relationships\n         */\n\n        var addRelationships = function addRelationships(relationships, g) {\n          relationships.forEach(function (r) {\n            g.setEdge(r.entityA, r.entityB, {\n              relationship: r\n            }, getEdgeName(r));\n          });\n          return relationships;\n        }; // addRelationships\n\n        var relCnt = 0;\n        /**\n         * Draw a relationship using edge information from the graph\n         *\n         * @param svg The svg node\n         * @param rel The relationship to draw in the svg\n         * @param g The graph containing the edge information\n         * @param insert The insertion point in the svg DOM (because relationships have markers that need to\n         *   sit 'behind' opaque entity boxes)\n         */\n\n        var drawRelationshipFromLayout = function drawRelationshipFromLayout(svg, rel, g, insert) {\n          relCnt++; // Find the edge relating to this relationship\n\n          var edge = g.edge(rel.entityA, rel.entityB, getEdgeName(rel)); // Get a function that will generate the line path\n\n          var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_1__.line)().x(function (d) {\n            return d.x;\n          }).y(function (d) {\n            return d.y;\n          }).curve(d3__WEBPACK_IMPORTED_MODULE_1__.curveBasis); // Insert the line at the right place\n\n          var svgPath = svg.insert('path', '#' + insert).attr('class', 'er relationshipLine').attr('d', lineFunction(edge.points)).attr('stroke', conf.stroke).attr('fill', 'none'); // ...and with dashes if necessary\n\n          if (rel.relSpec.relType === _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Identification.NON_IDENTIFYING) {\n            svgPath.attr('stroke-dasharray', '8,8');\n          } // TODO: Understand this better\n\n          var url = '';\n          if (conf.arrowMarkerAbsolute) {\n            url = window.location.protocol + '//' + window.location.host + window.location.pathname + window.location.search;\n            url = url.replace(/\\(/g, '\\\\(');\n            url = url.replace(/\\)/g, '\\\\)');\n          } // Decide which start and end markers it needs. It may be possible to be more concise here\n          // by reversing a start marker to make an end marker...but this will do for now\n          // Note that the 'A' entity's marker is at the end of the relationship and the 'B' entity's marker is at the start\n\n          switch (rel.relSpec.cardA) {\n            case _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Cardinality.ZERO_OR_ONE:\n              svgPath.attr('marker-end', 'url(' + url + '#' + _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ERMarkers.ZERO_OR_ONE_END + ')');\n              break;\n            case _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Cardinality.ZERO_OR_MORE:\n              svgPath.attr('marker-end', 'url(' + url + '#' + _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ERMarkers.ZERO_OR_MORE_END + ')');\n              break;\n            case _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Cardinality.ONE_OR_MORE:\n              svgPath.attr('marker-end', 'url(' + url + '#' + _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ERMarkers.ONE_OR_MORE_END + ')');\n              break;\n            case _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Cardinality.ONLY_ONE:\n              svgPath.attr('marker-end', 'url(' + url + '#' + _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ERMarkers.ONLY_ONE_END + ')');\n              break;\n          }\n          switch (rel.relSpec.cardB) {\n            case _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Cardinality.ZERO_OR_ONE:\n              svgPath.attr('marker-start', 'url(' + url + '#' + _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ERMarkers.ZERO_OR_ONE_START + ')');\n              break;\n            case _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Cardinality.ZERO_OR_MORE:\n              svgPath.attr('marker-start', 'url(' + url + '#' + _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ERMarkers.ZERO_OR_MORE_START + ')');\n              break;\n            case _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Cardinality.ONE_OR_MORE:\n              svgPath.attr('marker-start', 'url(' + url + '#' + _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ERMarkers.ONE_OR_MORE_START + ')');\n              break;\n            case _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Cardinality.ONLY_ONE:\n              svgPath.attr('marker-start', 'url(' + url + '#' + _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ERMarkers.ONLY_ONE_START + ')');\n              break;\n          } // Now label the relationship\n          // Find the half-way point\n\n          var len = svgPath.node().getTotalLength();\n          var labelPoint = svgPath.node().getPointAtLength(len * 0.5); // Append a text node containing the label\n\n          var labelId = 'rel' + relCnt;\n          var labelNode = svg.append('text').attr('class', 'er relationshipLabel').attr('id', labelId).attr('x', labelPoint.x).attr('y', labelPoint.y).attr('text-anchor', 'middle').attr('dominant-baseline', 'middle').attr('style', 'font-family: ' + (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily + '; font-size: ' + conf.fontSize + 'px').text(rel.roleA); // Figure out how big the opaque 'container' rectangle needs to be\n\n          var labelBBox = labelNode.node().getBBox(); // Insert the opaque rectangle before the text label\n\n          svg.insert('rect', '#' + labelId).attr('class', 'er relationshipLabelBox').attr('x', labelPoint.x - labelBBox.width / 2).attr('y', labelPoint.y - labelBBox.height / 2).attr('width', labelBBox.width).attr('height', labelBBox.height).attr('fill', 'white').attr('fill-opacity', '85%');\n          return;\n        };\n        /**\n         * Draw en E-R diagram in the tag with id: id based on the text definition of the diagram\n         *\n         * @param text The text of the diagram\n         * @param id The unique id of the DOM node that contains the diagram\n         */\n\n        var draw = function draw(text, id) {\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.info('Drawing ER diagram');\n          _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].clear();\n          var parser = _parser_erDiagram__WEBPACK_IMPORTED_MODULE_7___default().parser;\n          parser.yy = _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document; // Parse the text to populate erDb\n\n          try {\n            parser.parse(text);\n          } catch (err) {\n            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('Parsing failed');\n          } // Get a reference to the svg node that contains the text\n\n          var svg = root.select(\"[id='\".concat(id, \"']\")); // Add cardinality marker definitions to the svg\n\n          _erMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].insertMarkers(svg, conf); // Now we have to construct the diagram in a specific way:\n          // ---\n          // 1. Create all the entities in the svg node at 0,0, but with the correct dimensions (allowing for text content)\n          // 2. Make sure they are all added to the graph\n          // 3. Add all the edges (relationships) to the graph aswell\n          // 4. Let dagre do its magic to layout the graph.  This assigns:\n          //    - the centre co-ordinates for each node, bearing in mind the dimensions and edge relationships\n          //    - the path co-ordinates for each edge\n          //    But it has no impact on the svg child nodes - the diagram remains with every entity rooted at 0,0\n          // 5. Now assign a transform to each entity in the svg node so that it gets drawn in the correct place, as determined by\n          //    its centre point, which is obtained from the graph, and it's width and height\n          // 6. And finally, create all the edges in the svg node using information from the graph\n          // ---\n          // Create the graph\n\n          var g; // TODO: Explore directed vs undirected graphs, and how the layout is affected\n          // An E-R diagram could be said to be undirected, but there is merit in setting\n          // the direction from parent to child in a one-to-many as this influences graphlib to\n          // put the parent above the child (does it?), which is intuitive.  Most relationships\n          // in ER diagrams are one-to-many.\n\n          g = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({\n            multigraph: true,\n            directed: true,\n            compound: false\n          }).setGraph({\n            rankdir: conf.layoutDirection,\n            marginx: 20,\n            marginy: 20,\n            nodesep: 100,\n            edgesep: 100,\n            ranksep: 100\n          }).setDefaultEdgeLabel(function () {\n            return {};\n          }); // Draw the entities (at 0,0), returning the first svg node that got\n          // inserted - this represents the insertion point for relationship paths\n\n          var firstEntity = drawEntities(svg, _erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getEntities(), g); // TODO: externalise the addition of entities to the graph - it's a bit 'buried' in the above\n          // Add all the relationships to the graph\n\n          var relationships = addRelationships(_erDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getRelationships(), g);\n          dagre__WEBPACK_IMPORTED_MODULE_2___default().layout(g); // Node and edge positions will be updated\n          // Adjust the positions of the entities so that they adhere to the layout\n\n          adjustEntities(svg, g); // Draw the relationships\n\n          relationships.forEach(function (rel) {\n            drawRelationshipFromLayout(svg, rel, g, firstEntity);\n          });\n          var padding = conf.diagramPadding;\n          var svgBounds = svg.node().getBBox();\n          var width = svgBounds.width + padding * 2;\n          var height = svgBounds.height + padding * 2;\n          (0, _utils__WEBPACK_IMPORTED_MODULE_8__.configureSvgSize)(svg, height, width, conf.useMaxWidth);\n          svg.attr('viewBox', \"\".concat(svgBounds.x - padding, \" \").concat(svgBounds.y - padding, \" \").concat(width, \" \").concat(height));\n        }; // draw\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/er/styles.js\": (\n      /*!***********************************!*\\\n        !*** ./src/diagrams/er/styles.js ***!\n        \\***********************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles(options) {\n          return \"\\n  .entityBox {\\n    fill: \".concat(options.mainBkg, \";\\n    stroke: \").concat(options.nodeBorder, \";\\n  }\\n\\n  .attributeBoxOdd {\\n    fill: #ffffff;\\n    stroke: \").concat(options.nodeBorder, \";\\n  }\\n\\n  .attributeBoxEven {\\n    fill: #f2f2f2;\\n    stroke: \").concat(options.nodeBorder, \";\\n  }\\n\\n  .relationshipLabelBox {\\n    fill: \").concat(options.tertiaryColor, \";\\n    opacity: 0.7;\\n    background-color: \").concat(options.tertiaryColor, \";\\n      rect {\\n        opacity: 0.5;\\n      }\\n  }\\n\\n    .relationshipLine {\\n      stroke: \").concat(options.lineColor, \";\\n    }\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/flowchart/flowChartShapes.js\": (\n      /*!***************************************************!*\\\n        !*** ./src/diagrams/flowchart/flowChartShapes.js ***!\n        \\***************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"addToRender\": () => (/* binding */addToRender),\n          /* harmony export */\"addToRenderV2\": () => (/* binding */addToRenderV2),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var dagre_d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dagre-d3 */\"dagre-d3\");\n        /* harmony import */\n        var dagre_d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dagre_d3__WEBPACK_IMPORTED_MODULE_0__);\n\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function question(parent, bbox, node) {\n          var w = bbox.width;\n          var h = bbox.height;\n          var s = (w + h) * 0.9;\n          var points = [{\n            x: s / 2,\n            y: 0\n          }, {\n            x: s,\n            y: -s / 2\n          }, {\n            x: s / 2,\n            y: -s\n          }, {\n            x: 0,\n            y: -s / 2\n          }];\n          var shapeSvg = insertPolygonShape(parent, s, s, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function hexagon(parent, bbox, node) {\n          var f = 4;\n          var h = bbox.height;\n          var m = h / f;\n          var w = bbox.width + 2 * m;\n          var points = [{\n            x: m,\n            y: 0\n          }, {\n            x: w - m,\n            y: 0\n          }, {\n            x: w,\n            y: -h / 2\n          }, {\n            x: w - m,\n            y: -h\n          }, {\n            x: m,\n            y: -h\n          }, {\n            x: 0,\n            y: -h / 2\n          }];\n          var shapeSvg = insertPolygonShape(parent, w, h, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function rect_left_inv_arrow(parent, bbox, node) {\n          var w = bbox.width;\n          var h = bbox.height;\n          var points = [{\n            x: -h / 2,\n            y: 0\n          }, {\n            x: w,\n            y: 0\n          }, {\n            x: w,\n            y: -h\n          }, {\n            x: -h / 2,\n            y: -h\n          }, {\n            x: 0,\n            y: -h / 2\n          }];\n          var shapeSvg = insertPolygonShape(parent, w, h, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function lean_right(parent, bbox, node) {\n          var w = bbox.width;\n          var h = bbox.height;\n          var points = [{\n            x: -2 * h / 6,\n            y: 0\n          }, {\n            x: w - h / 6,\n            y: 0\n          }, {\n            x: w + 2 * h / 6,\n            y: -h\n          }, {\n            x: h / 6,\n            y: -h\n          }];\n          var shapeSvg = insertPolygonShape(parent, w, h, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function lean_left(parent, bbox, node) {\n          var w = bbox.width;\n          var h = bbox.height;\n          var points = [{\n            x: 2 * h / 6,\n            y: 0\n          }, {\n            x: w + h / 6,\n            y: 0\n          }, {\n            x: w - 2 * h / 6,\n            y: -h\n          }, {\n            x: -h / 6,\n            y: -h\n          }];\n          var shapeSvg = insertPolygonShape(parent, w, h, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function trapezoid(parent, bbox, node) {\n          var w = bbox.width;\n          var h = bbox.height;\n          var points = [{\n            x: -2 * h / 6,\n            y: 0\n          }, {\n            x: w + 2 * h / 6,\n            y: 0\n          }, {\n            x: w - h / 6,\n            y: -h\n          }, {\n            x: h / 6,\n            y: -h\n          }];\n          var shapeSvg = insertPolygonShape(parent, w, h, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function inv_trapezoid(parent, bbox, node) {\n          var w = bbox.width;\n          var h = bbox.height;\n          var points = [{\n            x: h / 6,\n            y: 0\n          }, {\n            x: w - h / 6,\n            y: 0\n          }, {\n            x: w + 2 * h / 6,\n            y: -h\n          }, {\n            x: -2 * h / 6,\n            y: -h\n          }];\n          var shapeSvg = insertPolygonShape(parent, w, h, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function rect_right_inv_arrow(parent, bbox, node) {\n          var w = bbox.width;\n          var h = bbox.height;\n          var points = [{\n            x: 0,\n            y: 0\n          }, {\n            x: w + h / 2,\n            y: 0\n          }, {\n            x: w,\n            y: -h / 2\n          }, {\n            x: w + h / 2,\n            y: -h\n          }, {\n            x: 0,\n            y: -h\n          }];\n          var shapeSvg = insertPolygonShape(parent, w, h, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function stadium(parent, bbox, node) {\n          var h = bbox.height;\n          var w = bbox.width + h / 4;\n          var shapeSvg = parent.insert('rect', ':first-child').attr('rx', h / 2).attr('ry', h / 2).attr('x', -w / 2).attr('y', -h / 2).attr('width', w).attr('height', h);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.rect(node, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function subroutine(parent, bbox, node) {\n          var w = bbox.width;\n          var h = bbox.height;\n          var points = [{\n            x: 0,\n            y: 0\n          }, {\n            x: w,\n            y: 0\n          }, {\n            x: w,\n            y: -h\n          }, {\n            x: 0,\n            y: -h\n          }, {\n            x: 0,\n            y: 0\n          }, {\n            x: -8,\n            y: 0\n          }, {\n            x: w + 8,\n            y: 0\n          }, {\n            x: w + 8,\n            y: -h\n          }, {\n            x: -8,\n            y: -h\n          }, {\n            x: -8,\n            y: 0\n          }];\n          var shapeSvg = insertPolygonShape(parent, w, h, points);\n          node.intersect = function (point) {\n            return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point);\n          };\n          return shapeSvg;\n        }\n        /**\n         * @param parent\n         * @param bbox\n         * @param node\n         */\n\n        function cylinder(parent, bbox, node) {\n          var w = bbox.width;\n          var rx = w / 2;\n          var ry = rx / (2.5 + w / 50);\n          var h = bbox.height + ry;\n          var shape = 'M 0,' + ry + ' a ' + rx + ',' + ry + ' 0,0,0 ' + w + ' 0 a ' + rx + ',' + ry + ' 0,0,0 ' + -w + ' 0 l 0,' + h + ' a ' + rx + ',' + ry + ' 0,0,0 ' + w + ' 0 l 0,' + -h;\n          var shapeSvg = parent.attr('label-offset-y', ry).insert('path', ':first-child').attr('d', shape).attr('transform', 'translate(' + -w / 2 + ',' + -(h / 2 + ry) + ')');\n          node.intersect = function (point) {\n            var pos = dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.rect(node, point);\n            var x = pos.x - node.x;\n            if (rx != 0 && (Math.abs(x) < node.width / 2 || Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry)) {\n              // ellipsis equation: x*x / a*a + y*y / b*b = 1\n              // solve for y to get adjustion value for pos.y\n              var y = ry * ry * (1 - x * x / (rx * rx));\n              if (y != 0) y = Math.sqrt(y);\n              y = ry - y;\n              if (point.y - node.y > 0) y = -y;\n              pos.y += y;\n            }\n            return pos;\n          };\n          return shapeSvg;\n        }\n        /** @param render */\n\n        function addToRender(render) {\n          render.shapes().question = question;\n          render.shapes().hexagon = hexagon;\n          render.shapes().stadium = stadium;\n          render.shapes().subroutine = subroutine;\n          render.shapes().cylinder = cylinder; // Add custom shape for box with inverted arrow on left side\n\n          render.shapes().rect_left_inv_arrow = rect_left_inv_arrow; // Add custom shape for box with inverted arrow on left side\n\n          render.shapes().lean_right = lean_right; // Add custom shape for box with inverted arrow on left side\n\n          render.shapes().lean_left = lean_left; // Add custom shape for box with inverted arrow on left side\n\n          render.shapes().trapezoid = trapezoid; // Add custom shape for box with inverted arrow on left side\n\n          render.shapes().inv_trapezoid = inv_trapezoid; // Add custom shape for box with inverted arrow on right side\n\n          render.shapes().rect_right_inv_arrow = rect_right_inv_arrow;\n        }\n        /** @param addShape */\n\n        function addToRenderV2(addShape) {\n          addShape({\n            question: question\n          });\n          addShape({\n            hexagon: hexagon\n          });\n          addShape({\n            stadium: stadium\n          });\n          addShape({\n            subroutine: subroutine\n          });\n          addShape({\n            cylinder: cylinder\n          }); // Add custom shape for box with inverted arrow on left side\n\n          addShape({\n            rect_left_inv_arrow: rect_left_inv_arrow\n          }); // Add custom shape for box with inverted arrow on left side\n\n          addShape({\n            lean_right: lean_right\n          }); // Add custom shape for box with inverted arrow on left side\n\n          addShape({\n            lean_left: lean_left\n          }); // Add custom shape for box with inverted arrow on left side\n\n          addShape({\n            trapezoid: trapezoid\n          }); // Add custom shape for box with inverted arrow on left side\n\n          addShape({\n            inv_trapezoid: inv_trapezoid\n          }); // Add custom shape for box with inverted arrow on right side\n\n          addShape({\n            rect_right_inv_arrow: rect_right_inv_arrow\n          });\n        }\n        /**\n         * @param parent\n         * @param w\n         * @param h\n         * @param points\n         */\n\n        function insertPolygonShape(parent, w, h, points) {\n          return parent.insert('polygon', ':first-child').attr('points', points.map(function (d) {\n            return d.x + ',' + d.y;\n          }).join(' ')).attr('transform', 'translate(' + -w / 2 + ',' + h / 2 + ')');\n        }\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          addToRender: addToRender,\n          addToRenderV2: addToRenderV2\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/flowchart/flowDb.js\": (\n      /*!******************************************!*\\\n        !*** ./src/diagrams/flowchart/flowDb.js ***!\n        \\******************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"lookUpDomId\": () => (/* binding */lookUpDomId),\n          /* harmony export */\"addVertex\": () => (/* binding */addVertex),\n          /* harmony export */\"addSingleLink\": () => (/* binding */addSingleLink),\n          /* harmony export */\"addLink\": () => (/* binding */addLink),\n          /* harmony export */\"updateLinkInterpolate\": () => (/* binding */updateLinkInterpolate),\n          /* harmony export */\"updateLink\": () => (/* binding */updateLink),\n          /* harmony export */\"addClass\": () => (/* binding */addClass),\n          /* harmony export */\"setDirection\": () => (/* binding */setDirection),\n          /* harmony export */\"setClass\": () => (/* binding */setClass),\n          /* harmony export */\"setLink\": () => (/* binding */setLink),\n          /* harmony export */\"getTooltip\": () => (/* binding */getTooltip),\n          /* harmony export */\"setClickEvent\": () => (/* binding */setClickEvent),\n          /* harmony export */\"bindFunctions\": () => (/* binding */bindFunctions),\n          /* harmony export */\"getDirection\": () => (/* binding */getDirection),\n          /* harmony export */\"getVertices\": () => (/* binding */getVertices),\n          /* harmony export */\"getEdges\": () => (/* binding */getEdges),\n          /* harmony export */\"getClasses\": () => (/* binding */getClasses),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"setGen\": () => (/* binding */setGen),\n          /* harmony export */\"defaultStyle\": () => (/* binding */defaultStyle),\n          /* harmony export */\"addSubGraph\": () => (/* binding */addSubGraph),\n          /* harmony export */\"getDepthFirstPos\": () => (/* binding */getDepthFirstPos),\n          /* harmony export */\"indexNodes\": () => (/* binding */indexNodes),\n          /* harmony export */\"getSubGraphs\": () => (/* binding */getSubGraphs),\n          /* harmony export */\"firstGraph\": () => (/* binding */firstGraph),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n        function _toConsumableArray(arr) {\n          return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n        }\n        function _nonIterableSpread() {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        function _unsupportedIterableToArray(o, minLen) {\n          if (!o) return;\n          if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n          var n = Object.prototype.toString.call(o).slice(8, -1);\n          if (n === \"Object\" && o.constructor) n = o.constructor.name;\n          if (n === \"Map\" || n === \"Set\") return Array.from(o);\n          if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n        }\n        function _iterableToArray(iter) {\n          if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n        }\n        function _arrayWithoutHoles(arr) {\n          if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n        }\n        function _arrayLikeToArray(arr, len) {\n          if (len == null || len > arr.length) len = arr.length;\n          for (var i = 0, arr2 = new Array(len); i < len; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        }\n        var MERMAID_DOM_ID_PREFIX = 'flowchart-';\n        var vertexCounter = 0;\n        var config = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();\n        var vertices = {};\n        var edges = [];\n        var classes = [];\n        var subGraphs = [];\n        var subGraphLookup = {};\n        var tooltips = {};\n        var subCount = 0;\n        var firstGraphFlag = true;\n        var direction;\n        var version; // As in graph\n        // Functions to be run after graph rendering\n\n        var funs = [];\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        /**\n         * Function to lookup domId from id in the graph definition.\n         *\n         * @param id\n         * @public\n         */\n\n        var lookUpDomId = function lookUpDomId(id) {\n          var veritceKeys = Object.keys(vertices);\n          for (var i = 0; i < veritceKeys.length; i++) {\n            if (vertices[veritceKeys[i]].id === id) {\n              return vertices[veritceKeys[i]].domId;\n            }\n          }\n          return id;\n        };\n        /**\n         * Function called by parser when a node definition has been found\n         *\n         * @param _id\n         * @param text\n         * @param type\n         * @param style\n         * @param classes\n         * @param dir\n         * @param props\n         */\n\n        var addVertex = function addVertex(_id, text, type, style, classes, dir) {\n          var props = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : {};\n          var txt;\n          var id = _id;\n          if (typeof id === 'undefined') {\n            return;\n          }\n          if (id.trim().length === 0) {\n            return;\n          } // if (id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n\n          if (typeof vertices[id] === 'undefined') {\n            vertices[id] = {\n              id: id,\n              domId: MERMAID_DOM_ID_PREFIX + id + '-' + vertexCounter,\n              styles: [],\n              classes: []\n            };\n          }\n          vertexCounter++;\n          if (typeof text !== 'undefined') {\n            config = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();\n            txt = _common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sanitizeText(text.trim(), config); // strip quotes if string starts and ends with a quote\n\n            if (txt[0] === '\"' && txt[txt.length - 1] === '\"') {\n              txt = txt.substring(1, txt.length - 1);\n            }\n            vertices[id].text = txt;\n          } else {\n            if (typeof vertices[id].text === 'undefined') {\n              vertices[id].text = _id;\n            }\n          }\n          if (typeof type !== 'undefined') {\n            vertices[id].type = type;\n          }\n          if (typeof style !== 'undefined') {\n            if (style !== null) {\n              style.forEach(function (s) {\n                vertices[id].styles.push(s);\n              });\n            }\n          }\n          if (typeof classes !== 'undefined') {\n            if (classes !== null) {\n              classes.forEach(function (s) {\n                vertices[id].classes.push(s);\n              });\n            }\n          }\n          if (typeof dir !== 'undefined') {\n            vertices[id].dir = dir;\n          }\n          vertices[id].props = props;\n        };\n        /**\n         * Function called by parser when a link/edge definition has been found\n         *\n         * @param _start\n         * @param _end\n         * @param type\n         * @param linktext\n         */\n\n        var addSingleLink = function addSingleLink(_start, _end, type, linktext) {\n          var start = _start;\n          var end = _end; // if (start[0].match(/\\d/)) start = MERMAID_DOM_ID_PREFIX + start;\n          // if (end[0].match(/\\d/)) end = MERMAID_DOM_ID_PREFIX + end;\n          // log.info('Got edge...', start, end);\n\n          var edge = {\n            start: start,\n            end: end,\n            type: undefined,\n            text: ''\n          };\n          linktext = type.text;\n          if (typeof linktext !== 'undefined') {\n            edge.text = _common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sanitizeText(linktext.trim(), config); // strip quotes if string starts and exnds with a quote\n\n            if (edge.text[0] === '\"' && edge.text[edge.text.length - 1] === '\"') {\n              edge.text = edge.text.substring(1, edge.text.length - 1);\n            }\n          }\n          if (typeof type !== 'undefined') {\n            edge.type = type.type;\n            edge.stroke = type.stroke;\n            edge.length = type.length;\n          }\n          edges.push(edge);\n        };\n        var addLink = function addLink(_start, _end, type, linktext) {\n          var i, j;\n          for (i = 0; i < _start.length; i++) {\n            for (j = 0; j < _end.length; j++) {\n              addSingleLink(_start[i], _end[j], type, linktext);\n            }\n          }\n        };\n        /**\n         * Updates a link's line interpolation algorithm\n         *\n         * @param positions\n         * @param interp\n         */\n\n        var updateLinkInterpolate = function updateLinkInterpolate(positions, interp) {\n          positions.forEach(function (pos) {\n            if (pos === 'default') {\n              edges.defaultInterpolate = interp;\n            } else {\n              edges[pos].interpolate = interp;\n            }\n          });\n        };\n        /**\n         * Updates a link with a style\n         *\n         * @param positions\n         * @param style\n         */\n\n        var updateLink = function updateLink(positions, style) {\n          positions.forEach(function (pos) {\n            if (pos === 'default') {\n              edges.defaultStyle = style;\n            } else {\n              if (_utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isSubstringInArray('fill', style) === -1) {\n                style.push('fill:none');\n              }\n              edges[pos].style = style;\n            }\n          });\n        };\n        var addClass = function addClass(id, style) {\n          if (typeof classes[id] === 'undefined') {\n            classes[id] = {\n              id: id,\n              styles: [],\n              textStyles: []\n            };\n          }\n          if (typeof style !== 'undefined') {\n            if (style !== null) {\n              style.forEach(function (s) {\n                if (s.match('color')) {\n                  var newStyle1 = s.replace('fill', 'bgFill');\n                  var newStyle2 = newStyle1.replace('color', 'fill');\n                  classes[id].textStyles.push(newStyle2);\n                }\n                classes[id].styles.push(s);\n              });\n            }\n          }\n        };\n        /**\n         * Called by parser when a graph definition is found, stores the direction of the chart.\n         *\n         * @param dir\n         */\n\n        var setDirection = function setDirection(dir) {\n          direction = dir;\n          if (direction.match(/.*</)) {\n            direction = 'RL';\n          }\n          if (direction.match(/.*\\^/)) {\n            direction = 'BT';\n          }\n          if (direction.match(/.*>/)) {\n            direction = 'LR';\n          }\n          if (direction.match(/.*v/)) {\n            direction = 'TB';\n          }\n        };\n        /**\n         * Called by parser when a special node is found, e.g. a clickable element.\n         *\n         * @param ids Comma separated list of ids\n         * @param className Class to add\n         */\n\n        var setClass = function setClass(ids, className) {\n          ids.split(',').forEach(function (_id) {\n            // let id = version === 'gen-2' ? lookUpDomId(_id) : _id;\n            var id = _id; // if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n\n            if (typeof vertices[id] !== 'undefined') {\n              vertices[id].classes.push(className);\n            }\n            if (typeof subGraphLookup[id] !== 'undefined') {\n              subGraphLookup[id].classes.push(className);\n            }\n          });\n        };\n        var setTooltip = function setTooltip(ids, tooltip) {\n          ids.split(',').forEach(function (id) {\n            if (typeof tooltip !== 'undefined') {\n              tooltips[version === 'gen-1' ? lookUpDomId(id) : id] = _common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sanitizeText(tooltip, config);\n            }\n          });\n        };\n        var setClickFun = function setClickFun(id, functionName, functionArgs) {\n          var domId = lookUpDomId(id); // if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n\n          if (_config__WEBPACK_IMPORTED_MODULE_1__.getConfig().securityLevel !== 'loose') {\n            return;\n          }\n          if (typeof functionName === 'undefined') {\n            return;\n          }\n          var argList = [];\n          if (typeof functionArgs === 'string') {\n            /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\n            argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\n            for (var i = 0; i < argList.length; i++) {\n              var item = argList[i].trim();\n              /* Removes all double quotes at the start and end of an argument */\n\n              /* This preserves all starting and ending whitespace inside */\n\n              if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\n                item = item.substr(1, item.length - 2);\n              }\n              argList[i] = item;\n            }\n          }\n          /* if no arguments passed into callback, default to passing in id */\n\n          if (argList.length === 0) {\n            argList.push(id);\n          }\n          if (typeof vertices[id] !== 'undefined') {\n            vertices[id].haveCallback = true;\n            funs.push(function () {\n              var elem = document.querySelector(\"[id=\\\"\".concat(domId, \"\\\"]\"));\n              if (elem !== null) {\n                elem.addEventListener('click', function () {\n                  _utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"], [functionName].concat(_toConsumableArray(argList)));\n                }, false);\n              }\n            });\n          }\n        };\n        /**\n         * Called by parser when a link is found. Adds the URL to the vertex data.\n         *\n         * @param ids Comma separated list of ids\n         * @param linkStr URL to create a link for\n         * @param target\n         */\n\n        var setLink = function setLink(ids, linkStr, target) {\n          ids.split(',').forEach(function (id) {\n            if (typeof vertices[id] !== 'undefined') {\n              vertices[id].link = _utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].formatUrl(linkStr, config);\n              vertices[id].linkTarget = target;\n            }\n          });\n          setClass(ids, 'clickable');\n        };\n        var getTooltip = function getTooltip(id) {\n          return tooltips[id];\n        };\n        /**\n         * Called by parser when a click definition is found. Registers an event handler.\n         *\n         * @param ids Comma separated list of ids\n         * @param functionName Function to be called on click\n         * @param functionArgs\n         */\n\n        var setClickEvent = function setClickEvent(ids, functionName, functionArgs) {\n          ids.split(',').forEach(function (id) {\n            setClickFun(id, functionName, functionArgs);\n          });\n          setClass(ids, 'clickable');\n        };\n        var bindFunctions = function bindFunctions(element) {\n          funs.forEach(function (fun) {\n            fun(element);\n          });\n        };\n        var getDirection = function getDirection() {\n          return direction.trim();\n        };\n        /**\n         * Retrieval function for fetching the found nodes after parsing has completed.\n         *\n         * @returns {{} | any | vertices}\n         */\n\n        var getVertices = function getVertices() {\n          return vertices;\n        };\n        /**\n         * Retrieval function for fetching the found links after parsing has completed.\n         *\n         * @returns {{} | any | edges}\n         */\n\n        var getEdges = function getEdges() {\n          return edges;\n        };\n        /**\n         * Retrieval function for fetching the found class definitions after parsing has completed.\n         *\n         * @returns {{} | any | classes}\n         */\n\n        var getClasses = function getClasses() {\n          return classes;\n        };\n        var setupToolTips = function setupToolTips(element) {\n          var tooltipElem = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('.mermaidTooltip');\n          if ((tooltipElem._groups || tooltipElem)[0][0] === null) {\n            tooltipElem = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body').append('div').attr('class', 'mermaidTooltip').style('opacity', 0);\n          }\n          var svg = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(element).select('svg');\n          var nodes = svg.selectAll('g.node');\n          nodes.on('mouseover', function () {\n            var el = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);\n            var title = el.attr('title'); // Dont try to draw a tooltip if no data is provided\n\n            if (title === null) {\n              return;\n            }\n            var rect = this.getBoundingClientRect();\n            tooltipElem.transition().duration(200).style('opacity', '.9');\n            tooltipElem.html(el.attr('title')).style('left', window.scrollX + rect.left + (rect.right - rect.left) / 2 + 'px').style('top', window.scrollY + rect.top - 14 + document.body.scrollTop + 'px');\n            el.classed('hover', true);\n          }).on('mouseout', function () {\n            tooltipElem.transition().duration(500).style('opacity', 0);\n            var el = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);\n            el.classed('hover', false);\n          });\n        };\n        funs.push(setupToolTips);\n        /**\n         * Clears the internal graph db so that a new graph can be parsed.\n         *\n         * @param ver\n         */\n\n        var clear = function clear(ver) {\n          vertices = {};\n          classes = {};\n          edges = [];\n          funs = [];\n          funs.push(setupToolTips);\n          subGraphs = [];\n          subGraphLookup = {};\n          subCount = 0;\n          tooltips = [];\n          firstGraphFlag = true;\n          version = ver || 'gen-1';\n        };\n        var setGen = function setGen(ver) {\n          version = ver || 'gen-1';\n        };\n        /** @returns {string} */\n\n        var defaultStyle = function defaultStyle() {\n          return 'fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;';\n        };\n        /**\n         * Clears the internal graph db so that a new graph can be parsed.\n         *\n         * @param _id\n         * @param list\n         * @param _title\n         */\n\n        var addSubGraph = function addSubGraph(_id, list, _title) {\n          // console.log('addSubGraph', _id, list, _title);\n          var id = _id.trim();\n          var title = _title;\n          if (_id === _title && _title.match(/\\s/)) {\n            id = undefined;\n          }\n          /** @param a */\n\n          function uniq(a) {\n            var prims = {\n              boolean: {},\n              number: {},\n              string: {}\n            };\n            var objs = [];\n            var dir; //  = unbdefined; direction.trim();\n\n            var nodeList = a.filter(function (item) {\n              var type = _typeof(item);\n              if (item.stmt && item.stmt === 'dir') {\n                dir = item.value;\n                return false;\n              }\n              if (item.trim() === '') {\n                return false;\n              }\n              if (type in prims) {\n                return prims[type].hasOwnProperty(item) ? false : prims[type][item] = true; // eslint-disable-line\n              } else {\n                return objs.indexOf(item) >= 0 ? false : objs.push(item);\n              }\n            });\n            return {\n              nodeList: nodeList,\n              dir: dir\n            };\n          }\n          var nodeList = [];\n          var _uniq = uniq(nodeList.concat.apply(nodeList, list)),\n            nl = _uniq.nodeList,\n            dir = _uniq.dir;\n          nodeList = nl;\n          if (version === 'gen-1') {\n            _logger__WEBPACK_IMPORTED_MODULE_5__.log.warn('LOOKING UP');\n            for (var i = 0; i < nodeList.length; i++) {\n              nodeList[i] = lookUpDomId(nodeList[i]);\n            }\n          }\n          id = id || 'subGraph' + subCount; // if (id[0].match(/\\d/)) id = lookUpDomId(id);\n\n          title = title || '';\n          title = _common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sanitizeText(title, config);\n          subCount = subCount + 1;\n          var subGraph = {\n            id: id,\n            nodes: nodeList,\n            title: title.trim(),\n            classes: [],\n            dir: dir\n          };\n          _logger__WEBPACK_IMPORTED_MODULE_5__.log.info('Adding', subGraph.id, subGraph.nodes, subGraph.dir);\n          /** Deletes an id from all subgraphs */\n          // const del = _id => {\n          //   subGraphs.forEach(sg => {\n          //     const pos = sg.nodes.indexOf(_id);\n          //     if (pos >= 0) {\n          //       sg.nodes.splice(pos, 1);\n          //     }\n          //   });\n          // };\n          // // Removes the members of this subgraph from any other subgraphs, a node only belong to one subgraph\n          // subGraph.nodes.forEach(_id => del(_id));\n          // Remove the members in the new subgraph if they already belong to another subgraph\n\n          subGraph.nodes = makeUniq(subGraph, subGraphs).nodes;\n          subGraphs.push(subGraph);\n          subGraphLookup[id] = subGraph;\n          return id;\n        };\n        var getPosForId = function getPosForId(id) {\n          for (var i = 0; i < subGraphs.length; i++) {\n            if (subGraphs[i].id === id) {\n              return i;\n            }\n          }\n          return -1;\n        };\n        var secCount = -1;\n        var posCrossRef = [];\n        var indexNodes2 = function indexNodes2(id, pos) {\n          var nodes = subGraphs[pos].nodes;\n          secCount = secCount + 1;\n          if (secCount > 2000) {\n            return;\n          }\n          posCrossRef[secCount] = pos; // Check if match\n\n          if (subGraphs[pos].id === id) {\n            return {\n              result: true,\n              count: 0\n            };\n          }\n          var count = 0;\n          var posCount = 1;\n          while (count < nodes.length) {\n            var childPos = getPosForId(nodes[count]); // Ignore regular nodes (pos will be -1)\n\n            if (childPos >= 0) {\n              var res = indexNodes2(id, childPos);\n              if (res.result) {\n                return {\n                  result: true,\n                  count: posCount + res.count\n                };\n              } else {\n                posCount = posCount + res.count;\n              }\n            }\n            count = count + 1;\n          }\n          return {\n            result: false,\n            count: posCount\n          };\n        };\n        var getDepthFirstPos = function getDepthFirstPos(pos) {\n          return posCrossRef[pos];\n        };\n        var indexNodes = function indexNodes() {\n          secCount = -1;\n          if (subGraphs.length > 0) {\n            indexNodes2('none', subGraphs.length - 1, 0);\n          }\n        };\n        var getSubGraphs = function getSubGraphs() {\n          return subGraphs;\n        };\n        var firstGraph = function firstGraph() {\n          if (firstGraphFlag) {\n            firstGraphFlag = false;\n            return true;\n          }\n          return false;\n        };\n        var destructStartLink = function destructStartLink(_str) {\n          var str = _str.trim();\n          var type = 'arrow_open';\n          switch (str[0]) {\n            case '<':\n              type = 'arrow_point';\n              str = str.slice(1);\n              break;\n            case 'x':\n              type = 'arrow_cross';\n              str = str.slice(1);\n              break;\n            case 'o':\n              type = 'arrow_circle';\n              str = str.slice(1);\n              break;\n          }\n          var stroke = 'normal';\n          if (str.indexOf('=') !== -1) {\n            stroke = 'thick';\n          }\n          if (str.indexOf('.') !== -1) {\n            stroke = 'dotted';\n          }\n          return {\n            type: type,\n            stroke: stroke\n          };\n        };\n        var countChar = function countChar(char, str) {\n          var length = str.length;\n          var count = 0;\n          for (var i = 0; i < length; ++i) {\n            if (str[i] === char) {\n              ++count;\n            }\n          }\n          return count;\n        };\n        var destructEndLink = function destructEndLink(_str) {\n          var str = _str.trim();\n          var line = str.slice(0, -1);\n          var type = 'arrow_open';\n          switch (str.slice(-1)) {\n            case 'x':\n              type = 'arrow_cross';\n              if (str[0] === 'x') {\n                type = 'double_' + type;\n                line = line.slice(1);\n              }\n              break;\n            case '>':\n              type = 'arrow_point';\n              if (str[0] === '<') {\n                type = 'double_' + type;\n                line = line.slice(1);\n              }\n              break;\n            case 'o':\n              type = 'arrow_circle';\n              if (str[0] === 'o') {\n                type = 'double_' + type;\n                line = line.slice(1);\n              }\n              break;\n          }\n          var stroke = 'normal';\n          var length = line.length - 1;\n          if (line[0] === '=') {\n            stroke = 'thick';\n          }\n          var dots = countChar('.', line);\n          if (dots) {\n            stroke = 'dotted';\n            length = dots;\n          }\n          return {\n            type: type,\n            stroke: stroke,\n            length: length\n          };\n        };\n        var destructLink = function destructLink(_str, _startStr) {\n          var info = destructEndLink(_str);\n          var startInfo;\n          if (_startStr) {\n            startInfo = destructStartLink(_startStr);\n            if (startInfo.stroke !== info.stroke) {\n              return {\n                type: 'INVALID',\n                stroke: 'INVALID'\n              };\n            }\n            if (startInfo.type === 'arrow_open') {\n              // -- xyz -->  - take arrow type from ending\n              startInfo.type = info.type;\n            } else {\n              // x-- xyz -->  - not supported\n              if (startInfo.type !== info.type) return {\n                type: 'INVALID',\n                stroke: 'INVALID'\n              };\n              startInfo.type = 'double_' + startInfo.type;\n            }\n            if (startInfo.type === 'double_arrow') {\n              startInfo.type = 'double_arrow_point';\n            }\n            startInfo.length = info.length;\n            return startInfo;\n          }\n          return info;\n        }; // Todo optimizer this by caching existing nodes\n\n        var exists = function exists(allSgs, _id) {\n          var res = false;\n          allSgs.forEach(function (sg) {\n            var pos = sg.nodes.indexOf(_id);\n            if (pos >= 0) {\n              res = true;\n            }\n          });\n          return res;\n        };\n        /**\n         * Deletes an id from all subgraphs\n         *\n         * @param sg\n         * @param allSubgraphs\n         */\n\n        var makeUniq = function makeUniq(sg, allSubgraphs) {\n          var res = [];\n          sg.nodes.forEach(function (_id, pos) {\n            if (!exists(allSubgraphs, _id)) {\n              res.push(sg.nodes[pos]);\n            }\n          });\n          return {\n            nodes: res\n          };\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          parseDirective: parseDirective,\n          defaultConfig: function defaultConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_1__.defaultConfig.flowchart;\n          },\n          addVertex: addVertex,\n          lookUpDomId: lookUpDomId,\n          addLink: addLink,\n          updateLinkInterpolate: updateLinkInterpolate,\n          updateLink: updateLink,\n          addClass: addClass,\n          setDirection: setDirection,\n          setClass: setClass,\n          setTooltip: setTooltip,\n          getTooltip: getTooltip,\n          setClickEvent: setClickEvent,\n          setLink: setLink,\n          bindFunctions: bindFunctions,\n          getDirection: getDirection,\n          getVertices: getVertices,\n          getEdges: getEdges,\n          getClasses: getClasses,\n          clear: clear,\n          setGen: setGen,\n          defaultStyle: defaultStyle,\n          addSubGraph: addSubGraph,\n          getDepthFirstPos: getDepthFirstPos,\n          indexNodes: indexNodes,\n          getSubGraphs: getSubGraphs,\n          destructLink: destructLink,\n          lex: {\n            firstGraph: firstGraph\n          },\n          exists: exists,\n          makeUniq: makeUniq\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/flowchart/flowRenderer-v2.js\": (\n      /*!***************************************************!*\\\n        !*** ./src/diagrams/flowchart/flowRenderer-v2.js ***!\n        \\***************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"addVertices\": () => (/* binding */addVertices),\n          /* harmony export */\"addEdges\": () => (/* binding */addEdges),\n          /* harmony export */\"getClasses\": () => (/* binding */getClasses),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _flowDb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./flowDb */\"./src/diagrams/flowchart/flowDb.js\");\n        /* harmony import */\n        var _parser_flow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parser/flow */\"./src/diagrams/flowchart/parser/flow.jison\");\n        /* harmony import */\n        var _parser_flow__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_parser_flow__WEBPACK_IMPORTED_MODULE_8__);\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../dagre-wrapper/index.js */\"./src/dagre-wrapper/index.js\");\n        /* harmony import */\n        var dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dagre-d3/lib/label/add-html-label.js */\"dagre-d3/lib/label/add-html-label.js\");\n        /* harmony import */\n        var dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        var conf = {};\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          for (var i = 0; i < keys.length; i++) {\n            conf[keys[i]] = cnf[keys[i]];\n          }\n        };\n        /**\n         * Function that adds the vertices found during parsing to the graph to be rendered.\n         *\n         * @param vert Object containing the vertices.\n         * @param g The graph that is to be drawn.\n         * @param svgId\n         * @param root\n         * @param doc\n         */\n\n        var addVertices = function addVertices(vert, g, svgId, root, doc) {\n          var svg = root.select(\"[id=\\\"\".concat(svgId, \"\\\"]\"));\n          var keys = Object.keys(vert); // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\n\n          keys.forEach(function (id) {\n            var vertex = vert[id];\n            /**\n             * Variable for storing the classes for the vertex\n             *\n             * @type {string}\n             */\n\n            var classStr = 'default';\n            if (vertex.classes.length > 0) {\n              classStr = vertex.classes.join(' ');\n            }\n            var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(vertex.styles); // Use vertex id as text in the box if no text is provided by the graph definition\n\n            var vertexText = vertex.text !== undefined ? vertex.text : vertex.id; // We create a SVG label, either by delegating to addHtmlLabel or manually\n\n            var vertexNode;\n            if ((0, _common_common__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.htmlLabels)) {\n              // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\n              var node = {\n                label: vertexText.replace(/fa[lrsb]?:fa-[\\w-]+/g, function (s) {\n                  return \"<i class='\".concat(s.replace(':', ' '), \"'></i>\");\n                })\n              };\n              vertexNode = dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2___default()(svg, node).node();\n              vertexNode.parentNode.removeChild(vertexNode);\n            } else {\n              var svgLabel = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n              svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\n              var rows = vertexText.split(_common_common__WEBPACK_IMPORTED_MODULE_4__[\"default\"].lineBreakRegex);\n              for (var j = 0; j < rows.length; j++) {\n                var tspan = doc.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n                tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n                tspan.setAttribute('dy', '1em');\n                tspan.setAttribute('x', '1');\n                tspan.textContent = rows[j];\n                svgLabel.appendChild(tspan);\n              }\n              vertexNode = svgLabel;\n            }\n            var radious = 0;\n            var _shape = ''; // Set the shape based parameters\n\n            switch (vertex.type) {\n              case 'round':\n                radious = 5;\n                _shape = 'rect';\n                break;\n              case 'square':\n                _shape = 'rect';\n                break;\n              case 'diamond':\n                _shape = 'question';\n                break;\n              case 'hexagon':\n                _shape = 'hexagon';\n                break;\n              case 'odd':\n                _shape = 'rect_left_inv_arrow';\n                break;\n              case 'lean_right':\n                _shape = 'lean_right';\n                break;\n              case 'lean_left':\n                _shape = 'lean_left';\n                break;\n              case 'trapezoid':\n                _shape = 'trapezoid';\n                break;\n              case 'inv_trapezoid':\n                _shape = 'inv_trapezoid';\n                break;\n              case 'odd_right':\n                _shape = 'rect_left_inv_arrow';\n                break;\n              case 'circle':\n                _shape = 'circle';\n                break;\n              case 'ellipse':\n                _shape = 'ellipse';\n                break;\n              case 'stadium':\n                _shape = 'stadium';\n                break;\n              case 'subroutine':\n                _shape = 'subroutine';\n                break;\n              case 'cylinder':\n                _shape = 'cylinder';\n                break;\n              case 'group':\n                _shape = 'rect';\n                break;\n              default:\n                _shape = 'rect';\n            } // Add the node\n\n            g.setNode(vertex.id, {\n              labelStyle: styles.labelStyle,\n              shape: _shape,\n              labelText: vertexText,\n              rx: radious,\n              ry: radious,\n              class: classStr,\n              style: styles.style,\n              id: vertex.id,\n              link: vertex.link,\n              linkTarget: vertex.linkTarget,\n              tooltip: _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getTooltip(vertex.id) || '',\n              domId: _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].lookUpDomId(vertex.id),\n              haveCallback: vertex.haveCallback,\n              width: vertex.type === 'group' ? 500 : undefined,\n              dir: vertex.dir,\n              type: vertex.type,\n              props: vertex.props,\n              padding: (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.padding\n            });\n            _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('setNode', {\n              labelStyle: styles.labelStyle,\n              shape: _shape,\n              labelText: vertexText,\n              rx: radious,\n              ry: radious,\n              class: classStr,\n              style: styles.style,\n              id: vertex.id,\n              domId: _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].lookUpDomId(vertex.id),\n              width: vertex.type === 'group' ? 500 : undefined,\n              type: vertex.type,\n              dir: vertex.dir,\n              props: vertex.props,\n              padding: (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.padding\n            });\n          });\n        };\n        /**\n         * Add edges to graph based on parsed graph defninition\n         *\n         * @param {object} edges The edges to add to the graph\n         * @param {object} g The graph object\n         */\n\n        var addEdges = function addEdges(edges, g) {\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('abc78 edges = ', edges);\n          var cnt = 0;\n          var linkIdCnt = {};\n          var defaultStyle;\n          var defaultLabelStyle;\n          if (typeof edges.defaultStyle !== 'undefined') {\n            var defaultStyles = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(edges.defaultStyle);\n            defaultStyle = defaultStyles.style;\n            defaultLabelStyle = defaultStyles.labelStyle;\n          }\n          edges.forEach(function (edge) {\n            cnt++; // Identify Link\n\n            var linkIdBase = 'L-' + edge.start + '-' + edge.end; // count the links from+to the same node to give unique id\n\n            if (typeof linkIdCnt[linkIdBase] === 'undefined') {\n              linkIdCnt[linkIdBase] = 0;\n              _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('abc78 new entry', linkIdBase, linkIdCnt[linkIdBase]);\n            } else {\n              linkIdCnt[linkIdBase]++;\n              _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('abc78 new entry', linkIdBase, linkIdCnt[linkIdBase]);\n            }\n            var linkId = linkIdBase + '-' + linkIdCnt[linkIdBase];\n            _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('abc78 new link id to be used is', linkIdBase, linkId, linkIdCnt[linkIdBase]);\n            var linkNameStart = 'LS-' + edge.start;\n            var linkNameEnd = 'LE-' + edge.end;\n            var edgeData = {\n              style: '',\n              labelStyle: ''\n            };\n            edgeData.minlen = edge.length || 1; //edgeData.id = 'id' + cnt;\n            // Set link type for rendering\n\n            if (edge.type === 'arrow_open') {\n              edgeData.arrowhead = 'none';\n            } else {\n              edgeData.arrowhead = 'normal';\n            } // Check of arrow types, placed here in order not to break old rendering\n\n            edgeData.arrowTypeStart = 'arrow_open';\n            edgeData.arrowTypeEnd = 'arrow_open';\n            /* eslint-disable no-fallthrough */\n\n            switch (edge.type) {\n              case 'double_arrow_cross':\n                edgeData.arrowTypeStart = 'arrow_cross';\n              case 'arrow_cross':\n                edgeData.arrowTypeEnd = 'arrow_cross';\n                break;\n              case 'double_arrow_point':\n                edgeData.arrowTypeStart = 'arrow_point';\n              case 'arrow_point':\n                edgeData.arrowTypeEnd = 'arrow_point';\n                break;\n              case 'double_arrow_circle':\n                edgeData.arrowTypeStart = 'arrow_circle';\n              case 'arrow_circle':\n                edgeData.arrowTypeEnd = 'arrow_circle';\n                break;\n            }\n            var style = '';\n            var labelStyle = '';\n            switch (edge.stroke) {\n              case 'normal':\n                style = 'fill:none;';\n                if (typeof defaultStyle !== 'undefined') {\n                  style = defaultStyle;\n                }\n                if (typeof defaultLabelStyle !== 'undefined') {\n                  labelStyle = defaultLabelStyle;\n                }\n                edgeData.thickness = 'normal';\n                edgeData.pattern = 'solid';\n                break;\n              case 'dotted':\n                edgeData.thickness = 'normal';\n                edgeData.pattern = 'dotted';\n                edgeData.style = 'fill:none;stroke-width:2px;stroke-dasharray:3;';\n                break;\n              case 'thick':\n                edgeData.thickness = 'thick';\n                edgeData.pattern = 'solid';\n                edgeData.style = 'stroke-width: 3.5px;fill:none;';\n                break;\n            }\n            if (typeof edge.style !== 'undefined') {\n              var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(edge.style);\n              style = styles.style;\n              labelStyle = styles.labelStyle;\n            }\n            edgeData.style = edgeData.style += style;\n            edgeData.labelStyle = edgeData.labelStyle += labelStyle;\n            if (typeof edge.interpolate !== 'undefined') {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(edge.interpolate, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);\n            } else if (typeof edges.defaultInterpolate !== 'undefined') {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(edges.defaultInterpolate, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);\n            } else {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(conf.curve, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);\n            }\n            if (typeof edge.text === 'undefined') {\n              if (typeof edge.style !== 'undefined') {\n                edgeData.arrowheadStyle = 'fill: #333';\n              }\n            } else {\n              edgeData.arrowheadStyle = 'fill: #333';\n              edgeData.labelpos = 'c';\n            } // if (evaluate(getConfig().flowchart.htmlLabels) && false) {\n            //   // eslint-disable-line\n            //   edgeData.labelType = 'html';\n            //   edgeData.label = `<span id=\"L-${linkId}\" class=\"edgeLabel L-${linkNameStart}' L-${linkNameEnd}\">${edge.text}</span>`;\n            // } else {\n\n            edgeData.labelType = 'text';\n            edgeData.label = edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_4__[\"default\"].lineBreakRegex, '\\n');\n            if (typeof edge.style === 'undefined') {\n              edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none;';\n            }\n            edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:'); // }\n\n            edgeData.id = linkId;\n            edgeData.classes = 'flowchart-link ' + linkNameStart + ' ' + linkNameEnd; // Add the edge to the graph\n\n            g.setEdge(edge.start, edge.end, edgeData, cnt);\n          });\n        };\n        /**\n         * Returns the all the styles from classDef statements in the graph definition.\n         *\n         * @param text\n         * @returns {object} ClassDef styles\n         */\n\n        var getClasses = function getClasses(text) {\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('Extracting classes');\n          _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].clear();\n          var parser = _parser_flow__WEBPACK_IMPORTED_MODULE_8___default().parser;\n          parser.yy = _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n          try {\n            // Parse the graph definition\n            parser.parse(text);\n          } catch (e) {\n            return;\n          }\n          return _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getClasses();\n        };\n        /**\n         * Draws a flowchart in the tag with id: id based on the graph definition in text.\n         *\n         * @param text\n         * @param id\n         */\n\n        var draw = function draw(text, id) {\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('Drawing flowchart');\n          _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].clear();\n          _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setGen('gen-2');\n          var parser = _parser_flow__WEBPACK_IMPORTED_MODULE_8___default().parser;\n          parser.yy = _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; // Parse the graph definition\n          // try {\n\n          parser.parse(text); // } catch (err) {\n          // log.debug('Parsing failed');\n          // }\n          // Fetch the default direction, use TD if none was found\n\n          var dir = _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getDirection();\n          if (typeof dir === 'undefined') {\n            dir = 'TD';\n          }\n          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart;\n          var nodeSpacing = conf.nodeSpacing || 50;\n          var rankSpacing = conf.rankSpacing || 50;\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document; // Create the input mermaid.graph\n\n          var g = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({\n            multigraph: true,\n            compound: true\n          }).setGraph({\n            rankdir: dir,\n            nodesep: nodeSpacing,\n            ranksep: rankSpacing,\n            marginx: 8,\n            marginy: 8\n          }).setDefaultEdgeLabel(function () {\n            return {};\n          });\n          var subG;\n          var subGraphs = _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getSubGraphs();\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('Subgraphs - ', subGraphs);\n          for (var _i = subGraphs.length - 1; _i >= 0; _i--) {\n            subG = subGraphs[_i];\n            _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('Subgraph - ', subG);\n            _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].addVertex(subG.id, subG.title, 'group', undefined, subG.classes, subG.dir);\n          } // Fetch the verices/nodes and edges/links from the parsed graph definition\n\n          var vert = _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getVertices();\n          var edges = _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getEdges();\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info(edges);\n          var i = 0;\n          for (i = subGraphs.length - 1; i >= 0; i--) {\n            // for (let i = 0; i < subGraphs.length; i++) {\n            subG = subGraphs[i];\n            (0, d3__WEBPACK_IMPORTED_MODULE_1__.selectAll)('cluster').append('text');\n            for (var j = 0; j < subG.nodes.length; j++) {\n              _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('Setting up subgraphs', subG.nodes[j], subG.id);\n              g.setParent(subG.nodes[j], subG.id);\n            }\n          }\n          addVertices(vert, g, id, root, doc);\n          addEdges(edges, g); // Add custom shapes\n          // flowChartShapes.addToRenderV2(addShape);\n          // Set up an SVG group so that we can translate the final graph.\n\n          var svg = root.select(\"[id=\\\"\".concat(id, \"\\\"]\"));\n          svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink'); // Run the renderer. This is what draws the final graph.\n\n          var element = root.select('#' + id + ' g');\n          (0, _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__.render)(element, g, ['point', 'circle', 'cross'], 'flowchart', id);\n          var padding = conf.diagramPadding;\n          var svgBounds = svg.node().getBBox();\n          var width = svgBounds.width + padding * 2;\n          var height = svgBounds.height + padding * 2;\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.debug(\"new ViewBox 0 0 \".concat(width, \" \").concat(height), \"translate(\".concat(padding - g._label.marginx, \", \").concat(padding - g._label.marginy, \")\"));\n          (0, _utils__WEBPACK_IMPORTED_MODULE_3__.configureSvgSize)(svg, height, width, conf.useMaxWidth);\n          svg.attr('viewBox', \"0 0 \".concat(width, \" \").concat(height));\n          svg.select('g').attr('transform', \"translate(\".concat(padding - g._label.marginx, \", \").concat(padding - svgBounds.y, \")\")); // Index nodes\n\n          _flowDb__WEBPACK_IMPORTED_MODULE_6__[\"default\"].indexNodes('subGraph' + i); // Add label rects for non html labels\n\n          if (!conf.htmlLabels) {\n            var labels = doc.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n            for (var k = 0; k < labels.length; k++) {\n              var label = labels[k]; // Get dimensions of label\n\n              var dim = label.getBBox();\n              var rect = doc.createElementNS('http://www.w3.org/2000/svg', 'rect');\n              rect.setAttribute('rx', 0);\n              rect.setAttribute('ry', 0);\n              rect.setAttribute('width', dim.width);\n              rect.setAttribute('height', dim.height); // rect.setAttribute('style', 'fill:#e8e8e8;');\n\n              label.insertBefore(rect, label.firstChild);\n            }\n          } // If node has a link, wrap it in an anchor SVG object.\n\n          var keys = Object.keys(vert);\n          keys.forEach(function (key) {\n            var vertex = vert[key];\n            if (vertex.link) {\n              var node = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('#' + id + ' [id=\"' + key + '\"]');\n              if (node) {\n                var link = doc.createElementNS('http://www.w3.org/2000/svg', 'a');\n                link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\n                link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\n                link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\n                if (securityLevel === 'sandbox') {\n                  link.setAttributeNS('http://www.w3.org/2000/svg', 'target', '_top');\n                } else if (vertex.linkTarget) {\n                  link.setAttributeNS('http://www.w3.org/2000/svg', 'target', vertex.linkTarget);\n                }\n                var linkNode = node.insert(function () {\n                  return link;\n                }, ':first-child');\n                var shape = node.select('.label-container');\n                if (shape) {\n                  linkNode.append(function () {\n                    return shape.node();\n                  });\n                }\n                var _label = node.select('.label');\n                if (_label) {\n                  linkNode.append(function () {\n                    return _label.node();\n                  });\n                }\n              }\n            }\n          });\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          addVertices: addVertices,\n          addEdges: addEdges,\n          getClasses: getClasses,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/flowchart/flowRenderer.js\": (\n      /*!************************************************!*\\\n        !*** ./src/diagrams/flowchart/flowRenderer.js ***!\n        \\************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"addVertices\": () => (/* binding */addVertices),\n          /* harmony export */\"addEdges\": () => (/* binding */addEdges),\n          /* harmony export */\"getClasses\": () => (/* binding */getClasses),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _flowDb__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./flowDb */\"./src/diagrams/flowchart/flowDb.js\");\n        /* harmony import */\n        var _parser_flow__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parser/flow */\"./src/diagrams/flowchart/parser/flow.jison\");\n        /* harmony import */\n        var _parser_flow__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_parser_flow__WEBPACK_IMPORTED_MODULE_9__);\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var dagre_d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dagre-d3 */\"dagre-d3\");\n        /* harmony import */\n        var dagre_d3__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dagre_d3__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dagre-d3/lib/label/add-html-label.js */\"dagre-d3/lib/label/add-html-label.js\");\n        /* harmony import */\n        var dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _flowChartShapes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./flowChartShapes */\"./src/diagrams/flowchart/flowChartShapes.js\");\n        var conf = {};\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          for (var i = 0; i < keys.length; i++) {\n            conf[keys[i]] = cnf[keys[i]];\n          }\n        };\n        /**\n         * Function that adds the vertices found in the graph definition to the graph to be rendered.\n         *\n         * @param vert Object containing the vertices.\n         * @param g The graph that is to be drawn.\n         * @param svgId\n         * @param root\n         * @param doc\n         * @param _doc\n         */\n\n        var addVertices = function addVertices(vert, g, svgId, root, _doc) {\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;\n          var svg = !root ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(\"[id=\\\"\".concat(svgId, \"\\\"]\")) : root.select(\"[id=\\\"\".concat(svgId, \"\\\"]\"));\n          var doc = !_doc ? document : _doc;\n          var keys = Object.keys(vert); // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\n\n          keys.forEach(function (id) {\n            var vertex = vert[id];\n            /**\n             * Variable for storing the classes for the vertex\n             *\n             * @type {string}\n             */\n\n            var classStr = 'default';\n            if (vertex.classes.length > 0) {\n              classStr = vertex.classes.join(' ');\n            }\n            var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(vertex.styles); // Use vertex id as text in the box if no text is provided by the graph definition\n\n            var vertexText = vertex.text !== undefined ? vertex.text : vertex.id; // We create a SVG label, either by delegating to addHtmlLabel or manually\n\n            var vertexNode;\n            if ((0, _common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {\n              // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\n              var node = {\n                label: vertexText.replace(/fa[lrsb]?:fa-[\\w-]+/g, function (s) {\n                  return \"<i class='\".concat(s.replace(':', ' '), \"'></i>\");\n                })\n              };\n              vertexNode = dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3___default()(svg, node).node();\n              vertexNode.parentNode.removeChild(vertexNode);\n            } else {\n              var svgLabel = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n              svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\n              var rows = vertexText.split(_common_common__WEBPACK_IMPORTED_MODULE_6__[\"default\"].lineBreakRegex);\n              for (var j = 0; j < rows.length; j++) {\n                var tspan = doc.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n                tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n                tspan.setAttribute('dy', '1em');\n                tspan.setAttribute('x', '1');\n                tspan.textContent = rows[j];\n                svgLabel.appendChild(tspan);\n              }\n              vertexNode = svgLabel;\n            }\n            var radious = 0;\n            var _shape = ''; // Set the shape based parameters\n\n            switch (vertex.type) {\n              case 'round':\n                radious = 5;\n                _shape = 'rect';\n                break;\n              case 'square':\n                _shape = 'rect';\n                break;\n              case 'diamond':\n                _shape = 'question';\n                break;\n              case 'hexagon':\n                _shape = 'hexagon';\n                break;\n              case 'odd':\n                _shape = 'rect_left_inv_arrow';\n                break;\n              case 'lean_right':\n                _shape = 'lean_right';\n                break;\n              case 'lean_left':\n                _shape = 'lean_left';\n                break;\n              case 'trapezoid':\n                _shape = 'trapezoid';\n                break;\n              case 'inv_trapezoid':\n                _shape = 'inv_trapezoid';\n                break;\n              case 'odd_right':\n                _shape = 'rect_left_inv_arrow';\n                break;\n              case 'circle':\n                _shape = 'circle';\n                break;\n              case 'ellipse':\n                _shape = 'ellipse';\n                break;\n              case 'stadium':\n                _shape = 'stadium';\n                break;\n              case 'subroutine':\n                _shape = 'subroutine';\n                break;\n              case 'cylinder':\n                _shape = 'cylinder';\n                break;\n              case 'group':\n                _shape = 'rect';\n                break;\n              default:\n                _shape = 'rect';\n            } // Add the node\n\n            _logger__WEBPACK_IMPORTED_MODULE_7__.log.warn('Adding node', vertex.id, vertex.domId);\n            g.setNode(_flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(vertex.id), {\n              labelType: 'svg',\n              labelStyle: styles.labelStyle,\n              shape: _shape,\n              label: vertexNode,\n              rx: radious,\n              ry: radious,\n              class: classStr,\n              style: styles.style,\n              id: _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(vertex.id)\n            });\n          });\n        };\n        /**\n         * Add edges to graph based on parsed graph defninition\n         *\n         * @param {object} edges The edges to add to the graph\n         * @param {object} g The graph object\n         */\n\n        var addEdges = function addEdges(edges, g) {\n          var cnt = 0;\n          var defaultStyle;\n          var defaultLabelStyle;\n          if (typeof edges.defaultStyle !== 'undefined') {\n            var defaultStyles = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(edges.defaultStyle);\n            defaultStyle = defaultStyles.style;\n            defaultLabelStyle = defaultStyles.labelStyle;\n          }\n          edges.forEach(function (edge) {\n            cnt++; // Identify Link\n\n            var linkId = 'L-' + edge.start + '-' + edge.end;\n            var linkNameStart = 'LS-' + edge.start;\n            var linkNameEnd = 'LE-' + edge.end;\n            var edgeData = {}; // Set link type for rendering\n\n            if (edge.type === 'arrow_open') {\n              edgeData.arrowhead = 'none';\n            } else {\n              edgeData.arrowhead = 'normal';\n            }\n            var style = '';\n            var labelStyle = '';\n            if (typeof edge.style !== 'undefined') {\n              var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(edge.style);\n              style = styles.style;\n              labelStyle = styles.labelStyle;\n            } else {\n              switch (edge.stroke) {\n                case 'normal':\n                  style = 'fill:none';\n                  if (typeof defaultStyle !== 'undefined') {\n                    style = defaultStyle;\n                  }\n                  if (typeof defaultLabelStyle !== 'undefined') {\n                    labelStyle = defaultLabelStyle;\n                  }\n                  break;\n                case 'dotted':\n                  style = 'fill:none;stroke-width:2px;stroke-dasharray:3;';\n                  break;\n                case 'thick':\n                  style = ' stroke-width: 3.5px;fill:none';\n                  break;\n              }\n            }\n            edgeData.style = style;\n            edgeData.labelStyle = labelStyle;\n            if (typeof edge.interpolate !== 'undefined') {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(edge.interpolate, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);\n            } else if (typeof edges.defaultInterpolate !== 'undefined') {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(edges.defaultInterpolate, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);\n            } else {\n              edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(conf.curve, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);\n            }\n            if (typeof edge.text === 'undefined') {\n              if (typeof edge.style !== 'undefined') {\n                edgeData.arrowheadStyle = 'fill: #333';\n              }\n            } else {\n              edgeData.arrowheadStyle = 'fill: #333';\n              edgeData.labelpos = 'c';\n              if ((0, _common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {\n                edgeData.labelType = 'html';\n                edgeData.label = \"<span id=\\\"L-\".concat(linkId, \"\\\" class=\\\"edgeLabel L-\").concat(linkNameStart, \"' L-\").concat(linkNameEnd, \"\\\">\").concat(edge.text.replace(/fa[lrsb]?:fa-[\\w-]+/g, function (s) {\n                  return \"<i class='\".concat(s.replace(':', ' '), \"'></i>\");\n                }), \"</span>\");\n              } else {\n                edgeData.labelType = 'text';\n                edgeData.label = edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_6__[\"default\"].lineBreakRegex, '\\n');\n                if (typeof edge.style === 'undefined') {\n                  edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none';\n                }\n                edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:');\n              }\n            }\n            edgeData.id = linkId;\n            edgeData.class = linkNameStart + ' ' + linkNameEnd;\n            edgeData.minlen = edge.length || 1; // Add the edge to the graph\n\n            g.setEdge(_flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(edge.start), _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(edge.end), edgeData, cnt);\n          });\n        };\n        /**\n         * Returns the all the styles from classDef statements in the graph definition.\n         *\n         * @param text\n         * @returns {object} ClassDef styles\n         */\n\n        var getClasses = function getClasses(text) {\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('Extracting classes');\n          _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].clear();\n          try {\n            var parser = _parser_flow__WEBPACK_IMPORTED_MODULE_9___default().parser;\n            parser.yy = _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; // Parse the graph definition\n\n            parser.parse(text);\n            return _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getClasses();\n          } catch (e) {\n            return;\n          }\n        };\n        /**\n         * Draws a flowchart in the tag with id: id based on the graph definition in text.\n         *\n         * @param text\n         * @param id\n         */\n\n        var draw = function draw(text, id) {\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.info('Drawing flowchart');\n          _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].clear();\n          _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].setGen('gen-1');\n          var parser = _parser_flow__WEBPACK_IMPORTED_MODULE_9___default().parser;\n          parser.yy = _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document; // Parse the graph definition\n          // try {\n\n          parser.parse(text); // } catch (err) {\n          // log.debug('Parsing failed');\n          // }\n          // Fetch the default direction, use TD if none was found\n\n          var dir = _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getDirection();\n          if (typeof dir === 'undefined') {\n            dir = 'TD';\n          }\n          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart;\n          var nodeSpacing = conf.nodeSpacing || 50;\n          var rankSpacing = conf.rankSpacing || 50; // Create the input mermaid.graph\n\n          var g = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({\n            multigraph: true,\n            compound: true\n          }).setGraph({\n            rankdir: dir,\n            nodesep: nodeSpacing,\n            ranksep: rankSpacing,\n            marginx: 8,\n            marginy: 8\n          }).setDefaultEdgeLabel(function () {\n            return {};\n          });\n          var subG;\n          var subGraphs = _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getSubGraphs();\n          for (var _i = subGraphs.length - 1; _i >= 0; _i--) {\n            subG = subGraphs[_i];\n            _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].addVertex(subG.id, subG.title, 'group', undefined, subG.classes);\n          } // Fetch the verices/nodes and edges/links from the parsed graph definition\n\n          var vert = _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getVertices();\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.warn('Get vertices', vert);\n          var edges = _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getEdges();\n          var i = 0;\n          for (i = subGraphs.length - 1; i >= 0; i--) {\n            subG = subGraphs[i];\n            (0, d3__WEBPACK_IMPORTED_MODULE_1__.selectAll)('cluster').append('text');\n            for (var j = 0; j < subG.nodes.length; j++) {\n              _logger__WEBPACK_IMPORTED_MODULE_7__.log.warn('Setting subgraph', subG.nodes[j], _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(subG.nodes[j]), _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(subG.id));\n              g.setParent(_flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(subG.nodes[j]), _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(subG.id));\n            }\n          }\n          addVertices(vert, g, id, root, doc);\n          addEdges(edges, g); // Create the renderer\n\n          var Render = dagre_d3__WEBPACK_IMPORTED_MODULE_2___default().render;\n          var render = new Render(); // Add custom shapes\n\n          _flowChartShapes__WEBPACK_IMPORTED_MODULE_10__[\"default\"].addToRender(render); // Add our custom arrow - an empty arrowhead\n\n          render.arrows().none = function normal(parent, id, edge, type) {\n            var marker = parent.append('marker').attr('id', id).attr('viewBox', '0 0 10 10').attr('refX', 9).attr('refY', 5).attr('markerUnits', 'strokeWidth').attr('markerWidth', 8).attr('markerHeight', 6).attr('orient', 'auto');\n            var path = marker.append('path').attr('d', 'M 0 0 L 0 0 L 0 0 z');\n            dagre_d3__WEBPACK_IMPORTED_MODULE_2___default().util.applyStyle(path, edge[type + 'Style']);\n          }; // Override normal arrowhead defined in d3. Remove style & add class to allow css styling.\n\n          render.arrows().normal = function normal(parent, id) {\n            var marker = parent.append('marker').attr('id', id).attr('viewBox', '0 0 10 10').attr('refX', 9).attr('refY', 5).attr('markerUnits', 'strokeWidth').attr('markerWidth', 8).attr('markerHeight', 6).attr('orient', 'auto');\n            marker.append('path').attr('d', 'M 0 0 L 10 5 L 0 10 z').attr('class', 'arrowheadPath').style('stroke-width', 1).style('stroke-dasharray', '1,0');\n          }; // Set up an SVG group so that we can translate the final graph.\n\n          var svg = root.select(\"[id=\\\"\".concat(id, \"\\\"]\"));\n          svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.warn(g); // Run the renderer. This is what draws the final graph.\n\n          var element = root.select('#' + id + ' g');\n          render(element, g);\n          element.selectAll('g.node').attr('title', function () {\n            return _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getTooltip(this.id);\n          });\n          var padding = conf.diagramPadding;\n          var svgBounds = svg.node().getBBox();\n          var width = svgBounds.width + padding * 2;\n          var height = svgBounds.height + padding * 2;\n          (0, _utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(svg, height, width, conf.useMaxWidth); // Ensure the viewBox includes the whole svgBounds area with extra space for padding\n\n          var vBox = \"\".concat(svgBounds.x - padding, \" \").concat(svgBounds.y - padding, \" \").concat(width, \" \").concat(height);\n          _logger__WEBPACK_IMPORTED_MODULE_7__.log.debug(\"viewBox \".concat(vBox));\n          svg.attr('viewBox', vBox); // Index nodes\n\n          _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].indexNodes('subGraph' + i); // reposition labels\n\n          for (i = 0; i < subGraphs.length; i++) {\n            subG = subGraphs[i];\n            if (subG.title !== 'undefined') {\n              var clusterRects = doc.querySelectorAll('#' + id + ' [id=\"' + _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(subG.id) + '\"] rect');\n              var clusterEl = doc.querySelectorAll('#' + id + ' [id=\"' + _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(subG.id) + '\"]');\n              var xPos = clusterRects[0].x.baseVal.value;\n              var yPos = clusterRects[0].y.baseVal.value;\n              var _width = clusterRects[0].width.baseVal.value;\n              var cluster = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(clusterEl[0]);\n              var te = cluster.select('.label');\n              te.attr('transform', \"translate(\".concat(xPos + _width / 2, \", \").concat(yPos + 14, \")\"));\n              te.attr('id', id + 'Text');\n              for (var _j = 0; _j < subG.classes.length; _j++) {\n                clusterEl[0].classList.add(subG.classes[_j]);\n              }\n            }\n          } // Add label rects for non html labels\n\n          if (!(0, _common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)(conf.htmlLabels) || true) {\n            // eslint-disable-line\n            var labels = doc.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n            for (var k = 0; k < labels.length; k++) {\n              var label = labels[k]; // Get dimensions of label\n\n              var dim = label.getBBox();\n              var rect = doc.createElementNS('http://www.w3.org/2000/svg', 'rect');\n              rect.setAttribute('rx', 0);\n              rect.setAttribute('ry', 0);\n              rect.setAttribute('width', dim.width);\n              rect.setAttribute('height', dim.height); // rect.setAttribute('style', 'fill:#e8e8e8;');\n\n              label.insertBefore(rect, label.firstChild);\n            }\n          } // If node has a link, wrap it in an anchor SVG object.\n\n          var keys = Object.keys(vert);\n          keys.forEach(function (key) {\n            var vertex = vert[key];\n            if (vertex.link) {\n              var node = root.select('#' + id + ' [id=\"' + _flowDb__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lookUpDomId(key) + '\"]');\n              if (node) {\n                var link = doc.createElementNS('http://www.w3.org/2000/svg', 'a');\n                link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\n                link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\n                link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\n                if (securityLevel === 'sandbox') {\n                  link.setAttributeNS('http://www.w3.org/2000/svg', 'target', '_top');\n                } else if (vertex.linkTarget) {\n                  link.setAttributeNS('http://www.w3.org/2000/svg', 'target', vertex.linkTarget);\n                }\n                var linkNode = node.insert(function () {\n                  return link;\n                }, ':first-child');\n                var shape = node.select('.label-container');\n                if (shape) {\n                  linkNode.append(function () {\n                    return shape.node();\n                  });\n                }\n                var _label = node.select('.label');\n                if (_label) {\n                  linkNode.append(function () {\n                    return _label.node();\n                  });\n                }\n              }\n            }\n          });\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          addVertices: addVertices,\n          addEdges: addEdges,\n          getClasses: getClasses,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/flowchart/styles.js\": (\n      /*!******************************************!*\\\n        !*** ./src/diagrams/flowchart/styles.js ***!\n        \\******************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /**\n         * Returns the styles given options\n         *\n         * @param {{\n         *   fontFamily: string;\n         *   nodeTextColor: string;\n         *   textColor: string;\n         *   titleColor: string;\n         *   mainBkg: string;\n         *   nodeBorder: string;\n         *   arrowheadColor: string;\n         *   lineColor: string;\n         *   edgeLabelBackground: string;\n         *   clusterBkg: string;\n         *   clusterBorder: string;\n         *   tertiaryColor: string;\n         *   border2: string;\n         * }} options\n         *   The options for the styles\n         * @returns {string} The resulting styles\n         */\n        var getStyles = function getStyles(options) {\n          return \".label {\\n    font-family: \".concat(options.fontFamily, \";\\n    color: \").concat(options.nodeTextColor || options.textColor, \";\\n  }\\n  .cluster-label text {\\n    fill: \").concat(options.titleColor, \";\\n  }\\n  .cluster-label span {\\n    color: \").concat(options.titleColor, \";\\n  }\\n\\n  .label text,span {\\n    fill: \").concat(options.nodeTextColor || options.textColor, \";\\n    color: \").concat(options.nodeTextColor || options.textColor, \";\\n  }\\n\\n  .node rect,\\n  .node circle,\\n  .node ellipse,\\n  .node polygon,\\n  .node path {\\n    fill: \").concat(options.mainBkg, \";\\n    stroke: \").concat(options.nodeBorder, \";\\n    stroke-width: 1px;\\n  }\\n\\n  .node .label {\\n    text-align: center;\\n  }\\n  .node.clickable {\\n    cursor: pointer;\\n  }\\n\\n  .arrowheadPath {\\n    fill: \").concat(options.arrowheadColor, \";\\n  }\\n\\n  .edgePath .path {\\n    stroke: \").concat(options.lineColor, \";\\n    stroke-width: 2.0px;\\n  }\\n\\n  .flowchart-link {\\n    stroke: \").concat(options.lineColor, \";\\n    fill: none;\\n  }\\n\\n  .edgeLabel {\\n    background-color: \").concat(options.edgeLabelBackground, \";\\n    rect {\\n      opacity: 0.5;\\n      background-color: \").concat(options.edgeLabelBackground, \";\\n      fill: \").concat(options.edgeLabelBackground, \";\\n    }\\n    text-align: center;\\n  }\\n\\n  .cluster rect {\\n    fill: \").concat(options.clusterBkg, \";\\n    stroke: \").concat(options.clusterBorder, \";\\n    stroke-width: 1px;\\n  }\\n\\n  .cluster text {\\n    fill: \").concat(options.titleColor, \";\\n  }\\n\\n  .cluster span {\\n    color: \").concat(options.titleColor, \";\\n  }\\n  /* .cluster div {\\n    color: \").concat(options.titleColor, \";\\n  } */\\n\\n  div.mermaidTooltip {\\n    position: absolute;\\n    text-align: center;\\n    max-width: 200px;\\n    padding: 2px;\\n    font-family: \").concat(options.fontFamily, \";\\n    font-size: 12px;\\n    background: \").concat(options.tertiaryColor, \";\\n    border: 1px solid \").concat(options.border2, \";\\n    border-radius: 2px;\\n    pointer-events: none;\\n    z-index: 100;\\n  }\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/gantt/ganttDb.js\": (\n      /*!***************************************!*\\\n        !*** ./src/diagrams/gantt/ganttDb.js ***!\n        \\***************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"setAxisFormat\": () => (/* binding */setAxisFormat),\n          /* harmony export */\"getAxisFormat\": () => (/* binding */getAxisFormat),\n          /* harmony export */\"setTodayMarker\": () => (/* binding */setTodayMarker),\n          /* harmony export */\"getTodayMarker\": () => (/* binding */getTodayMarker),\n          /* harmony export */\"setDateFormat\": () => (/* binding */setDateFormat),\n          /* harmony export */\"enableInclusiveEndDates\": () => (/* binding */enableInclusiveEndDates),\n          /* harmony export */\"endDatesAreInclusive\": () => (/* binding */endDatesAreInclusive),\n          /* harmony export */\"enableTopAxis\": () => (/* binding */enableTopAxis),\n          /* harmony export */\"topAxisEnabled\": () => (/* binding */topAxisEnabled),\n          /* harmony export */\"getDateFormat\": () => (/* binding */getDateFormat),\n          /* harmony export */\"setIncludes\": () => (/* binding */setIncludes),\n          /* harmony export */\"getIncludes\": () => (/* binding */getIncludes),\n          /* harmony export */\"setExcludes\": () => (/* binding */setExcludes),\n          /* harmony export */\"getExcludes\": () => (/* binding */getExcludes),\n          /* harmony export */\"getLinks\": () => (/* binding */getLinks),\n          /* harmony export */\"setTitle\": () => (/* binding */setTitle),\n          /* harmony export */\"getTitle\": () => (/* binding */getTitle),\n          /* harmony export */\"addSection\": () => (/* binding */addSection),\n          /* harmony export */\"getSections\": () => (/* binding */getSections),\n          /* harmony export */\"getTasks\": () => (/* binding */getTasks),\n          /* harmony export */\"isInvalidDate\": () => (/* binding */isInvalidDate),\n          /* harmony export */\"addTask\": () => (/* binding */addTask),\n          /* harmony export */\"findTaskById\": () => (/* binding */findTaskById),\n          /* harmony export */\"addTaskOrg\": () => (/* binding */addTaskOrg),\n          /* harmony export */\"setLink\": () => (/* binding */setLink),\n          /* harmony export */\"setClass\": () => (/* binding */setClass),\n          /* harmony export */\"setClickEvent\": () => (/* binding */setClickEvent),\n          /* harmony export */\"bindFunctions\": () => (/* binding */bindFunctions),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var moment_mini__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment-mini */\"moment-mini\");\n        /* harmony import */\n        var moment_mini__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @braintree/sanitize-url */\"@braintree/sanitize-url\");\n        /* harmony import */\n        var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        function _toConsumableArray(arr) {\n          return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n        }\n        function _nonIterableSpread() {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        function _unsupportedIterableToArray(o, minLen) {\n          if (!o) return;\n          if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n          var n = Object.prototype.toString.call(o).slice(8, -1);\n          if (n === \"Object\" && o.constructor) n = o.constructor.name;\n          if (n === \"Map\" || n === \"Set\") return Array.from(o);\n          if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n        }\n        function _iterableToArray(iter) {\n          if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n        }\n        function _arrayWithoutHoles(arr) {\n          if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n        }\n        function _arrayLikeToArray(arr, len) {\n          if (len == null || len > arr.length) len = arr.length;\n          for (var i = 0, arr2 = new Array(len); i < len; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        }\n        var dateFormat = '';\n        var axisFormat = '';\n        var todayMarker = '';\n        var includes = [];\n        var excludes = [];\n        var links = {};\n        var title = '';\n        var sections = [];\n        var tasks = [];\n        var currentSection = '';\n        var tags = ['active', 'done', 'crit', 'milestone'];\n        var funs = [];\n        var inclusiveEndDates = false;\n        var topAxis = false; // The serial order of the task in the script\n\n        var lastOrder = 0;\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        var clear = function clear() {\n          sections = [];\n          tasks = [];\n          currentSection = '';\n          funs = [];\n          title = '';\n          taskCnt = 0;\n          lastTask = undefined;\n          lastTaskID = undefined;\n          rawTasks = [];\n          dateFormat = '';\n          axisFormat = '';\n          todayMarker = '';\n          includes = [];\n          excludes = [];\n          inclusiveEndDates = false;\n          topAxis = false;\n          lastOrder = 0;\n          links = {};\n        };\n        var setAxisFormat = function setAxisFormat(txt) {\n          axisFormat = txt;\n        };\n        var getAxisFormat = function getAxisFormat() {\n          return axisFormat;\n        };\n        var setTodayMarker = function setTodayMarker(txt) {\n          todayMarker = txt;\n        };\n        var getTodayMarker = function getTodayMarker() {\n          return todayMarker;\n        };\n        var setDateFormat = function setDateFormat(txt) {\n          dateFormat = txt;\n        };\n        var enableInclusiveEndDates = function enableInclusiveEndDates() {\n          inclusiveEndDates = true;\n        };\n        var endDatesAreInclusive = function endDatesAreInclusive() {\n          return inclusiveEndDates;\n        };\n        var enableTopAxis = function enableTopAxis() {\n          topAxis = true;\n        };\n        var topAxisEnabled = function topAxisEnabled() {\n          return topAxis;\n        };\n        var getDateFormat = function getDateFormat() {\n          return dateFormat;\n        };\n        var setIncludes = function setIncludes(txt) {\n          includes = txt.toLowerCase().split(/[\\s,]+/);\n        };\n        var getIncludes = function getIncludes() {\n          return includes;\n        };\n        var setExcludes = function setExcludes(txt) {\n          excludes = txt.toLowerCase().split(/[\\s,]+/);\n        };\n        var getExcludes = function getExcludes() {\n          return excludes;\n        };\n        var getLinks = function getLinks() {\n          return links;\n        };\n        var setTitle = function setTitle(txt) {\n          title = txt;\n        };\n        var getTitle = function getTitle() {\n          return title;\n        };\n        var addSection = function addSection(txt) {\n          currentSection = txt;\n          sections.push(txt);\n        };\n        var getSections = function getSections() {\n          return sections;\n        };\n        var getTasks = function getTasks() {\n          var allItemsPricessed = compileTasks();\n          var maxDepth = 10;\n          var iterationCount = 0;\n          while (!allItemsPricessed && iterationCount < maxDepth) {\n            allItemsPricessed = compileTasks();\n            iterationCount++;\n          }\n          tasks = rawTasks;\n          return tasks;\n        };\n        var isInvalidDate = function isInvalidDate(date, dateFormat, excludes, includes) {\n          if (includes.indexOf(date.format(dateFormat.trim())) >= 0) {\n            return false;\n          }\n          if (date.isoWeekday() >= 6 && excludes.indexOf('weekends') >= 0) {\n            return true;\n          }\n          if (excludes.indexOf(date.format('dddd').toLowerCase()) >= 0) {\n            return true;\n          }\n          return excludes.indexOf(date.format(dateFormat.trim())) >= 0;\n        };\n        var checkTaskDates = function checkTaskDates(task, dateFormat, excludes, includes) {\n          if (!excludes.length || task.manualEndTime) return;\n          var startTime = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(task.startTime, dateFormat, true);\n          startTime.add(1, 'd');\n          var endTime = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(task.endTime, dateFormat, true);\n          var renderEndTime = fixTaskDates(startTime, endTime, dateFormat, excludes, includes);\n          task.endTime = endTime.toDate();\n          task.renderEndTime = renderEndTime;\n        };\n        var fixTaskDates = function fixTaskDates(startTime, endTime, dateFormat, excludes, includes) {\n          var invalid = false;\n          var renderEndTime = null;\n          while (startTime <= endTime) {\n            if (!invalid) {\n              renderEndTime = endTime.toDate();\n            }\n            invalid = isInvalidDate(startTime, dateFormat, excludes, includes);\n            if (invalid) {\n              endTime.add(1, 'd');\n            }\n            startTime.add(1, 'd');\n          }\n          return renderEndTime;\n        };\n        var getStartDate = function getStartDate(prevTime, dateFormat, str) {\n          str = str.trim(); // Test for after\n\n          var re = /^after\\s+([\\d\\w- ]+)/;\n          var afterStatement = re.exec(str.trim());\n          if (afterStatement !== null) {\n            // check all after ids and take the latest\n            var latestEndingTask = null;\n            afterStatement[1].split(' ').forEach(function (id) {\n              var task = findTaskById(id);\n              if (typeof task !== 'undefined') {\n                if (!latestEndingTask) {\n                  latestEndingTask = task;\n                } else {\n                  if (task.endTime > latestEndingTask.endTime) {\n                    latestEndingTask = task;\n                  }\n                }\n              }\n            });\n            if (!latestEndingTask) {\n              var dt = new Date();\n              dt.setHours(0, 0, 0, 0);\n              return dt;\n            } else {\n              return latestEndingTask.endTime;\n            }\n          } // Check for actual date set\n\n          var mDate = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(str, dateFormat.trim(), true);\n          if (mDate.isValid()) {\n            return mDate.toDate();\n          } else {\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug('Invalid date:' + str);\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug('With date format:' + dateFormat.trim());\n          } // Default date - now\n\n          return new Date();\n        };\n        var durationToDate = function durationToDate(durationStatement, relativeTime) {\n          if (durationStatement !== null) {\n            switch (durationStatement[2]) {\n              case 's':\n                relativeTime.add(durationStatement[1], 'seconds');\n                break;\n              case 'm':\n                relativeTime.add(durationStatement[1], 'minutes');\n                break;\n              case 'h':\n                relativeTime.add(durationStatement[1], 'hours');\n                break;\n              case 'd':\n                relativeTime.add(durationStatement[1], 'days');\n                break;\n              case 'w':\n                relativeTime.add(durationStatement[1], 'weeks');\n                break;\n            }\n          } // Default date - now\n\n          return relativeTime.toDate();\n        };\n        var getEndDate = function getEndDate(prevTime, dateFormat, str, inclusive) {\n          inclusive = inclusive || false;\n          str = str.trim(); // Check for actual date\n\n          var mDate = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(str, dateFormat.trim(), true);\n          if (mDate.isValid()) {\n            if (inclusive) {\n              mDate.add(1, 'd');\n            }\n            return mDate.toDate();\n          }\n          return durationToDate(/^([\\d]+)([wdhms])/.exec(str.trim()), moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(prevTime));\n        };\n        var taskCnt = 0;\n        var parseId = function parseId(idStr) {\n          if (typeof idStr === 'undefined') {\n            taskCnt = taskCnt + 1;\n            return 'task' + taskCnt;\n          }\n          return idStr;\n        }; // id, startDate, endDate\n        // id, startDate, length\n        // id, after x, endDate\n        // id, after x, length\n        // startDate, endDate\n        // startDate, length\n        // after x, endDate\n        // after x, length\n        // endDate\n        // length\n\n        var compileData = function compileData(prevTask, dataStr) {\n          var ds;\n          if (dataStr.substr(0, 1) === ':') {\n            ds = dataStr.substr(1, dataStr.length);\n          } else {\n            ds = dataStr;\n          }\n          var data = ds.split(',');\n          var task = {}; // Get tags like active, done, crit and milestone\n\n          getTaskTags(data, task, tags);\n          for (var i = 0; i < data.length; i++) {\n            data[i] = data[i].trim();\n          }\n          var endTimeData = '';\n          switch (data.length) {\n            case 1:\n              task.id = parseId();\n              task.startTime = prevTask.endTime;\n              endTimeData = data[0];\n              break;\n            case 2:\n              task.id = parseId();\n              task.startTime = getStartDate(undefined, dateFormat, data[0]);\n              endTimeData = data[1];\n              break;\n            case 3:\n              task.id = parseId(data[0]);\n              task.startTime = getStartDate(undefined, dateFormat, data[1]);\n              endTimeData = data[2];\n              break;\n            default:\n          }\n          if (endTimeData) {\n            task.endTime = getEndDate(task.startTime, dateFormat, endTimeData, inclusiveEndDates);\n            task.manualEndTime = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(endTimeData, 'YYYY-MM-DD', true).isValid();\n            checkTaskDates(task, dateFormat, excludes, includes);\n          }\n          return task;\n        };\n        var parseData = function parseData(prevTaskId, dataStr) {\n          var ds;\n          if (dataStr.substr(0, 1) === ':') {\n            ds = dataStr.substr(1, dataStr.length);\n          } else {\n            ds = dataStr;\n          }\n          var data = ds.split(',');\n          var task = {}; // Get tags like active, done, crit and milestone\n\n          getTaskTags(data, task, tags);\n          for (var i = 0; i < data.length; i++) {\n            data[i] = data[i].trim();\n          }\n          switch (data.length) {\n            case 1:\n              task.id = parseId();\n              task.startTime = {\n                type: 'prevTaskEnd',\n                id: prevTaskId\n              };\n              task.endTime = {\n                data: data[0]\n              };\n              break;\n            case 2:\n              task.id = parseId();\n              task.startTime = {\n                type: 'getStartDate',\n                startData: data[0]\n              };\n              task.endTime = {\n                data: data[1]\n              };\n              break;\n            case 3:\n              task.id = parseId(data[0]);\n              task.startTime = {\n                type: 'getStartDate',\n                startData: data[1]\n              };\n              task.endTime = {\n                data: data[2]\n              };\n              break;\n            default:\n          }\n          return task;\n        };\n        var lastTask;\n        var lastTaskID;\n        var rawTasks = [];\n        var taskDb = {};\n        var addTask = function addTask(descr, data) {\n          var rawTask = {\n            section: currentSection,\n            type: currentSection,\n            processed: false,\n            manualEndTime: false,\n            renderEndTime: null,\n            raw: {\n              data: data\n            },\n            task: descr,\n            classes: []\n          };\n          var taskInfo = parseData(lastTaskID, data);\n          rawTask.raw.startTime = taskInfo.startTime;\n          rawTask.raw.endTime = taskInfo.endTime;\n          rawTask.id = taskInfo.id;\n          rawTask.prevTaskId = lastTaskID;\n          rawTask.active = taskInfo.active;\n          rawTask.done = taskInfo.done;\n          rawTask.crit = taskInfo.crit;\n          rawTask.milestone = taskInfo.milestone;\n          rawTask.order = lastOrder;\n          lastOrder++;\n          var pos = rawTasks.push(rawTask);\n          lastTaskID = rawTask.id; // Store cross ref\n\n          taskDb[rawTask.id] = pos - 1;\n        };\n        var findTaskById = function findTaskById(id) {\n          var pos = taskDb[id];\n          return rawTasks[pos];\n        };\n        var addTaskOrg = function addTaskOrg(descr, data) {\n          var newTask = {\n            section: currentSection,\n            type: currentSection,\n            description: descr,\n            task: descr,\n            classes: []\n          };\n          var taskInfo = compileData(lastTask, data);\n          newTask.startTime = taskInfo.startTime;\n          newTask.endTime = taskInfo.endTime;\n          newTask.id = taskInfo.id;\n          newTask.active = taskInfo.active;\n          newTask.done = taskInfo.done;\n          newTask.crit = taskInfo.crit;\n          newTask.milestone = taskInfo.milestone;\n          lastTask = newTask;\n          tasks.push(newTask);\n        };\n        var compileTasks = function compileTasks() {\n          var compileTask = function compileTask(pos) {\n            var task = rawTasks[pos];\n            var startTime = '';\n            switch (rawTasks[pos].raw.startTime.type) {\n              case 'prevTaskEnd':\n                {\n                  var prevTask = findTaskById(task.prevTaskId);\n                  task.startTime = prevTask.endTime;\n                  break;\n                }\n              case 'getStartDate':\n                startTime = getStartDate(undefined, dateFormat, rawTasks[pos].raw.startTime.startData);\n                if (startTime) {\n                  rawTasks[pos].startTime = startTime;\n                }\n                break;\n            }\n            if (rawTasks[pos].startTime) {\n              rawTasks[pos].endTime = getEndDate(rawTasks[pos].startTime, dateFormat, rawTasks[pos].raw.endTime.data, inclusiveEndDates);\n              if (rawTasks[pos].endTime) {\n                rawTasks[pos].processed = true;\n                rawTasks[pos].manualEndTime = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(rawTasks[pos].raw.endTime.data, 'YYYY-MM-DD', true).isValid();\n                checkTaskDates(rawTasks[pos], dateFormat, excludes, includes);\n              }\n            }\n            return rawTasks[pos].processed;\n          };\n          var allProcessed = true;\n          for (var i = 0; i < rawTasks.length; i++) {\n            compileTask(i);\n            allProcessed = allProcessed && rawTasks[i].processed;\n          }\n          return allProcessed;\n        };\n        /**\n         * Called by parser when a link is found. Adds the URL to the vertex data.\n         *\n         * @param ids Comma separated list of ids\n         * @param _linkStr URL to create a link for\n         */\n\n        var setLink = function setLink(ids, _linkStr) {\n          var linkStr = _linkStr;\n          if (_config__WEBPACK_IMPORTED_MODULE_4__.getConfig().securityLevel !== 'loose') {\n            linkStr = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1__.sanitizeUrl)(_linkStr);\n          }\n          ids.split(',').forEach(function (id) {\n            var rawTask = findTaskById(id);\n            if (typeof rawTask !== 'undefined') {\n              pushFun(id, function () {\n                window.open(linkStr, '_self');\n              });\n              links[id] = linkStr;\n            }\n          });\n          setClass(ids, 'clickable');\n        };\n        /**\n         * Called by parser when a special node is found, e.g. a clickable element.\n         *\n         * @param ids Comma separated list of ids\n         * @param className Class to add\n         */\n\n        var setClass = function setClass(ids, className) {\n          ids.split(',').forEach(function (id) {\n            var rawTask = findTaskById(id);\n            if (typeof rawTask !== 'undefined') {\n              rawTask.classes.push(className);\n            }\n          });\n        };\n        var setClickFun = function setClickFun(id, functionName, functionArgs) {\n          if (_config__WEBPACK_IMPORTED_MODULE_4__.getConfig().securityLevel !== 'loose') {\n            return;\n          }\n          if (typeof functionName === 'undefined') {\n            return;\n          }\n          var argList = [];\n          if (typeof functionArgs === 'string') {\n            /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\n            argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\n            for (var i = 0; i < argList.length; i++) {\n              var item = argList[i].trim();\n              /* Removes all double quotes at the start and end of an argument */\n\n              /* This preserves all starting and ending whitespace inside */\n\n              if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\n                item = item.substr(1, item.length - 2);\n              }\n              argList[i] = item;\n            }\n          }\n          /* if no arguments passed into callback, default to passing in id */\n\n          if (argList.length === 0) {\n            argList.push(id);\n          }\n          var rawTask = findTaskById(id);\n          if (typeof rawTask !== 'undefined') {\n            pushFun(id, function () {\n              _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"], [functionName].concat(_toConsumableArray(argList)));\n            });\n          }\n        };\n        /**\n         * The callbackFunction is executed in a click event bound to the task with the specified id or the\n         * task's assigned text\n         *\n         * @param id The task's id\n         * @param callbackFunction A function to be executed when clicked on the task or the task's text\n         */\n\n        var pushFun = function pushFun(id, callbackFunction) {\n          funs.push(function () {\n            // const elem = d3.select(element).select(`[id=\"${id}\"]`)\n            var elem = document.querySelector(\"[id=\\\"\".concat(id, \"\\\"]\"));\n            if (elem !== null) {\n              elem.addEventListener('click', function () {\n                callbackFunction();\n              });\n            }\n          });\n          funs.push(function () {\n            // const elem = d3.select(element).select(`[id=\"${id}-text\"]`)\n            var elem = document.querySelector(\"[id=\\\"\".concat(id, \"-text\\\"]\"));\n            if (elem !== null) {\n              elem.addEventListener('click', function () {\n                callbackFunction();\n              });\n            }\n          });\n        };\n        /**\n         * Called by parser when a click definition is found. Registers an event handler.\n         *\n         * @param ids Comma separated list of ids\n         * @param functionName Function to be called on click\n         * @param functionArgs Function args the function should be called with\n         */\n\n        var setClickEvent = function setClickEvent(ids, functionName, functionArgs) {\n          ids.split(',').forEach(function (id) {\n            setClickFun(id, functionName, functionArgs);\n          });\n          setClass(ids, 'clickable');\n        };\n        /**\n         * Binds all functions previously added to fun (specified through click) to the element\n         *\n         * @param element\n         */\n\n        var bindFunctions = function bindFunctions(element) {\n          funs.forEach(function (fun) {\n            fun(element);\n          });\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          parseDirective: parseDirective,\n          getConfig: function getConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_4__.getConfig().gantt;\n          },\n          clear: clear,\n          setDateFormat: setDateFormat,\n          getDateFormat: getDateFormat,\n          enableInclusiveEndDates: enableInclusiveEndDates,\n          endDatesAreInclusive: endDatesAreInclusive,\n          enableTopAxis: enableTopAxis,\n          topAxisEnabled: topAxisEnabled,\n          setAxisFormat: setAxisFormat,\n          getAxisFormat: getAxisFormat,\n          setTodayMarker: setTodayMarker,\n          getTodayMarker: getTodayMarker,\n          setTitle: setTitle,\n          getTitle: getTitle,\n          addSection: addSection,\n          getSections: getSections,\n          getTasks: getTasks,\n          addTask: addTask,\n          findTaskById: findTaskById,\n          addTaskOrg: addTaskOrg,\n          setIncludes: setIncludes,\n          getIncludes: getIncludes,\n          setExcludes: setExcludes,\n          getExcludes: getExcludes,\n          setClickEvent: setClickEvent,\n          setLink: setLink,\n          getLinks: getLinks,\n          bindFunctions: bindFunctions,\n          durationToDate: durationToDate,\n          isInvalidDate: isInvalidDate\n        };\n        /**\n         * @param data\n         * @param task\n         * @param tags\n         */\n\n        function getTaskTags(data, task, tags) {\n          var matchFound = true;\n          while (matchFound) {\n            matchFound = false;\n            tags.forEach(function (t) {\n              var pattern = '^\\\\s*' + t + '\\\\s*$';\n              var regex = new RegExp(pattern);\n              if (data[0].match(regex)) {\n                task[t] = true;\n                data.shift(1);\n                matchFound = true;\n              }\n            });\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./src/diagrams/gantt/ganttRenderer.js\": (\n      /*!*********************************************!*\\\n        !*** ./src/diagrams/gantt/ganttRenderer.js ***!\n        \\*********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var moment_mini__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment-mini */\"moment-mini\");\n        /* harmony import */\n        var moment_mini__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _parser_gantt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parser/gantt */\"./src/diagrams/gantt/parser/gantt.jison\");\n        /* harmony import */\n        var _parser_gantt__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_parser_gantt__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _ganttDb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ganttDb */\"./src/diagrams/gantt/ganttDb.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        _parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy = _ganttDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n        var setConf = function setConf() {// const keys = Object.keys(cnf);\n          // keys.forEach(function(key) {\n          //   conf[key] = cnf[key];\n          // });\n        };\n        var w;\n        var draw = function draw(text, id) {\n          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().gantt;\n          _parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.clear();\n          _parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.parse(text);\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n          var elem = doc.getElementById(id);\n          w = elem.parentElement.offsetWidth;\n          if (typeof w === 'undefined') {\n            w = 1200;\n          }\n          if (typeof conf.useWidth !== 'undefined') {\n            w = conf.useWidth;\n          }\n          var taskArray = _parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getTasks(); // Set height based on number of tasks\n\n          var h = taskArray.length * (conf.barHeight + conf.barGap) + 2 * conf.topPadding; // Set viewBox\n\n          elem.setAttribute('viewBox', '0 0 ' + w + ' ' + h);\n          var svg = root.select(\"[id=\\\"\".concat(id, \"\\\"]\")); // Set timescale\n\n          var timeScale = (0, d3__WEBPACK_IMPORTED_MODULE_1__.scaleTime)().domain([(0, d3__WEBPACK_IMPORTED_MODULE_1__.min)(taskArray, function (d) {\n            return d.startTime;\n          }), (0, d3__WEBPACK_IMPORTED_MODULE_1__.max)(taskArray, function (d) {\n            return d.endTime;\n          })]).rangeRound([0, w - conf.leftPadding - conf.rightPadding]);\n          var categories = [];\n          for (var i = 0; i < taskArray.length; i++) {\n            categories.push(taskArray[i].type);\n          }\n          var catsUnfiltered = categories; // for vert labels\n\n          categories = checkUnique(categories);\n          /**\n           * @param a\n           * @param b\n           */\n\n          function taskCompare(a, b) {\n            var taskA = a.startTime;\n            var taskB = b.startTime;\n            var result = 0;\n            if (taskA > taskB) {\n              result = 1;\n            } else if (taskA < taskB) {\n              result = -1;\n            }\n            return result;\n          } // Sort the task array using the above taskCompare() so that\n          // tasks are created based on their order of startTime\n\n          taskArray.sort(taskCompare);\n          makeGant(taskArray, w, h);\n          (0, _utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(svg, h, w, conf.useMaxWidth);\n          svg.append('text').text(_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getTitle()).attr('x', w / 2).attr('y', conf.titleTopMargin).attr('class', 'titleText');\n          /**\n           * @param tasks\n           * @param pageWidth\n           * @param pageHeight\n           */\n\n          function makeGant(tasks, pageWidth, pageHeight) {\n            var barHeight = conf.barHeight;\n            var gap = barHeight + conf.barGap;\n            var topPadding = conf.topPadding;\n            var leftPadding = conf.leftPadding;\n            var colorScale = (0, d3__WEBPACK_IMPORTED_MODULE_1__.scaleLinear)().domain([0, categories.length]).range(['#00B9FA', '#F95002']).interpolate(d3__WEBPACK_IMPORTED_MODULE_1__.interpolateHcl);\n            drawExcludeDays(gap, topPadding, leftPadding, pageWidth, pageHeight, tasks, _parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getExcludes(), _parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getIncludes());\n            makeGrid(leftPadding, topPadding, pageWidth, pageHeight);\n            drawRects(tasks, gap, topPadding, leftPadding, barHeight, colorScale, pageWidth, pageHeight);\n            vertLabels(gap, topPadding, leftPadding, barHeight, colorScale);\n            drawToday(leftPadding, topPadding, pageWidth, pageHeight);\n          }\n          /**\n           * @param theArray\n           * @param theGap\n           * @param theTopPad\n           * @param theSidePad\n           * @param theBarHeight\n           * @param theColorScale\n           * @param w\n           */\n\n          function drawRects(theArray, theGap, theTopPad, theSidePad, theBarHeight, theColorScale, w) {\n            // Draw background rects covering the entire width of the graph, these form the section rows.\n            svg.append('g').selectAll('rect').data(theArray).enter().append('rect').attr('x', 0).attr('y', function (d, i) {\n              // Ignore the incoming i value and use our order instead\n              i = d.order;\n              return i * theGap + theTopPad - 2;\n            }).attr('width', function () {\n              return w - conf.rightPadding / 2;\n            }).attr('height', theGap).attr('class', function (d) {\n              for (var _i = 0; _i < categories.length; _i++) {\n                if (d.type === categories[_i]) {\n                  return 'section section' + _i % conf.numberSectionStyles;\n                }\n              }\n              return 'section section0';\n            }); // Draw the rects representing the tasks\n\n            var rectangles = svg.append('g').selectAll('rect').data(theArray).enter();\n            var links = _ganttDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getLinks(); // Render the tasks with links\n            // Render the other tasks\n\n            rectangles.append('rect').attr('id', function (d) {\n              return d.id;\n            }).attr('rx', 3).attr('ry', 3).attr('x', function (d) {\n              if (d.milestone) {\n                return timeScale(d.startTime) + theSidePad + 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;\n              }\n              return timeScale(d.startTime) + theSidePad;\n            }).attr('y', function (d, i) {\n              // Ignore the incoming i value and use our order instead\n              i = d.order;\n              return i * theGap + theTopPad;\n            }).attr('width', function (d) {\n              if (d.milestone) {\n                return theBarHeight;\n              }\n              return timeScale(d.renderEndTime || d.endTime) - timeScale(d.startTime);\n            }).attr('height', theBarHeight).attr('transform-origin', function (d, i) {\n              // Ignore the incoming i value and use our order instead\n              i = d.order;\n              return (timeScale(d.startTime) + theSidePad + 0.5 * (timeScale(d.endTime) - timeScale(d.startTime))).toString() + 'px ' + (i * theGap + theTopPad + 0.5 * theBarHeight).toString() + 'px';\n            }).attr('class', function (d) {\n              var res = 'task';\n              var classStr = '';\n              if (d.classes.length > 0) {\n                classStr = d.classes.join(' ');\n              }\n              var secNum = 0;\n              for (var _i2 = 0; _i2 < categories.length; _i2++) {\n                if (d.type === categories[_i2]) {\n                  secNum = _i2 % conf.numberSectionStyles;\n                }\n              }\n              var taskClass = '';\n              if (d.active) {\n                if (d.crit) {\n                  taskClass += ' activeCrit';\n                } else {\n                  taskClass = ' active';\n                }\n              } else if (d.done) {\n                if (d.crit) {\n                  taskClass = ' doneCrit';\n                } else {\n                  taskClass = ' done';\n                }\n              } else {\n                if (d.crit) {\n                  taskClass += ' crit';\n                }\n              }\n              if (taskClass.length === 0) {\n                taskClass = ' task';\n              }\n              if (d.milestone) {\n                taskClass = ' milestone ' + taskClass;\n              }\n              taskClass += secNum;\n              taskClass += ' ' + classStr;\n              return res + taskClass;\n            }); // Append task labels\n\n            rectangles.append('text').attr('id', function (d) {\n              return d.id + '-text';\n            }).text(function (d) {\n              return d.task;\n            }).attr('font-size', conf.fontSize).attr('x', function (d) {\n              var startX = timeScale(d.startTime);\n              var endX = timeScale(d.renderEndTime || d.endTime);\n              if (d.milestone) {\n                startX += 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;\n              }\n              if (d.milestone) {\n                endX = startX + theBarHeight;\n              }\n              var textWidth = this.getBBox().width; // Check id text width > width of rectangle\n\n              if (textWidth > endX - startX) {\n                if (endX + textWidth + 1.5 * conf.leftPadding > w) {\n                  return startX + theSidePad - 5;\n                } else {\n                  return endX + theSidePad + 5;\n                }\n              } else {\n                return (endX - startX) / 2 + startX + theSidePad;\n              }\n            }).attr('y', function (d, i) {\n              // Ignore the incoming i value and use our order instead\n              i = d.order;\n              return i * theGap + conf.barHeight / 2 + (conf.fontSize / 2 - 2) + theTopPad;\n            }).attr('text-height', theBarHeight).attr('class', function (d) {\n              var startX = timeScale(d.startTime);\n              var endX = timeScale(d.endTime);\n              if (d.milestone) {\n                endX = startX + theBarHeight;\n              }\n              var textWidth = this.getBBox().width;\n              var classStr = '';\n              if (d.classes.length > 0) {\n                classStr = d.classes.join(' ');\n              }\n              var secNum = 0;\n              for (var _i3 = 0; _i3 < categories.length; _i3++) {\n                if (d.type === categories[_i3]) {\n                  secNum = _i3 % conf.numberSectionStyles;\n                }\n              }\n              var taskType = '';\n              if (d.active) {\n                if (d.crit) {\n                  taskType = 'activeCritText' + secNum;\n                } else {\n                  taskType = 'activeText' + secNum;\n                }\n              }\n              if (d.done) {\n                if (d.crit) {\n                  taskType = taskType + ' doneCritText' + secNum;\n                } else {\n                  taskType = taskType + ' doneText' + secNum;\n                }\n              } else {\n                if (d.crit) {\n                  taskType = taskType + ' critText' + secNum;\n                }\n              }\n              if (d.milestone) {\n                taskType += ' milestoneText';\n              } // Check id text width > width of rectangle\n\n              if (textWidth > endX - startX) {\n                if (endX + textWidth + 1.5 * conf.leftPadding > w) {\n                  return classStr + ' taskTextOutsideLeft taskTextOutside' + secNum + ' ' + taskType;\n                } else {\n                  return classStr + ' taskTextOutsideRight taskTextOutside' + secNum + ' ' + taskType + ' width-' + textWidth;\n                }\n              } else {\n                return classStr + ' taskText taskText' + secNum + ' ' + taskType + ' width-' + textWidth;\n              }\n            });\n            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel; // Wrap the tasks in an a tag for working links without javascript\n\n            if (securityLevel === 'sandbox') {\n              var _sandboxElement;\n              _sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('#i' + id);\n              var _root = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(_sandboxElement.nodes()[0].contentDocument.body);\n              var _doc = _sandboxElement.nodes()[0].contentDocument;\n              rectangles.filter(function (d) {\n                return typeof links[d.id] !== 'undefined';\n              }).each(function (o) {\n                var taskRect = _doc.querySelector('#' + o.id);\n                var taskText = _doc.querySelector('#' + o.id + '-text');\n                var oldParent = taskRect.parentNode;\n                var Link = _doc.createElement('a');\n                Link.setAttribute('xlink:href', links[o.id]);\n                Link.setAttribute('target', '_top');\n                oldParent.appendChild(Link);\n                Link.appendChild(taskRect);\n                Link.appendChild(taskText);\n              });\n            }\n          }\n          /**\n           * @param theGap\n           * @param theTopPad\n           * @param theSidePad\n           * @param w\n           * @param h\n           * @param tasks\n           * @param excludes\n           * @param includes\n           */\n\n          function drawExcludeDays(theGap, theTopPad, theSidePad, w, h, tasks, excludes, includes) {\n            var minTime = tasks.reduce(function (min, _ref) {\n              var startTime = _ref.startTime;\n              return min ? Math.min(min, startTime) : startTime;\n            }, 0);\n            var maxTime = tasks.reduce(function (max, _ref2) {\n              var endTime = _ref2.endTime;\n              return max ? Math.max(max, endTime) : endTime;\n            }, 0);\n            var dateFormat = _parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getDateFormat();\n            if (!minTime || !maxTime) return;\n            var excludeRanges = [];\n            var range = null;\n            var d = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(minTime);\n            while (d.valueOf() <= maxTime) {\n              if (_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.isInvalidDate(d, dateFormat, excludes, includes)) {\n                if (!range) {\n                  range = {\n                    start: d.clone(),\n                    end: d.clone()\n                  };\n                } else {\n                  range.end = d.clone();\n                }\n              } else {\n                if (range) {\n                  excludeRanges.push(range);\n                  range = null;\n                }\n              }\n              d.add(1, 'd');\n            }\n            var rectangles = svg.append('g').selectAll('rect').data(excludeRanges).enter();\n            rectangles.append('rect').attr('id', function (d) {\n              return 'exclude-' + d.start.format('YYYY-MM-DD');\n            }).attr('x', function (d) {\n              return timeScale(d.start) + theSidePad;\n            }).attr('y', conf.gridLineStartPadding).attr('width', function (d) {\n              var renderEnd = d.end.clone().add(1, 'day');\n              return timeScale(renderEnd) - timeScale(d.start);\n            }).attr('height', h - theTopPad - conf.gridLineStartPadding).attr('transform-origin', function (d, i) {\n              return (timeScale(d.start) + theSidePad + 0.5 * (timeScale(d.end) - timeScale(d.start))).toString() + 'px ' + (i * theGap + 0.5 * h).toString() + 'px';\n            }).attr('class', 'exclude-range');\n          }\n          /**\n           * @param theSidePad\n           * @param theTopPad\n           * @param w\n           * @param h\n           */\n\n          function makeGrid(theSidePad, theTopPad, w, h) {\n            var bottomXAxis = (0, d3__WEBPACK_IMPORTED_MODULE_1__.axisBottom)(timeScale).tickSize(-h + theTopPad + conf.gridLineStartPadding).tickFormat((0, d3__WEBPACK_IMPORTED_MODULE_1__.timeFormat)(_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getAxisFormat() || conf.axisFormat || '%Y-%m-%d'));\n            svg.append('g').attr('class', 'grid').attr('transform', 'translate(' + theSidePad + ', ' + (h - 50) + ')').call(bottomXAxis).selectAll('text').style('text-anchor', 'middle').attr('fill', '#000').attr('stroke', 'none').attr('font-size', 10).attr('dy', '1em');\n            if (_ganttDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].topAxisEnabled() || conf.topAxis) {\n              var topXAxis = (0, d3__WEBPACK_IMPORTED_MODULE_1__.axisTop)(timeScale).tickSize(-h + theTopPad + conf.gridLineStartPadding).tickFormat((0, d3__WEBPACK_IMPORTED_MODULE_1__.timeFormat)(_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getAxisFormat() || conf.axisFormat || '%Y-%m-%d'));\n              svg.append('g').attr('class', 'grid').attr('transform', 'translate(' + theSidePad + ', ' + theTopPad + ')').call(topXAxis).selectAll('text').style('text-anchor', 'middle').attr('fill', '#000').attr('stroke', 'none').attr('font-size', 10); // .attr('dy', '1em');\n            }\n          }\n          /**\n           * @param theGap\n           * @param theTopPad\n           */\n\n          function vertLabels(theGap, theTopPad) {\n            var numOccurances = [];\n            var prevGap = 0;\n            for (var _i4 = 0; _i4 < categories.length; _i4++) {\n              numOccurances[_i4] = [categories[_i4], getCount(categories[_i4], catsUnfiltered)];\n            }\n            svg.append('g') // without doing this, impossible to put grid lines behind text\n            .selectAll('text').data(numOccurances).enter().append(function (d) {\n              var rows = d[0].split(_common_common__WEBPACK_IMPORTED_MODULE_6__[\"default\"].lineBreakRegex);\n              var dy = -(rows.length - 1) / 2;\n              var svgLabel = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n              svgLabel.setAttribute('dy', dy + 'em');\n              for (var j = 0; j < rows.length; j++) {\n                var tspan = doc.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n                tspan.setAttribute('alignment-baseline', 'central');\n                tspan.setAttribute('x', '10');\n                if (j > 0) tspan.setAttribute('dy', '1em');\n                tspan.textContent = rows[j];\n                svgLabel.appendChild(tspan);\n              }\n              return svgLabel;\n            }).attr('x', 10).attr('y', function (d, i) {\n              if (i > 0) {\n                for (var j = 0; j < i; j++) {\n                  prevGap += numOccurances[i - 1][1];\n                  return d[1] * theGap / 2 + prevGap * theGap + theTopPad;\n                }\n              } else {\n                return d[1] * theGap / 2 + theTopPad;\n              }\n            }).attr('font-size', conf.sectionFontSize).attr('font-size', conf.sectionFontSize).attr('class', function (d) {\n              for (var _i5 = 0; _i5 < categories.length; _i5++) {\n                if (d[0] === categories[_i5]) {\n                  return 'sectionTitle sectionTitle' + _i5 % conf.numberSectionStyles;\n                }\n              }\n              return 'sectionTitle';\n            });\n          }\n          /**\n           * @param theSidePad\n           * @param theTopPad\n           * @param w\n           * @param h\n           */\n\n          function drawToday(theSidePad, theTopPad, w, h) {\n            var todayMarker = _ganttDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTodayMarker();\n            if (todayMarker === 'off') {\n              return;\n            }\n            var todayG = svg.append('g').attr('class', 'today');\n            var today = new Date();\n            var todayLine = todayG.append('line');\n            todayLine.attr('x1', timeScale(today) + theSidePad).attr('x2', timeScale(today) + theSidePad).attr('y1', conf.titleTopMargin).attr('y2', h - conf.titleTopMargin).attr('class', 'today');\n            if (todayMarker !== '') {\n              todayLine.attr('style', todayMarker.replace(/,/g, ';'));\n            }\n          }\n          /**\n           * From this stackexchange question:\n           * http://stackoverflow.com/questions/1890203/unique-for-arrays-in-javascript\n           *\n           * @param arr\n           */\n\n          function checkUnique(arr) {\n            var hash = {};\n            var result = [];\n            for (var _i6 = 0, l = arr.length; _i6 < l; ++_i6) {\n              if (!Object.prototype.hasOwnProperty.call(hash, arr[_i6])) {\n                // eslint-disable-line\n                // it works with objects! in FF, at least\n                hash[arr[_i6]] = true;\n                result.push(arr[_i6]);\n              }\n            }\n            return result;\n          }\n          /**\n           * From this stackexchange question:\n           * http://stackoverflow.com/questions/14227981/count-how-many-strings-in-an-array-have-duplicates-in-the-same-array\n           *\n           * @param arr\n           */\n\n          function getCounts(arr) {\n            var i = arr.length; // const to loop over\n\n            var obj = {}; // obj to store results\n\n            while (i) {\n              obj[arr[--i]] = (obj[arr[i]] || 0) + 1; // count occurrences\n            }\n            return obj;\n          }\n          /**\n           * Get specific from everything\n           *\n           * @param word\n           * @param arr\n           */\n\n          function getCount(word, arr) {\n            return getCounts(arr)[word] || 0;\n          }\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/gantt/styles.js\": (\n      /*!**************************************!*\\\n        !*** ./src/diagrams/gantt/styles.js ***!\n        \\**************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles(options) {\n          return \"\\n  .mermaid-main-font {\\n    font-family: \\\"trebuchet ms\\\", verdana, arial, sans-serif;\\n    font-family: var(--mermaid-font-family);\\n  }\\n  .exclude-range {\\n    fill: \".concat(options.excludeBkgColor, \";\\n  }\\n\\n  .section {\\n    stroke: none;\\n    opacity: 0.2;\\n  }\\n\\n  .section0 {\\n    fill: \").concat(options.sectionBkgColor, \";\\n  }\\n\\n  .section2 {\\n    fill: \").concat(options.sectionBkgColor2, \";\\n  }\\n\\n  .section1,\\n  .section3 {\\n    fill: \").concat(options.altSectionBkgColor, \";\\n    opacity: 0.2;\\n  }\\n\\n  .sectionTitle0 {\\n    fill: \").concat(options.titleColor, \";\\n  }\\n\\n  .sectionTitle1 {\\n    fill: \").concat(options.titleColor, \";\\n  }\\n\\n  .sectionTitle2 {\\n    fill: \").concat(options.titleColor, \";\\n  }\\n\\n  .sectionTitle3 {\\n    fill: \").concat(options.titleColor, \";\\n  }\\n\\n  .sectionTitle {\\n    text-anchor: start;\\n    // font-size: \").concat(options.ganttFontSize, \";\\n    // text-height: 14px;\\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\\n    font-family: var(--mermaid-font-family);\\n\\n  }\\n\\n\\n  /* Grid and axis */\\n\\n  .grid .tick {\\n    stroke: \").concat(options.gridColor, \";\\n    opacity: 0.8;\\n    shape-rendering: crispEdges;\\n    text {\\n      font-family: \").concat(options.fontFamily, \";\\n      fill: \").concat(options.textColor, \";\\n    }\\n  }\\n\\n  .grid path {\\n    stroke-width: 0;\\n  }\\n\\n\\n  /* Today line */\\n\\n  .today {\\n    fill: none;\\n    stroke: \").concat(options.todayLineColor, \";\\n    stroke-width: 2px;\\n  }\\n\\n\\n  /* Task styling */\\n\\n  /* Default task */\\n\\n  .task {\\n    stroke-width: 2;\\n  }\\n\\n  .taskText {\\n    text-anchor: middle;\\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\\n    font-family: var(--mermaid-font-family);\\n  }\\n\\n  // .taskText:not([font-size]) {\\n  //   font-size: \").concat(options.ganttFontSize, \";\\n  // }\\n\\n  .taskTextOutsideRight {\\n    fill: \").concat(options.taskTextDarkColor, \";\\n    text-anchor: start;\\n    // font-size: \").concat(options.ganttFontSize, \";\\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\\n    font-family: var(--mermaid-font-family);\\n\\n  }\\n\\n  .taskTextOutsideLeft {\\n    fill: \").concat(options.taskTextDarkColor, \";\\n    text-anchor: end;\\n    // font-size: \").concat(options.ganttFontSize, \";\\n  }\\n\\n  /* Special case clickable */\\n  .task.clickable {\\n    cursor: pointer;\\n  }\\n  .taskText.clickable {\\n    cursor: pointer;\\n    fill: \").concat(options.taskTextClickableColor, \" !important;\\n    font-weight: bold;\\n  }\\n\\n  .taskTextOutsideLeft.clickable {\\n    cursor: pointer;\\n    fill: \").concat(options.taskTextClickableColor, \" !important;\\n    font-weight: bold;\\n  }\\n\\n  .taskTextOutsideRight.clickable {\\n    cursor: pointer;\\n    fill: \").concat(options.taskTextClickableColor, \" !important;\\n    font-weight: bold;\\n  }\\n\\n  /* Specific task settings for the sections*/\\n\\n  .taskText0,\\n  .taskText1,\\n  .taskText2,\\n  .taskText3 {\\n    fill: \").concat(options.taskTextColor, \";\\n  }\\n\\n  .task0,\\n  .task1,\\n  .task2,\\n  .task3 {\\n    fill: \").concat(options.taskBkgColor, \";\\n    stroke: \").concat(options.taskBorderColor, \";\\n  }\\n\\n  .taskTextOutside0,\\n  .taskTextOutside2\\n  {\\n    fill: \").concat(options.taskTextOutsideColor, \";\\n  }\\n\\n  .taskTextOutside1,\\n  .taskTextOutside3 {\\n    fill: \").concat(options.taskTextOutsideColor, \";\\n  }\\n\\n\\n  /* Active task */\\n\\n  .active0,\\n  .active1,\\n  .active2,\\n  .active3 {\\n    fill: \").concat(options.activeTaskBkgColor, \";\\n    stroke: \").concat(options.activeTaskBorderColor, \";\\n  }\\n\\n  .activeText0,\\n  .activeText1,\\n  .activeText2,\\n  .activeText3 {\\n    fill: \").concat(options.taskTextDarkColor, \" !important;\\n  }\\n\\n\\n  /* Completed task */\\n\\n  .done0,\\n  .done1,\\n  .done2,\\n  .done3 {\\n    stroke: \").concat(options.doneTaskBorderColor, \";\\n    fill: \").concat(options.doneTaskBkgColor, \";\\n    stroke-width: 2;\\n  }\\n\\n  .doneText0,\\n  .doneText1,\\n  .doneText2,\\n  .doneText3 {\\n    fill: \").concat(options.taskTextDarkColor, \" !important;\\n  }\\n\\n\\n  /* Tasks on the critical line */\\n\\n  .crit0,\\n  .crit1,\\n  .crit2,\\n  .crit3 {\\n    stroke: \").concat(options.critBorderColor, \";\\n    fill: \").concat(options.critBkgColor, \";\\n    stroke-width: 2;\\n  }\\n\\n  .activeCrit0,\\n  .activeCrit1,\\n  .activeCrit2,\\n  .activeCrit3 {\\n    stroke: \").concat(options.critBorderColor, \";\\n    fill: \").concat(options.activeTaskBkgColor, \";\\n    stroke-width: 2;\\n  }\\n\\n  .doneCrit0,\\n  .doneCrit1,\\n  .doneCrit2,\\n  .doneCrit3 {\\n    stroke: \").concat(options.critBorderColor, \";\\n    fill: \").concat(options.doneTaskBkgColor, \";\\n    stroke-width: 2;\\n    cursor: pointer;\\n    shape-rendering: crispEdges;\\n  }\\n\\n  .milestone {\\n    transform: rotate(45deg) scale(0.8,0.8);\\n  }\\n\\n  .milestoneText {\\n    font-style: italic;\\n  }\\n  .doneCritText0,\\n  .doneCritText1,\\n  .doneCritText2,\\n  .doneCritText3 {\\n    fill: \").concat(options.taskTextDarkColor, \" !important;\\n  }\\n\\n  .activeCritText0,\\n  .activeCritText1,\\n  .activeCritText2,\\n  .activeCritText3 {\\n    fill: \").concat(options.taskTextDarkColor, \" !important;\\n  }\\n\\n  .titleText {\\n    text-anchor: middle;\\n    font-size: 18px;\\n    fill: \").concat(options.textColor, \"    ;\\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\\n    font-family: var(--mermaid-font-family);\\n  }\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/git/gitGraphAst.js\": (\n      /*!*****************************************!*\\\n        !*** ./src/diagrams/git/gitGraphAst.js ***!\n        \\*****************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setDirection\": () => (/* binding */setDirection),\n          /* harmony export */\"setOptions\": () => (/* binding */setOptions),\n          /* harmony export */\"getOptions\": () => (/* binding */getOptions),\n          /* harmony export */\"commit\": () => (/* binding */commit),\n          /* harmony export */\"branch\": () => (/* binding */branch),\n          /* harmony export */\"merge\": () => (/* binding */merge),\n          /* harmony export */\"checkout\": () => (/* binding */checkout),\n          /* harmony export */\"reset\": () => (/* binding */reset),\n          /* harmony export */\"prettyPrint\": () => (/* binding */prettyPrint),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"getBranchesAsObjArray\": () => (/* binding */getBranchesAsObjArray),\n          /* harmony export */\"getBranches\": () => (/* binding */getBranches),\n          /* harmony export */\"getCommits\": () => (/* binding */getCommits),\n          /* harmony export */\"getCommitsArray\": () => (/* binding */getCommitsArray),\n          /* harmony export */\"getCurrentBranch\": () => (/* binding */getCurrentBranch),\n          /* harmony export */\"getDirection\": () => (/* binding */getDirection),\n          /* harmony export */\"getHead\": () => (/* binding */getHead),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        var commits = {};\n        var head = null;\n        var branches = {\n          master: head\n        };\n        var curBranch = 'master';\n        var direction = 'LR';\n        var seq = 0;\n        function getId() {\n          return (0, _utils__WEBPACK_IMPORTED_MODULE_0__.random)({\n            length: 7\n          });\n        }\n        /**\n         * @param currentCommit\n         * @param otherCommit\n         */\n\n        function isfastforwardable(currentCommit, otherCommit) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Entering isfastforwardable:', currentCommit.id, otherCommit.id);\n          var cnt = 0;\n          while (currentCommit.seq <= otherCommit.seq && currentCommit !== otherCommit && cnt < 1000) {\n            cnt++; // only if other branch has more commits\n\n            if (otherCommit.parent == null) break;\n            if (Array.isArray(otherCommit.parent)) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('In merge commit:', otherCommit.parent);\n              return isfastforwardable(currentCommit, commits[otherCommit.parent[0]]) || isfastforwardable(currentCommit, commits[otherCommit.parent[1]]);\n            } else {\n              otherCommit = commits[otherCommit.parent];\n            }\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(currentCommit.id, otherCommit.id);\n          return currentCommit.id === otherCommit.id;\n        }\n        /**\n         * @param currentCommit\n         * @param otherCommit\n         */\n\n        function isReachableFrom(currentCommit, otherCommit) {\n          var currentSeq = currentCommit.seq;\n          var otherSeq = otherCommit.seq;\n          if (currentSeq > otherSeq) return isfastforwardable(otherCommit, currentCommit);\n          return false;\n        }\n        /**\n         * @param list\n         * @param fn\n         */\n\n        function uniqBy(list, fn) {\n          var recordMap = Object.create(null);\n          return list.reduce(function (out, item) {\n            var key = fn(item);\n            if (!recordMap[key]) {\n              recordMap[key] = true;\n              out.push(item);\n            }\n            return out;\n          }, []);\n        }\n        var setDirection = function setDirection(dir) {\n          direction = dir;\n        };\n        var options = {};\n        var setOptions = function setOptions(rawOptString) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('options str', rawOptString);\n          rawOptString = rawOptString && rawOptString.trim();\n          rawOptString = rawOptString || '{}';\n          try {\n            options = JSON.parse(rawOptString);\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.error('error while parsing gitGraph options', e.message);\n          }\n        };\n        var getOptions = function getOptions() {\n          return options;\n        };\n        var commit = function commit(msg) {\n          var commit = {\n            id: getId(),\n            message: msg,\n            seq: seq++,\n            parent: head == null ? null : head.id\n          };\n          head = commit;\n          commits[commit.id] = commit;\n          branches[curBranch] = commit.id;\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('in pushCommit ' + commit.id);\n        };\n        var branch = function branch(name) {\n          branches[name] = head != null ? head.id : null;\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('in createBranch');\n        };\n        var merge = function merge(otherBranch) {\n          var currentCommit = commits[branches[curBranch]];\n          var otherCommit = commits[branches[otherBranch]];\n          if (isReachableFrom(currentCommit, otherCommit)) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Already merged');\n            return;\n          }\n          if (isfastforwardable(currentCommit, otherCommit)) {\n            branches[curBranch] = branches[otherBranch];\n            head = commits[branches[curBranch]];\n          } else {\n            // create merge commit\n            var _commit = {\n              id: getId(),\n              message: 'merged branch ' + otherBranch + ' into ' + curBranch,\n              seq: seq++,\n              parent: [head == null ? null : head.id, branches[otherBranch]]\n            };\n            head = _commit;\n            commits[_commit.id] = _commit;\n            branches[curBranch] = _commit.id;\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(branches);\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('in mergeBranch');\n        };\n        var checkout = function checkout(branch) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('in checkout');\n          curBranch = branch;\n          var id = branches[curBranch];\n          head = commits[id];\n        };\n        var reset = function reset(commitRef) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('in reset', commitRef);\n          var ref = commitRef.split(':')[0];\n          var parentCount = parseInt(commitRef.split(':')[1]);\n          var commit = ref === 'HEAD' ? head : commits[branches[ref]];\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(commit, parentCount);\n          while (parentCount > 0) {\n            commit = commits[commit.parent];\n            parentCount--;\n            if (!commit) {\n              var err = 'Critical error - unique parent commit not found during reset';\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.error(err);\n              throw err;\n            }\n          }\n          head = commit;\n          branches[curBranch] = commit.id;\n        };\n        /**\n         * @param arr\n         * @param key\n         * @param newval\n         */\n\n        function upsert(arr, key, newval) {\n          var index = arr.indexOf(key);\n          if (index === -1) {\n            arr.push(newval);\n          } else {\n            arr.splice(index, 1, newval);\n          }\n        }\n        /** @param commitArr */\n\n        function prettyPrintCommitHistory(commitArr) {\n          var commit = commitArr.reduce(function (out, commit) {\n            if (out.seq > commit.seq) return out;\n            return commit;\n          }, commitArr[0]);\n          var line = '';\n          commitArr.forEach(function (c) {\n            if (c === commit) {\n              line += '\\t*';\n            } else {\n              line += '\\t|';\n            }\n          });\n          var label = [line, commit.id, commit.seq];\n          for (var _branch in branches) {\n            if (branches[_branch] === commit.id) label.push(_branch);\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(label.join(' '));\n          if (Array.isArray(commit.parent)) {\n            var newCommit = commits[commit.parent[0]];\n            upsert(commitArr, commit, newCommit);\n            commitArr.push(commits[commit.parent[1]]);\n          } else if (commit.parent == null) {\n            return;\n          } else {\n            var nextCommit = commits[commit.parent];\n            upsert(commitArr, commit, nextCommit);\n          }\n          commitArr = uniqBy(commitArr, function (c) {\n            return c.id;\n          });\n          prettyPrintCommitHistory(commitArr);\n        }\n        var prettyPrint = function prettyPrint() {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(commits);\n          var node = getCommitsArray()[0];\n          prettyPrintCommitHistory([node]);\n        };\n        var clear = function clear() {\n          commits = {};\n          head = null;\n          branches = {\n            master: head\n          };\n          curBranch = 'master';\n          seq = 0;\n        };\n        var getBranchesAsObjArray = function getBranchesAsObjArray() {\n          var branchArr = [];\n          for (var _branch2 in branches) {\n            branchArr.push({\n              name: _branch2,\n              commit: commits[branches[_branch2]]\n            });\n          }\n          return branchArr;\n        };\n        var getBranches = function getBranches() {\n          return branches;\n        };\n        var getCommits = function getCommits() {\n          return commits;\n        };\n        var getCommitsArray = function getCommitsArray() {\n          var commitArr = Object.keys(commits).map(function (key) {\n            return commits[key];\n          });\n          commitArr.forEach(function (o) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(o.id);\n          });\n          commitArr.sort(function (a, b) {\n            return b.seq - a.seq;\n          });\n          return commitArr;\n        };\n        var getCurrentBranch = function getCurrentBranch() {\n          return curBranch;\n        };\n        var getDirection = function getDirection() {\n          return direction;\n        };\n        var getHead = function getHead() {\n          return head;\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setDirection: setDirection,\n          setOptions: setOptions,\n          getOptions: getOptions,\n          commit: commit,\n          branch: branch,\n          merge: merge,\n          checkout: checkout,\n          reset: reset,\n          prettyPrint: prettyPrint,\n          clear: clear,\n          getBranchesAsObjArray: getBranchesAsObjArray,\n          getBranches: getBranches,\n          getCommits: getCommits,\n          getCommitsArray: getCommitsArray,\n          getCurrentBranch: getCurrentBranch,\n          getDirection: getDirection,\n          getHead: getHead\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/git/gitGraphRenderer.js\": (\n      /*!**********************************************!*\\\n        !*** ./src/diagrams/git/gitGraphRenderer.js ***!\n        \\**********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _gitGraphAst__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./gitGraphAst */\"./src/diagrams/git/gitGraphAst.js\");\n        /* harmony import */\n        var _parser_gitGraph__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parser/gitGraph */\"./src/diagrams/git/parser/gitGraph.jison\");\n        /* harmony import */\n        var _parser_gitGraph__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_parser_gitGraph__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        var allCommitsDict = {};\n        var branchNum;\n        var config = {\n          nodeSpacing: 150,\n          nodeFillColor: 'yellow',\n          nodeStrokeWidth: 2,\n          nodeStrokeColor: 'grey',\n          lineStrokeWidth: 4,\n          branchOffset: 50,\n          lineColor: 'grey',\n          leftMargin: 50,\n          branchColors: ['#442f74', '#983351', '#609732', '#AA9A39'],\n          nodeRadius: 10,\n          nodeLabel: {\n            width: 75,\n            height: 100,\n            x: -25,\n            y: 0\n          }\n        };\n        var apiConfig = {};\n        var setConf = function setConf(c) {\n          apiConfig = c;\n        };\n        /** @param svg */\n\n        function svgCreateDefs(svg) {\n          svg.append('defs').append('g').attr('id', 'def-commit').append('circle').attr('r', config.nodeRadius).attr('cx', 0).attr('cy', 0);\n          svg.select('#def-commit').append('foreignObject').attr('width', config.nodeLabel.width).attr('height', config.nodeLabel.height).attr('x', config.nodeLabel.x).attr('y', config.nodeLabel.y).attr('class', 'node-label').attr('requiredFeatures', 'http://www.w3.org/TR/SVG11/feature#Extensibility').append('p').html('');\n        }\n        /**\n         * @param svg\n         * @param points\n         * @param colorIdx\n         * @param interpolate\n         */\n\n        function svgDrawLine(svg, points, colorIdx, interpolate) {\n          var curve = (0, _utils__WEBPACK_IMPORTED_MODULE_1__.interpolateToCurve)(interpolate, d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis);\n          var color = config.branchColors[colorIdx % config.branchColors.length];\n          var lineGen = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function (d) {\n            return Math.round(d.x);\n          }).y(function (d) {\n            return Math.round(d.y);\n          }).curve(curve);\n          svg.append('svg:path').attr('d', lineGen(points)).style('stroke', color).style('stroke-width', config.lineStrokeWidth).style('fill', 'none');\n        }\n        /**\n         * Pass in the element and its pre-transform coords\n         *\n         * @param element\n         * @param coords\n         */\n\n        function getElementCoords(element, coords) {\n          coords = coords || element.node().getBBox();\n          var ctm = element.node().getCTM();\n          var xn = ctm.e + coords.x * ctm.a;\n          var yn = ctm.f + coords.y * ctm.d;\n          return {\n            left: xn,\n            top: yn,\n            width: coords.width,\n            height: coords.height\n          };\n        }\n        /**\n         * @param svg\n         * @param fromId\n         * @param toId\n         * @param direction\n         * @param color\n         */\n\n        function svgDrawLineForCommits(svg, fromId, toId, direction, color) {\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('svgDrawLineForCommits: ', fromId, toId);\n          var fromBbox = getElementCoords(svg.select('#node-' + fromId + ' circle'));\n          var toBbox = getElementCoords(svg.select('#node-' + toId + ' circle'));\n          switch (direction) {\n            case 'LR':\n              // (toBbox)\n              //  +--------\n              //          + (fromBbox)\n              if (fromBbox.left - toBbox.left > config.nodeSpacing) {\n                var lineStart = {\n                  x: fromBbox.left - config.nodeSpacing,\n                  y: toBbox.top + toBbox.height / 2\n                };\n                var lineEnd = {\n                  x: toBbox.left + toBbox.width,\n                  y: toBbox.top + toBbox.height / 2\n                };\n                svgDrawLine(svg, [lineStart, lineEnd], color, 'linear');\n                svgDrawLine(svg, [{\n                  x: fromBbox.left,\n                  y: fromBbox.top + fromBbox.height / 2\n                }, {\n                  x: fromBbox.left - config.nodeSpacing / 2,\n                  y: fromBbox.top + fromBbox.height / 2\n                }, {\n                  x: fromBbox.left - config.nodeSpacing / 2,\n                  y: lineStart.y\n                }, lineStart], color);\n              } else {\n                svgDrawLine(svg, [{\n                  x: fromBbox.left,\n                  y: fromBbox.top + fromBbox.height / 2\n                }, {\n                  x: fromBbox.left - config.nodeSpacing / 2,\n                  y: fromBbox.top + fromBbox.height / 2\n                }, {\n                  x: fromBbox.left - config.nodeSpacing / 2,\n                  y: toBbox.top + toBbox.height / 2\n                }, {\n                  x: toBbox.left + toBbox.width,\n                  y: toBbox.top + toBbox.height / 2\n                }], color);\n              }\n              break;\n            case 'BT':\n              //      +           (fromBbox)\n              //      |\n              //      |\n              //              +   (toBbox)\n              if (toBbox.top - fromBbox.top > config.nodeSpacing) {\n                var _lineStart = {\n                  x: toBbox.left + toBbox.width / 2,\n                  y: fromBbox.top + fromBbox.height + config.nodeSpacing\n                };\n                var _lineEnd = {\n                  x: toBbox.left + toBbox.width / 2,\n                  y: toBbox.top\n                };\n                svgDrawLine(svg, [_lineStart, _lineEnd], color, 'linear');\n                svgDrawLine(svg, [{\n                  x: fromBbox.left + fromBbox.width / 2,\n                  y: fromBbox.top + fromBbox.height\n                }, {\n                  x: fromBbox.left + fromBbox.width / 2,\n                  y: fromBbox.top + fromBbox.height + config.nodeSpacing / 2\n                }, {\n                  x: toBbox.left + toBbox.width / 2,\n                  y: _lineStart.y - config.nodeSpacing / 2\n                }, _lineStart], color);\n              } else {\n                svgDrawLine(svg, [{\n                  x: fromBbox.left + fromBbox.width / 2,\n                  y: fromBbox.top + fromBbox.height\n                }, {\n                  x: fromBbox.left + fromBbox.width / 2,\n                  y: fromBbox.top + config.nodeSpacing / 2\n                }, {\n                  x: toBbox.left + toBbox.width / 2,\n                  y: toBbox.top - config.nodeSpacing / 2\n                }, {\n                  x: toBbox.left + toBbox.width / 2,\n                  y: toBbox.top\n                }], color);\n              }\n              break;\n          }\n        }\n        /**\n         * @param svg\n         * @param selector\n         */\n\n        function cloneNode(svg, selector) {\n          return svg.select(selector).node().cloneNode(true);\n        }\n        /**\n         * @param svg\n         * @param commitid\n         * @param branches\n         * @param direction\n         */\n\n        function renderCommitHistory(svg, commitid, branches, direction) {\n          var commit;\n          var numCommits = Object.keys(allCommitsDict).length;\n          if (typeof commitid === 'string') {\n            var cnt = 0;\n            do {\n              cnt++;\n              commit = allCommitsDict[commitid];\n              _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('in renderCommitHistory', commit.id, commit.seq);\n              if (svg.select('#node-' + commitid).size() > 0) {\n                return;\n              }\n              svg.append(function () {\n                return cloneNode(svg, '#def-commit');\n              }).attr('class', 'commit').attr('id', function () {\n                return 'node-' + commit.id;\n              }).attr('transform', function () {\n                switch (direction) {\n                  case 'LR':\n                    return 'translate(' + (commit.seq * config.nodeSpacing + config.leftMargin) + ', ' + branchNum * config.branchOffset + ')';\n                  case 'BT':\n                    return 'translate(' + (branchNum * config.branchOffset + config.leftMargin) + ', ' + (numCommits - commit.seq) * config.nodeSpacing + ')';\n                }\n              }).attr('fill', config.nodeFillColor).attr('stroke', config.nodeStrokeColor).attr('stroke-width', config.nodeStrokeWidth);\n              var branch = void 0;\n              for (var branchName in branches) {\n                if (branches[branchName].commit === commit) {\n                  branch = branches[branchName];\n                  break;\n                }\n              }\n              if (branch) {\n                _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('found branch ', branch.name);\n                svg.select('#node-' + commit.id + ' p').append('xhtml:span').attr('class', 'branch-label').text(branch.name + ', ');\n              }\n              svg.select('#node-' + commit.id + ' p').append('xhtml:span').attr('class', 'commit-id').text(commit.id);\n              if (commit.message !== '' && direction === 'BT') {\n                svg.select('#node-' + commit.id + ' p').append('xhtml:span').attr('class', 'commit-msg').text(', ' + commit.message);\n              }\n              commitid = commit.parent;\n            } while (commitid && allCommitsDict[commitid] && cnt < 1000);\n          }\n          if (Array.isArray(commitid)) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('found merge commmit', commitid);\n            renderCommitHistory(svg, commitid[0], branches, direction);\n            branchNum++;\n            renderCommitHistory(svg, commitid[1], branches, direction);\n            branchNum--;\n          }\n        }\n        /**\n         * @param svg\n         * @param commit\n         * @param direction\n         * @param branchColor\n         */\n\n        function renderLines(svg, commit, direction, branchColor) {\n          branchColor = branchColor || 0;\n          var cnt = 0;\n          while (commit.seq > 0 && !commit.lineDrawn && cnt < 1000) {\n            cnt++;\n            if (typeof commit.parent === 'string') {\n              svgDrawLineForCommits(svg, commit.id, commit.parent, direction, branchColor);\n              commit.lineDrawn = true;\n              commit = allCommitsDict[commit.parent];\n            } else if (Array.isArray(commit.parent)) {\n              svgDrawLineForCommits(svg, commit.id, commit.parent[0], direction, branchColor);\n              svgDrawLineForCommits(svg, commit.id, commit.parent[1], direction, branchColor + 1);\n              renderLines(svg, allCommitsDict[commit.parent[1]], direction, branchColor + 1);\n              commit.lineDrawn = true;\n              commit = allCommitsDict[commit.parent[0]];\n            }\n          }\n        }\n        var draw = function draw(txt, id, ver) {\n          try {\n            var parser = _parser_gitGraph__WEBPACK_IMPORTED_MODULE_3___default().parser;\n            parser.yy = _gitGraphAst__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\n            parser.yy.clear();\n            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n            var sandboxElement;\n            if (securityLevel === 'sandbox') {\n              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n            }\n            var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n            var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('in gitgraph renderer', txt + '\\n', 'id:', id, ver); // Parse the graph definition\n\n            parser.parse(txt + '\\n');\n            config = Object.assign(config, apiConfig, _gitGraphAst__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getOptions());\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('effective options', config);\n            var direction = _gitGraphAst__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getDirection();\n            allCommitsDict = _gitGraphAst__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommits();\n            var branches = _gitGraphAst__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getBranchesAsObjArray();\n            if (direction === 'BT') {\n              config.nodeLabel.x = branches.length * config.branchOffset;\n              config.nodeLabel.width = '100%';\n              config.nodeLabel.y = -1 * 2 * config.nodeRadius;\n            }\n            var svg = root.select(\"[id=\\\"\".concat(id, \"\\\"]\"));\n            svgCreateDefs(svg);\n            branchNum = 1;\n            for (var branch in branches) {\n              var v = branches[branch];\n              renderCommitHistory(svg, v.commit.id, branches, direction);\n              renderLines(svg, v.commit, direction);\n              branchNum++;\n            }\n            svg.attr('height', function () {\n              if (direction === 'BT') return Object.keys(allCommitsDict).length * config.nodeSpacing;\n              return (branches.length + 1) * config.branchOffset;\n            });\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.error('Error while rendering gitgraph');\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.error(e.message);\n          }\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/git/styles.js\": (\n      /*!************************************!*\\\n        !*** ./src/diagrams/git/styles.js ***!\n        \\************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles() {\n          return \"\\n  .commit-id,\\n  .commit-msg,\\n  .branch-label {\\n    fill: lightgrey;\\n    color: lightgrey;\\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\\n    font-family: var(--mermaid-font-family);\\n  }\\n\";\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/info/infoDb.js\": (\n      /*!*************************************!*\\\n        !*** ./src/diagrams/info/infoDb.js ***!\n        \\*************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setMessage\": () => (/* binding */setMessage),\n          /* harmony export */\"getMessage\": () => (/* binding */getMessage),\n          /* harmony export */\"setInfo\": () => (/* binding */setInfo),\n          /* harmony export */\"getInfo\": () => (/* binding */getInfo),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /** Created by knut on 15-01-14. */\n\n        var message = '';\n        var info = false;\n        var setMessage = function setMessage(txt) {\n          _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug('Setting message to: ' + txt);\n          message = txt;\n        };\n        var getMessage = function getMessage() {\n          return message;\n        };\n        var setInfo = function setInfo(inf) {\n          info = inf;\n        };\n        var getInfo = function getInfo() {\n          return info;\n        }; // export const parseError = (err, hash) => {\n        //   global.mermaidAPI.parseError(err, hash)\n        // }\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setMessage: setMessage,\n          getMessage: getMessage,\n          setInfo: setInfo,\n          getInfo: getInfo // parseError\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/info/infoRenderer.js\": (\n      /*!*******************************************!*\\\n        !*** ./src/diagrams/info/infoRenderer.js ***!\n        \\*******************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _infoDb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./infoDb */\"./src/diagrams/info/infoDb.js\");\n        /* harmony import */\n        var _parser_info__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser/info */\"./src/diagrams/info/parser/info.jison\");\n        /* harmony import */\n        var _parser_info__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_parser_info__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /** Created by knut on 14-12-11. */\n\n        var conf = {};\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          keys.forEach(function (key) {\n            conf[key] = cnf[key];\n          });\n        };\n        /**\n         * Draws a an info picture in the tag with id: id based on the graph definition in text.\n         *\n         * @param {any} text\n         * @param {any} id\n         * @param {any} version\n         */\n\n        var draw = function draw(text, id, version) {\n          try {\n            var parser = _parser_info__WEBPACK_IMPORTED_MODULE_1___default().parser;\n            parser.yy = _infoDb__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug('Renering info diagram\\n' + text);\n            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n            var sandboxElement;\n            if (securityLevel === 'sandbox') {\n              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n            }\n            var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n            var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document; // Parse the graph definition\n\n            parser.parse(text);\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug('Parsed info diagram'); // Fetch the default direction, use TD if none was found\n\n            var svg = root.select('#' + id);\n            var g = svg.append('g');\n            g.append('text') // text label for the x axis\n            .attr('x', 100).attr('y', 40).attr('class', 'version').attr('font-size', '32px').style('text-anchor', 'middle').text('v ' + version);\n            svg.attr('height', 100);\n            svg.attr('width', 400); // svg.attr('viewBox', '0 0 300 150');\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.error('Error while rendering info diagram');\n            _logger__WEBPACK_IMPORTED_MODULE_3__.log.error(e.message);\n          }\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/info/styles.js\": (\n      /*!*************************************!*\\\n        !*** ./src/diagrams/info/styles.js ***!\n        \\*************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles() {\n          return \"\";\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/pie/pieDb.js\": (\n      /*!***********************************!*\\\n        !*** ./src/diagrams/pie/pieDb.js ***!\n        \\***********************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        var sections = {};\n        var title = '';\n        var showData = false;\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        var addSection = function addSection(id, value) {\n          if (typeof sections[id] === 'undefined') {\n            sections[id] = value;\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Added new section :', id);\n          }\n        };\n        var getSections = function getSections() {\n          return sections;\n        };\n        var setTitle = function setTitle(txt) {\n          title = txt;\n        };\n        var setShowData = function setShowData(toggle) {\n          showData = toggle;\n        };\n        var getShowData = function getShowData() {\n          return showData;\n        };\n        var getTitle = function getTitle() {\n          return title;\n        };\n        var cleanupValue = function cleanupValue(value) {\n          if (value.substring(0, 1) === ':') {\n            value = value.substring(1).trim();\n            return Number(value.trim());\n          } else {\n            return Number(value.trim());\n          }\n        };\n        var clear = function clear() {\n          sections = {};\n          title = '';\n          showData = false;\n        }; // export const parseError = (err, hash) => {\n        //   global.mermaidAPI.parseError(err, hash)\n        // }\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          parseDirective: parseDirective,\n          getConfig: function getConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().pie;\n          },\n          addSection: addSection,\n          getSections: getSections,\n          cleanupValue: cleanupValue,\n          clear: clear,\n          setTitle: setTitle,\n          getTitle: getTitle,\n          setShowData: setShowData,\n          getShowData: getShowData // parseError\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/pie/pieRenderer.js\": (\n      /*!*****************************************!*\\\n        !*** ./src/diagrams/pie/pieRenderer.js ***!\n        \\*****************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _pieDb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pieDb */\"./src/diagrams/pie/pieDb.js\");\n        /* harmony import */\n        var _parser_pie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parser/pie */\"./src/diagrams/pie/parser/pie.jison\");\n        /* harmony import */\n        var _parser_pie__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_parser_pie__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /** Created by AshishJ on 11-09-2019. */\n\n        var conf = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();\n        /**\n         * Draws a Pie Chart with the data given in text.\n         *\n         * @param text\n         * @param id\n         */\n\n        var width;\n        var height = 450;\n        var draw = function draw(txt, id) {\n          try {\n            conf = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();\n            var parser = _parser_pie__WEBPACK_IMPORTED_MODULE_2___default().parser;\n            parser.yy = _pieDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('Rendering info diagram\\n' + txt);\n            var securityLevel = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n            var sandboxElement;\n            if (securityLevel === 'sandbox') {\n              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n            }\n            var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n            var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document; // Parse the Pie Chart definition\n\n            parser.yy.clear();\n            parser.parse(txt);\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('Parsed info diagram');\n            var elem = doc.getElementById(id);\n            width = elem.parentElement.offsetWidth;\n            if (typeof width === 'undefined') {\n              width = 1200;\n            }\n            if (typeof conf.useWidth !== 'undefined') {\n              width = conf.useWidth;\n            }\n            if (typeof conf.pie.useWidth !== 'undefined') {\n              width = conf.pie.useWidth;\n            }\n            var diagram = root.select('#' + id);\n            (0, _utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(diagram, height, width, conf.pie.useMaxWidth); // Set viewBox\n\n            elem.setAttribute('viewBox', '0 0 ' + width + ' ' + height); // Fetch the default direction, use TD if none was found\n\n            var margin = 40;\n            var legendRectSize = 18;\n            var legendSpacing = 4;\n            var radius = Math.min(width, height) / 2 - margin;\n            var svg = diagram.append('g').attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n            var data = _pieDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getSections();\n            var sum = 0;\n            Object.keys(data).forEach(function (key) {\n              sum += data[key];\n            });\n            var themeVariables = conf.themeVariables;\n            var myGeneratedColors = [themeVariables.pie1, themeVariables.pie2, themeVariables.pie3, themeVariables.pie4, themeVariables.pie5, themeVariables.pie6, themeVariables.pie7, themeVariables.pie8, themeVariables.pie9, themeVariables.pie10, themeVariables.pie11, themeVariables.pie12]; // Set the color scale\n\n            var color = (0, d3__WEBPACK_IMPORTED_MODULE_0__.scaleOrdinal)().range(myGeneratedColors); // Compute the position of each group on the pie:\n\n            var pie = (0, d3__WEBPACK_IMPORTED_MODULE_0__.pie)().value(function (d) {\n              return d[1];\n            });\n            var dataReady = pie(Object.entries(data)); // Shape helper to build arcs:\n\n            var arcGenerator = (0, d3__WEBPACK_IMPORTED_MODULE_0__.arc)().innerRadius(0).outerRadius(radius); // Build the pie chart: each part of the pie is a path that we build using the arc function.\n\n            svg.selectAll('mySlices').data(dataReady).enter().append('path').attr('d', arcGenerator).attr('fill', function (d) {\n              return color(d.data[0]);\n            }).attr('class', 'pieCircle'); // Now add the percentage.\n            // Use the centroid method to get the best coordinates.\n\n            svg.selectAll('mySlices').data(dataReady).enter().append('text').text(function (d) {\n              return (d.data[1] / sum * 100).toFixed(0) + '%';\n            }).attr('transform', function (d) {\n              return 'translate(' + arcGenerator.centroid(d) + ')';\n            }).style('text-anchor', 'middle').attr('class', 'slice');\n            svg.append('text').text(parser.yy.getTitle()).attr('x', 0).attr('y', -(height - 50) / 2).attr('class', 'pieTitleText'); // Add the legends/annotations for each section\n\n            var legend = svg.selectAll('.legend').data(color.domain()).enter().append('g').attr('class', 'legend').attr('transform', function (d, i) {\n              var height = legendRectSize + legendSpacing;\n              var offset = height * color.domain().length / 2;\n              var horz = 12 * legendRectSize;\n              var vert = i * height - offset;\n              return 'translate(' + horz + ',' + vert + ')';\n            });\n            legend.append('rect').attr('width', legendRectSize).attr('height', legendRectSize).style('fill', color).style('stroke', color);\n            legend.data(dataReady).append('text').attr('x', legendRectSize + legendSpacing).attr('y', legendRectSize - legendSpacing).text(function (d) {\n              if (parser.yy.getShowData() || conf.showData || conf.pie.showData) {\n                return d.data[0] + ' [' + d.data[1] + ']';\n              } else {\n                return d.data[0];\n              }\n            });\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.error('Error while rendering info diagram');\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.error(e);\n          }\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/pie/styles.js\": (\n      /*!************************************!*\\\n        !*** ./src/diagrams/pie/styles.js ***!\n        \\************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles(options) {\n          return \"\\n  .pieCircle{\\n    stroke: \".concat(options.pieStrokeColor, \";\\n    stroke-width : \").concat(options.pieStrokeWidth, \";\\n    opacity : \").concat(options.pieOpacity, \";\\n  }\\n  .pieTitleText {\\n    text-anchor: middle;\\n    font-size: \").concat(options.pieTitleTextSize, \";\\n    fill: \").concat(options.pieTitleTextColor, \";\\n    font-family: \").concat(options.fontFamily, \";\\n  }\\n  .slice {\\n    font-family: \").concat(options.fontFamily, \";\\n    fill: \").concat(options.pieSectionTextColor, \";\\n    font-size:\").concat(options.pieSectionTextSize, \";\\n    // fill: white;\\n  }\\n  .legend text {\\n    fill: \").concat(options.pieLegendTextColor, \";\\n    font-family: \").concat(options.fontFamily, \";\\n    font-size: \").concat(options.pieLegendTextSize, \";\\n  }\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/requirement/requirementDb.js\": (\n      /*!***************************************************!*\\\n        !*** ./src/diagrams/requirement/requirementDb.js ***!\n        \\***************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        var relations = [];\n        var latestRequirement = {};\n        var requirements = {};\n        var latestElement = {};\n        var elements = {};\n        var RequirementType = {\n          REQUIREMENT: 'Requirement',\n          FUNCTIONAL_REQUIREMENT: 'Functional Requirement',\n          INTERFACE_REQUIREMENT: 'Interface Requirement',\n          PERFORMANCE_REQUIREMENT: 'Performance Requirement',\n          PHYSICAL_REQUIREMENT: 'Physical Requirement',\n          DESIGN_CONSTRAINT: 'Design Constraint'\n        };\n        var RiskLevel = {\n          LOW_RISK: 'Low',\n          MED_RISK: 'Medium',\n          HIGH_RISK: 'High'\n        };\n        var VerifyType = {\n          VERIFY_ANALYSIS: 'Analysis',\n          VERIFY_DEMONSTRATION: 'Demonstration',\n          VERIFY_INSPECTION: 'Inspection',\n          VERIFY_TEST: 'Test'\n        };\n        var Relationships = {\n          CONTAINS: 'contains',\n          COPIES: 'copies',\n          DERIVES: 'derives',\n          SATISFIES: 'satisfies',\n          VERIFIES: 'verifies',\n          REFINES: 'refines',\n          TRACES: 'traces'\n        };\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        var addRequirement = function addRequirement(name, type) {\n          if (typeof requirements[name] === 'undefined') {\n            requirements[name] = {\n              name: name,\n              type: type,\n              id: latestRequirement.id,\n              text: latestRequirement.text,\n              risk: latestRequirement.risk,\n              verifyMethod: latestRequirement.verifyMethod\n            };\n          }\n          latestRequirement = {};\n          return requirements[name];\n        };\n        var getRequirements = function getRequirements() {\n          return requirements;\n        };\n        var setNewReqId = function setNewReqId(id) {\n          if (typeof latestRequirement != 'undefined') {\n            latestRequirement.id = id;\n          }\n        };\n        var setNewReqText = function setNewReqText(text) {\n          if (typeof latestRequirement != 'undefined') {\n            latestRequirement.text = text;\n          }\n        };\n        var setNewReqRisk = function setNewReqRisk(risk) {\n          if (typeof latestRequirement != 'undefined') {\n            latestRequirement.risk = risk;\n          }\n        };\n        var setNewReqVerifyMethod = function setNewReqVerifyMethod(verifyMethod) {\n          if (typeof latestRequirement != 'undefined') {\n            latestRequirement.verifyMethod = verifyMethod;\n          }\n        };\n        var addElement = function addElement(name) {\n          if (typeof elements[name] === 'undefined') {\n            elements[name] = {\n              name: name,\n              type: latestElement.type,\n              docRef: latestElement.docRef\n            };\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Added new requirement: ', name);\n          }\n          latestElement = {};\n          return elements[name];\n        };\n        var getElements = function getElements() {\n          return elements;\n        };\n        var setNewElementType = function setNewElementType(type) {\n          if (typeof latestElement != 'undefined') {\n            latestElement.type = type;\n          }\n        };\n        var setNewElementDocRef = function setNewElementDocRef(docRef) {\n          if (typeof latestElement != 'undefined') {\n            latestElement.docRef = docRef;\n          }\n        };\n        var addRelationship = function addRelationship(type, src, dst) {\n          relations.push({\n            type: type,\n            src: src,\n            dst: dst\n          });\n        };\n        var getRelationships = function getRelationships() {\n          return relations;\n        };\n        var clear = function clear() {\n          relations = [];\n          latestRequirement = {};\n          requirements = {};\n          latestElement = {};\n          elements = {};\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          RequirementType: RequirementType,\n          RiskLevel: RiskLevel,\n          VerifyType: VerifyType,\n          Relationships: Relationships,\n          parseDirective: parseDirective,\n          getConfig: function getConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().req;\n          },\n          addRequirement: addRequirement,\n          getRequirements: getRequirements,\n          setNewReqId: setNewReqId,\n          setNewReqText: setNewReqText,\n          setNewReqRisk: setNewReqRisk,\n          setNewReqVerifyMethod: setNewReqVerifyMethod,\n          addElement: addElement,\n          getElements: getElements,\n          setNewElementType: setNewElementType,\n          setNewElementDocRef: setNewElementDocRef,\n          addRelationship: addRelationship,\n          getRelationships: getRelationships,\n          clear: clear\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/requirement/requirementMarkers.js\": (\n      /*!********************************************************!*\\\n        !*** ./src/diagrams/requirement/requirementMarkers.js ***!\n        \\********************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var ReqMarkers = {\n          CONTAINS: 'contains',\n          ARROW: 'arrow'\n        };\n        var insertLineEndings = function insertLineEndings(parentNode, conf) {\n          var containsNode = parentNode.append('defs').append('marker').attr('id', ReqMarkers.CONTAINS + '_line_ending').attr('refX', 0).attr('refY', conf.line_height / 2).attr('markerWidth', conf.line_height).attr('markerHeight', conf.line_height).attr('orient', 'auto').append('g');\n          containsNode.append('circle').attr('cx', conf.line_height / 2).attr('cy', conf.line_height / 2).attr('r', conf.line_height / 2) // .attr('stroke', conf.rect_border_color)\n          // .attr('stroke-width', 1)\n          .attr('fill', 'none');\n          containsNode.append('line').attr('x1', 0).attr('x2', conf.line_height).attr('y1', conf.line_height / 2).attr('y2', conf.line_height / 2) // .attr('stroke', conf.rect_border_color)\n          .attr('stroke-width', 1);\n          containsNode.append('line').attr('y1', 0).attr('y2', conf.line_height).attr('x1', conf.line_height / 2).attr('x2', conf.line_height / 2) // .attr('stroke', conf.rect_border_color)\n          .attr('stroke-width', 1);\n          parentNode.append('defs').append('marker').attr('id', ReqMarkers.ARROW + '_line_ending').attr('refX', conf.line_height).attr('refY', 0.5 * conf.line_height).attr('markerWidth', conf.line_height).attr('markerHeight', conf.line_height).attr('orient', 'auto').append('path').attr('d', \"M0,0\\n      L\".concat(conf.line_height, \",\").concat(conf.line_height / 2, \"\\n      M\").concat(conf.line_height, \",\").concat(conf.line_height / 2, \"\\n      L0,\").concat(conf.line_height)).attr('stroke-width', 1); // .attr('stroke', conf.rect_border_color);\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          ReqMarkers: ReqMarkers,\n          insertLineEndings: insertLineEndings\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/requirement/requirementRenderer.js\": (\n      /*!*********************************************************!*\\\n        !*** ./src/diagrams/requirement/requirementRenderer.js ***!\n        \\*********************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"drawReqs\": () => (/* binding */drawReqs),\n          /* harmony export */\"drawElements\": () => (/* binding */drawElements),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dagre */\"dagre\");\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dagre__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parser/requirementDiagram */\"./src/diagrams/requirement/parser/requirementDiagram.jison\");\n        /* harmony import */\n        var _parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__);\n        /* harmony import */\n        var _requirementDb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./requirementDb */\"./src/diagrams/requirement/requirementDb.js\");\n        /* harmony import */\n        var _requirementMarkers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./requirementMarkers */\"./src/diagrams/requirement/requirementMarkers.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n\n        // import * as configApi from '../../config';\n\n        var conf = {};\n        var relCnt = 0;\n        var setConf = function setConf(cnf) {\n          if (typeof cnf === 'undefined') {\n            return;\n          }\n          var keys = Object.keys(cnf);\n          for (var i = 0; i < keys.length; i++) {\n            conf[keys[i]] = cnf[keys[i]];\n          }\n        };\n        var newRectNode = function newRectNode(parentNode, id) {\n          return parentNode.insert('rect', '#' + id).attr('class', 'req reqBox').attr('x', 0).attr('y', 0).attr('width', conf.rect_min_width + 'px').attr('height', conf.rect_min_height + 'px');\n        };\n        var newTitleNode = function newTitleNode(parentNode, id, txts) {\n          var x = conf.rect_min_width / 2;\n          var title = parentNode.append('text').attr('class', 'req reqLabel reqTitle').attr('id', id).attr('x', x).attr('y', conf.rect_padding).attr('dominant-baseline', 'hanging'); // .attr(\n          //   'style',\n          //   'font-family: ' + configApi.getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\n          // )\n\n          var i = 0;\n          txts.forEach(function (textStr) {\n            if (i == 0) {\n              title.append('tspan').attr('text-anchor', 'middle').attr('x', conf.rect_min_width / 2).attr('dy', 0).text(textStr);\n            } else {\n              title.append('tspan').attr('text-anchor', 'middle').attr('x', conf.rect_min_width / 2).attr('dy', conf.line_height * 0.75).text(textStr);\n            }\n            i++;\n          });\n          var yPadding = 1.5 * conf.rect_padding;\n          var linePadding = i * conf.line_height * 0.75;\n          var totalY = yPadding + linePadding;\n          parentNode.append('line').attr('class', 'req-title-line').attr('x1', '0').attr('x2', conf.rect_min_width).attr('y1', totalY).attr('y2', totalY);\n          return {\n            titleNode: title,\n            y: totalY\n          };\n        };\n        var newBodyNode = function newBodyNode(parentNode, id, txts, yStart) {\n          var body = parentNode.append('text').attr('class', 'req reqLabel').attr('id', id).attr('x', conf.rect_padding).attr('y', yStart).attr('dominant-baseline', 'hanging'); // .attr(\n          //   'style',\n          //   'font-family: ' + configApi.getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\n          // );\n\n          var currentRow = 0;\n          var charLimit = 30;\n          var wrappedTxts = [];\n          txts.forEach(function (textStr) {\n            var currentTextLen = textStr.length;\n            while (currentTextLen > charLimit && currentRow < 3) {\n              var firstPart = textStr.substring(0, charLimit);\n              textStr = textStr.substring(charLimit, textStr.length);\n              currentTextLen = textStr.length;\n              wrappedTxts[wrappedTxts.length] = firstPart;\n              currentRow++;\n            }\n            if (currentRow == 3) {\n              var lastStr = wrappedTxts[wrappedTxts.length - 1];\n              wrappedTxts[wrappedTxts.length - 1] = lastStr.substring(0, lastStr.length - 4) + '...';\n            } else {\n              wrappedTxts[wrappedTxts.length] = textStr;\n            }\n            currentRow = 0;\n          });\n          wrappedTxts.forEach(function (textStr) {\n            body.append('tspan').attr('x', conf.rect_padding).attr('dy', conf.line_height).text(textStr);\n          });\n          return body;\n        };\n        var addEdgeLabel = function addEdgeLabel(parentNode, svgPath, conf, txt) {\n          // Find the half-way point\n          var len = svgPath.node().getTotalLength();\n          var labelPoint = svgPath.node().getPointAtLength(len * 0.5); // Append a text node containing the label\n\n          var labelId = 'rel' + relCnt;\n          relCnt++;\n          var labelNode = parentNode.append('text').attr('class', 'req relationshipLabel').attr('id', labelId).attr('x', labelPoint.x).attr('y', labelPoint.y).attr('text-anchor', 'middle').attr('dominant-baseline', 'middle') // .attr('style', 'font-family: ' + conf.fontFamily + '; font-size: ' + conf.fontSize + 'px')\n          .text(txt); // Figure out how big the opaque 'container' rectangle needs to be\n\n          var labelBBox = labelNode.node().getBBox(); // Insert the opaque rectangle before the text label\n\n          parentNode.insert('rect', '#' + labelId).attr('class', 'req reqLabelBox').attr('x', labelPoint.x - labelBBox.width / 2).attr('y', labelPoint.y - labelBBox.height / 2).attr('width', labelBBox.width).attr('height', labelBBox.height).attr('fill', 'white').attr('fill-opacity', '85%');\n        };\n        var drawRelationshipFromLayout = function drawRelationshipFromLayout(svg, rel, g, insert) {\n          // Find the edge relating to this relationship\n          var edge = g.edge(elementString(rel.src), elementString(rel.dst)); // Get a function that will generate the line path\n\n          var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function (d) {\n            return d.x;\n          }).y(function (d) {\n            return d.y;\n          }); // Insert the line at the right place\n\n          var svgPath = svg.insert('path', '#' + insert).attr('class', 'er relationshipLine').attr('d', lineFunction(edge.points)).attr('fill', 'none');\n          if (rel.type == _requirementDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].Relationships.CONTAINS) {\n            svgPath.attr('marker-start', 'url(' + _common_common__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getUrl(conf.arrowMarkerAbsolute) + '#' + rel.type + '_line_ending' + ')');\n          } else {\n            svgPath.attr('stroke-dasharray', '10,7');\n            svgPath.attr('marker-end', 'url(' + _common_common__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getUrl(conf.arrowMarkerAbsolute) + '#' + _requirementMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].ReqMarkers.ARROW + '_line_ending' + ')');\n          }\n          addEdgeLabel(svg, svgPath, conf, \"<<\".concat(rel.type, \">>\"));\n          return;\n        };\n        var drawReqs = function drawReqs(reqs, graph, svgNode) {\n          Object.keys(reqs).forEach(function (reqName) {\n            var req = reqs[reqName];\n            reqName = elementString(reqName);\n            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info('Added new requirement: ', reqName);\n            var groupNode = svgNode.append('g').attr('id', reqName);\n            var textId = 'req-' + reqName;\n            var rectNode = newRectNode(groupNode, textId);\n            var nodes = [];\n            var titleNodeInfo = newTitleNode(groupNode, reqName + '_title', [\"<<\".concat(req.type, \">>\"), \"\".concat(req.name)]);\n            nodes.push(titleNodeInfo.titleNode);\n            var bodyNode = newBodyNode(groupNode, reqName + '_body', [\"Id: \".concat(req.id), \"Text: \".concat(req.text), \"Risk: \".concat(req.risk), \"Verification: \".concat(req.verifyMethod)], titleNodeInfo.y);\n            nodes.push(bodyNode);\n            var rectBBox = rectNode.node().getBBox(); // Add the entity to the graph\n\n            graph.setNode(reqName, {\n              width: rectBBox.width,\n              height: rectBBox.height,\n              shape: 'rect',\n              id: reqName\n            });\n          });\n        };\n        var drawElements = function drawElements(els, graph, svgNode) {\n          Object.keys(els).forEach(function (elName) {\n            var el = els[elName];\n            var id = elementString(elName);\n            var groupNode = svgNode.append('g').attr('id', id);\n            var textId = 'element-' + id;\n            var rectNode = newRectNode(groupNode, textId);\n            var nodes = [];\n            var titleNodeInfo = newTitleNode(groupNode, textId + '_title', [\"<<Element>>\", \"\".concat(elName)]);\n            nodes.push(titleNodeInfo.titleNode);\n            var bodyNode = newBodyNode(groupNode, textId + '_body', [\"Type: \".concat(el.type || 'Not Specified'), \"Doc Ref: \".concat(el.docRef || 'None')], titleNodeInfo.y);\n            nodes.push(bodyNode);\n            var rectBBox = rectNode.node().getBBox(); // Add the entity to the graph\n\n            graph.setNode(id, {\n              width: rectBBox.width,\n              height: rectBBox.height,\n              shape: 'rect',\n              id: id\n            });\n          });\n        };\n        var addRelationships = function addRelationships(relationships, g) {\n          relationships.forEach(function (r) {\n            var src = elementString(r.src);\n            var dst = elementString(r.dst);\n            g.setEdge(src, dst, {\n              relationship: r\n            });\n          });\n          return relationships;\n        };\n        var adjustEntities = function adjustEntities(svgNode, graph) {\n          graph.nodes().forEach(function (v) {\n            if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\n              svgNode.select('#' + v);\n              svgNode.select('#' + v).attr('transform', 'translate(' + (graph.node(v).x - graph.node(v).width / 2) + ',' + (graph.node(v).y - graph.node(v).height / 2) + ' )');\n            }\n          });\n          return;\n        };\n        var elementString = function elementString(str) {\n          return str.replace(/\\s/g, '').replace(/\\./g, '_');\n        };\n        var draw = function draw(text, id) {\n          _parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__.parser.yy = _requirementDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\n          _parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__.parser.yy.clear();\n          _parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__.parser.parse(text);\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_8__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n          var svg = root.select(\"[id='\".concat(id, \"']\"));\n          _requirementMarkers__WEBPACK_IMPORTED_MODULE_5__[\"default\"].insertLineEndings(svg, conf);\n          var g = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({\n            multigraph: false,\n            compound: false,\n            directed: true\n          }).setGraph({\n            rankdir: conf.layoutDirection,\n            marginx: 20,\n            marginy: 20,\n            nodesep: 100,\n            edgesep: 100,\n            ranksep: 100\n          }).setDefaultEdgeLabel(function () {\n            return {};\n          });\n          var requirements = _requirementDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRequirements();\n          var elements = _requirementDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getElements();\n          var relationships = _requirementDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRelationships();\n          drawReqs(requirements, g, svg);\n          drawElements(elements, g, svg);\n          addRelationships(relationships, g);\n          dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(g);\n          adjustEntities(svg, g);\n          relationships.forEach(function (rel) {\n            drawRelationshipFromLayout(svg, rel, g, id);\n          }); // svg.attr('height', '500px');\n\n          var padding = conf.rect_padding;\n          var svgBounds = svg.node().getBBox();\n          var width = svgBounds.width + padding * 2;\n          var height = svgBounds.height + padding * 2;\n          (0, _utils__WEBPACK_IMPORTED_MODULE_9__.configureSvgSize)(svg, height, width, conf.useMaxWidth);\n          svg.attr('viewBox', \"\".concat(svgBounds.x - padding, \" \").concat(svgBounds.y - padding, \" \").concat(width, \" \").concat(height));\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/requirement/styles.js\": (\n      /*!********************************************!*\\\n        !*** ./src/diagrams/requirement/styles.js ***!\n        \\********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles(options) {\n          return \"\\n\\n  marker {\\n    fill: \".concat(options.relationColor, \";\\n    stroke: \").concat(options.relationColor, \";\\n  }\\n\\n  marker.cross {\\n    stroke: \").concat(options.lineColor, \";\\n  }\\n\\n  svg {\\n    font-family: \").concat(options.fontFamily, \";\\n    font-size: \").concat(options.fontSize, \";\\n  }\\n\\n  .reqBox {\\n    fill: \").concat(options.requirementBackground, \";\\n    fill-opacity: 100%;\\n    stroke: \").concat(options.requirementBorderColor, \";\\n    stroke-width: \").concat(options.requirementBorderSize, \";\\n  }\\n  \\n  .reqTitle, .reqLabel{\\n    fill:  \").concat(options.requirementTextColor, \";\\n  }\\n  .reqLabelBox {\\n    fill: \").concat(options.relationLabelBackground, \";\\n    fill-opacity: 100%;\\n  }\\n\\n  .req-title-line {\\n    stroke: \").concat(options.requirementBorderColor, \";\\n    stroke-width: \").concat(options.requirementBorderSize, \";\\n  }\\n  .relationshipLine {\\n    stroke: \").concat(options.relationColor, \";\\n    stroke-width: 1;\\n  }\\n  .relationshipLabel {\\n    fill: \").concat(options.relationLabelColor, \";\\n  }\\n\\n\");\n        }; // fill', conf.rect_fill)\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/sequence/sequenceDb.js\": (\n      /*!*********************************************!*\\\n        !*** ./src/diagrams/sequence/sequenceDb.js ***!\n        \\*********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"addActor\": () => (/* binding */addActor),\n          /* harmony export */\"addMessage\": () => (/* binding */addMessage),\n          /* harmony export */\"addSignal\": () => (/* binding */addSignal),\n          /* harmony export */\"getMessages\": () => (/* binding */getMessages),\n          /* harmony export */\"getActors\": () => (/* binding */getActors),\n          /* harmony export */\"getActor\": () => (/* binding */getActor),\n          /* harmony export */\"getActorKeys\": () => (/* binding */getActorKeys),\n          /* harmony export */\"getTitle\": () => (/* binding */getTitle),\n          /* harmony export */\"getTitleWrapped\": () => (/* binding */getTitleWrapped),\n          /* harmony export */\"enableSequenceNumbers\": () => (/* binding */enableSequenceNumbers),\n          /* harmony export */\"showSequenceNumbers\": () => (/* binding */showSequenceNumbers),\n          /* harmony export */\"setWrap\": () => (/* binding */setWrap),\n          /* harmony export */\"autoWrap\": () => (/* binding */autoWrap),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"parseMessage\": () => (/* binding */parseMessage),\n          /* harmony export */\"LINETYPE\": () => (/* binding */LINETYPE),\n          /* harmony export */\"ARROWTYPE\": () => (/* binding */ARROWTYPE),\n          /* harmony export */\"PLACEMENT\": () => (/* binding */PLACEMENT),\n          /* harmony export */\"addNote\": () => (/* binding */addNote),\n          /* harmony export */\"addLinks\": () => (/* binding */addLinks),\n          /* harmony export */\"addALink\": () => (/* binding */addALink),\n          /* harmony export */\"addProperties\": () => (/* binding */addProperties),\n          /* harmony export */\"addDetails\": () => (/* binding */addDetails),\n          /* harmony export */\"getActorProperty\": () => (/* binding */getActorProperty),\n          /* harmony export */\"setTitle\": () => (/* binding */setTitle),\n          /* harmony export */\"apply\": () => (/* binding */apply),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        var prevActor = undefined;\n        var actors = {};\n        var messages = [];\n        var notes = [];\n        var title = '';\n        var titleWrapped = false;\n        var sequenceNumbersEnabled = false;\n        var wrapEnabled = false;\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        var addActor = function addActor(id, name, description, type) {\n          // Don't allow description nulling\n          var old = actors[id];\n          if (old && name === old.name && description == null) return; // Don't allow null descriptions, either\n\n          if (description == null || description.text == null) {\n            description = {\n              text: name,\n              wrap: null,\n              type: type\n            };\n          }\n          if (type == null || description.text == null) {\n            description = {\n              text: name,\n              wrap: null,\n              type: type\n            };\n          }\n          actors[id] = {\n            name: name,\n            description: description.text,\n            wrap: description.wrap === undefined && autoWrap() || !!description.wrap,\n            prevActor: prevActor,\n            links: {},\n            properties: {},\n            actorCnt: null,\n            rectData: null,\n            type: type || 'participant'\n          };\n          if (prevActor && actors[prevActor]) {\n            actors[prevActor].nextActor = id;\n          }\n          prevActor = id;\n        };\n        var activationCount = function activationCount(part) {\n          var i;\n          var count = 0;\n          for (i = 0; i < messages.length; i++) {\n            if (messages[i].type === LINETYPE.ACTIVE_START) {\n              if (messages[i].from.actor === part) {\n                count++;\n              }\n            }\n            if (messages[i].type === LINETYPE.ACTIVE_END) {\n              if (messages[i].from.actor === part) {\n                count--;\n              }\n            }\n          }\n          return count;\n        };\n        var addMessage = function addMessage(idFrom, idTo, message, answer) {\n          messages.push({\n            from: idFrom,\n            to: idTo,\n            message: message.text,\n            wrap: message.wrap === undefined && autoWrap() || !!message.wrap,\n            answer: answer\n          });\n        };\n        var addSignal = function addSignal(idFrom, idTo) {\n          var message = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n            text: undefined,\n            wrap: undefined\n          };\n          var messageType = arguments.length > 3 ? arguments[3] : undefined;\n          if (messageType === LINETYPE.ACTIVE_END) {\n            var cnt = activationCount(idFrom.actor);\n            if (cnt < 1) {\n              // Bail out as there is an activation signal from an inactive participant\n              var error = new Error('Trying to inactivate an inactive participant (' + idFrom.actor + ')');\n              error.hash = {\n                text: '->>-',\n                token: '->>-',\n                line: '1',\n                loc: {\n                  first_line: 1,\n                  last_line: 1,\n                  first_column: 1,\n                  last_column: 1\n                },\n                expected: [\"'ACTIVE_PARTICIPANT'\"]\n              };\n              throw error;\n            }\n          }\n          messages.push({\n            from: idFrom,\n            to: idTo,\n            message: message.text,\n            wrap: message.wrap === undefined && autoWrap() || !!message.wrap,\n            type: messageType\n          });\n          return true;\n        };\n        var getMessages = function getMessages() {\n          return messages;\n        };\n        var getActors = function getActors() {\n          return actors;\n        };\n        var getActor = function getActor(id) {\n          return actors[id];\n        };\n        var getActorKeys = function getActorKeys() {\n          return Object.keys(actors);\n        };\n        var getTitle = function getTitle() {\n          return title;\n        };\n        var getTitleWrapped = function getTitleWrapped() {\n          return titleWrapped;\n        };\n        var enableSequenceNumbers = function enableSequenceNumbers() {\n          sequenceNumbersEnabled = true;\n        };\n        var showSequenceNumbers = function showSequenceNumbers() {\n          return sequenceNumbersEnabled;\n        };\n        var setWrap = function setWrap(wrapSetting) {\n          wrapEnabled = wrapSetting;\n        };\n        var autoWrap = function autoWrap() {\n          return wrapEnabled;\n        };\n        var clear = function clear() {\n          actors = {};\n          messages = [];\n        };\n        var parseMessage = function parseMessage(str) {\n          var _str = str.trim();\n          var message = {\n            text: _str.replace(/^[:]?(?:no)?wrap:/, '').trim(),\n            wrap: _str.match(/^[:]?wrap:/) !== null ? true : _str.match(/^[:]?nowrap:/) !== null ? false : undefined\n          };\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('parseMessage:', message);\n          return message;\n        };\n        var LINETYPE = {\n          SOLID: 0,\n          DOTTED: 1,\n          NOTE: 2,\n          SOLID_CROSS: 3,\n          DOTTED_CROSS: 4,\n          SOLID_OPEN: 5,\n          DOTTED_OPEN: 6,\n          LOOP_START: 10,\n          LOOP_END: 11,\n          ALT_START: 12,\n          ALT_ELSE: 13,\n          ALT_END: 14,\n          OPT_START: 15,\n          OPT_END: 16,\n          ACTIVE_START: 17,\n          ACTIVE_END: 18,\n          PAR_START: 19,\n          PAR_AND: 20,\n          PAR_END: 21,\n          RECT_START: 22,\n          RECT_END: 23,\n          SOLID_POINT: 24,\n          DOTTED_POINT: 25\n        };\n        var ARROWTYPE = {\n          FILLED: 0,\n          OPEN: 1\n        };\n        var PLACEMENT = {\n          LEFTOF: 0,\n          RIGHTOF: 1,\n          OVER: 2\n        };\n        var addNote = function addNote(actor, placement, message) {\n          var note = {\n            actor: actor,\n            placement: placement,\n            message: message.text,\n            wrap: message.wrap === undefined && autoWrap() || !!message.wrap\n          }; // Coerce actor into a [to, from, ...] array\n\n          var actors = [].concat(actor, actor);\n          notes.push(note);\n          messages.push({\n            from: actors[0],\n            to: actors[1],\n            message: message.text,\n            wrap: message.wrap === undefined && autoWrap() || !!message.wrap,\n            type: LINETYPE.NOTE,\n            placement: placement\n          });\n        };\n        var addLinks = function addLinks(actorId, text) {\n          // find the actor\n          var actor = getActor(actorId); // JSON.parse the text\n\n          try {\n            var sanitizedText = (0, _common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)(text.text, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig());\n            sanitizedText = sanitizedText.replace(/&amp;/g, '&');\n            sanitizedText = sanitizedText.replace(/&equals;/g, '=');\n            var links = JSON.parse(sanitizedText); // add the deserialized text to the actor's links field.\n\n            insertLinks(actor, links);\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.error('error while parsing actor link text', e);\n          }\n        };\n        var addALink = function addALink(actorId, text) {\n          // find the actor\n          var actor = getActor(actorId);\n          try {\n            var links = {};\n            var sanitizedText = (0, _common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)(text.text, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig());\n            var sep = sanitizedText.indexOf('@');\n            sanitizedText = sanitizedText.replace(/&amp;/g, '&');\n            sanitizedText = sanitizedText.replace(/&equals;/g, '=');\n            var label = sanitizedText.slice(0, sep - 1).trim();\n            var link = sanitizedText.slice(sep + 1).trim();\n            links[label] = link; // add the deserialized text to the actor's links field.\n\n            insertLinks(actor, links);\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.error('error while parsing actor link text', e);\n          }\n        };\n        /**\n         * @param {any} actor\n         * @param {any} links\n         */\n\n        function insertLinks(actor, links) {\n          if (actor.links == null) {\n            actor.links = links;\n          } else {\n            for (var key in links) {\n              actor.links[key] = links[key];\n            }\n          }\n        }\n        var addProperties = function addProperties(actorId, text) {\n          // find the actor\n          var actor = getActor(actorId); // JSON.parse the text\n\n          try {\n            var sanitizedText = (0, _common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)(text.text, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig());\n            var properties = JSON.parse(sanitizedText); // add the deserialized text to the actor's property field.\n\n            insertProperties(actor, properties);\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.error('error while parsing actor properties text', e);\n          }\n        };\n        /**\n         * @param {any} actor\n         * @param {any} properties\n         */\n\n        function insertProperties(actor, properties) {\n          if (actor.properties == null) {\n            actor.properties = properties;\n          } else {\n            for (var key in properties) {\n              actor.properties[key] = properties[key];\n            }\n          }\n        }\n        var addDetails = function addDetails(actorId, text) {\n          // find the actor\n          var actor = getActor(actorId);\n          var elem = document.getElementById(text.text); // JSON.parse the text\n\n          try {\n            var _text = elem.innerHTML;\n            var details = JSON.parse(_text); // add the deserialized text to the actor's property field.\n\n            if (details['properties']) {\n              insertProperties(actor, details['properties']);\n            }\n            if (details['links']) {\n              insertLinks(actor, details['links']);\n            }\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.error('error while parsing actor details text', e);\n          }\n        };\n        var getActorProperty = function getActorProperty(actor, key) {\n          if (typeof actor !== 'undefined' && typeof actor.properties !== 'undefined') {\n            return actor.properties[key];\n          }\n          return undefined;\n        };\n        var setTitle = function setTitle(titleWrap) {\n          title = titleWrap.text;\n          titleWrapped = titleWrap.wrap === undefined && autoWrap() || !!titleWrap.wrap;\n        };\n        var apply = function apply(param) {\n          if (param instanceof Array) {\n            param.forEach(function (item) {\n              apply(item);\n            });\n          } else {\n            switch (param.type) {\n              case 'addParticipant':\n                addActor(param.actor, param.actor, param.description, 'participant');\n                break;\n              case 'addActor':\n                addActor(param.actor, param.actor, param.description, 'actor');\n                break;\n              case 'activeStart':\n                addSignal(param.actor, undefined, undefined, param.signalType);\n                break;\n              case 'activeEnd':\n                addSignal(param.actor, undefined, undefined, param.signalType);\n                break;\n              case 'addNote':\n                addNote(param.actor, param.placement, param.text);\n                break;\n              case 'addLinks':\n                addLinks(param.actor, param.text);\n                break;\n              case 'addALink':\n                addALink(param.actor, param.text);\n                break;\n              case 'addProperties':\n                addProperties(param.actor, param.text);\n                break;\n              case 'addDetails':\n                addDetails(param.actor, param.text);\n                break;\n              case 'addMessage':\n                addSignal(param.from, param.to, param.msg, param.signalType);\n                break;\n              case 'loopStart':\n                addSignal(undefined, undefined, param.loopText, param.signalType);\n                break;\n              case 'loopEnd':\n                addSignal(undefined, undefined, undefined, param.signalType);\n                break;\n              case 'rectStart':\n                addSignal(undefined, undefined, param.color, param.signalType);\n                break;\n              case 'rectEnd':\n                addSignal(undefined, undefined, undefined, param.signalType);\n                break;\n              case 'optStart':\n                addSignal(undefined, undefined, param.optText, param.signalType);\n                break;\n              case 'optEnd':\n                addSignal(undefined, undefined, undefined, param.signalType);\n                break;\n              case 'altStart':\n                addSignal(undefined, undefined, param.altText, param.signalType);\n                break;\n              case 'else':\n                addSignal(undefined, undefined, param.altText, param.signalType);\n                break;\n              case 'altEnd':\n                addSignal(undefined, undefined, undefined, param.signalType);\n                break;\n              case 'setTitle':\n                setTitle(param.text);\n                break;\n              case 'parStart':\n                addSignal(undefined, undefined, param.parText, param.signalType);\n                break;\n              case 'and':\n                addSignal(undefined, undefined, param.parText, param.signalType);\n                break;\n              case 'parEnd':\n                addSignal(undefined, undefined, undefined, param.signalType);\n                break;\n            }\n          }\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          addActor: addActor,\n          addMessage: addMessage,\n          addSignal: addSignal,\n          addLinks: addLinks,\n          addDetails: addDetails,\n          addProperties: addProperties,\n          autoWrap: autoWrap,\n          setWrap: setWrap,\n          enableSequenceNumbers: enableSequenceNumbers,\n          showSequenceNumbers: showSequenceNumbers,\n          getMessages: getMessages,\n          getActors: getActors,\n          getActor: getActor,\n          getActorKeys: getActorKeys,\n          getActorProperty: getActorProperty,\n          getTitle: getTitle,\n          parseDirective: parseDirective,\n          getConfig: function getConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_3__.getConfig().sequence;\n          },\n          getTitleWrapped: getTitleWrapped,\n          clear: clear,\n          parseMessage: parseMessage,\n          LINETYPE: LINETYPE,\n          ARROWTYPE: ARROWTYPE,\n          PLACEMENT: PLACEMENT,\n          addNote: addNote,\n          setTitle: setTitle,\n          apply: apply\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/sequence/sequenceRenderer.js\": (\n      /*!***************************************************!*\\\n        !*** ./src/diagrams/sequence/sequenceRenderer.js ***!\n        \\***************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"bounds\": () => (/* binding */bounds),\n          /* harmony export */\"drawActors\": () => (/* binding */drawActors),\n          /* harmony export */\"drawActorsPopup\": () => (/* binding */drawActorsPopup),\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _svgDraw__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./svgDraw */\"./src/diagrams/sequence/svgDraw.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser/sequenceDiagram */\"./src/diagrams/sequence/parser/sequenceDiagram.jison\");\n        /* harmony import */\n        var _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _sequenceDb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sequenceDb */\"./src/diagrams/sequence/sequenceDb.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy = _sequenceDb__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n        var conf = {};\n        var bounds = {\n          data: {\n            startx: undefined,\n            stopx: undefined,\n            starty: undefined,\n            stopy: undefined\n          },\n          verticalPos: 0,\n          sequenceItems: [],\n          activations: [],\n          models: {\n            getHeight: function getHeight() {\n              return Math.max.apply(null, this.actors.length === 0 ? [0] : this.actors.map(function (actor) {\n                return actor.height || 0;\n              })) + (this.loops.length === 0 ? 0 : this.loops.map(function (it) {\n                return it.height || 0;\n              }).reduce(function (acc, h) {\n                return acc + h;\n              })) + (this.messages.length === 0 ? 0 : this.messages.map(function (it) {\n                return it.height || 0;\n              }).reduce(function (acc, h) {\n                return acc + h;\n              })) + (this.notes.length === 0 ? 0 : this.notes.map(function (it) {\n                return it.height || 0;\n              }).reduce(function (acc, h) {\n                return acc + h;\n              }));\n            },\n            clear: function clear() {\n              this.actors = [];\n              this.loops = [];\n              this.messages = [];\n              this.notes = [];\n            },\n            addActor: function addActor(actorModel) {\n              this.actors.push(actorModel);\n            },\n            addLoop: function addLoop(loopModel) {\n              this.loops.push(loopModel);\n            },\n            addMessage: function addMessage(msgModel) {\n              this.messages.push(msgModel);\n            },\n            addNote: function addNote(noteModel) {\n              this.notes.push(noteModel);\n            },\n            lastActor: function lastActor() {\n              return this.actors[this.actors.length - 1];\n            },\n            lastLoop: function lastLoop() {\n              return this.loops[this.loops.length - 1];\n            },\n            lastMessage: function lastMessage() {\n              return this.messages[this.messages.length - 1];\n            },\n            lastNote: function lastNote() {\n              return this.notes[this.notes.length - 1];\n            },\n            actors: [],\n            loops: [],\n            messages: [],\n            notes: []\n          },\n          init: function init() {\n            this.sequenceItems = [];\n            this.activations = [];\n            this.models.clear();\n            this.data = {\n              startx: undefined,\n              stopx: undefined,\n              starty: undefined,\n              stopy: undefined\n            };\n            this.verticalPos = 0;\n            setConf(_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getConfig());\n          },\n          updateVal: function updateVal(obj, key, val, fun) {\n            if (typeof obj[key] === 'undefined') {\n              obj[key] = val;\n            } else {\n              obj[key] = fun(val, obj[key]);\n            }\n          },\n          updateBounds: function updateBounds(startx, starty, stopx, stopy) {\n            var _self = this;\n            var cnt = 0;\n            /** @param {any} type */\n\n            function updateFn(type) {\n              return function updateItemBounds(item) {\n                cnt++; // The loop sequenceItems is a stack so the biggest margins in the beginning of the sequenceItems\n\n                var n = _self.sequenceItems.length - cnt + 1;\n                _self.updateVal(item, 'starty', starty - n * conf.boxMargin, Math.min);\n                _self.updateVal(item, 'stopy', stopy + n * conf.boxMargin, Math.max);\n                _self.updateVal(bounds.data, 'startx', startx - n * conf.boxMargin, Math.min);\n                _self.updateVal(bounds.data, 'stopx', stopx + n * conf.boxMargin, Math.max);\n                if (!(type === 'activation')) {\n                  _self.updateVal(item, 'startx', startx - n * conf.boxMargin, Math.min);\n                  _self.updateVal(item, 'stopx', stopx + n * conf.boxMargin, Math.max);\n                  _self.updateVal(bounds.data, 'starty', starty - n * conf.boxMargin, Math.min);\n                  _self.updateVal(bounds.data, 'stopy', stopy + n * conf.boxMargin, Math.max);\n                }\n              };\n            }\n            this.sequenceItems.forEach(updateFn());\n            this.activations.forEach(updateFn('activation'));\n          },\n          insert: function insert(startx, starty, stopx, stopy) {\n            var _startx = Math.min(startx, stopx);\n            var _stopx = Math.max(startx, stopx);\n            var _starty = Math.min(starty, stopy);\n            var _stopy = Math.max(starty, stopy);\n            this.updateVal(bounds.data, 'startx', _startx, Math.min);\n            this.updateVal(bounds.data, 'starty', _starty, Math.min);\n            this.updateVal(bounds.data, 'stopx', _stopx, Math.max);\n            this.updateVal(bounds.data, 'stopy', _stopy, Math.max);\n            this.updateBounds(_startx, _starty, _stopx, _stopy);\n          },\n          newActivation: function newActivation(message, diagram, actors) {\n            var actorRect = actors[message.from.actor];\n            var stackedSize = actorActivations(message.from.actor).length || 0;\n            var x = actorRect.x + actorRect.width / 2 + (stackedSize - 1) * conf.activationWidth / 2;\n            this.activations.push({\n              startx: x,\n              starty: this.verticalPos + 2,\n              stopx: x + conf.activationWidth,\n              stopy: undefined,\n              actor: message.from.actor,\n              anchored: _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].anchorElement(diagram)\n            });\n          },\n          endActivation: function endActivation(message) {\n            // find most recent activation for given actor\n            var lastActorActivationIdx = this.activations.map(function (activation) {\n              return activation.actor;\n            }).lastIndexOf(message.from.actor);\n            return this.activations.splice(lastActorActivationIdx, 1)[0];\n          },\n          createLoop: function createLoop() {\n            var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n              message: undefined,\n              wrap: false,\n              width: undefined\n            };\n            var fill = arguments.length > 1 ? arguments[1] : undefined;\n            return {\n              startx: undefined,\n              starty: this.verticalPos,\n              stopx: undefined,\n              stopy: undefined,\n              title: title.message,\n              wrap: title.wrap,\n              width: title.width,\n              height: 0,\n              fill: fill\n            };\n          },\n          newLoop: function newLoop() {\n            var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n              message: undefined,\n              wrap: false,\n              width: undefined\n            };\n            var fill = arguments.length > 1 ? arguments[1] : undefined;\n            this.sequenceItems.push(this.createLoop(title, fill));\n          },\n          endLoop: function endLoop() {\n            return this.sequenceItems.pop();\n          },\n          addSectionToLoop: function addSectionToLoop(message) {\n            var loop = this.sequenceItems.pop();\n            loop.sections = loop.sections || [];\n            loop.sectionTitles = loop.sectionTitles || [];\n            loop.sections.push({\n              y: bounds.getVerticalPos(),\n              height: 0\n            });\n            loop.sectionTitles.push(message);\n            this.sequenceItems.push(loop);\n          },\n          bumpVerticalPos: function bumpVerticalPos(bump) {\n            this.verticalPos = this.verticalPos + bump;\n            this.data.stopy = this.verticalPos;\n          },\n          getVerticalPos: function getVerticalPos() {\n            return this.verticalPos;\n          },\n          getBounds: function getBounds() {\n            return {\n              bounds: this.data,\n              models: this.models\n            };\n          }\n        };\n        /**\n         * Draws an note in the diagram with the attached line\n         *\n         * @param {any} elem - The diagram to draw to.\n         * @param {{ x: number; y: number; message: string; width: number }} noteModel - Startx: x axis\n         *   start position, verticalPos: y axis position, messsage: the message to be shown, width: Set\n         *   this with a custom width to override the default configured width.\n         */\n\n        var drawNote = function drawNote(elem, noteModel) {\n          bounds.bumpVerticalPos(conf.boxMargin);\n          noteModel.height = conf.boxMargin;\n          noteModel.starty = bounds.getVerticalPos();\n          var rect = _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getNoteRect();\n          rect.x = noteModel.startx;\n          rect.y = noteModel.starty;\n          rect.width = noteModel.width || conf.width;\n          rect.class = 'note';\n          var g = elem.append('g');\n          var rectElem = _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawRect(g, rect);\n          var textObj = _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTextObj();\n          textObj.x = noteModel.startx;\n          textObj.y = noteModel.starty;\n          textObj.width = rect.width;\n          textObj.dy = '1em';\n          textObj.text = noteModel.message;\n          textObj.class = 'noteText';\n          textObj.fontFamily = conf.noteFontFamily;\n          textObj.fontSize = conf.noteFontSize;\n          textObj.fontWeight = conf.noteFontWeight;\n          textObj.anchor = conf.noteAlign;\n          textObj.textMargin = conf.noteMargin;\n          textObj.valign = conf.noteAlign;\n          var textElem = (0, _svgDraw__WEBPACK_IMPORTED_MODULE_3__.drawText)(g, textObj);\n          var textHeight = Math.round(textElem.map(function (te) {\n            return (te._groups || te)[0][0].getBBox().height;\n          }).reduce(function (acc, curr) {\n            return acc + curr;\n          }));\n          rectElem.attr('height', textHeight + 2 * conf.noteMargin);\n          noteModel.height += textHeight + 2 * conf.noteMargin;\n          bounds.bumpVerticalPos(textHeight + 2 * conf.noteMargin);\n          noteModel.stopy = noteModel.starty + textHeight + 2 * conf.noteMargin;\n          noteModel.stopx = noteModel.startx + rect.width;\n          bounds.insert(noteModel.startx, noteModel.starty, noteModel.stopx, noteModel.stopy);\n          bounds.models.addNote(noteModel);\n        };\n        var messageFont = function messageFont(cnf) {\n          return {\n            fontFamily: cnf.messageFontFamily,\n            fontSize: cnf.messageFontSize,\n            fontWeight: cnf.messageFontWeight\n          };\n        };\n        var noteFont = function noteFont(cnf) {\n          return {\n            fontFamily: cnf.noteFontFamily,\n            fontSize: cnf.noteFontSize,\n            fontWeight: cnf.noteFontWeight\n          };\n        };\n        var actorFont = function actorFont(cnf) {\n          return {\n            fontFamily: cnf.actorFontFamily,\n            fontSize: cnf.actorFontSize,\n            fontWeight: cnf.actorFontWeight\n          };\n        };\n        /**\n         * Draws a message\n         *\n         * @param {any} g - The parent of the message element\n         * @param {any} msgModel - The model containing fields describing a message\n         */\n\n        var drawMessage = function drawMessage(g, msgModel) {\n          bounds.bumpVerticalPos(10);\n          var startx = msgModel.startx,\n            stopx = msgModel.stopx,\n            starty = msgModel.starty,\n            message = msgModel.message,\n            type = msgModel.type,\n            sequenceIndex = msgModel.sequenceIndex;\n          var lines = _common_common__WEBPACK_IMPORTED_MODULE_4__[\"default\"].splitBreaks(message).length;\n          var textDims = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calculateTextDimensions(message, messageFont(conf));\n          var lineHeight = textDims.height / lines;\n          msgModel.height += lineHeight;\n          bounds.bumpVerticalPos(lineHeight);\n          var textObj = _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTextObj();\n          textObj.x = startx;\n          textObj.y = starty + 10;\n          textObj.width = stopx - startx;\n          textObj.class = 'messageText';\n          textObj.dy = '1em';\n          textObj.text = message;\n          textObj.fontFamily = conf.messageFontFamily;\n          textObj.fontSize = conf.messageFontSize;\n          textObj.fontWeight = conf.messageFontWeight;\n          textObj.anchor = conf.messageAlign;\n          textObj.valign = conf.messageAlign;\n          textObj.textMargin = conf.wrapPadding;\n          textObj.tspan = false;\n          (0, _svgDraw__WEBPACK_IMPORTED_MODULE_3__.drawText)(g, textObj);\n          var totalOffset = textDims.height - 10;\n          var textWidth = textDims.width;\n          var line, lineStarty;\n          if (startx === stopx) {\n            lineStarty = bounds.getVerticalPos() + totalOffset;\n            if (conf.rightAngles) {\n              line = g.append('path').attr('d', \"M  \".concat(startx, \",\").concat(lineStarty, \" H \").concat(startx + Math.max(conf.width / 2, textWidth / 2), \" V \").concat(lineStarty + 25, \" H \").concat(startx));\n            } else {\n              totalOffset += conf.boxMargin;\n              lineStarty = bounds.getVerticalPos() + totalOffset;\n              line = g.append('path').attr('d', 'M ' + startx + ',' + lineStarty + ' C ' + (startx + 60) + ',' + (lineStarty - 10) + ' ' + (startx + 60) + ',' + (lineStarty + 30) + ' ' + startx + ',' + (lineStarty + 20));\n            }\n            totalOffset += 30;\n            var dx = Math.max(textWidth / 2, conf.width / 2);\n            bounds.insert(startx - dx, bounds.getVerticalPos() - 10 + totalOffset, stopx + dx, bounds.getVerticalPos() + 30 + totalOffset);\n          } else {\n            totalOffset += conf.boxMargin;\n            lineStarty = bounds.getVerticalPos() + totalOffset;\n            line = g.append('line');\n            line.attr('x1', startx);\n            line.attr('y1', lineStarty);\n            line.attr('x2', stopx);\n            line.attr('y2', lineStarty);\n            bounds.insert(startx, lineStarty - 10, stopx, lineStarty);\n          } // Make an SVG Container\n          // Draw the line\n\n          if (type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED || type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_CROSS || type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_POINT || type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_OPEN) {\n            line.style('stroke-dasharray', '3, 3');\n            line.attr('class', 'messageLine1');\n          } else {\n            line.attr('class', 'messageLine0');\n          }\n          var url = '';\n          if (conf.arrowMarkerAbsolute) {\n            url = window.location.protocol + '//' + window.location.host + window.location.pathname + window.location.search;\n            url = url.replace(/\\(/g, '\\\\(');\n            url = url.replace(/\\)/g, '\\\\)');\n          }\n          line.attr('stroke-width', 2);\n          line.attr('stroke', 'none'); // handled by theme/css anyway\n\n          line.style('fill', 'none'); // remove any fill colour\n\n          if (type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID || type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED) {\n            line.attr('marker-end', 'url(' + url + '#arrowhead)');\n          }\n          if (type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_POINT || type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_POINT) {\n            line.attr('marker-end', 'url(' + url + '#filled-head)');\n          }\n          if (type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_CROSS || type === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_CROSS) {\n            line.attr('marker-end', 'url(' + url + '#crosshead)');\n          } // add node number\n\n          if (_sequenceDb__WEBPACK_IMPORTED_MODULE_2__[\"default\"].showSequenceNumbers() || conf.showSequenceNumbers) {\n            line.attr('marker-start', 'url(' + url + '#sequencenumber)');\n            g.append('text').attr('x', startx).attr('y', lineStarty + 4).attr('font-family', 'sans-serif').attr('font-size', '12px').attr('text-anchor', 'middle').attr('textLength', '16px').attr('class', 'sequenceNumber').text(sequenceIndex);\n          }\n          bounds.bumpVerticalPos(totalOffset);\n          msgModel.height += totalOffset;\n          msgModel.stopy = msgModel.starty + msgModel.height;\n          bounds.insert(msgModel.fromBounds, msgModel.starty, msgModel.toBounds, msgModel.stopy);\n        };\n        var drawActors = function drawActors(diagram, actors, actorKeys, verticalPos) {\n          // Draw the actors\n          var prevWidth = 0;\n          var prevMargin = 0;\n          var maxHeight = 0;\n          for (var i = 0; i < actorKeys.length; i++) {\n            var actor = actors[actorKeys[i]]; // Add some rendering data to the object\n\n            actor.width = actor.width || conf.width;\n            actor.height = Math.max(actor.height || conf.height, conf.height);\n            actor.margin = actor.margin || conf.actorMargin;\n            actor.x = prevWidth + prevMargin;\n            actor.y = verticalPos; // Draw the box with the attached line\n\n            var height = _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawActor(diagram, actor, conf);\n            maxHeight = Math.max(maxHeight, height);\n            bounds.insert(actor.x, verticalPos, actor.x + actor.width, actor.height);\n            prevWidth += actor.width;\n            prevMargin += actor.margin;\n            bounds.models.addActor(actor);\n          } // Add a margin between the actor boxes and the first arrow\n\n          bounds.bumpVerticalPos(maxHeight);\n        };\n        var drawActorsPopup = function drawActorsPopup(diagram, actors, actorKeys, doc) {\n          var maxHeight = 0;\n          var maxWidth = 0;\n          for (var i = 0; i < actorKeys.length; i++) {\n            var actor = actors[actorKeys[i]];\n            var minMenuWidth = getRequiredPopupWidth(actor);\n            var menuDimensions = _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawPopup(diagram, actor, minMenuWidth, conf, conf.forceMenus, doc);\n            if (menuDimensions.height > maxHeight) {\n              maxHeight = menuDimensions.height;\n            }\n            if (menuDimensions.width + actor.x > maxWidth) {\n              maxWidth = menuDimensions.width + actor.x;\n            }\n          }\n          return {\n            maxHeight: maxHeight,\n            maxWidth: maxWidth\n          };\n        };\n        var setConf = function setConf(cnf) {\n          (0, _utils__WEBPACK_IMPORTED_MODULE_5__.assignWithDepth)(conf, cnf);\n          if (cnf.fontFamily) {\n            conf.actorFontFamily = conf.noteFontFamily = conf.messageFontFamily = cnf.fontFamily;\n          }\n          if (cnf.fontSize) {\n            conf.actorFontSize = conf.noteFontSize = conf.messageFontSize = cnf.fontSize;\n          }\n          if (cnf.fontWeight) {\n            conf.actorFontWeight = conf.noteFontWeight = conf.messageFontWeight = cnf.fontWeight;\n          }\n        };\n        var actorActivations = function actorActivations(actor) {\n          return bounds.activations.filter(function (activation) {\n            return activation.actor === actor;\n          });\n        };\n        var activationBounds = function activationBounds(actor, actors) {\n          // handle multiple stacked activations for same actor\n          var actorObj = actors[actor];\n          var activations = actorActivations(actor);\n          var left = activations.reduce(function (acc, activation) {\n            return Math.min(acc, activation.startx);\n          }, actorObj.x + actorObj.width / 2);\n          var right = activations.reduce(function (acc, activation) {\n            return Math.max(acc, activation.stopx);\n          }, actorObj.x + actorObj.width / 2);\n          return [left, right];\n        };\n        /**\n         * @param {any} loopWidths\n         * @param {any} msg\n         * @param {any} preMargin\n         * @param {any} postMargin\n         * @param {any} addLoopFn\n         */\n\n        function adjustLoopHeightForWrap(loopWidths, msg, preMargin, postMargin, addLoopFn) {\n          bounds.bumpVerticalPos(preMargin);\n          var heightAdjust = postMargin;\n          if (msg.id && msg.message && loopWidths[msg.id]) {\n            var loopWidth = loopWidths[msg.id].width;\n            var textConf = messageFont(conf);\n            msg.message = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].wrapLabel(\"[\".concat(msg.message, \"]\"), loopWidth - 2 * conf.wrapPadding, textConf);\n            msg.width = loopWidth;\n            msg.wrap = true; // const lines = common.splitBreaks(msg.message).length;\n\n            var textDims = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calculateTextDimensions(msg.message, textConf);\n            var totalOffset = Math.max(textDims.height, conf.labelBoxHeight);\n            heightAdjust = postMargin + totalOffset;\n            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug(\"\".concat(totalOffset, \" - \").concat(msg.message));\n          }\n          addLoopFn(msg);\n          bounds.bumpVerticalPos(heightAdjust);\n        }\n        /**\n         * Draws a sequenceDiagram in the tag with id: id based on the graph definition in text.\n         *\n         * @param {any} text\n         * @param {any} id\n         */\n\n        var draw = function draw(text, id) {\n          conf = _config__WEBPACK_IMPORTED_MODULE_7__.getConfig().sequence;\n          var securityLevel = _config__WEBPACK_IMPORTED_MODULE_7__.getConfig().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n          _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.clear();\n          _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.setWrap(conf.wrap);\n          _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.parse(text + '\\n');\n          bounds.init();\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug(\"C:\".concat(JSON.stringify(conf, null, 2)));\n          var diagram = securityLevel === 'sandbox' ? root.select(\"[id=\\\"\".concat(id, \"\\\"]\")) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(\"[id=\\\"\".concat(id, \"\\\"]\")); // Fetch data from the parsing\n\n          var actors = _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getActors();\n          var actorKeys = _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getActorKeys();\n          var messages = _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getMessages();\n          var title = _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getTitle();\n          var maxMessageWidthPerActor = getMaxMessageWidthPerActor(actors, messages);\n          conf.height = calculateActorMargins(actors, maxMessageWidthPerActor);\n          _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].insertComputerIcon(diagram);\n          _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].insertDatabaseIcon(diagram);\n          _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].insertClockIcon(diagram);\n          drawActors(diagram, actors, actorKeys, 0);\n          var loopWidths = calculateLoopBounds(messages, actors, maxMessageWidthPerActor); // The arrow head definition is attached to the svg once\n\n          _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].insertArrowHead(diagram);\n          _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].insertArrowCrossHead(diagram);\n          _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].insertArrowFilledHead(diagram);\n          _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].insertSequenceNumber(diagram);\n          /**\n           * @param {any} msg\n           * @param {any} verticalPos\n           */\n\n          function activeEnd(msg, verticalPos) {\n            var activationData = bounds.endActivation(msg);\n            if (activationData.starty + 18 > verticalPos) {\n              activationData.starty = verticalPos - 6;\n              verticalPos += 12;\n            }\n            _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawActivation(diagram, activationData, verticalPos, conf, actorActivations(msg.from.actor).length);\n            bounds.insert(activationData.startx, verticalPos - 10, activationData.stopx, verticalPos);\n          } // Draw the messages/signals\n\n          var sequenceIndex = 1;\n          messages.forEach(function (msg) {\n            var loopModel, noteModel, msgModel;\n            switch (msg.type) {\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.NOTE:\n                noteModel = msg.noteModel;\n                drawNote(diagram, noteModel);\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ACTIVE_START:\n                bounds.newActivation(msg, diagram, actors);\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ACTIVE_END:\n                activeEnd(msg, bounds.getVerticalPos());\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.LOOP_START:\n                adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function (message) {\n                  return bounds.newLoop(message);\n                });\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.LOOP_END:\n                loopModel = bounds.endLoop();\n                _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawLoop(diagram, loopModel, 'loop', conf);\n                bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n                bounds.models.addLoop(loopModel);\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.RECT_START:\n                adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin, function (message) {\n                  return bounds.newLoop(undefined, message.message);\n                });\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.RECT_END:\n                loopModel = bounds.endLoop();\n                _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawBackgroundRect(diagram, loopModel);\n                bounds.models.addLoop(loopModel);\n                bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.OPT_START:\n                adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function (message) {\n                  return bounds.newLoop(message);\n                });\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.OPT_END:\n                loopModel = bounds.endLoop();\n                _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawLoop(diagram, loopModel, 'opt', conf);\n                bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n                bounds.models.addLoop(loopModel);\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_START:\n                adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function (message) {\n                  return bounds.newLoop(message);\n                });\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_ELSE:\n                adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin + conf.boxTextMargin, conf.boxMargin, function (message) {\n                  return bounds.addSectionToLoop(message);\n                });\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_END:\n                loopModel = bounds.endLoop();\n                _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawLoop(diagram, loopModel, 'alt', conf);\n                bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n                bounds.models.addLoop(loopModel);\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_START:\n                adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function (message) {\n                  return bounds.newLoop(message);\n                });\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_AND:\n                adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin + conf.boxTextMargin, conf.boxMargin, function (message) {\n                  return bounds.addSectionToLoop(message);\n                });\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_END:\n                loopModel = bounds.endLoop();\n                _svgDraw__WEBPACK_IMPORTED_MODULE_3__[\"default\"].drawLoop(diagram, loopModel, 'par', conf);\n                bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n                bounds.models.addLoop(loopModel);\n                break;\n              default:\n                try {\n                  // lastMsg = msg\n                  msgModel = msg.msgModel;\n                  msgModel.starty = bounds.getVerticalPos();\n                  msgModel.sequenceIndex = sequenceIndex;\n                  drawMessage(diagram, msgModel);\n                  bounds.models.addMessage(msgModel);\n                } catch (e) {\n                  _logger__WEBPACK_IMPORTED_MODULE_6__.log.error('error while drawing message', e);\n                }\n            } // Increment sequence counter if msg.type is a line (and not another event like activation or note, etc)\n\n            if ([_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_OPEN, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_OPEN, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_CROSS, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_CROSS, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_POINT, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_POINT].includes(msg.type)) {\n              sequenceIndex++;\n            }\n          });\n          if (conf.mirrorActors) {\n            // Draw actors below diagram\n            bounds.bumpVerticalPos(conf.boxMargin * 2);\n            drawActors(diagram, actors, actorKeys, bounds.getVerticalPos());\n            bounds.bumpVerticalPos(conf.boxMargin);\n            (0, _svgDraw__WEBPACK_IMPORTED_MODULE_3__.fixLifeLineHeights)(diagram, bounds.getVerticalPos());\n          } // only draw popups for the top row of actors.\n\n          var requiredBoxSize = drawActorsPopup(diagram, actors, actorKeys, doc);\n          var _bounds$getBounds = bounds.getBounds(),\n            box = _bounds$getBounds.bounds; // Adjust line height of actor lines now that the height of the diagram is known\n\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('For line height fix Querying: #' + id + ' .actor-line');\n          var actorLines = (0, d3__WEBPACK_IMPORTED_MODULE_0__.selectAll)('#' + id + ' .actor-line');\n          actorLines.attr('y2', box.stopy); // Make sure the height of the diagram supports long menus.\n\n          var boxHeight = box.stopy - box.starty;\n          if (boxHeight < requiredBoxSize.maxHeight) {\n            boxHeight = requiredBoxSize.maxHeight;\n          }\n          var height = boxHeight + 2 * conf.diagramMarginY;\n          if (conf.mirrorActors) {\n            height = height - conf.boxMargin + conf.bottomMarginAdj;\n          } // Make sure the width of the diagram supports wide menus.\n\n          var boxWidth = box.stopx - box.startx;\n          if (boxWidth < requiredBoxSize.maxWidth) {\n            boxWidth = requiredBoxSize.maxWidth;\n          }\n          var width = boxWidth + 2 * conf.diagramMarginX;\n          if (title) {\n            diagram.append('text').text(title).attr('x', (box.stopx - box.startx) / 2 - 2 * conf.diagramMarginX).attr('y', -25);\n          }\n          (0, _utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(diagram, height, width, conf.useMaxWidth);\n          var extraVertForTitle = title ? 40 : 0;\n          diagram.attr('viewBox', box.startx - conf.diagramMarginX + ' -' + (conf.diagramMarginY + extraVertForTitle) + ' ' + width + ' ' + (height + extraVertForTitle));\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug(\"models:\", bounds.models);\n        };\n        /**\n         * Retrieves the max message width of each actor, supports signals (messages, loops) and notes.\n         *\n         * It will enumerate each given message, and will determine its text width, in relation to the actor\n         * it originates from, and destined to.\n         *\n         * @param {any} actors - The actors map\n         * @param {Array} messages - A list of message objects to iterate\n         * @returns {any}\n         */\n\n        var getMaxMessageWidthPerActor = function getMaxMessageWidthPerActor(actors, messages) {\n          var maxMessageWidthPerActor = {};\n          messages.forEach(function (msg) {\n            if (actors[msg.to] && actors[msg.from]) {\n              var actor = actors[msg.to]; // If this is the first actor, and the message is left of it, no need to calculate the margin\n\n              if (msg.placement === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.LEFTOF && !actor.prevActor) {\n                return;\n              } // If this is the last actor, and the message is right of it, no need to calculate the margin\n\n              if (msg.placement === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.RIGHTOF && !actor.nextActor) {\n                return;\n              }\n              var isNote = msg.placement !== undefined;\n              var isMessage = !isNote;\n              var textFont = isNote ? noteFont(conf) : messageFont(conf);\n              var wrappedMessage = msg.wrap ? _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].wrapLabel(msg.message, conf.width - 2 * conf.wrapPadding, textFont) : msg.message;\n              var messageDimensions = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calculateTextDimensions(wrappedMessage, textFont);\n              var messageWidth = messageDimensions.width + 2 * conf.wrapPadding;\n              /*\n               * The following scenarios should be supported:\n               *\n               * - There's a message (non-note) between fromActor and toActor\n               *   - If fromActor is on the right and toActor is on the left, we should\n               *     define the toActor's margin\n               *   - If fromActor is on the left and toActor is on the right, we should\n               *     define the fromActor's margin\n               * - There's a note, in which case fromActor == toActor\n               *   - If the note is to the left of the actor, we should define the previous actor\n               *     margin\n               *   - If the note is on the actor, we should define both the previous and next actor\n               *     margins, each being the half of the note size\n               *   - If the note is on the right of the actor, we should define the current actor\n               *     margin\n               */\n\n              if (isMessage && msg.from === actor.nextActor) {\n                maxMessageWidthPerActor[msg.to] = Math.max(maxMessageWidthPerActor[msg.to] || 0, messageWidth);\n              } else if (isMessage && msg.from === actor.prevActor) {\n                maxMessageWidthPerActor[msg.from] = Math.max(maxMessageWidthPerActor[msg.from] || 0, messageWidth);\n              } else if (isMessage && msg.from === msg.to) {\n                maxMessageWidthPerActor[msg.from] = Math.max(maxMessageWidthPerActor[msg.from] || 0, messageWidth / 2);\n                maxMessageWidthPerActor[msg.to] = Math.max(maxMessageWidthPerActor[msg.to] || 0, messageWidth / 2);\n              } else if (msg.placement === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.RIGHTOF) {\n                maxMessageWidthPerActor[msg.from] = Math.max(maxMessageWidthPerActor[msg.from] || 0, messageWidth);\n              } else if (msg.placement === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.LEFTOF) {\n                maxMessageWidthPerActor[actor.prevActor] = Math.max(maxMessageWidthPerActor[actor.prevActor] || 0, messageWidth);\n              } else if (msg.placement === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.OVER) {\n                if (actor.prevActor) {\n                  maxMessageWidthPerActor[actor.prevActor] = Math.max(maxMessageWidthPerActor[actor.prevActor] || 0, messageWidth / 2);\n                }\n                if (actor.nextActor) {\n                  maxMessageWidthPerActor[msg.from] = Math.max(maxMessageWidthPerActor[msg.from] || 0, messageWidth / 2);\n                }\n              }\n            }\n          });\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('maxMessageWidthPerActor:', maxMessageWidthPerActor);\n          return maxMessageWidthPerActor;\n        };\n        var getRequiredPopupWidth = function getRequiredPopupWidth(actor) {\n          var requiredPopupWidth = 0;\n          var textFont = actorFont(conf);\n          for (var key in actor.links) {\n            var labelDimensions = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calculateTextDimensions(key, textFont);\n            var labelWidth = labelDimensions.width + 2 * conf.wrapPadding + 2 * conf.boxMargin;\n            if (requiredPopupWidth < labelWidth) {\n              requiredPopupWidth = labelWidth;\n            }\n          }\n          return requiredPopupWidth;\n        };\n        /**\n         * This will calculate the optimal margin for each given actor, for a given actor->messageWidth map.\n         *\n         * An actor's margin is determined by the width of the actor, the width of the largest message that\n         * originates from it, and the configured conf.actorMargin.\n         *\n         * @param {any} actors - The actors map to calculate margins for\n         * @param {any} actorToMessageWidth - A map of actor key -> max message width it holds\n         */\n\n        var calculateActorMargins = function calculateActorMargins(actors, actorToMessageWidth) {\n          var maxHeight = 0;\n          Object.keys(actors).forEach(function (prop) {\n            var actor = actors[prop];\n            if (actor.wrap) {\n              actor.description = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].wrapLabel(actor.description, conf.width - 2 * conf.wrapPadding, actorFont(conf));\n            }\n            var actDims = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calculateTextDimensions(actor.description, actorFont(conf));\n            actor.width = actor.wrap ? conf.width : Math.max(conf.width, actDims.width + 2 * conf.wrapPadding);\n            actor.height = actor.wrap ? Math.max(actDims.height, conf.height) : conf.height;\n            maxHeight = Math.max(maxHeight, actor.height);\n          });\n          for (var actorKey in actorToMessageWidth) {\n            var actor = actors[actorKey];\n            if (!actor) {\n              continue;\n            }\n            var nextActor = actors[actor.nextActor]; // No need to space out an actor that doesn't have a next link\n\n            if (!nextActor) {\n              continue;\n            }\n            var messageWidth = actorToMessageWidth[actorKey];\n            var actorWidth = messageWidth + conf.actorMargin - actor.width / 2 - nextActor.width / 2;\n            actor.margin = Math.max(actorWidth, conf.actorMargin);\n          }\n          return Math.max(maxHeight, conf.height);\n        };\n        var buildNoteModel = function buildNoteModel(msg, actors) {\n          var startx = actors[msg.from].x;\n          var stopx = actors[msg.to].x;\n          var shouldWrap = msg.wrap && msg.message;\n          var textDimensions = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calculateTextDimensions(shouldWrap ? _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].wrapLabel(msg.message, conf.width, noteFont(conf)) : msg.message, noteFont(conf));\n          var noteModel = {\n            width: shouldWrap ? conf.width : Math.max(conf.width, textDimensions.width + 2 * conf.noteMargin),\n            height: 0,\n            startx: actors[msg.from].x,\n            stopx: 0,\n            starty: 0,\n            stopy: 0,\n            message: msg.message\n          };\n          if (msg.placement === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.RIGHTOF) {\n            noteModel.width = shouldWrap ? Math.max(conf.width, textDimensions.width) : Math.max(actors[msg.from].width / 2 + actors[msg.to].width / 2, textDimensions.width + 2 * conf.noteMargin);\n            noteModel.startx = startx + (actors[msg.from].width + conf.actorMargin) / 2;\n          } else if (msg.placement === _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.LEFTOF) {\n            noteModel.width = shouldWrap ? Math.max(conf.width, textDimensions.width + 2 * conf.noteMargin) : Math.max(actors[msg.from].width / 2 + actors[msg.to].width / 2, textDimensions.width + 2 * conf.noteMargin);\n            noteModel.startx = startx - noteModel.width + (actors[msg.from].width - conf.actorMargin) / 2;\n          } else if (msg.to === msg.from) {\n            textDimensions = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calculateTextDimensions(shouldWrap ? _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].wrapLabel(msg.message, Math.max(conf.width, actors[msg.from].width), noteFont(conf)) : msg.message, noteFont(conf));\n            noteModel.width = shouldWrap ? Math.max(conf.width, actors[msg.from].width) : Math.max(actors[msg.from].width, conf.width, textDimensions.width + 2 * conf.noteMargin);\n            noteModel.startx = startx + (actors[msg.from].width - noteModel.width) / 2;\n          } else {\n            noteModel.width = Math.abs(startx + actors[msg.from].width / 2 - (stopx + actors[msg.to].width / 2)) + conf.actorMargin;\n            noteModel.startx = startx < stopx ? startx + actors[msg.from].width / 2 - conf.actorMargin / 2 : stopx + actors[msg.to].width / 2 - conf.actorMargin / 2;\n          }\n          if (shouldWrap) {\n            noteModel.message = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].wrapLabel(msg.message, noteModel.width - 2 * conf.wrapPadding, noteFont(conf));\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug(\"NM:[\".concat(noteModel.startx, \",\").concat(noteModel.stopx, \",\").concat(noteModel.starty, \",\").concat(noteModel.stopy, \":\").concat(noteModel.width, \",\").concat(noteModel.height, \"=\").concat(msg.message, \"]\"));\n          return noteModel;\n        };\n        var buildMessageModel = function buildMessageModel(msg, actors) {\n          var process = false;\n          if ([_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_OPEN, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_OPEN, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_CROSS, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_CROSS, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_POINT, _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_POINT].includes(msg.type)) {\n            process = true;\n          }\n          if (!process) {\n            return {};\n          }\n          var fromBounds = activationBounds(msg.from, actors);\n          var toBounds = activationBounds(msg.to, actors);\n          var fromIdx = fromBounds[0] <= toBounds[0] ? 1 : 0;\n          var toIdx = fromBounds[0] < toBounds[0] ? 0 : 1;\n          var allBounds = fromBounds.concat(toBounds);\n          var boundedWidth = Math.abs(toBounds[toIdx] - fromBounds[fromIdx]);\n          if (msg.wrap && msg.message) {\n            msg.message = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].wrapLabel(msg.message, Math.max(boundedWidth + 2 * conf.wrapPadding, conf.width), messageFont(conf));\n          }\n          var msgDims = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calculateTextDimensions(msg.message, messageFont(conf));\n          return {\n            width: Math.max(msg.wrap ? 0 : msgDims.width + 2 * conf.wrapPadding, boundedWidth + 2 * conf.wrapPadding, conf.width),\n            height: 0,\n            startx: fromBounds[fromIdx],\n            stopx: toBounds[toIdx],\n            starty: 0,\n            stopy: 0,\n            message: msg.message,\n            type: msg.type,\n            wrap: msg.wrap,\n            fromBounds: Math.min.apply(null, allBounds),\n            toBounds: Math.max.apply(null, allBounds)\n          };\n        };\n        var calculateLoopBounds = function calculateLoopBounds(messages, actors) {\n          var loops = {};\n          var stack = [];\n          var current, noteModel, msgModel;\n          messages.forEach(function (msg) {\n            msg.id = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].random({\n              length: 10\n            });\n            switch (msg.type) {\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.LOOP_START:\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_START:\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.OPT_START:\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_START:\n                stack.push({\n                  id: msg.id,\n                  msg: msg.message,\n                  from: Number.MAX_SAFE_INTEGER,\n                  to: Number.MIN_SAFE_INTEGER,\n                  width: 0\n                });\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_ELSE:\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_AND:\n                if (msg.message) {\n                  current = stack.pop();\n                  loops[current.id] = current;\n                  loops[msg.id] = current;\n                  stack.push(current);\n                }\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.LOOP_END:\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_END:\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.OPT_END:\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_END:\n                current = stack.pop();\n                loops[current.id] = current;\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ACTIVE_START:\n                {\n                  var actorRect = actors[msg.from ? msg.from.actor : msg.to.actor];\n                  var stackedSize = actorActivations(msg.from ? msg.from.actor : msg.to.actor).length;\n                  var x = actorRect.x + actorRect.width / 2 + (stackedSize - 1) * conf.activationWidth / 2;\n                  var toAdd = {\n                    startx: x,\n                    stopx: x + conf.activationWidth,\n                    actor: msg.from.actor,\n                    enabled: true\n                  };\n                  bounds.activations.push(toAdd);\n                }\n                break;\n              case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ACTIVE_END:\n                {\n                  var lastActorActivationIdx = bounds.activations.map(function (a) {\n                    return a.actor;\n                  }).lastIndexOf(msg.from.actor);\n                  delete bounds.activations.splice(lastActorActivationIdx, 1)[0];\n                }\n                break;\n            }\n            var isNote = msg.placement !== undefined;\n            if (isNote) {\n              noteModel = buildNoteModel(msg, actors);\n              msg.noteModel = noteModel;\n              stack.forEach(function (stk) {\n                current = stk;\n                current.from = Math.min(current.from, noteModel.startx);\n                current.to = Math.max(current.to, noteModel.startx + noteModel.width);\n                current.width = Math.max(current.width, Math.abs(current.from - current.to)) - conf.labelBoxWidth;\n              });\n            } else {\n              msgModel = buildMessageModel(msg, actors);\n              msg.msgModel = msgModel;\n              if (msgModel.startx && msgModel.stopx && stack.length > 0) {\n                stack.forEach(function (stk) {\n                  current = stk;\n                  if (msgModel.startx === msgModel.stopx) {\n                    var from = actors[msg.from];\n                    var to = actors[msg.to];\n                    current.from = Math.min(from.x - msgModel.width / 2, from.x - from.width / 2, current.from);\n                    current.to = Math.max(to.x + msgModel.width / 2, to.x + from.width / 2, current.to);\n                    current.width = Math.max(current.width, Math.abs(current.to - current.from)) - conf.labelBoxWidth;\n                  } else {\n                    current.from = Math.min(msgModel.startx, current.from);\n                    current.to = Math.max(msgModel.stopx, current.to);\n                    current.width = Math.max(current.width, msgModel.width) - conf.labelBoxWidth;\n                  }\n                });\n              }\n            }\n          });\n          bounds.activations = [];\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('Loop type widths:', loops);\n          return loops;\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          bounds: bounds,\n          drawActors: drawActors,\n          drawActorsPopup: drawActorsPopup,\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/sequence/styles.js\": (\n      /*!*****************************************!*\\\n        !*** ./src/diagrams/sequence/styles.js ***!\n        \\*****************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles(options) {\n          return \".actor {\\n    stroke: \".concat(options.actorBorder, \";\\n    fill: \").concat(options.actorBkg, \";\\n  }\\n\\n  text.actor > tspan {\\n    fill: \").concat(options.actorTextColor, \";\\n    stroke: none;\\n  }\\n\\n  .actor-line {\\n    stroke: \").concat(options.actorLineColor, \";\\n  }\\n\\n  .messageLine0 {\\n    stroke-width: 1.5;\\n    stroke-dasharray: none;\\n    stroke: \").concat(options.signalColor, \";\\n  }\\n\\n  .messageLine1 {\\n    stroke-width: 1.5;\\n    stroke-dasharray: 2, 2;\\n    stroke: \").concat(options.signalColor, \";\\n  }\\n\\n  #arrowhead path {\\n    fill: \").concat(options.signalColor, \";\\n    stroke: \").concat(options.signalColor, \";\\n  }\\n\\n  .sequenceNumber {\\n    fill: \").concat(options.sequenceNumberColor, \";\\n  }\\n\\n  #sequencenumber {\\n    fill: \").concat(options.signalColor, \";\\n  }\\n\\n  #crosshead path {\\n    fill: \").concat(options.signalColor, \";\\n    stroke: \").concat(options.signalColor, \";\\n  }\\n\\n  .messageText {\\n    fill: \").concat(options.signalTextColor, \";\\n    stroke: \").concat(options.signalTextColor, \";\\n  }\\n\\n  .labelBox {\\n    stroke: \").concat(options.labelBoxBorderColor, \";\\n    fill: \").concat(options.labelBoxBkgColor, \";\\n  }\\n\\n  .labelText, .labelText > tspan {\\n    fill: \").concat(options.labelTextColor, \";\\n    stroke: none;\\n  }\\n\\n  .loopText, .loopText > tspan {\\n    fill: \").concat(options.loopTextColor, \";\\n    stroke: none;\\n  }\\n\\n  .loopLine {\\n    stroke-width: 2px;\\n    stroke-dasharray: 2, 2;\\n    stroke: \").concat(options.labelBoxBorderColor, \";\\n    fill: \").concat(options.labelBoxBorderColor, \";\\n  }\\n\\n  .note {\\n    //stroke: #decc93;\\n    stroke: \").concat(options.noteBorderColor, \";\\n    fill: \").concat(options.noteBkgColor, \";\\n  }\\n\\n  .noteText, .noteText > tspan {\\n    fill: \").concat(options.noteTextColor, \";\\n    stroke: none;\\n  }\\n\\n  .activation0 {\\n    fill: \").concat(options.activationBkgColor, \";\\n    stroke: \").concat(options.activationBorderColor, \";\\n  }\\n\\n  .activation1 {\\n    fill: \").concat(options.activationBkgColor, \";\\n    stroke: \").concat(options.activationBorderColor, \";\\n  }\\n\\n  .activation2 {\\n    fill: \").concat(options.activationBkgColor, \";\\n    stroke: \").concat(options.activationBorderColor, \";\\n  }\\n\\n  .actorPopupMenu {\\n    position: absolute;\\n  }\\n\\n  .actorPopupMenuPanel {\\n    position: absolute;\\n    fill: \").concat(options.actorBkg, \";\\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\\n}\\n  .actor-man line {\\n    stroke: \").concat(options.actorBorder, \";\\n    fill: \").concat(options.actorBkg, \";\\n  }\\n  .actor-man circle, line {\\n    stroke: \").concat(options.actorBorder, \";\\n    fill: \").concat(options.actorBkg, \";\\n    stroke-width: 2px;\\n  }\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/sequence/svgDraw.js\": (\n      /*!******************************************!*\\\n        !*** ./src/diagrams/sequence/svgDraw.js ***!\n        \\******************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"drawRect\": () => (/* binding */drawRect),\n          /* harmony export */\"drawPopup\": () => (/* binding */drawPopup),\n          /* harmony export */\"drawImage\": () => (/* binding */drawImage),\n          /* harmony export */\"drawEmbeddedImage\": () => (/* binding */drawEmbeddedImage),\n          /* harmony export */\"popupMenu\": () => (/* binding */popupMenu),\n          /* harmony export */\"popdownMenu\": () => (/* binding */popdownMenu),\n          /* harmony export */\"drawText\": () => (/* binding */drawText),\n          /* harmony export */\"drawLabel\": () => (/* binding */drawLabel),\n          /* harmony export */\"fixLifeLineHeights\": () => (/* binding */fixLifeLineHeights),\n          /* harmony export */\"drawActor\": () => (/* binding */drawActor),\n          /* harmony export */\"anchorElement\": () => (/* binding */anchorElement),\n          /* harmony export */\"drawActivation\": () => (/* binding */drawActivation),\n          /* harmony export */\"drawLoop\": () => (/* binding */drawLoop),\n          /* harmony export */\"drawBackgroundRect\": () => (/* binding */drawBackgroundRect),\n          /* harmony export */\"insertDatabaseIcon\": () => (/* binding */insertDatabaseIcon),\n          /* harmony export */\"insertComputerIcon\": () => (/* binding */insertComputerIcon),\n          /* harmony export */\"insertClockIcon\": () => (/* binding */insertClockIcon),\n          /* harmony export */\"insertArrowHead\": () => (/* binding */insertArrowHead),\n          /* harmony export */\"insertArrowFilledHead\": () => (/* binding */insertArrowFilledHead),\n          /* harmony export */\"insertSequenceNumber\": () => (/* binding */insertSequenceNumber),\n          /* harmony export */\"insertArrowCrossHead\": () => (/* binding */insertArrowCrossHead),\n          /* harmony export */\"getTextObj\": () => (/* binding */getTextObj),\n          /* harmony export */\"getNoteRect\": () => (/* binding */getNoteRect),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _interactionDb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../interactionDb */\"./src/interactionDb.js\");\n        /* harmony import */\n        var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @braintree/sanitize-url */\"@braintree/sanitize-url\");\n        /* harmony import */\n        var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__);\n        var drawRect = function drawRect(elem, rectData) {\n          var rectElem = elem.append('rect');\n          rectElem.attr('x', rectData.x);\n          rectElem.attr('y', rectData.y);\n          rectElem.attr('fill', rectData.fill);\n          rectElem.attr('stroke', rectData.stroke);\n          rectElem.attr('width', rectData.width);\n          rectElem.attr('height', rectData.height);\n          rectElem.attr('rx', rectData.rx);\n          rectElem.attr('ry', rectData.ry);\n          if (typeof rectData.class !== 'undefined') {\n            rectElem.attr('class', rectData.class);\n          }\n          return rectElem;\n        }; // const sanitizeUrl = function (s) {\n        //   return s\n        //     .replace(/&/g, '&amp;')\n        //     .replace(/</g, '&lt;')\n        //     .replace(/javascript:/g, '');\n        // };\n\n        var addPopupInteraction = function addPopupInteraction(id, actorCnt) {\n          (0, _interactionDb__WEBPACK_IMPORTED_MODULE_1__.addFunction)(function () {\n            var arr = document.querySelectorAll(id); // This will be the case when running in sandboxed mode\n\n            if (arr.length === 0) return;\n            arr[0].addEventListener('mouseover', function () {\n              popupMenuUpFunc('actor' + actorCnt + '_popup');\n            });\n            arr[0].addEventListener('mouseout', function () {\n              popupMenuDownFunc('actor' + actorCnt + '_popup');\n            });\n          });\n        };\n        var drawPopup = function drawPopup(elem, actor, minMenuWidth, textAttrs, forceMenus) {\n          if (actor.links === undefined || actor.links === null || Object.keys(actor.links).length === 0) {\n            return {\n              height: 0,\n              width: 0\n            };\n          }\n          var links = actor.links;\n          var actorCnt = actor.actorCnt;\n          var rectData = actor.rectData;\n          var displayValue = 'none';\n          if (forceMenus) {\n            displayValue = 'block !important';\n          }\n          var g = elem.append('g');\n          g.attr('id', 'actor' + actorCnt + '_popup');\n          g.attr('class', 'actorPopupMenu');\n          g.attr('display', displayValue);\n          addPopupInteraction('#actor' + actorCnt + '_popup', actorCnt);\n          var actorClass = '';\n          if (typeof rectData.class !== 'undefined') {\n            actorClass = ' ' + rectData.class;\n          }\n          var menuWidth = rectData.width > minMenuWidth ? rectData.width : minMenuWidth;\n          var rectElem = g.append('rect');\n          rectElem.attr('class', 'actorPopupMenuPanel' + actorClass);\n          rectElem.attr('x', rectData.x);\n          rectElem.attr('y', rectData.height);\n          rectElem.attr('fill', rectData.fill);\n          rectElem.attr('stroke', rectData.stroke);\n          rectElem.attr('width', menuWidth);\n          rectElem.attr('height', rectData.height);\n          rectElem.attr('rx', rectData.rx);\n          rectElem.attr('ry', rectData.ry);\n          if (links != null) {\n            var linkY = 20;\n            for (var key in links) {\n              var linkElem = g.append('a');\n              var sanitizedLink = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(links[key]);\n              linkElem.attr('xlink:href', sanitizedLink);\n              linkElem.attr('target', '_blank');\n              _drawMenuItemTextCandidateFunc(textAttrs)(key, linkElem, rectData.x + 10, rectData.height + linkY, menuWidth, 20, {\n                class: 'actor'\n              }, textAttrs);\n              linkY += 30;\n            }\n          }\n          rectElem.attr('height', linkY);\n          return {\n            height: rectData.height + linkY,\n            width: menuWidth\n          };\n        };\n        var drawImage = function drawImage(elem, x, y, link) {\n          var imageElem = elem.append('image');\n          imageElem.attr('x', x);\n          imageElem.attr('y', y);\n          var sanitizedLink = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(link);\n          imageElem.attr('xlink:href', sanitizedLink);\n        };\n        var drawEmbeddedImage = function drawEmbeddedImage(elem, x, y, link) {\n          var imageElem = elem.append('use');\n          imageElem.attr('x', x);\n          imageElem.attr('y', y);\n          var sanitizedLink = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(link);\n          imageElem.attr('xlink:href', '#' + sanitizedLink);\n        };\n        var popupMenu = function popupMenu(popid) {\n          return \"var pu = document.getElementById('\" + popid + \"'); if (pu != null) { pu.style.display = 'block'; }\";\n        };\n        var popdownMenu = function popdownMenu(popid) {\n          return \"var pu = document.getElementById('\" + popid + \"'); if (pu != null) { pu.style.display = 'none'; }\";\n        };\n        var popupMenuUpFunc = function popupMenuUpFunc(popupId) {\n          var pu = document.getElementById(popupId);\n          if (pu != null) {\n            pu.style.display = 'block';\n          }\n        };\n        var popupMenuDownFunc = function popupMenuDownFunc(popupId) {\n          var pu = document.getElementById(popupId);\n          if (pu != null) {\n            pu.style.display = 'none';\n          }\n        };\n        var drawText = function drawText(elem, textData) {\n          var prevTextHeight = 0,\n            textHeight = 0;\n          var lines = textData.text.split(_common_common__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lineBreakRegex);\n          var textElems = [];\n          var dy = 0;\n          var yfunc = function yfunc() {\n            return textData.y;\n          };\n          if (typeof textData.valign !== 'undefined' && typeof textData.textMargin !== 'undefined' && textData.textMargin > 0) {\n            switch (textData.valign) {\n              case 'top':\n              case 'start':\n                yfunc = function yfunc() {\n                  return Math.round(textData.y + textData.textMargin);\n                };\n                break;\n              case 'middle':\n              case 'center':\n                yfunc = function yfunc() {\n                  return Math.round(textData.y + (prevTextHeight + textHeight + textData.textMargin) / 2);\n                };\n                break;\n              case 'bottom':\n              case 'end':\n                yfunc = function yfunc() {\n                  return Math.round(textData.y + (prevTextHeight + textHeight + 2 * textData.textMargin) - textData.textMargin);\n                };\n                break;\n            }\n          }\n          if (typeof textData.anchor !== 'undefined' && typeof textData.textMargin !== 'undefined' && typeof textData.width !== 'undefined') {\n            switch (textData.anchor) {\n              case 'left':\n              case 'start':\n                textData.x = Math.round(textData.x + textData.textMargin);\n                textData.anchor = 'start';\n                textData.dominantBaseline = 'text-after-edge';\n                textData.alignmentBaseline = 'middle';\n                break;\n              case 'middle':\n              case 'center':\n                textData.x = Math.round(textData.x + textData.width / 2);\n                textData.anchor = 'middle';\n                textData.dominantBaseline = 'middle';\n                textData.alignmentBaseline = 'middle';\n                break;\n              case 'right':\n              case 'end':\n                textData.x = Math.round(textData.x + textData.width - textData.textMargin);\n                textData.anchor = 'end';\n                textData.dominantBaseline = 'text-before-edge';\n                textData.alignmentBaseline = 'middle';\n                break;\n            }\n          }\n          for (var i = 0; i < lines.length; i++) {\n            var line = lines[i];\n            if (typeof textData.textMargin !== 'undefined' && textData.textMargin === 0 && typeof textData.fontSize !== 'undefined') {\n              dy = i * textData.fontSize;\n            }\n            var textElem = elem.append('text');\n            textElem.attr('x', textData.x);\n            textElem.attr('y', yfunc());\n            if (typeof textData.anchor !== 'undefined') {\n              textElem.attr('text-anchor', textData.anchor).attr('dominant-baseline', textData.dominantBaseline).attr('alignment-baseline', textData.alignmentBaseline);\n            }\n            if (typeof textData.fontFamily !== 'undefined') {\n              textElem.style('font-family', textData.fontFamily);\n            }\n            if (typeof textData.fontSize !== 'undefined') {\n              textElem.style('font-size', textData.fontSize);\n            }\n            if (typeof textData.fontWeight !== 'undefined') {\n              textElem.style('font-weight', textData.fontWeight);\n            }\n            if (typeof textData.fill !== 'undefined') {\n              textElem.attr('fill', textData.fill);\n            }\n            if (typeof textData.class !== 'undefined') {\n              textElem.attr('class', textData.class);\n            }\n            if (typeof textData.dy !== 'undefined') {\n              textElem.attr('dy', textData.dy);\n            } else if (dy !== 0) {\n              textElem.attr('dy', dy);\n            }\n            if (textData.tspan) {\n              var span = textElem.append('tspan');\n              span.attr('x', textData.x);\n              if (typeof textData.fill !== 'undefined') {\n                span.attr('fill', textData.fill);\n              }\n              span.text(line);\n            } else {\n              textElem.text(line);\n            }\n            if (typeof textData.valign !== 'undefined' && typeof textData.textMargin !== 'undefined' && textData.textMargin > 0) {\n              textHeight += (textElem._groups || textElem)[0][0].getBBox().height;\n              prevTextHeight = textHeight;\n            }\n            textElems.push(textElem);\n          }\n          return textElems;\n        };\n        var drawLabel = function drawLabel(elem, txtObject) {\n          /**\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} cut\n           * @returns {any}\n           */\n          function genPoints(x, y, width, height, cut) {\n            return x + ',' + y + ' ' + (x + width) + ',' + y + ' ' + (x + width) + ',' + (y + height - cut) + ' ' + (x + width - cut * 1.2) + ',' + (y + height) + ' ' + x + ',' + (y + height);\n          }\n          var polygon = elem.append('polygon');\n          polygon.attr('points', genPoints(txtObject.x, txtObject.y, txtObject.width, txtObject.height, 7));\n          polygon.attr('class', 'labelBox');\n          txtObject.y = txtObject.y + txtObject.height / 2;\n          drawText(elem, txtObject);\n          return polygon;\n        };\n        var actorCnt = -1;\n        var fixLifeLineHeights = function fixLifeLineHeights(diagram, bounds) {\n          if (!diagram.selectAll) return;\n          diagram.selectAll('.actor-line').attr('class', '200').attr('y2', bounds - 55);\n        };\n        /**\n         * Draws an actor in the diagram with the attached line\n         *\n         * @param {any} elem - The diagram we'll draw to.\n         * @param {any} actor - The actor to draw.\n         * @param {any} conf - DrawText implementation discriminator object\n         */\n\n        var drawActorTypeParticipant = function drawActorTypeParticipant(elem, actor, conf) {\n          var center = actor.x + actor.width / 2;\n          var boxpluslineGroup = elem.append('g');\n          var g = boxpluslineGroup;\n          if (actor.y === 0) {\n            actorCnt++;\n            g.append('line').attr('id', 'actor' + actorCnt).attr('x1', center).attr('y1', 5).attr('x2', center).attr('y2', 2000).attr('class', 'actor-line').attr('stroke-width', '0.5px').attr('stroke', '#999');\n            g = boxpluslineGroup.append('g');\n            actor.actorCnt = actorCnt;\n            if (actor.links != null) {\n              g.attr('id', 'root-' + actorCnt);\n              addPopupInteraction('#root-' + actorCnt, actorCnt);\n            }\n          }\n          var rect = getNoteRect();\n          var cssclass = 'actor';\n          if (actor.properties != null && actor.properties['class']) {\n            cssclass = actor.properties['class'];\n          } else {\n            rect.fill = '#eaeaea';\n          }\n          rect.x = actor.x;\n          rect.y = actor.y;\n          rect.width = actor.width;\n          rect.height = actor.height;\n          rect.class = cssclass;\n          rect.rx = 3;\n          rect.ry = 3;\n          var rectElem = drawRect(g, rect);\n          actor.rectData = rect;\n          if (actor.properties != null && actor.properties['icon']) {\n            var iconSrc = actor.properties['icon'].trim();\n            if (iconSrc.charAt(0) === '@') {\n              drawEmbeddedImage(g, rect.x + rect.width - 20, rect.y + 10, iconSrc.substr(1));\n            } else {\n              drawImage(g, rect.x + rect.width - 20, rect.y + 10, iconSrc);\n            }\n          }\n          _drawTextCandidateFunc(conf)(actor.description, g, rect.x, rect.y, rect.width, rect.height, {\n            class: 'actor'\n          }, conf);\n          var height = actor.height;\n          if (rectElem.node) {\n            var bounds = rectElem.node().getBBox();\n            actor.height = bounds.height;\n            height = bounds.height;\n          }\n          return height;\n        };\n        var drawActorTypeActor = function drawActorTypeActor(elem, actor, conf) {\n          var center = actor.x + actor.width / 2;\n          if (actor.y === 0) {\n            actorCnt++;\n            elem.append('line').attr('id', 'actor' + actorCnt).attr('x1', center).attr('y1', 80).attr('x2', center).attr('y2', 2000).attr('class', 'actor-line').attr('stroke-width', '0.5px').attr('stroke', '#999');\n          }\n          var actElem = elem.append('g');\n          actElem.attr('class', 'actor-man');\n          var rect = getNoteRect();\n          rect.x = actor.x;\n          rect.y = actor.y;\n          rect.fill = '#eaeaea';\n          rect.width = actor.width;\n          rect.height = actor.height;\n          rect.class = 'actor';\n          rect.rx = 3;\n          rect.ry = 3; // drawRect(actElem, rect);\n\n          actElem.append('line').attr('id', 'actor-man-torso' + actorCnt).attr('x1', center).attr('y1', actor.y + 25).attr('x2', center).attr('y2', actor.y + 45);\n          actElem.append('line').attr('id', 'actor-man-arms' + actorCnt).attr('x1', center - 18).attr('y1', actor.y + 33).attr('x2', center + 18).attr('y2', actor.y + 33);\n          actElem.append('line').attr('x1', center - 18).attr('y1', actor.y + 60).attr('x2', center).attr('y2', actor.y + 45);\n          actElem.append('line').attr('x1', center).attr('y1', actor.y + 45).attr('x2', center + 16).attr('y2', actor.y + 60);\n          var circle = actElem.append('circle');\n          circle.attr('cx', actor.x + actor.width / 2);\n          circle.attr('cy', actor.y + 10);\n          circle.attr('r', 15);\n          circle.attr('width', actor.width);\n          circle.attr('height', actor.height);\n          var bounds = actElem.node().getBBox();\n          actor.height = bounds.height;\n          _drawTextCandidateFunc(conf)(actor.description, actElem, rect.x, rect.y + 35, rect.width, rect.height, {\n            class: 'actor'\n          }, conf);\n          return actor.height;\n        };\n        var drawActor = function drawActor(elem, actor, conf) {\n          switch (actor.type) {\n            case 'actor':\n              return drawActorTypeActor(elem, actor, conf);\n            case 'participant':\n              return drawActorTypeParticipant(elem, actor, conf);\n          }\n        };\n        var anchorElement = function anchorElement(elem) {\n          return elem.append('g');\n        };\n        /**\n         * Draws an activation in the diagram\n         *\n         * @param {any} elem - Element to append activation rect.\n         * @param {any} bounds - Activation box bounds.\n         * @param {any} verticalPos - Precise y cooridnate of bottom activation box edge.\n         * @param {any} conf - Sequence diagram config object.\n         * @param {any} actorActivations - Number of activations on the actor.\n         */\n\n        var drawActivation = function drawActivation(elem, bounds, verticalPos, conf, actorActivations) {\n          var rect = getNoteRect();\n          var g = bounds.anchored;\n          rect.x = bounds.startx;\n          rect.y = bounds.starty;\n          rect.class = 'activation' + actorActivations % 3; // Will evaluate to 0, 1 or 2\n\n          rect.width = bounds.stopx - bounds.startx;\n          rect.height = verticalPos - bounds.starty;\n          drawRect(g, rect);\n        };\n        /**\n         * Draws a loop in the diagram\n         *\n         * @param {any} elem - Elemenet to append the loop to.\n         * @param {any} loopModel - LoopModel of the given loop.\n         * @param {any} labelText - Text within the loop.\n         * @param {any} conf - Diagrom configuration\n         * @returns {any}\n         */\n\n        var drawLoop = function drawLoop(elem, loopModel, labelText, conf) {\n          var boxMargin = conf.boxMargin,\n            boxTextMargin = conf.boxTextMargin,\n            labelBoxHeight = conf.labelBoxHeight,\n            labelBoxWidth = conf.labelBoxWidth,\n            fontFamily = conf.messageFontFamily,\n            fontSize = conf.messageFontSize,\n            fontWeight = conf.messageFontWeight;\n          var g = elem.append('g');\n          var drawLoopLine = function drawLoopLine(startx, starty, stopx, stopy) {\n            return g.append('line').attr('x1', startx).attr('y1', starty).attr('x2', stopx).attr('y2', stopy).attr('class', 'loopLine');\n          };\n          drawLoopLine(loopModel.startx, loopModel.starty, loopModel.stopx, loopModel.starty);\n          drawLoopLine(loopModel.stopx, loopModel.starty, loopModel.stopx, loopModel.stopy);\n          drawLoopLine(loopModel.startx, loopModel.stopy, loopModel.stopx, loopModel.stopy);\n          drawLoopLine(loopModel.startx, loopModel.starty, loopModel.startx, loopModel.stopy);\n          if (typeof loopModel.sections !== 'undefined') {\n            loopModel.sections.forEach(function (item) {\n              drawLoopLine(loopModel.startx, item.y, loopModel.stopx, item.y).style('stroke-dasharray', '3, 3');\n            });\n          }\n          var txt = getTextObj();\n          txt.text = labelText;\n          txt.x = loopModel.startx;\n          txt.y = loopModel.starty;\n          txt.fontFamily = fontFamily;\n          txt.fontSize = fontSize;\n          txt.fontWeight = fontWeight;\n          txt.anchor = 'middle';\n          txt.valign = 'middle';\n          txt.tspan = false;\n          txt.width = labelBoxWidth || 50;\n          txt.height = labelBoxHeight || 20;\n          txt.textMargin = boxTextMargin;\n          txt.class = 'labelText';\n          drawLabel(g, txt);\n          txt = getTextObj();\n          txt.text = loopModel.title;\n          txt.x = loopModel.startx + labelBoxWidth / 2 + (loopModel.stopx - loopModel.startx) / 2;\n          txt.y = loopModel.starty + boxMargin + boxTextMargin;\n          txt.anchor = 'middle';\n          txt.valign = 'middle';\n          txt.textMargin = boxTextMargin;\n          txt.class = 'loopText';\n          txt.fontFamily = fontFamily;\n          txt.fontSize = fontSize;\n          txt.fontWeight = fontWeight;\n          txt.wrap = true;\n          var textElem = drawText(g, txt);\n          if (typeof loopModel.sectionTitles !== 'undefined') {\n            loopModel.sectionTitles.forEach(function (item, idx) {\n              if (item.message) {\n                txt.text = item.message;\n                txt.x = loopModel.startx + (loopModel.stopx - loopModel.startx) / 2;\n                txt.y = loopModel.sections[idx].y + boxMargin + boxTextMargin;\n                txt.class = 'loopText';\n                txt.anchor = 'middle';\n                txt.valign = 'middle';\n                txt.tspan = false;\n                txt.fontFamily = fontFamily;\n                txt.fontSize = fontSize;\n                txt.fontWeight = fontWeight;\n                txt.wrap = loopModel.wrap;\n                textElem = drawText(g, txt);\n                var sectionHeight = Math.round(textElem.map(function (te) {\n                  return (te._groups || te)[0][0].getBBox().height;\n                }).reduce(function (acc, curr) {\n                  return acc + curr;\n                }));\n                loopModel.sections[idx].height += sectionHeight - (boxMargin + boxTextMargin);\n              }\n            });\n          }\n          loopModel.height = Math.round(loopModel.stopy - loopModel.starty);\n          return g;\n        };\n        /**\n         * Draws a background rectangle\n         *\n         * @param {any} elem Diagram (reference for bounds)\n         * @param {any} bounds Shape of the rectangle\n         */\n\n        var drawBackgroundRect = function drawBackgroundRect(elem, bounds) {\n          var rectElem = drawRect(elem, {\n            x: bounds.startx,\n            y: bounds.starty,\n            width: bounds.stopx - bounds.startx,\n            height: bounds.stopy - bounds.starty,\n            fill: bounds.fill,\n            class: 'rect'\n          });\n          rectElem.lower();\n        };\n        var insertDatabaseIcon = function insertDatabaseIcon(elem) {\n          elem.append('defs').append('symbol').attr('id', 'database').attr('fill-rule', 'evenodd').attr('clip-rule', 'evenodd').append('path').attr('transform', 'scale(.5)').attr('d', 'M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z');\n        };\n        var insertComputerIcon = function insertComputerIcon(elem) {\n          elem.append('defs').append('symbol').attr('id', 'computer').attr('width', '24').attr('height', '24').append('path').attr('transform', 'scale(.5)').attr('d', 'M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z');\n        };\n        var insertClockIcon = function insertClockIcon(elem) {\n          elem.append('defs').append('symbol').attr('id', 'clock').attr('width', '24').attr('height', '24').append('path').attr('transform', 'scale(.5)').attr('d', 'M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z');\n        };\n        /**\n         * Setup arrow head and define the marker. The result is appended to the svg.\n         *\n         * @param elem\n         */\n\n        var insertArrowHead = function insertArrowHead(elem) {\n          elem.append('defs').append('marker').attr('id', 'arrowhead').attr('refX', 9).attr('refY', 5).attr('markerUnits', 'userSpaceOnUse').attr('markerWidth', 12).attr('markerHeight', 12).attr('orient', 'auto').append('path').attr('d', 'M 0 0 L 10 5 L 0 10 z'); // this is actual shape for arrowhead\n        };\n        /**\n         * Setup arrow head and define the marker. The result is appended to the svg.\n         *\n         * @param {any} elem\n         */\n\n        var insertArrowFilledHead = function insertArrowFilledHead(elem) {\n          elem.append('defs').append('marker').attr('id', 'filled-head').attr('refX', 18).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\n        };\n        /**\n         * Setup node number. The result is appended to the svg.\n         *\n         * @param {any} elem\n         */\n\n        var insertSequenceNumber = function insertSequenceNumber(elem) {\n          elem.append('defs').append('marker').attr('id', 'sequencenumber').attr('refX', 15).attr('refY', 15).attr('markerWidth', 60).attr('markerHeight', 40).attr('orient', 'auto').append('circle').attr('cx', 15).attr('cy', 15).attr('r', 6); // .style(\"fill\", '#f00');\n        };\n        /**\n         * Setup arrow head and define the marker. The result is appended to the svg.\n         *\n         * @param {any} elem\n         */\n\n        var insertArrowCrossHead = function insertArrowCrossHead(elem) {\n          var defs = elem.append('defs');\n          var marker = defs.append('marker').attr('id', 'crosshead').attr('markerWidth', 15).attr('markerHeight', 8).attr('orient', 'auto').attr('refX', 16).attr('refY', 4); // The arrow\n\n          marker.append('path').attr('fill', 'black').attr('stroke', '#000000').style('stroke-dasharray', '0, 0').attr('stroke-width', '1px').attr('d', 'M 9,2 V 6 L16,4 Z'); // The cross\n\n          marker.append('path').attr('fill', 'none').attr('stroke', '#000000').style('stroke-dasharray', '0, 0').attr('stroke-width', '1px').attr('d', 'M 0,1 L 6,7 M 6,1 L 0,7'); // this is actual shape for arrowhead\n        };\n        var getTextObj = function getTextObj() {\n          return {\n            x: 0,\n            y: 0,\n            fill: undefined,\n            anchor: undefined,\n            style: '#666',\n            width: undefined,\n            height: undefined,\n            textMargin: 0,\n            rx: 0,\n            ry: 0,\n            tspan: true,\n            valign: undefined\n          };\n        };\n        var getNoteRect = function getNoteRect() {\n          return {\n            x: 0,\n            y: 0,\n            fill: '#EDF2AE',\n            stroke: '#666',\n            width: 100,\n            anchor: 'start',\n            height: 100,\n            rx: 0,\n            ry: 0\n          };\n        };\n        var _drawTextCandidateFunc = function () {\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           */\n          function byText(content, g, x, y, width, height, textAttrs) {\n            var text = g.append('text').attr('x', x + width / 2).attr('y', y + height / 2 + 5).style('text-anchor', 'middle').text(content);\n            _setTextAttrs(text, textAttrs);\n          }\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           * @param {any} conf\n           */\n\n          function byTspan(content, g, x, y, width, height, textAttrs, conf) {\n            var actorFontSize = conf.actorFontSize,\n              actorFontFamily = conf.actorFontFamily,\n              actorFontWeight = conf.actorFontWeight;\n            var lines = content.split(_common_common__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lineBreakRegex);\n            for (var i = 0; i < lines.length; i++) {\n              var dy = i * actorFontSize - actorFontSize * (lines.length - 1) / 2;\n              var text = g.append('text').attr('x', x + width / 2).attr('y', y).style('text-anchor', 'middle').style('font-size', actorFontSize).style('font-weight', actorFontWeight).style('font-family', actorFontFamily);\n              text.append('tspan').attr('x', x + width / 2).attr('dy', dy).text(lines[i]);\n              text.attr('y', y + height / 2.0).attr('dominant-baseline', 'central').attr('alignment-baseline', 'central');\n              _setTextAttrs(text, textAttrs);\n            }\n          }\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           * @param {any} conf\n           */\n\n          function byFo(content, g, x, y, width, height, textAttrs, conf) {\n            var s = g.append('switch');\n            var f = s.append('foreignObject').attr('x', x).attr('y', y).attr('width', width).attr('height', height);\n            var text = f.append('xhtml:div').style('display', 'table').style('height', '100%').style('width', '100%');\n            text.append('div').style('display', 'table-cell').style('text-align', 'center').style('vertical-align', 'middle').text(content);\n            byTspan(content, s, x, y, width, height, textAttrs, conf);\n            _setTextAttrs(text, textAttrs);\n          }\n          /**\n           * @param {any} toText\n           * @param {any} fromTextAttrsDict\n           */\n\n          function _setTextAttrs(toText, fromTextAttrsDict) {\n            for (var key in fromTextAttrsDict) {\n              if (fromTextAttrsDict.hasOwnProperty(key)) {\n                // eslint-disable-line\n                toText.attr(key, fromTextAttrsDict[key]);\n              }\n            }\n          }\n          return function (conf) {\n            return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\n          };\n        }();\n        var _drawMenuItemTextCandidateFunc = function () {\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           */\n          function byText(content, g, x, y, width, height, textAttrs) {\n            var text = g.append('text').attr('x', x).attr('y', y).style('text-anchor', 'start').text(content);\n            _setTextAttrs(text, textAttrs);\n          }\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           * @param {any} conf\n           */\n\n          function byTspan(content, g, x, y, width, height, textAttrs, conf) {\n            var actorFontSize = conf.actorFontSize,\n              actorFontFamily = conf.actorFontFamily,\n              actorFontWeight = conf.actorFontWeight;\n            var lines = content.split(_common_common__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lineBreakRegex);\n            for (var i = 0; i < lines.length; i++) {\n              var dy = i * actorFontSize - actorFontSize * (lines.length - 1) / 2;\n              var text = g.append('text').attr('x', x).attr('y', y).style('text-anchor', 'start').style('font-size', actorFontSize).style('font-weight', actorFontWeight).style('font-family', actorFontFamily);\n              text.append('tspan').attr('x', x).attr('dy', dy).text(lines[i]);\n              text.attr('y', y + height / 2.0).attr('dominant-baseline', 'central').attr('alignment-baseline', 'central');\n              _setTextAttrs(text, textAttrs);\n            }\n          }\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           * @param {any} conf\n           */\n\n          function byFo(content, g, x, y, width, height, textAttrs, conf) {\n            var s = g.append('switch');\n            var f = s.append('foreignObject').attr('x', x).attr('y', y).attr('width', width).attr('height', height);\n            var text = f.append('xhtml:div').style('display', 'table').style('height', '100%').style('width', '100%');\n            text.append('div').style('display', 'table-cell').style('text-align', 'center').style('vertical-align', 'middle').text(content);\n            byTspan(content, s, x, y, width, height, textAttrs, conf);\n            _setTextAttrs(text, textAttrs);\n          }\n          /**\n           * @param {any} toText\n           * @param {any} fromTextAttrsDict\n           */\n\n          function _setTextAttrs(toText, fromTextAttrsDict) {\n            for (var key in fromTextAttrsDict) {\n              if (fromTextAttrsDict.hasOwnProperty(key)) {\n                // eslint-disable-line\n                toText.attr(key, fromTextAttrsDict[key]);\n              }\n            }\n          }\n          return function (conf) {\n            return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\n          };\n        }();\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          drawRect: drawRect,\n          drawText: drawText,\n          drawLabel: drawLabel,\n          drawActor: drawActor,\n          drawPopup: drawPopup,\n          drawImage: drawImage,\n          drawEmbeddedImage: drawEmbeddedImage,\n          anchorElement: anchorElement,\n          drawActivation: drawActivation,\n          drawLoop: drawLoop,\n          drawBackgroundRect: drawBackgroundRect,\n          insertArrowHead: insertArrowHead,\n          insertArrowFilledHead: insertArrowFilledHead,\n          insertSequenceNumber: insertSequenceNumber,\n          insertArrowCrossHead: insertArrowCrossHead,\n          insertDatabaseIcon: insertDatabaseIcon,\n          insertComputerIcon: insertComputerIcon,\n          insertClockIcon: insertClockIcon,\n          getTextObj: getTextObj,\n          getNoteRect: getNoteRect,\n          popupMenu: popupMenu,\n          popdownMenu: popdownMenu,\n          fixLifeLineHeights: fixLifeLineHeights,\n          sanitizeUrl: _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/state/id-cache.js\": (\n      /*!****************************************!*\\\n        !*** ./src/diagrams/state/id-cache.js ***!\n        \\****************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"set\": () => (/* binding */set),\n          /* harmony export */\"get\": () => (/* binding */get),\n          /* harmony export */\"keys\": () => (/* binding */keys),\n          /* harmony export */\"size\": () => (/* binding */size),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var idCache = {};\n        var set = function set(key, val) {\n          idCache[key] = val;\n        };\n        var get = function get(k) {\n          return idCache[k];\n        };\n        var keys = function keys() {\n          return Object.keys(idCache);\n        };\n        var size = function size() {\n          return keys().length;\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          get: get,\n          set: set,\n          keys: keys,\n          size: size\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/state/shapes.js\": (\n      /*!**************************************!*\\\n        !*** ./src/diagrams/state/shapes.js ***!\n        \\**************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"drawStartState\": () => (/* binding */drawStartState),\n          /* harmony export */\"drawDivider\": () => (/* binding */drawDivider),\n          /* harmony export */\"drawSimpleState\": () => (/* binding */drawSimpleState),\n          /* harmony export */\"drawDescrState\": () => (/* binding */drawDescrState),\n          /* harmony export */\"addTitleAndBox\": () => (/* binding */addTitleAndBox),\n          /* harmony export */\"drawText\": () => (/* binding */drawText),\n          /* harmony export */\"drawNote\": () => (/* binding */drawNote),\n          /* harmony export */\"drawState\": () => (/* binding */drawState),\n          /* harmony export */\"drawEdge\": () => (/* binding */drawEdge)\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _id_cache_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./id-cache.js */\"./src/diagrams/state/id-cache.js\");\n        /* harmony import */\n        var _stateDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stateDb */\"./src/diagrams/state/stateDb.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        function _createForOfIteratorHelper(o, allowArrayLike) {\n          var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n          if (!it) {\n            if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n              if (it) o = it;\n              var i = 0;\n              var F = function F() {};\n              return {\n                s: F,\n                n: function n() {\n                  if (i >= o.length) return {\n                    done: true\n                  };\n                  return {\n                    done: false,\n                    value: o[i++]\n                  };\n                },\n                e: function e(_e) {\n                  throw _e;\n                },\n                f: F\n              };\n            }\n            throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n          }\n          var normalCompletion = true,\n            didErr = false,\n            err;\n          return {\n            s: function s() {\n              it = it.call(o);\n            },\n            n: function n() {\n              var step = it.next();\n              normalCompletion = step.done;\n              return step;\n            },\n            e: function e(_e2) {\n              didErr = true;\n              err = _e2;\n            },\n            f: function f() {\n              try {\n                if (!normalCompletion && it.return != null) it.return();\n              } finally {\n                if (didErr) throw err;\n              }\n            }\n          };\n        }\n        function _unsupportedIterableToArray(o, minLen) {\n          if (!o) return;\n          if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n          var n = Object.prototype.toString.call(o).slice(8, -1);\n          if (n === \"Object\" && o.constructor) n = o.constructor.name;\n          if (n === \"Map\" || n === \"Set\") return Array.from(o);\n          if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n        }\n        function _arrayLikeToArray(arr, len) {\n          if (len == null || len > arr.length) len = arr.length;\n          for (var i = 0, arr2 = new Array(len); i < len; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        }\n\n        /**\n         * Draws a start state as a black circle\n         *\n         * @param {any} g\n         */\n\n        var drawStartState = function drawStartState(g) {\n          return g.append('circle') // .style('stroke', 'black')\n          // .style('fill', 'black')\n          .attr('class', 'start-state').attr('r', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr('cx', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr('cy', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit);\n        };\n        /**\n         * Draws a start state as a black circle\n         *\n         * @param {any} g\n         */\n\n        var drawDivider = function drawDivider(g) {\n          return g.append('line').style('stroke', 'grey').style('stroke-dasharray', '3').attr('x1', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr('class', 'divider').attr('x2', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight * 2).attr('y1', 0).attr('y2', 0);\n        };\n        /**\n         * Draws a an end state as a black circle\n         *\n         * @param {any} g\n         * @param {any} stateDef\n         */\n\n        var drawSimpleState = function drawSimpleState(g, stateDef) {\n          var state = g.append('text').attr('x', 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('font-size', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr('class', 'state-title').text(stateDef.id);\n          var classBox = state.node().getBBox();\n          g.insert('rect', ':first-child').attr('x', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('width', classBox.width + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('height', classBox.height + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('rx', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius);\n          return state;\n        };\n        /**\n         * Draws a state with descriptions\n         *\n         * @param {any} g\n         * @param {any} stateDef\n         * @returns\n         */\n\n        var drawDescrState = function drawDescrState(g, stateDef) {\n          var addTspan = function addTspan(textEl, txt, isFirst) {\n            var tSpan = textEl.append('tspan').attr('x', 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).text(txt);\n            if (!isFirst) {\n              tSpan.attr('dy', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight);\n            }\n          };\n          var title = g.append('text').attr('x', 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight + 1.3 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('font-size', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr('class', 'state-title').text(stateDef.descriptions[0]);\n          var titleBox = title.node().getBBox();\n          var titleHeight = titleBox.height;\n          var description = g.append('text') // text label for the x axis\n          .attr('x', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('y', titleHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding * 0.4 + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr('class', 'state-description');\n          var isFirst = true;\n          var isSecond = true;\n          stateDef.descriptions.forEach(function (descr) {\n            if (!isFirst) {\n              addTspan(description, descr, isSecond);\n              isSecond = false;\n            }\n            isFirst = false;\n          });\n          var descrLine = g.append('line') // text label for the x axis\n          .attr('x1', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('y1', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + titleHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin / 2).attr('y2', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + titleHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin / 2).attr('class', 'descr-divider');\n          var descrBox = description.node().getBBox();\n          var width = Math.max(descrBox.width, titleBox.width);\n          descrLine.attr('x2', width + 3 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding); // const classBox = title.node().getBBox();\n\n          g.insert('rect', ':first-child').attr('x', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('width', width + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('height', descrBox.height + titleHeight + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('rx', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius);\n          return g;\n        };\n        /** Adds the creates a box around the existing content and adds a panel for the id on top of the content. */\n\n        /**\n         * Function that creates an title row and a frame around a substate for a composit state diagram.\n         * The function returns a new d3 svg object with updated width and height properties;\n         *\n         * @param {any} g The d3 svg object for the substate to framed\n         * @param {any} stateDef The info about the\n         * @param {any} altBkg\n         */\n\n        var addTitleAndBox = function addTitleAndBox(g, stateDef, altBkg) {\n          var pad = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding;\n          var dblPad = 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding;\n          var orgBox = g.node().getBBox();\n          var orgWidth = orgBox.width;\n          var orgX = orgBox.x;\n          var title = g.append('text').attr('x', 0).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift).attr('font-size', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr('class', 'state-title').text(stateDef.id);\n          var titleBox = title.node().getBBox();\n          var titleWidth = titleBox.width + dblPad;\n          var width = Math.max(titleWidth, orgWidth); // + dblPad;\n\n          if (width === orgWidth) {\n            width = width + dblPad;\n          }\n          var startX; // const lineY = 1 - getConfig().state.textHeight;\n          // const descrLine = g\n          //   .append('line') // text label for the x axis\n          //   .attr('x1', 0)\n          //   .attr('y1', lineY)\n          //   .attr('y2', lineY)\n          //   .attr('class', 'descr-divider');\n\n          var graphBox = g.node().getBBox(); // descrLine.attr('x2', graphBox.width + getConfig().state.padding);\n\n          if (stateDef.doc) {// cnsole.warn(\n            //   stateDef.id,\n            //   'orgX: ',\n            //   orgX,\n            //   'width: ',\n            //   width,\n            //   'titleWidth: ',\n            //   titleWidth,\n            //   'orgWidth: ',\n            //   orgWidth,\n            //   'width',\n            //   width\n            // );\n          }\n          startX = orgX - pad;\n          if (titleWidth > orgWidth) {\n            startX = (orgWidth - width) / 2 + pad;\n          }\n          if (Math.abs(orgX - graphBox.x) < pad) {\n            if (titleWidth > orgWidth) {\n              startX = orgX - (titleWidth - orgWidth) / 2;\n            }\n          }\n          var lineY = 1 - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight; // White color\n\n          g.insert('rect', ':first-child').attr('x', startX).attr('y', lineY).attr('class', altBkg ? 'alt-composit' : 'composit').attr('width', width).attr('height', graphBox.height + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift + 1).attr('rx', '0');\n          title.attr('x', startX + pad);\n          if (titleWidth <= orgWidth) title.attr('x', orgX + (width - dblPad) / 2 - titleWidth / 2 + pad); // Title background\n\n          g.insert('rect', ':first-child').attr('x', startX).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('width', width) // Just needs to be higher then the descr line, will be clipped by the white color box\n          .attr('height', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight * 3).attr('rx', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius); // Full background\n\n          g.insert('rect', ':first-child').attr('x', startX).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('width', width).attr('height', graphBox.height + 3 + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr('rx', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius);\n          return g;\n        };\n        var drawEndState = function drawEndState(g) {\n          g.append('circle') // .style('stroke', 'black')\n          // .style('fill', 'white')\n          .attr('class', 'end-state-outer').attr('r', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding).attr('cx', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding).attr('cy', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding);\n          return g.append('circle') // .style('stroke', 'black')\n          // .style('fill', 'black')\n          .attr('class', 'end-state-inner').attr('r', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr('cx', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + 2).attr('cy', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + 2);\n        };\n        var drawForkJoinState = function drawForkJoinState(g, stateDef) {\n          var width = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.forkWidth;\n          var height = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.forkHeight;\n          if (stateDef.parentId) {\n            var tmp = width;\n            width = height;\n            height = tmp;\n          }\n          return g.append('rect').style('stroke', 'black').style('fill', 'black').attr('width', width).attr('height', height).attr('x', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding);\n        };\n        var drawText = function drawText(elem, textData) {\n          // Remove and ignore br:s\n          var nText = textData.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lineBreakRegex, ' ');\n          var textElem = elem.append('text');\n          textElem.attr('x', textData.x);\n          textElem.attr('y', textData.y);\n          textElem.style('text-anchor', textData.anchor);\n          textElem.attr('fill', textData.fill);\n          if (typeof textData.class !== 'undefined') {\n            textElem.attr('class', textData.class);\n          }\n          var span = textElem.append('tspan');\n          span.attr('x', textData.x + textData.textMargin * 2);\n          span.attr('fill', textData.fill);\n          span.text(nText);\n          return textElem;\n        };\n        var _drawLongText = function _drawLongText(_text, x, y, g) {\n          var textHeight = 0;\n          var textElem = g.append('text');\n          textElem.style('text-anchor', 'start');\n          textElem.attr('class', 'noteText');\n          var text = _text.replace(/\\r\\n/g, '<br/>');\n          text = text.replace(/\\n/g, '<br/>');\n          var lines = text.split(_common_common__WEBPACK_IMPORTED_MODULE_2__[\"default\"].lineBreakRegex);\n          var tHeight = 1.25 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin;\n          var _iterator = _createForOfIteratorHelper(lines),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var _line = _step.value;\n              var txt = _line.trim();\n              if (txt.length > 0) {\n                var span = textElem.append('tspan');\n                span.text(txt);\n                if (tHeight === 0) {\n                  var textBounds = span.node().getBBox();\n                  tHeight += textBounds.height;\n                }\n                textHeight += tHeight;\n                span.attr('x', x + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin);\n                span.attr('y', y + textHeight + 1.25 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin);\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n          return {\n            textWidth: textElem.node().getBBox().width,\n            textHeight: textHeight\n          };\n        };\n        /**\n         * Draws a note to the diagram\n         *\n         * @param text - The text of the given note.\n         * @param g - The element the note is attached to.\n         */\n\n        var drawNote = function drawNote(text, g) {\n          g.attr('class', 'state-note');\n          var note = g.append('rect').attr('x', 0).attr('y', (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding);\n          var rectElem = g.append('g');\n          var _drawLongText2 = _drawLongText(text, 0, 0, rectElem),\n            textWidth = _drawLongText2.textWidth,\n            textHeight = _drawLongText2.textHeight;\n          note.attr('height', textHeight + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin);\n          note.attr('width', textWidth + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin * 2);\n          return note;\n        };\n        /**\n         * Starting point for drawing a state. The function finds out the specifics about the state and\n         * renders with approprtiate function.\n         *\n         * @param {any} elem\n         * @param {any} stateDef\n         */\n\n        var drawState = function drawState(elem, stateDef) {\n          var id = stateDef.id;\n          var stateInfo = {\n            id: id,\n            label: stateDef.id,\n            width: 0,\n            height: 0\n          };\n          var g = elem.append('g').attr('id', id).attr('class', 'stateGroup');\n          if (stateDef.type === 'start') drawStartState(g);\n          if (stateDef.type === 'end') drawEndState(g);\n          if (stateDef.type === 'fork' || stateDef.type === 'join') drawForkJoinState(g, stateDef);\n          if (stateDef.type === 'note') drawNote(stateDef.note.text, g);\n          if (stateDef.type === 'divider') drawDivider(g);\n          if (stateDef.type === 'default' && stateDef.descriptions.length === 0) drawSimpleState(g, stateDef);\n          if (stateDef.type === 'default' && stateDef.descriptions.length > 0) drawDescrState(g, stateDef);\n          var stateBox = g.node().getBBox();\n          stateInfo.width = stateBox.width + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding;\n          stateInfo.height = stateBox.height + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding;\n          _id_cache_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].set(id, stateInfo); // stateCnt++;\n\n          return stateInfo;\n        };\n        var edgeCount = 0;\n        var drawEdge = function drawEdge(elem, path, relation) {\n          var getRelationType = function getRelationType(type) {\n            switch (type) {\n              case _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].relationType.AGGREGATION:\n                return 'aggregation';\n              case _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].relationType.EXTENSION:\n                return 'extension';\n              case _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].relationType.COMPOSITION:\n                return 'composition';\n              case _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].relationType.DEPENDENCY:\n                return 'dependency';\n            }\n          };\n          path.points = path.points.filter(function (p) {\n            return !Number.isNaN(p.y);\n          }); // The data for our line\n\n          var lineData = path.points; // This is the accessor function we talked about above\n\n          var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function (d) {\n            return d.x;\n          }).y(function (d) {\n            return d.y;\n          }).curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis);\n          var svgPath = elem.append('path').attr('d', lineFunction(lineData)).attr('id', 'edge' + edgeCount).attr('class', 'transition');\n          var url = '';\n          if ((0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.arrowMarkerAbsolute) {\n            url = window.location.protocol + '//' + window.location.host + window.location.pathname + window.location.search;\n            url = url.replace(/\\(/g, '\\\\(');\n            url = url.replace(/\\)/g, '\\\\)');\n          }\n          svgPath.attr('marker-end', 'url(' + url + '#' + getRelationType(_stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].relationType.DEPENDENCY) + 'End' + ')');\n          if (typeof relation.title !== 'undefined') {\n            var label = elem.append('g').attr('class', 'stateLabel');\n            var _utils$calcLabelPosit = _utils__WEBPACK_IMPORTED_MODULE_5__[\"default\"].calcLabelPosition(path.points),\n              x = _utils$calcLabelPosit.x,\n              y = _utils$calcLabelPosit.y;\n            var rows = _common_common__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getRows(relation.title);\n            var titleHeight = 0;\n            var titleRows = [];\n            var maxWidth = 0;\n            var minX = 0;\n            for (var i = 0; i <= rows.length; i++) {\n              var title = label.append('text').attr('text-anchor', 'middle').text(rows[i]).attr('x', x).attr('y', y + titleHeight);\n              var boundstmp = title.node().getBBox();\n              maxWidth = Math.max(maxWidth, boundstmp.width);\n              minX = Math.min(minX, boundstmp.x);\n              _logger__WEBPACK_IMPORTED_MODULE_6__.log.info(boundstmp.x, x, y + titleHeight);\n              if (titleHeight === 0) {\n                var titleBox = title.node().getBBox();\n                titleHeight = titleBox.height;\n                _logger__WEBPACK_IMPORTED_MODULE_6__.log.info('Title height', titleHeight, y);\n              }\n              titleRows.push(title);\n            }\n            var boxHeight = titleHeight * rows.length;\n            if (rows.length > 1) {\n              var heightAdj = (rows.length - 1) * titleHeight * 0.5;\n              titleRows.forEach(function (title, i) {\n                return title.attr('y', y + i * titleHeight - heightAdj);\n              });\n              boxHeight = titleHeight * rows.length;\n            }\n            var bounds = label.node().getBBox();\n            label.insert('rect', ':first-child').attr('class', 'box').attr('x', x - maxWidth / 2 - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding / 2).attr('y', y - boxHeight / 2 - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding / 2 - 3.5).attr('width', maxWidth + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr('height', boxHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding);\n            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info(bounds); //label.attr('transform', '0 -' + (bounds.y / 2));\n            // Debug points\n            // path.points.forEach(point => {\n            //   g.append('circle')\n            //     .style('stroke', 'red')\n            //     .style('fill', 'red')\n            //     .attr('r', 1)\n            //     .attr('cx', point.x)\n            //     .attr('cy', point.y);\n            // });\n            // g.append('circle')\n            //   .style('stroke', 'blue')\n            //   .style('fill', 'blue')\n            //   .attr('r', 1)\n            //   .attr('cx', x)\n            //   .attr('cy', y);\n          }\n          edgeCount++;\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/state/stateDb.js\": (\n      /*!***************************************!*\\\n        !*** ./src/diagrams/state/stateDb.js ***!\n        \\***************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"addState\": () => (/* binding */addState),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"getState\": () => (/* binding */getState),\n          /* harmony export */\"getStates\": () => (/* binding */getStates),\n          /* harmony export */\"logDocuments\": () => (/* binding */logDocuments),\n          /* harmony export */\"getRelations\": () => (/* binding */getRelations),\n          /* harmony export */\"addRelation\": () => (/* binding */addRelation),\n          /* harmony export */\"cleanupLabel\": () => (/* binding */cleanupLabel),\n          /* harmony export */\"lineType\": () => (/* binding */lineType),\n          /* harmony export */\"relationType\": () => (/* binding */relationType),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n        var clone = function clone(o) {\n          return JSON.parse(JSON.stringify(o));\n        };\n        var rootDoc = [];\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        var setRootDoc = function setRootDoc(o) {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Setting root doc', o); // rootDoc = { id: 'root', doc: o };\n\n          rootDoc = o;\n        };\n        var getRootDoc = function getRootDoc() {\n          return rootDoc;\n        };\n        var docTranslator = function docTranslator(parent, node, first) {\n          if (node.stmt === 'relation') {\n            docTranslator(parent, node.state1, true);\n            docTranslator(parent, node.state2, false);\n          } else {\n            if (node.stmt === 'state') {\n              if (node.id === '[*]') {\n                node.id = first ? parent.id + '_start' : parent.id + '_end';\n                node.start = first;\n              }\n            }\n            if (node.doc) {\n              var doc = []; // Check for concurrency\n\n              var i = 0;\n              var currentDoc = [];\n              for (i = 0; i < node.doc.length; i++) {\n                if (node.doc[i].type === 'divider') {\n                  // debugger;\n                  var newNode = clone(node.doc[i]);\n                  newNode.doc = clone(currentDoc);\n                  doc.push(newNode);\n                  currentDoc = [];\n                } else {\n                  currentDoc.push(node.doc[i]);\n                }\n              } // If any divider was encountered\n\n              if (doc.length > 0 && currentDoc.length > 0) {\n                var _newNode = {\n                  stmt: 'state',\n                  id: (0, _utils__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n                  type: 'divider',\n                  doc: clone(currentDoc)\n                };\n                doc.push(clone(_newNode));\n                node.doc = doc;\n              }\n              node.doc.forEach(function (docNode) {\n                return docTranslator(node, docNode, true);\n              });\n            }\n          }\n        };\n        var getRootDocV2 = function getRootDocV2() {\n          docTranslator({\n            id: 'root'\n          }, {\n            id: 'root',\n            doc: rootDoc\n          }, true);\n          return {\n            id: 'root',\n            doc: rootDoc\n          }; // Here\n        };\n        var extract = function extract(_doc) {\n          // const res = { states: [], relations: [] };\n          var doc;\n          if (_doc.doc) {\n            doc = _doc.doc;\n          } else {\n            doc = _doc;\n          } // let doc = root.doc;\n          // if (!doc) {\n          //   doc = root;\n          // }\n\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info(doc);\n          clear();\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Extract', doc);\n          doc.forEach(function (item) {\n            if (item.stmt === 'state') {\n              addState(item.id, item.type, item.doc, item.description, item.note);\n            }\n            if (item.stmt === 'relation') {\n              addRelation(item.state1.id, item.state2.id, item.description);\n            }\n          });\n        };\n        var newDoc = function newDoc() {\n          return {\n            relations: [],\n            states: {},\n            documents: {}\n          };\n        };\n        var documents = {\n          root: newDoc()\n        };\n        var currentDocument = documents.root;\n        var startCnt = 0;\n        var endCnt = 0; // eslint-disable-line\n        // let stateCnt = 0;\n\n        /**\n         * Function called by parser when a node definition has been found.\n         *\n         * @param {any} id\n         * @param {any} type\n         * @param {any} doc\n         * @param {any} descr\n         * @param {any} note\n         */\n\n        var addState = function addState(id, type, doc, descr, note) {\n          if (typeof currentDocument.states[id] === 'undefined') {\n            currentDocument.states[id] = {\n              id: id,\n              descriptions: [],\n              type: type,\n              doc: doc,\n              note: note\n            };\n          } else {\n            if (!currentDocument.states[id].doc) {\n              currentDocument.states[id].doc = doc;\n            }\n            if (!currentDocument.states[id].type) {\n              currentDocument.states[id].type = type;\n            }\n          }\n          if (descr) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Adding state ', id, descr);\n            if (typeof descr === 'string') addDescription(id, descr.trim());\n            if (_typeof(descr) === 'object') {\n              descr.forEach(function (des) {\n                return addDescription(id, des.trim());\n              });\n            }\n          }\n          if (note) {\n            currentDocument.states[id].note = note;\n            currentDocument.states[id].note.text = _common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sanitizeText(currentDocument.states[id].note.text, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig());\n          }\n        };\n        var clear = function clear() {\n          documents = {\n            root: newDoc()\n          };\n          currentDocument = documents.root;\n          currentDocument = documents.root;\n          startCnt = 0;\n          endCnt = 0; // eslint-disable-line\n\n          classes = [];\n        };\n        var getState = function getState(id) {\n          return currentDocument.states[id];\n        };\n        var getStates = function getStates() {\n          return currentDocument.states;\n        };\n        var logDocuments = function logDocuments() {\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.info('Documents = ', documents);\n        };\n        var getRelations = function getRelations() {\n          return currentDocument.relations;\n        };\n        var addRelation = function addRelation(_id1, _id2, title) {\n          var id1 = _id1;\n          var id2 = _id2;\n          var type1 = 'default';\n          var type2 = 'default';\n          if (_id1 === '[*]') {\n            startCnt++;\n            id1 = 'start' + startCnt;\n            type1 = 'start';\n          }\n          if (_id2 === '[*]') {\n            endCnt++;\n            id2 = 'end' + startCnt;\n            type2 = 'end';\n          }\n          addState(id1, type1);\n          addState(id2, type2);\n          currentDocument.relations.push({\n            id1: id1,\n            id2: id2,\n            title: _common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sanitizeText(title, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig())\n          });\n        };\n        var addDescription = function addDescription(id, _descr) {\n          var theState = currentDocument.states[id];\n          var descr = _descr;\n          if (descr[0] === ':') {\n            descr = descr.substr(1).trim();\n          }\n          theState.descriptions.push(_common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sanitizeText(descr, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig()));\n        };\n        var cleanupLabel = function cleanupLabel(label) {\n          if (label.substring(0, 1) === ':') {\n            return label.substr(2).trim();\n          } else {\n            return label.trim();\n          }\n        };\n        var lineType = {\n          LINE: 0,\n          DOTTED_LINE: 1\n        };\n        var dividerCnt = 0;\n        var getDividerId = function getDividerId() {\n          dividerCnt++;\n          return 'divider-id-' + dividerCnt;\n        };\n        var classes = [];\n        var getClasses = function getClasses() {\n          return classes;\n        };\n        var direction = 'TB';\n        var getDirection = function getDirection() {\n          return direction;\n        };\n        var setDirection = function setDirection(dir) {\n          direction = dir;\n        };\n        var relationType = {\n          AGGREGATION: 0,\n          EXTENSION: 1,\n          COMPOSITION: 2,\n          DEPENDENCY: 3\n        };\n        var trimColon = function trimColon(str) {\n          return str && str[0] === ':' ? str.substr(1).trim() : str.trim();\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          parseDirective: parseDirective,\n          getConfig: function getConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_4__.getConfig().state;\n          },\n          addState: addState,\n          clear: clear,\n          getState: getState,\n          getStates: getStates,\n          getRelations: getRelations,\n          getClasses: getClasses,\n          getDirection: getDirection,\n          addRelation: addRelation,\n          getDividerId: getDividerId,\n          setDirection: setDirection,\n          // addDescription,\n          cleanupLabel: cleanupLabel,\n          lineType: lineType,\n          relationType: relationType,\n          logDocuments: logDocuments,\n          getRootDoc: getRootDoc,\n          setRootDoc: setRootDoc,\n          getRootDocV2: getRootDocV2,\n          extract: extract,\n          trimColon: trimColon\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/state/stateRenderer-v2.js\": (\n      /*!************************************************!*\\\n        !*** ./src/diagrams/state/stateRenderer-v2.js ***!\n        \\************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"getClasses\": () => (/* binding */getClasses),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _stateDb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stateDb */\"./src/diagrams/state/stateDb.js\");\n        /* harmony import */\n        var _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parser/stateDiagram */\"./src/diagrams/state/parser/stateDiagram.jison\");\n        /* harmony import */\n        var _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4__);\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../dagre-wrapper/index.js */\"./src/dagre-wrapper/index.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        var conf = {};\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          for (var i = 0; i < keys.length; i++) {\n            conf[keys[i]] = cnf[keys[i]];\n          }\n        };\n        var nodeDb = {};\n        /**\n         * Returns the all the styles from classDef statements in the graph definition.\n         *\n         * @param {any} text\n         * @returns {object} ClassDef styles\n         */\n\n        var getClasses = function getClasses(text) {\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace('Extracting classes');\n          _stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].clear();\n          var parser = _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4___default().parser;\n          parser.yy = _stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; // Parse the graph definition\n\n          parser.parse(text);\n          return _stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getClasses();\n        };\n        var setupNode = function setupNode(g, parent, node, altFlag) {\n          // Add the node\n          if (node.id !== 'root') {\n            var shape = 'rect';\n            if (node.start === true) {\n              shape = 'start';\n            }\n            if (node.start === false) {\n              shape = 'end';\n            }\n            if (node.type !== 'default') {\n              shape = node.type;\n            }\n            if (!nodeDb[node.id]) {\n              nodeDb[node.id] = {\n                id: node.id,\n                shape: shape,\n                description: _common_common__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sanitizeText(node.id, (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)()),\n                classes: 'statediagram-state'\n              };\n            } // Build of the array of description strings accordinging\n\n            if (node.description) {\n              if (Array.isArray(nodeDb[node.id].description)) {\n                // There already is an array of strings,add to it\n                nodeDb[node.id].shape = 'rectWithTitle';\n                nodeDb[node.id].description.push(node.description);\n              } else {\n                if (nodeDb[node.id].description.length > 0) {\n                  // if there is a description already transformit to an array\n                  nodeDb[node.id].shape = 'rectWithTitle';\n                  if (nodeDb[node.id].description === node.id) {\n                    // If the previous description was the is, remove it\n                    nodeDb[node.id].description = [node.description];\n                  } else {\n                    nodeDb[node.id].description = [nodeDb[node.id].description, node.description];\n                  }\n                } else {\n                  nodeDb[node.id].shape = 'rect';\n                  nodeDb[node.id].description = node.description;\n                }\n              }\n              nodeDb[node.id].description = _common_common__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sanitizeTextOrArray(nodeDb[node.id].description, (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)());\n            } //\n\n            if (nodeDb[node.id].description.length === 1 && nodeDb[node.id].shape === 'rectWithTitle') {\n              nodeDb[node.id].shape = 'rect';\n            } // Save data for description and group so that for instance a statement without description overwrites\n            // one with description\n            // group\n\n            if (!nodeDb[node.id].type && node.doc) {\n              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Setting cluster for ', node.id, getDir(node));\n              nodeDb[node.id].type = 'group';\n              nodeDb[node.id].dir = getDir(node);\n              nodeDb[node.id].shape = node.type === 'divider' ? 'divider' : 'roundedWithTitle';\n              nodeDb[node.id].classes = nodeDb[node.id].classes + ' ' + (altFlag ? 'statediagram-cluster statediagram-cluster-alt' : 'statediagram-cluster');\n            }\n            var nodeData = {\n              labelStyle: '',\n              shape: nodeDb[node.id].shape,\n              labelText: nodeDb[node.id].description,\n              // typeof nodeDb[node.id].description === 'object'\n              //   ? nodeDb[node.id].description[0]\n              //   : nodeDb[node.id].description,\n              classes: nodeDb[node.id].classes,\n              //classStr,\n              style: '',\n              //styles.style,\n              id: node.id,\n              dir: nodeDb[node.id].dir,\n              domId: 'state-' + node.id + '-' + cnt,\n              type: nodeDb[node.id].type,\n              padding: 15 //getConfig().flowchart.padding\n            };\n            if (node.note) {\n              // Todo: set random id\n              var noteData = {\n                labelStyle: '',\n                shape: 'note',\n                labelText: node.note.text,\n                classes: 'statediagram-note',\n                //classStr,\n                style: '',\n                //styles.style,\n                id: node.id + '----note-' + cnt,\n                domId: 'state-' + node.id + '----note-' + cnt,\n                type: nodeDb[node.id].type,\n                padding: 15 //getConfig().flowchart.padding\n              };\n              var groupData = {\n                labelStyle: '',\n                shape: 'noteGroup',\n                labelText: node.note.text,\n                classes: nodeDb[node.id].classes,\n                //classStr,\n                style: '',\n                //styles.style,\n                id: node.id + '----parent',\n                domId: 'state-' + node.id + '----parent-' + cnt,\n                type: 'group',\n                padding: 0 //getConfig().flowchart.padding\n              };\n              cnt++;\n              g.setNode(node.id + '----parent', groupData);\n              g.setNode(noteData.id, noteData);\n              g.setNode(node.id, nodeData);\n              g.setParent(node.id, node.id + '----parent');\n              g.setParent(noteData.id, node.id + '----parent');\n              var from = node.id;\n              var to = noteData.id;\n              if (node.note.position === 'left of') {\n                from = noteData.id;\n                to = node.id;\n              }\n              g.setEdge(from, to, {\n                arrowhead: 'none',\n                arrowType: '',\n                style: 'fill:none',\n                labelStyle: '',\n                classes: 'transition note-edge',\n                arrowheadStyle: 'fill: #333',\n                labelpos: 'c',\n                labelType: 'text',\n                thickness: 'normal'\n              });\n            } else {\n              g.setNode(node.id, nodeData);\n            }\n          }\n          if (parent) {\n            if (parent.id !== 'root') {\n              _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace('Setting node ', node.id, ' to be child of its parent ', parent.id);\n              g.setParent(node.id, parent.id);\n            }\n          }\n          if (node.doc) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace('Adding nodes children ');\n            setupDoc(g, node, node.doc, !altFlag);\n          }\n        };\n        var cnt = 0;\n        var setupDoc = function setupDoc(g, parent, doc, altFlag) {\n          // cnt = 0;\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace('items', doc);\n          doc.forEach(function (item) {\n            if (item.stmt === 'state' || item.stmt === 'default') {\n              setupNode(g, parent, item, altFlag);\n            } else if (item.stmt === 'relation') {\n              setupNode(g, parent, item.state1, altFlag);\n              setupNode(g, parent, item.state2, altFlag);\n              var edgeData = {\n                id: 'edge' + cnt,\n                arrowhead: 'normal',\n                arrowTypeEnd: 'arrow_barb',\n                style: 'fill:none',\n                labelStyle: '',\n                label: _common_common__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sanitizeText(item.description, (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)()),\n                arrowheadStyle: 'fill: #333',\n                labelpos: 'c',\n                labelType: 'text',\n                thickness: 'normal',\n                classes: 'transition'\n              };\n              var startId = item.state1.id;\n              var endId = item.state2.id;\n              g.setEdge(startId, endId, edgeData, cnt);\n              cnt++;\n            }\n          });\n        };\n        var getDir = function getDir(nodes, defaultDir) {\n          var dir = defaultDir || 'TB';\n          if (nodes.doc) {\n            for (var i = 0; i < nodes.doc.length; i++) {\n              var node = nodes.doc[i];\n              if (node.stmt === 'dir') {\n                dir = node.value;\n              }\n            }\n          }\n          return dir;\n        };\n        /**\n         * Draws a flowchart in the tag with id: id based on the graph definition in text.\n         *\n         * @param {any} text\n         * @param {any} id\n         */\n\n        var draw = function draw(text, id) {\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('Drawing state diagram (v2)', id);\n          _stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].clear();\n          nodeDb = {};\n          var parser = _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4___default().parser;\n          parser.yy = _stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; // Parse the graph definition\n\n          parser.parse(text); // Fetch the default direction, use TD if none was found\n\n          var dir = _stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getDirection();\n          if (typeof dir === 'undefined') {\n            dir = 'LR';\n          }\n          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().state;\n          var nodeSpacing = conf.nodeSpacing || 50;\n          var rankSpacing = conf.rankSpacing || 50;\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().securityLevel;\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info(_stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRootDocV2());\n          _stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].extract(_stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRootDocV2());\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info(_stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRootDocV2()); // Create the input mermaid.graph\n\n          var g = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({\n            multigraph: true,\n            compound: true\n          }).setGraph({\n            rankdir: getDir(_stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRootDocV2()),\n            nodesep: nodeSpacing,\n            ranksep: rankSpacing,\n            marginx: 8,\n            marginy: 8\n          }).setDefaultEdgeLabel(function () {\n            return {};\n          });\n          setupNode(g, undefined, _stateDb__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getRootDocV2(), true); // Set up an SVG group so that we can translate the final graph.\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n          var svg = root.select(\"[id=\\\"\".concat(id, \"\\\"]\")); // Run the renderer. This is what draws the final graph.\n\n          var element = root.select('#' + id + ' g');\n          (0, _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_7__.render)(element, g, ['barb'], 'statediagram', id);\n          var padding = 8;\n          var bounds = svg.node().getBBox();\n          var width = bounds.width + padding * 2;\n          var height = bounds.height + padding * 2; // Zoom in a bit\n\n          svg.attr('class', 'statediagram');\n          var svgBounds = svg.node().getBBox();\n          (0, _utils__WEBPACK_IMPORTED_MODULE_8__.configureSvgSize)(svg, height, width * 1.75, conf.useMaxWidth); // Ensure the viewBox includes the whole svgBounds area with extra space for padding\n\n          var vBox = \"\".concat(svgBounds.x - padding, \" \").concat(svgBounds.y - padding, \" \").concat(width, \" \").concat(height);\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"viewBox \".concat(vBox));\n          svg.attr('viewBox', vBox); // Add label rects for non html labels\n          // if (!evaluate(conf.htmlLabels) || true) {\n\n          var labels = document.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n          for (var k = 0; k < labels.length; k++) {\n            var label = labels[k]; // Get dimensions of label\n\n            var dim = label.getBBox();\n            var rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n            rect.setAttribute('rx', 0);\n            rect.setAttribute('ry', 0);\n            rect.setAttribute('width', dim.width);\n            rect.setAttribute('height', dim.height);\n            label.insertBefore(rect, label.firstChild); // }\n          }\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          getClasses: getClasses,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/state/stateRenderer.js\": (\n      /*!*********************************************!*\\\n        !*** ./src/diagrams/state/stateRenderer.js ***!\n        \\*********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dagre */\"dagre\");\n        /* harmony import */\n        var dagre__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dagre__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphlib */\"graphlib\");\n        /* harmony import */\n        var graphlib__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphlib__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../logger */\"./src/logger.js\");\n        /* harmony import */\n        var _stateDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./stateDb */\"./src/diagrams/state/stateDb.js\");\n        /* harmony import */\n        var _common_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parser/stateDiagram */\"./src/diagrams/state/parser/stateDiagram.jison\");\n        /* harmony import */\n        var _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var _shapes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./shapes */\"./src/diagrams/state/shapes.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n\n        // import idCache from './id-cache';\n\n        _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy = _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; // TODO Move conf object to main conf in mermaidAPI\n\n        var conf;\n        var transformationLog = {};\n        var setConf = function setConf() {};\n        /**\n         * Setup arrow head and define the marker. The result is appended to the svg.\n         *\n         * @param {any} elem\n         */\n\n        var insertMarkers = function insertMarkers(elem) {\n          elem.append('defs').append('marker').attr('id', 'dependencyEnd').attr('refX', 19).attr('refY', 7).attr('markerWidth', 20).attr('markerHeight', 28).attr('orient', 'auto').append('path').attr('d', 'M 19,7 L9,13 L14,7 L9,1 Z');\n        };\n        /**\n         * Draws a flowchart in the tag with id: id based on the graph definition in text.\n         *\n         * @param {any} text\n         * @param {any} id\n         */\n\n        var draw = function draw(text, id) {\n          conf = (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().state;\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n          _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy.clear();\n          _parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.parse(text);\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('Rendering diagram ' + text); // Fetch the default direction, use TD if none was found\n\n          var diagram = root.select(\"[id='\".concat(id, \"']\"));\n          insertMarkers(diagram); // Layout graph, Create a new directed graph\n\n          var graph = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({\n            multigraph: true,\n            compound: true,\n            // acyclicer: 'greedy',\n            rankdir: 'RL' // ranksep: '20'\n          }); // Default to assigning a new object as a label for each new edge.\n\n          graph.setDefaultEdgeLabel(function () {\n            return {};\n          });\n          var rootDoc = _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getRootDoc();\n          renderDoc(rootDoc, diagram, undefined, false, root, doc);\n          var padding = conf.padding;\n          var bounds = diagram.node().getBBox();\n          var width = bounds.width + padding * 2;\n          var height = bounds.height + padding * 2; // zoom in a bit\n\n          var svgWidth = width * 1.75;\n          (0, _utils__WEBPACK_IMPORTED_MODULE_7__.configureSvgSize)(diagram, height, svgWidth, conf.useMaxWidth);\n          diagram.attr('viewBox', \"\".concat(bounds.x - conf.padding, \"  \").concat(bounds.y - conf.padding, \" \") + width + ' ' + height);\n        };\n        var getLabelWidth = function getLabelWidth(text) {\n          return text ? text.length * conf.fontSizeFactor : 1;\n        };\n        var renderDoc = function renderDoc(doc, diagram, parentId, altBkg, root, domDocument) {\n          // Layout graph, Create a new directed graph\n          var graph = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({\n            compound: true,\n            multigraph: true\n          });\n          var i;\n          var edgeFreeDoc = true;\n          for (i = 0; i < doc.length; i++) {\n            if (doc[i].stmt === 'relation') {\n              edgeFreeDoc = false;\n              break;\n            }\n          } // Set an object for the graph label\n\n          if (parentId) graph.setGraph({\n            rankdir: 'LR',\n            multigraph: true,\n            compound: true,\n            // acyclicer: 'greedy',\n            ranker: 'tight-tree',\n            ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,\n            nodeSep: edgeFreeDoc ? 1 : 50,\n            isMultiGraph: true // ranksep: 5,\n            // nodesep: 1\n          });else {\n            graph.setGraph({\n              rankdir: 'TB',\n              multigraph: true,\n              compound: true,\n              // isCompound: true,\n              // acyclicer: 'greedy',\n              // ranker: 'longest-path'\n              ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,\n              nodeSep: edgeFreeDoc ? 1 : 50,\n              ranker: 'tight-tree',\n              // ranker: 'network-simplex'\n              isMultiGraph: true\n            });\n          } // Default to assigning a new object as a label for each new edge.\n\n          graph.setDefaultEdgeLabel(function () {\n            return {};\n          });\n          _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].extract(doc);\n          var states = _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getStates();\n          var relations = _stateDb__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getRelations();\n          var keys = Object.keys(states);\n          var first = true;\n          for (var _i = 0; _i < keys.length; _i++) {\n            var stateDef = states[keys[_i]];\n            if (parentId) {\n              stateDef.parentId = parentId;\n            }\n            var node = void 0;\n            if (stateDef.doc) {\n              var sub = diagram.append('g').attr('id', stateDef.id).attr('class', 'stateGroup');\n              node = renderDoc(stateDef.doc, sub, stateDef.id, !altBkg, root, domDocument);\n              if (first) {\n                // first = false;\n                sub = (0, _shapes__WEBPACK_IMPORTED_MODULE_8__.addTitleAndBox)(sub, stateDef, altBkg);\n                var boxBounds = sub.node().getBBox();\n                node.width = boxBounds.width;\n                node.height = boxBounds.height + conf.padding / 2;\n                transformationLog[stateDef.id] = {\n                  y: conf.compositTitleSize\n                };\n              } else {\n                // sub = addIdAndBox(sub, stateDef);\n                var _boxBounds = sub.node().getBBox();\n                node.width = _boxBounds.width;\n                node.height = _boxBounds.height; // transformationLog[stateDef.id] = { y: conf.compositTitleSize };\n              }\n            } else {\n              node = (0, _shapes__WEBPACK_IMPORTED_MODULE_8__.drawState)(diagram, stateDef, graph);\n            }\n            if (stateDef.note) {\n              // Draw note note\n              var noteDef = {\n                descriptions: [],\n                id: stateDef.id + '-note',\n                note: stateDef.note,\n                type: 'note'\n              };\n              var note = (0, _shapes__WEBPACK_IMPORTED_MODULE_8__.drawState)(diagram, noteDef, graph); // graph.setNode(node.id, node);\n\n              if (stateDef.note.position === 'left of') {\n                graph.setNode(node.id + '-note', note);\n                graph.setNode(node.id, node);\n              } else {\n                graph.setNode(node.id, node);\n                graph.setNode(node.id + '-note', note);\n              } // graph.setNode(node.id);\n\n              graph.setParent(node.id, node.id + '-group');\n              graph.setParent(node.id + '-note', node.id + '-group');\n            } else {\n              // Add nodes to the graph. The first argument is the node id. The second is\n              // metadata about the node. In this case we're going to add labels to each of\n              // our nodes.\n              graph.setNode(node.id, node);\n            }\n          }\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('Count=', graph.nodeCount(), graph);\n          var cnt = 0;\n          relations.forEach(function (relation) {\n            cnt++;\n            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('Setting edge', relation);\n            graph.setEdge(relation.id1, relation.id2, {\n              relation: relation,\n              width: getLabelWidth(relation.title),\n              height: conf.labelHeight * _common_common__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getRows(relation.title).length,\n              labelpos: 'c'\n            }, 'id' + cnt);\n          });\n          dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(graph);\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('Graph after layout', graph.nodes());\n          var svgElem = diagram.node();\n          graph.nodes().forEach(function (v) {\n            if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\n              _logger__WEBPACK_IMPORTED_MODULE_6__.log.warn('Node ' + v + ': ' + JSON.stringify(graph.node(v)));\n              root.select('#' + svgElem.id + ' #' + v).attr('transform', 'translate(' + (graph.node(v).x - graph.node(v).width / 2) + ',' + (graph.node(v).y + (transformationLog[v] ? transformationLog[v].y : 0) - graph.node(v).height / 2) + ' )');\n              root.select('#' + svgElem.id + ' #' + v).attr('data-x-shift', graph.node(v).x - graph.node(v).width / 2);\n              var dividers = domDocument.querySelectorAll('#' + svgElem.id + ' #' + v + ' .divider');\n              dividers.forEach(function (divider) {\n                var parent = divider.parentElement;\n                var pWidth = 0;\n                var pShift = 0;\n                if (parent) {\n                  if (parent.parentElement) pWidth = parent.parentElement.getBBox().width;\n                  pShift = parseInt(parent.getAttribute('data-x-shift'), 10);\n                  if (Number.isNaN(pShift)) {\n                    pShift = 0;\n                  }\n                }\n                divider.setAttribute('x1', 0 - pShift + 8);\n                divider.setAttribute('x2', pWidth - pShift - 8);\n              });\n            } else {\n              _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('No Node ' + v + ': ' + JSON.stringify(graph.node(v)));\n            }\n          });\n          var stateBox = svgElem.getBBox();\n          graph.edges().forEach(function (e) {\n            if (typeof e !== 'undefined' && typeof graph.edge(e) !== 'undefined') {\n              _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(graph.edge(e)));\n              (0, _shapes__WEBPACK_IMPORTED_MODULE_8__.drawEdge)(diagram, graph.edge(e), graph.edge(e).relation);\n            }\n          });\n          stateBox = svgElem.getBBox();\n          var stateInfo = {\n            id: parentId ? parentId : 'root',\n            label: parentId ? parentId : 'root',\n            width: 0,\n            height: 0\n          };\n          stateInfo.width = stateBox.width + 2 * conf.padding;\n          stateInfo.height = stateBox.height + 2 * conf.padding;\n          _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug('Doc rendered', stateInfo, graph);\n          return stateInfo;\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/state/styles.js\": (\n      /*!**************************************!*\\\n        !*** ./src/diagrams/state/styles.js ***!\n        \\**************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles(options) {\n          return \"\\ndefs #statediagram-barbEnd {\\n    fill: \".concat(options.transitionColor, \";\\n    stroke: \").concat(options.transitionColor, \";\\n  }\\ng.stateGroup text {\\n  fill: \").concat(options.nodeBorder, \";\\n  stroke: none;\\n  font-size: 10px;\\n}\\ng.stateGroup text {\\n  fill: \").concat(options.textColor, \";\\n  stroke: none;\\n  font-size: 10px;\\n\\n}\\ng.stateGroup .state-title {\\n  font-weight: bolder;\\n  fill: \").concat(options.stateLabelColor, \";\\n}\\n\\ng.stateGroup rect {\\n  fill: \").concat(options.mainBkg, \";\\n  stroke: \").concat(options.nodeBorder, \";\\n}\\n\\ng.stateGroup line {\\n  stroke: \").concat(options.lineColor, \";\\n  stroke-width: 1;\\n}\\n\\n.transition {\\n  stroke: \").concat(options.transitionColor, \";\\n  stroke-width: 1;\\n  fill: none;\\n}\\n\\n.stateGroup .composit {\\n  fill: \").concat(options.background, \";\\n  border-bottom: 1px\\n}\\n\\n.stateGroup .alt-composit {\\n  fill: #e0e0e0;\\n  border-bottom: 1px\\n}\\n\\n.state-note {\\n  stroke: \").concat(options.noteBorderColor, \";\\n  fill: \").concat(options.noteBkgColor, \";\\n\\n  text {\\n    fill: \").concat(options.noteTextColor, \";\\n    stroke: none;\\n    font-size: 10px;\\n  }\\n}\\n\\n.stateLabel .box {\\n  stroke: none;\\n  stroke-width: 0;\\n  fill: \").concat(options.mainBkg, \";\\n  opacity: 0.5;\\n}\\n\\n.edgeLabel .label rect {\\n  fill: \").concat(options.labelBackgroundColor, \";\\n  opacity: 0.5;\\n}\\n.edgeLabel .label text {\\n  fill: \").concat(options.transitionLabelColor || options.tertiaryTextColor, \";\\n}\\n.label div .edgeLabel {\\n  color: \").concat(options.transitionLabelColor || options.tertiaryTextColor, \";\\n}\\n\\n.stateLabel text {\\n  fill: \").concat(options.stateLabelColor, \";\\n  font-size: 10px;\\n  font-weight: bold;\\n}\\n\\n.node circle.state-start {\\n  fill: \").concat(options.specialStateColor, \";\\n  stroke: \").concat(options.specialStateColor, \";\\n}\\n\\n.node .fork-join {\\n  fill: \").concat(options.specialStateColor, \";\\n  stroke: \").concat(options.specialStateColor, \";\\n}\\n\\n.node circle.state-end {\\n  fill: \").concat(options.innerEndBackground, \";\\n  stroke: \").concat(options.background, \";\\n  stroke-width: 1.5\\n}\\n.end-state-inner {\\n  fill: \").concat(options.compositeBackground || options.background, \";\\n  // stroke: \").concat(options.background, \";\\n  stroke-width: 1.5\\n}\\n\\n.node rect {\\n  fill: \").concat(options.stateBkg || options.mainBkg, \";\\n  stroke: \").concat(options.stateBorder || options.nodeBorder, \";\\n  stroke-width: 1px;\\n}\\n.node polygon {\\n  fill: \").concat(options.mainBkg, \";\\n  stroke: \").concat(options.stateBorder || options.nodeBorder, \";;\\n  stroke-width: 1px;\\n}\\n#statediagram-barbEnd {\\n  fill: \").concat(options.lineColor, \";\\n}\\n\\n.statediagram-cluster rect {\\n  fill: \").concat(options.compositeTitleBackground, \";\\n  stroke: \").concat(options.stateBorder || options.nodeBorder, \";\\n  stroke-width: 1px;\\n}\\n\\n.cluster-label, .nodeLabel {\\n  color: \").concat(options.stateLabelColor, \";\\n}\\n\\n.statediagram-cluster rect.outer {\\n  rx: 5px;\\n  ry: 5px;\\n}\\n.statediagram-state .divider {\\n  stroke: \").concat(options.stateBorder || options.nodeBorder, \";\\n}\\n\\n.statediagram-state .title-state {\\n  rx: 5px;\\n  ry: 5px;\\n}\\n.statediagram-cluster.statediagram-cluster .inner {\\n  fill: \").concat(options.compositeBackground || options.background, \";\\n}\\n.statediagram-cluster.statediagram-cluster-alt .inner {\\n  fill: \").concat(options.altBackground ? options.altBackground : '#efefef', \";\\n}\\n\\n.statediagram-cluster .inner {\\n  rx:0;\\n  ry:0;\\n}\\n\\n.statediagram-state rect.basic {\\n  rx: 5px;\\n  ry: 5px;\\n}\\n.statediagram-state rect.divider {\\n  stroke-dasharray: 10,10;\\n  fill: \").concat(options.altBackground ? options.altBackground : '#efefef', \";\\n}\\n\\n.note-edge {\\n  stroke-dasharray: 5;\\n}\\n\\n.statediagram-note rect {\\n  fill: \").concat(options.noteBkgColor, \";\\n  stroke: \").concat(options.noteBorderColor, \";\\n  stroke-width: 1px;\\n  rx: 0;\\n  ry: 0;\\n}\\n.statediagram-note rect {\\n  fill: \").concat(options.noteBkgColor, \";\\n  stroke: \").concat(options.noteBorderColor, \";\\n  stroke-width: 1px;\\n  rx: 0;\\n  ry: 0;\\n}\\n\\n.statediagram-note text {\\n  fill: \").concat(options.noteTextColor, \";\\n}\\n\\n.statediagram-note .nodeLabel {\\n  color: \").concat(options.noteTextColor, \";\\n}\\n.statediagram .edgeLabel {\\n  color: red; // \").concat(options.noteTextColor, \";\\n}\\n\\n#dependencyStart, #dependencyEnd {\\n  fill: \").concat(options.lineColor, \";\\n  stroke: \").concat(options.lineColor, \";\\n  stroke-width: 1;\\n}\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/user-journey/journeyDb.js\": (\n      /*!************************************************!*\\\n        !*** ./src/diagrams/user-journey/journeyDb.js ***!\n        \\************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"parseDirective\": () => (/* binding */parseDirective),\n          /* harmony export */\"clear\": () => (/* binding */clear),\n          /* harmony export */\"setTitle\": () => (/* binding */setTitle),\n          /* harmony export */\"getTitle\": () => (/* binding */getTitle),\n          /* harmony export */\"addSection\": () => (/* binding */addSection),\n          /* harmony export */\"getSections\": () => (/* binding */getSections),\n          /* harmony export */\"getTasks\": () => (/* binding */getTasks),\n          /* harmony export */\"addTask\": () => (/* binding */addTask),\n          /* harmony export */\"addTaskOrg\": () => (/* binding */addTaskOrg),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../mermaidAPI */\"./src/mermaidAPI.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        function _toConsumableArray(arr) {\n          return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n        }\n        function _nonIterableSpread() {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        function _unsupportedIterableToArray(o, minLen) {\n          if (!o) return;\n          if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n          var n = Object.prototype.toString.call(o).slice(8, -1);\n          if (n === \"Object\" && o.constructor) n = o.constructor.name;\n          if (n === \"Map\" || n === \"Set\") return Array.from(o);\n          if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n        }\n        function _iterableToArray(iter) {\n          if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n        }\n        function _arrayWithoutHoles(arr) {\n          if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n        }\n        function _arrayLikeToArray(arr, len) {\n          if (len == null || len > arr.length) len = arr.length;\n          for (var i = 0, arr2 = new Array(len); i < len; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        }\n        var title = '';\n        var currentSection = '';\n        var sections = [];\n        var tasks = [];\n        var rawTasks = [];\n        var parseDirective = function parseDirective(statement, context, type) {\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parseDirective(this, statement, context, type);\n        };\n        var clear = function clear() {\n          sections.length = 0;\n          tasks.length = 0;\n          currentSection = '';\n          title = '';\n          rawTasks.length = 0;\n        };\n        var setTitle = function setTitle(txt) {\n          title = txt;\n        };\n        var getTitle = function getTitle() {\n          return title;\n        };\n        var addSection = function addSection(txt) {\n          currentSection = txt;\n          sections.push(txt);\n        };\n        var getSections = function getSections() {\n          return sections;\n        };\n        var getTasks = function getTasks() {\n          var allItemsProcessed = compileTasks();\n          var maxDepth = 100;\n          var iterationCount = 0;\n          while (!allItemsProcessed && iterationCount < maxDepth) {\n            allItemsProcessed = compileTasks();\n            iterationCount++;\n          }\n          tasks.push.apply(tasks, rawTasks);\n          return tasks;\n        };\n        var updateActors = function updateActors() {\n          var tempActors = [];\n          tasks.forEach(function (task) {\n            if (task.people) {\n              tempActors.push.apply(tempActors, _toConsumableArray(task.people));\n            }\n          });\n          var unique = new Set(tempActors);\n          return _toConsumableArray(unique).sort();\n        };\n        var addTask = function addTask(descr, taskData) {\n          var pieces = taskData.substr(1).split(':');\n          var score = 0;\n          var peeps = [];\n          if (pieces.length === 1) {\n            score = Number(pieces[0]);\n            peeps = [];\n          } else {\n            score = Number(pieces[0]);\n            peeps = pieces[1].split(',');\n          }\n          var peopleList = peeps.map(function (s) {\n            return s.trim();\n          });\n          var rawTask = {\n            section: currentSection,\n            type: currentSection,\n            people: peopleList,\n            task: descr,\n            score: score\n          };\n          rawTasks.push(rawTask);\n        };\n        var addTaskOrg = function addTaskOrg(descr) {\n          var newTask = {\n            section: currentSection,\n            type: currentSection,\n            description: descr,\n            task: descr,\n            classes: []\n          };\n          tasks.push(newTask);\n        };\n        var compileTasks = function compileTasks() {\n          var compileTask = function compileTask(pos) {\n            return rawTasks[pos].processed;\n          };\n          var allProcessed = true;\n          for (var i = 0; i < rawTasks.length; i++) {\n            compileTask(i);\n            allProcessed = allProcessed && rawTasks[i].processed;\n          }\n          return allProcessed;\n        };\n        var getActors = function getActors() {\n          return updateActors();\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          parseDirective: parseDirective,\n          getConfig: function getConfig() {\n            return _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().journey;\n          },\n          clear: clear,\n          setTitle: setTitle,\n          getTitle: getTitle,\n          addSection: addSection,\n          getSections: getSections,\n          getTasks: getTasks,\n          addTask: addTask,\n          addTaskOrg: addTaskOrg,\n          getActors: getActors\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/user-journey/journeyRenderer.js\": (\n      /*!******************************************************!*\\\n        !*** ./src/diagrams/user-journey/journeyRenderer.js ***!\n        \\******************************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"bounds\": () => (/* binding */bounds),\n          /* harmony export */\"drawTasks\": () => (/* binding */drawTasks),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _parser_journey__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser/journey */\"./src/diagrams/user-journey/parser/journey.jison\");\n        /* harmony import */\n        var _parser_journey__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_parser_journey__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _journeyDb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./journeyDb */\"./src/diagrams/user-journey/journeyDb.js\");\n        /* harmony import */\n        var _svgDraw__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./svgDraw */\"./src/diagrams/user-journey/svgDraw.js\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */\"./src/config.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */\"./src/utils.js\");\n        _parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy = _journeyDb__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          keys.forEach(function (key) {\n            conf[key] = cnf[key];\n          });\n        };\n        var actors = {};\n        /** @param {any} diagram */\n\n        function drawActorLegend(diagram) {\n          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey; // Draw the actors\n\n          var yPos = 60;\n          Object.keys(actors).forEach(function (person) {\n            var colour = actors[person].color;\n            var circleData = {\n              cx: 20,\n              cy: yPos,\n              r: 7,\n              fill: colour,\n              stroke: '#000',\n              pos: actors[person].position\n            };\n            _svgDraw__WEBPACK_IMPORTED_MODULE_4__[\"default\"].drawCircle(diagram, circleData);\n            var labelData = {\n              x: 40,\n              y: yPos + 7,\n              fill: '#666',\n              text: person,\n              textMargin: conf.boxTextMargin | 5\n            };\n            _svgDraw__WEBPACK_IMPORTED_MODULE_4__[\"default\"].drawText(diagram, labelData);\n            yPos += 20;\n          });\n        }\n        var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey;\n        var LEFT_MARGIN = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey.leftMargin;\n        var draw = function draw(text, id) {\n          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey;\n          _parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy.clear();\n          _parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.parse(text + '\\n');\n          var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel; // Handle root and ocument for when rendering in sanbox mode\n\n          var sandboxElement;\n          if (securityLevel === 'sandbox') {\n            sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#i' + id);\n          }\n          var root = securityLevel === 'sandbox' ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n          var doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n          bounds.init();\n          var diagram = root.select('#' + id);\n          diagram.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n          _svgDraw__WEBPACK_IMPORTED_MODULE_4__[\"default\"].initGraphics(diagram);\n          var tasks = _parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getTasks();\n          var title = _parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getTitle();\n          var actorNames = _parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getActors();\n          for (var member in actors) {\n            delete actors[member];\n          }\n          var actorPos = 0;\n          actorNames.forEach(function (actorName) {\n            actors[actorName] = {\n              color: conf.actorColours[actorPos % conf.actorColours.length],\n              position: actorPos\n            };\n            actorPos++;\n          });\n          drawActorLegend(diagram);\n          bounds.insert(0, 0, LEFT_MARGIN, Object.keys(actors).length * 50);\n          drawTasks(diagram, tasks, 0);\n          var box = bounds.getBounds();\n          if (title) {\n            diagram.append('text').text(title).attr('x', LEFT_MARGIN).attr('font-size', '4ex').attr('font-weight', 'bold').attr('y', 25);\n          }\n          var height = box.stopy - box.starty + 2 * conf.diagramMarginY;\n          var width = LEFT_MARGIN + box.stopx + 2 * conf.diagramMarginX;\n          (0, _utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(diagram, height, width, conf.useMaxWidth); // Draw activity line\n\n          diagram.append('line').attr('x1', LEFT_MARGIN).attr('y1', conf.height * 4) // One section head + one task + margins\n          .attr('x2', width - LEFT_MARGIN - 4) // Subtract stroke width so arrow point is retained\n          .attr('y2', conf.height * 4).attr('stroke-width', 4).attr('stroke', 'black').attr('marker-end', 'url(#arrowhead)');\n          var extraVertForTitle = title ? 70 : 0;\n          diagram.attr('viewBox', \"\".concat(box.startx, \" -25 \").concat(width, \" \").concat(height + extraVertForTitle));\n          diagram.attr('preserveAspectRatio', 'xMinYMin meet');\n          diagram.attr('height', height + extraVertForTitle + 25);\n        };\n        var bounds = {\n          data: {\n            startx: undefined,\n            stopx: undefined,\n            starty: undefined,\n            stopy: undefined\n          },\n          verticalPos: 0,\n          sequenceItems: [],\n          init: function init() {\n            this.sequenceItems = [];\n            this.data = {\n              startx: undefined,\n              stopx: undefined,\n              starty: undefined,\n              stopy: undefined\n            };\n            this.verticalPos = 0;\n          },\n          updateVal: function updateVal(obj, key, val, fun) {\n            if (typeof obj[key] === 'undefined') {\n              obj[key] = val;\n            } else {\n              obj[key] = fun(val, obj[key]);\n            }\n          },\n          updateBounds: function updateBounds(startx, starty, stopx, stopy) {\n            var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey;\n            var _self = this;\n            var cnt = 0;\n            /** @param {any} type */\n\n            function updateFn(type) {\n              return function updateItemBounds(item) {\n                cnt++; // The loop sequenceItems is a stack so the biggest margins in the beginning of the sequenceItems\n\n                var n = _self.sequenceItems.length - cnt + 1;\n                _self.updateVal(item, 'starty', starty - n * conf.boxMargin, Math.min);\n                _self.updateVal(item, 'stopy', stopy + n * conf.boxMargin, Math.max);\n                _self.updateVal(bounds.data, 'startx', startx - n * conf.boxMargin, Math.min);\n                _self.updateVal(bounds.data, 'stopx', stopx + n * conf.boxMargin, Math.max);\n                if (!(type === 'activation')) {\n                  _self.updateVal(item, 'startx', startx - n * conf.boxMargin, Math.min);\n                  _self.updateVal(item, 'stopx', stopx + n * conf.boxMargin, Math.max);\n                  _self.updateVal(bounds.data, 'starty', starty - n * conf.boxMargin, Math.min);\n                  _self.updateVal(bounds.data, 'stopy', stopy + n * conf.boxMargin, Math.max);\n                }\n              };\n            }\n            this.sequenceItems.forEach(updateFn());\n          },\n          insert: function insert(startx, starty, stopx, stopy) {\n            var _startx = Math.min(startx, stopx);\n            var _stopx = Math.max(startx, stopx);\n            var _starty = Math.min(starty, stopy);\n            var _stopy = Math.max(starty, stopy);\n            this.updateVal(bounds.data, 'startx', _startx, Math.min);\n            this.updateVal(bounds.data, 'starty', _starty, Math.min);\n            this.updateVal(bounds.data, 'stopx', _stopx, Math.max);\n            this.updateVal(bounds.data, 'stopy', _stopy, Math.max);\n            this.updateBounds(_startx, _starty, _stopx, _stopy);\n          },\n          bumpVerticalPos: function bumpVerticalPos(bump) {\n            this.verticalPos = this.verticalPos + bump;\n            this.data.stopy = this.verticalPos;\n          },\n          getVerticalPos: function getVerticalPos() {\n            return this.verticalPos;\n          },\n          getBounds: function getBounds() {\n            return this.data;\n          }\n        };\n        var fills = conf.sectionFills;\n        var textColours = conf.sectionColours;\n        var drawTasks = function drawTasks(diagram, tasks, verticalPos) {\n          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey;\n          var lastSection = '';\n          var sectionVHeight = conf.height * 2 + conf.diagramMarginY;\n          var taskPos = verticalPos + sectionVHeight;\n          var sectionNumber = 0;\n          var fill = '#CCC';\n          var colour = 'black';\n          var num = 0; // Draw the tasks\n\n          for (var i = 0; i < tasks.length; i++) {\n            var task = tasks[i];\n            if (lastSection !== task.section) {\n              fill = fills[sectionNumber % fills.length];\n              num = sectionNumber % fills.length;\n              colour = textColours[sectionNumber % textColours.length];\n              var section = {\n                x: i * conf.taskMargin + i * conf.width + LEFT_MARGIN,\n                y: 50,\n                text: task.section,\n                fill: fill,\n                num: num,\n                colour: colour\n              };\n              _svgDraw__WEBPACK_IMPORTED_MODULE_4__[\"default\"].drawSection(diagram, section, conf);\n              lastSection = task.section;\n              sectionNumber++;\n            } // Collect the actors involved in the task\n\n            var taskActors = task.people.reduce(function (acc, actorName) {\n              if (actors[actorName]) {\n                acc[actorName] = actors[actorName];\n              }\n              return acc;\n            }, {}); // Add some rendering data to the object\n\n            task.x = i * conf.taskMargin + i * conf.width + LEFT_MARGIN;\n            task.y = taskPos;\n            task.width = conf.diagramMarginX;\n            task.height = conf.diagramMarginY;\n            task.colour = colour;\n            task.fill = fill;\n            task.num = num;\n            task.actors = taskActors; // Draw the box with the attached line\n\n            _svgDraw__WEBPACK_IMPORTED_MODULE_4__[\"default\"].drawTask(diagram, task, conf);\n            bounds.insert(task.x, task.y, task.x + task.width + conf.taskMargin, 300 + 5 * 30); // stopy is the length of the descenders.\n          }\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/diagrams/user-journey/styles.js\": (\n      /*!*********************************************!*\\\n        !*** ./src/diagrams/user-journey/styles.js ***!\n        \\*********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        var getStyles = function getStyles(options) {\n          return \".label {\\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\\n    font-family: var(--mermaid-font-family);\\n    color: \".concat(options.textColor, \";\\n  }\\n  .mouth {\\n    stroke: #666;\\n  }\\n\\n  line {\\n    stroke: \").concat(options.textColor, \"\\n  }\\n\\n  .legend {\\n    fill: \").concat(options.textColor, \";\\n  }\\n\\n  .label text {\\n    fill: #333;\\n  }\\n  .label {\\n    color: \").concat(options.textColor, \"\\n  }\\n\\n  .face {\\n    \").concat(options.faceColor ? \"fill: \".concat(options.faceColor) : 'fill: #FFF8DC', \";\\n    stroke: #999;\\n  }\\n\\n  .node rect,\\n  .node circle,\\n  .node ellipse,\\n  .node polygon,\\n  .node path {\\n    fill: \").concat(options.mainBkg, \";\\n    stroke: \").concat(options.nodeBorder, \";\\n    stroke-width: 1px;\\n  }\\n\\n  .node .label {\\n    text-align: center;\\n  }\\n  .node.clickable {\\n    cursor: pointer;\\n  }\\n\\n  .arrowheadPath {\\n    fill: \").concat(options.arrowheadColor, \";\\n  }\\n\\n  .edgePath .path {\\n    stroke: \").concat(options.lineColor, \";\\n    stroke-width: 1.5px;\\n  }\\n\\n  .flowchart-link {\\n    stroke: \").concat(options.lineColor, \";\\n    fill: none;\\n  }\\n\\n  .edgeLabel {\\n    background-color: \").concat(options.edgeLabelBackground, \";\\n    rect {\\n      opacity: 0.5;\\n    }\\n    text-align: center;\\n  }\\n\\n  .cluster rect {\\n  }\\n\\n  .cluster text {\\n    fill: \").concat(options.titleColor, \";\\n  }\\n\\n  div.mermaidTooltip {\\n    position: absolute;\\n    text-align: center;\\n    max-width: 200px;\\n    padding: 2px;\\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\\n    font-family: var(--mermaid-font-family);\\n    font-size: 12px;\\n    background: \").concat(options.tertiaryColor, \";\\n    border: 1px solid \").concat(options.border2, \";\\n    border-radius: 2px;\\n    pointer-events: none;\\n    z-index: 100;\\n  }\\n\\n  .task-type-0, .section-type-0  {\\n    \").concat(options.fillType0 ? \"fill: \".concat(options.fillType0) : '', \";\\n  }\\n  .task-type-1, .section-type-1  {\\n    \").concat(options.fillType0 ? \"fill: \".concat(options.fillType1) : '', \";\\n  }\\n  .task-type-2, .section-type-2  {\\n    \").concat(options.fillType0 ? \"fill: \".concat(options.fillType2) : '', \";\\n  }\\n  .task-type-3, .section-type-3  {\\n    \").concat(options.fillType0 ? \"fill: \".concat(options.fillType3) : '', \";\\n  }\\n  .task-type-4, .section-type-4  {\\n    \").concat(options.fillType0 ? \"fill: \".concat(options.fillType4) : '', \";\\n  }\\n  .task-type-5, .section-type-5  {\\n    \").concat(options.fillType0 ? \"fill: \".concat(options.fillType5) : '', \";\\n  }\\n  .task-type-6, .section-type-6  {\\n    \").concat(options.fillType0 ? \"fill: \".concat(options.fillType6) : '', \";\\n  }\\n  .task-type-7, .section-type-7  {\\n    \").concat(options.fillType0 ? \"fill: \".concat(options.fillType7) : '', \";\\n  }\\n\\n  .actor-0 {\\n    \").concat(options.actor0 ? \"fill: \".concat(options.actor0) : '', \";\\n  }\\n  .actor-1 {\\n    \").concat(options.actor1 ? \"fill: \".concat(options.actor1) : '', \";\\n  }\\n  .actor-2 {\\n    \").concat(options.actor2 ? \"fill: \".concat(options.actor2) : '', \";\\n  }\\n  .actor-3 {\\n    \").concat(options.actor3 ? \"fill: \".concat(options.actor3) : '', \";\\n  }\\n  .actor-4 {\\n    \").concat(options.actor4 ? \"fill: \".concat(options.actor4) : '', \";\\n  }\\n  .actor-5 {\\n    \").concat(options.actor5 ? \"fill: \".concat(options.actor5) : '', \";\\n  }\\n\\n  }\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/diagrams/user-journey/svgDraw.js\": (\n      /*!**********************************************!*\\\n        !*** ./src/diagrams/user-journey/svgDraw.js ***!\n        \\**********************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"drawRect\": () => (/* binding */drawRect),\n          /* harmony export */\"drawFace\": () => (/* binding */drawFace),\n          /* harmony export */\"drawCircle\": () => (/* binding */drawCircle),\n          /* harmony export */\"drawText\": () => (/* binding */drawText),\n          /* harmony export */\"drawLabel\": () => (/* binding */drawLabel),\n          /* harmony export */\"drawSection\": () => (/* binding */drawSection),\n          /* harmony export */\"drawTask\": () => (/* binding */drawTask),\n          /* harmony export */\"drawBackgroundRect\": () => (/* binding */drawBackgroundRect),\n          /* harmony export */\"getTextObj\": () => (/* binding */getTextObj),\n          /* harmony export */\"getNoteRect\": () => (/* binding */getNoteRect),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        var drawRect = function drawRect(elem, rectData) {\n          var rectElem = elem.append('rect');\n          rectElem.attr('x', rectData.x);\n          rectElem.attr('y', rectData.y);\n          rectElem.attr('fill', rectData.fill);\n          rectElem.attr('stroke', rectData.stroke);\n          rectElem.attr('width', rectData.width);\n          rectElem.attr('height', rectData.height);\n          rectElem.attr('rx', rectData.rx);\n          rectElem.attr('ry', rectData.ry);\n          if (typeof rectData.class !== 'undefined') {\n            rectElem.attr('class', rectData.class);\n          }\n          return rectElem;\n        };\n        var drawFace = function drawFace(element, faceData) {\n          var radius = 15;\n          var circleElement = element.append('circle').attr('cx', faceData.cx).attr('cy', faceData.cy).attr('class', 'face').attr('r', radius).attr('stroke-width', 2).attr('overflow', 'visible');\n          var face = element.append('g'); //left eye\n\n          face.append('circle').attr('cx', faceData.cx - radius / 3).attr('cy', faceData.cy - radius / 3).attr('r', 1.5).attr('stroke-width', 2).attr('fill', '#666').attr('stroke', '#666'); //right eye\n\n          face.append('circle').attr('cx', faceData.cx + radius / 3).attr('cy', faceData.cy - radius / 3).attr('r', 1.5).attr('stroke-width', 2).attr('fill', '#666').attr('stroke', '#666');\n          /** @param {any} face */\n\n          function smile(face) {\n            var arc = (0, d3__WEBPACK_IMPORTED_MODULE_0__.arc)().startAngle(Math.PI / 2).endAngle(3 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2); //mouth\n\n            face.append('path').attr('class', 'mouth').attr('d', arc).attr('transform', 'translate(' + faceData.cx + ',' + (faceData.cy + 2) + ')');\n          }\n          /** @param {any} face */\n\n          function sad(face) {\n            var arc = (0, d3__WEBPACK_IMPORTED_MODULE_0__.arc)().startAngle(3 * Math.PI / 2).endAngle(5 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2); //mouth\n\n            face.append('path').attr('class', 'mouth').attr('d', arc).attr('transform', 'translate(' + faceData.cx + ',' + (faceData.cy + 7) + ')');\n          }\n          /** @param {any} face */\n\n          function ambivalent(face) {\n            face.append('line').attr('class', 'mouth').attr('stroke', 2).attr('x1', faceData.cx - 5).attr('y1', faceData.cy + 7).attr('x2', faceData.cx + 5).attr('y2', faceData.cy + 7).attr('class', 'mouth').attr('stroke-width', '1px').attr('stroke', '#666');\n          }\n          if (faceData.score > 3) {\n            smile(face);\n          } else if (faceData.score < 3) {\n            sad(face);\n          } else {\n            ambivalent(face);\n          }\n          return circleElement;\n        };\n        var drawCircle = function drawCircle(element, circleData) {\n          var circleElement = element.append('circle');\n          circleElement.attr('cx', circleData.cx);\n          circleElement.attr('cy', circleData.cy);\n          circleElement.attr('class', 'actor-' + circleData.pos);\n          circleElement.attr('fill', circleData.fill);\n          circleElement.attr('stroke', circleData.stroke);\n          circleElement.attr('r', circleData.r);\n          if (typeof circleElement.class !== 'undefined') {\n            circleElement.attr('class', circleElement.class);\n          }\n          if (typeof circleData.title !== 'undefined') {\n            circleElement.append('title').text(circleData.title);\n          }\n          return circleElement;\n        };\n        var drawText = function drawText(elem, textData) {\n          // Remove and ignore br:s\n          var nText = textData.text.replace(/<br\\s*\\/?>/gi, ' ');\n          var textElem = elem.append('text');\n          textElem.attr('x', textData.x);\n          textElem.attr('y', textData.y);\n          textElem.attr('class', 'legend');\n          textElem.style('text-anchor', textData.anchor);\n          if (typeof textData.class !== 'undefined') {\n            textElem.attr('class', textData.class);\n          }\n          var span = textElem.append('tspan');\n          span.attr('x', textData.x + textData.textMargin * 2);\n          span.text(nText);\n          return textElem;\n        };\n        var drawLabel = function drawLabel(elem, txtObject) {\n          /**\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} cut\n           */\n          function genPoints(x, y, width, height, cut) {\n            return x + ',' + y + ' ' + (x + width) + ',' + y + ' ' + (x + width) + ',' + (y + height - cut) + ' ' + (x + width - cut * 1.2) + ',' + (y + height) + ' ' + x + ',' + (y + height);\n          }\n          var polygon = elem.append('polygon');\n          polygon.attr('points', genPoints(txtObject.x, txtObject.y, 50, 20, 7));\n          polygon.attr('class', 'labelBox');\n          txtObject.y = txtObject.y + txtObject.labelMargin;\n          txtObject.x = txtObject.x + 0.5 * txtObject.labelMargin;\n          drawText(elem, txtObject);\n        };\n        var drawSection = function drawSection(elem, section, conf) {\n          var g = elem.append('g');\n          var rect = getNoteRect();\n          rect.x = section.x;\n          rect.y = section.y;\n          rect.fill = section.fill;\n          rect.width = conf.width;\n          rect.height = conf.height;\n          rect.class = 'journey-section section-type-' + section.num;\n          rect.rx = 3;\n          rect.ry = 3;\n          drawRect(g, rect);\n          _drawTextCandidateFunc(conf)(section.text, g, rect.x, rect.y, rect.width, rect.height, {\n            class: 'journey-section section-type-' + section.num\n          }, conf, section.colour);\n        };\n        var taskCount = -1;\n        /**\n         * Draws an actor in the diagram with the attaced line\n         *\n         * @param {any} elem The HTML element\n         * @param {any} task The task to render\n         * @param {any} conf The global configuration\n         */\n\n        var drawTask = function drawTask(elem, task, conf) {\n          var center = task.x + conf.width / 2;\n          var g = elem.append('g');\n          taskCount++;\n          var maxHeight = 300 + 5 * 30;\n          g.append('line').attr('id', 'task' + taskCount).attr('x1', center).attr('y1', task.y).attr('x2', center).attr('y2', maxHeight).attr('class', 'task-line').attr('stroke-width', '1px').attr('stroke-dasharray', '4 2').attr('stroke', '#666');\n          drawFace(g, {\n            cx: center,\n            cy: 300 + (5 - task.score) * 30,\n            score: task.score\n          });\n          var rect = getNoteRect();\n          rect.x = task.x;\n          rect.y = task.y;\n          rect.fill = task.fill;\n          rect.width = conf.width;\n          rect.height = conf.height;\n          rect.class = 'task task-type-' + task.num;\n          rect.rx = 3;\n          rect.ry = 3;\n          drawRect(g, rect);\n          var xPos = task.x + 14;\n          task.people.forEach(function (person) {\n            var colour = task.actors[person].color;\n            var circle = {\n              cx: xPos,\n              cy: task.y,\n              r: 7,\n              fill: colour,\n              stroke: '#000',\n              title: person,\n              pos: task.actors[person].position\n            };\n            drawCircle(g, circle);\n            xPos += 10;\n          });\n          _drawTextCandidateFunc(conf)(task.task, g, rect.x, rect.y, rect.width, rect.height, {\n            class: 'task'\n          }, conf, task.colour);\n        };\n        /**\n         * Draws a background rectangle\n         *\n         * @param {any} elem The html element\n         * @param {any} bounds The bounds of the drawing\n         */\n\n        var drawBackgroundRect = function drawBackgroundRect(elem, bounds) {\n          var rectElem = drawRect(elem, {\n            x: bounds.startx,\n            y: bounds.starty,\n            width: bounds.stopx - bounds.startx,\n            height: bounds.stopy - bounds.starty,\n            fill: bounds.fill,\n            class: 'rect'\n          });\n          rectElem.lower();\n        };\n        var getTextObj = function getTextObj() {\n          return {\n            x: 0,\n            y: 0,\n            fill: undefined,\n            'text-anchor': 'start',\n            width: 100,\n            height: 100,\n            textMargin: 0,\n            rx: 0,\n            ry: 0\n          };\n        };\n        var getNoteRect = function getNoteRect() {\n          return {\n            x: 0,\n            y: 0,\n            width: 100,\n            anchor: 'start',\n            height: 100,\n            rx: 0,\n            ry: 0\n          };\n        };\n        var _drawTextCandidateFunc = function () {\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           * @param {any} colour\n           */\n          function byText(content, g, x, y, width, height, textAttrs, colour) {\n            var text = g.append('text').attr('x', x + width / 2).attr('y', y + height / 2 + 5).style('font-color', colour).style('text-anchor', 'middle').text(content);\n            _setTextAttrs(text, textAttrs);\n          }\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           * @param {any} conf\n           * @param {any} colour\n           */\n\n          function byTspan(content, g, x, y, width, height, textAttrs, conf, colour) {\n            var taskFontSize = conf.taskFontSize,\n              taskFontFamily = conf.taskFontFamily;\n            var lines = content.split(/<br\\s*\\/?>/gi);\n            for (var i = 0; i < lines.length; i++) {\n              var dy = i * taskFontSize - taskFontSize * (lines.length - 1) / 2;\n              var text = g.append('text').attr('x', x + width / 2).attr('y', y).attr('fill', colour).style('text-anchor', 'middle').style('font-size', taskFontSize).style('font-family', taskFontFamily);\n              text.append('tspan').attr('x', x + width / 2).attr('dy', dy).text(lines[i]);\n              text.attr('y', y + height / 2.0).attr('dominant-baseline', 'central').attr('alignment-baseline', 'central');\n              _setTextAttrs(text, textAttrs);\n            }\n          }\n          /**\n           * @param {any} content\n           * @param {any} g\n           * @param {any} x\n           * @param {any} y\n           * @param {any} width\n           * @param {any} height\n           * @param {any} textAttrs\n           * @param {any} conf\n           */\n\n          function byFo(content, g, x, y, width, height, textAttrs, conf) {\n            var body = g.append('switch');\n            var f = body.append('foreignObject').attr('x', x).attr('y', y).attr('width', width).attr('height', height).attr('position', 'fixed');\n            var text = f.append('xhtml:div').style('display', 'table').style('height', '100%').style('width', '100%');\n            text.append('div').attr('class', 'label').style('display', 'table-cell').style('text-align', 'center').style('vertical-align', 'middle').text(content);\n            byTspan(content, body, x, y, width, height, textAttrs, conf);\n            _setTextAttrs(text, textAttrs);\n          }\n          /**\n           * @param {any} toText\n           * @param {any} fromTextAttrsDict\n           */\n\n          function _setTextAttrs(toText, fromTextAttrsDict) {\n            for (var key in fromTextAttrsDict) {\n              if (key in fromTextAttrsDict) {\n                // eslint-disable-line\n                // noinspection JSUnfilteredForInLoop\n                toText.attr(key, fromTextAttrsDict[key]);\n              }\n            }\n          }\n          return function (conf) {\n            return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\n          };\n        }();\n        var initGraphics = function initGraphics(graphics) {\n          graphics.append('defs').append('marker').attr('id', 'arrowhead').attr('refX', 5).attr('refY', 2).attr('markerWidth', 6).attr('markerHeight', 4).attr('orient', 'auto').append('path').attr('d', 'M 0,0 V 4 L6,2 Z'); // this is actual shape for arrowhead\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          drawRect: drawRect,\n          drawCircle: drawCircle,\n          drawSection: drawSection,\n          drawText: drawText,\n          drawLabel: drawLabel,\n          drawTask: drawTask,\n          drawBackgroundRect: drawBackgroundRect,\n          getTextObj: getTextObj,\n          getNoteRect: getNoteRect,\n          initGraphics: initGraphics\n        };\n\n        /***/\n      }),\n      /***/\"./src/errorRenderer.js\": (\n      /*!******************************!*\\\n        !*** ./src/errorRenderer.js ***!\n        \\******************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"setConf\": () => (/* binding */setConf),\n          /* harmony export */\"draw\": () => (/* binding */draw),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */\"./src/logger.js\");\n        /** Created by knut on 14-12-11. */\n\n        var conf = {};\n        /**\n         * Merges the value of `conf` with the passed `cnf`\n         *\n         * @param {object} cnf Config to merge\n         */\n\n        var setConf = function setConf(cnf) {\n          var keys = Object.keys(cnf);\n          keys.forEach(function (key) {\n            conf[key] = cnf[key];\n          });\n        };\n        /**\n         * Draws a an info picture in the tag with id: id based on the graph definition in text.\n         *\n         * @param {string} id The text for the error\n         * @param {string} ver The version\n         */\n\n        var draw = function draw(id, ver) {\n          try {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Renering svg for syntax error\\n');\n            var svg = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('#' + id);\n            var g = svg.append('g');\n            g.append('path').attr('class', 'error-icon').attr('d', 'm411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z');\n            g.append('path').attr('class', 'error-icon').attr('d', 'm459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z');\n            g.append('path').attr('class', 'error-icon').attr('d', 'm340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z');\n            g.append('path').attr('class', 'error-icon').attr('d', 'm400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z');\n            g.append('path').attr('class', 'error-icon').attr('d', 'm496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z');\n            g.append('path').attr('class', 'error-icon').attr('d', 'm436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z');\n            g.append('text') // text label for the x axis\n            .attr('class', 'error-text').attr('x', 1240).attr('y', 250).attr('font-size', '150px').style('text-anchor', 'middle').text('Syntax error in graph');\n            g.append('text') // text label for the x axis\n            .attr('class', 'error-text').attr('x', 1050).attr('y', 400).attr('font-size', '100px').style('text-anchor', 'middle').text('mermaid version ' + ver);\n            svg.attr('height', 100);\n            svg.attr('width', 400);\n            svg.attr('viewBox', '768 0 512 512');\n          } catch (e) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.error('Error while rendering info diagram');\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.error(e.message);\n          }\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          setConf: setConf,\n          draw: draw\n        };\n\n        /***/\n      }),\n      /***/\"./src/interactionDb.js\": (\n      /*!******************************!*\\\n        !*** ./src/interactionDb.js ***!\n        \\******************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"addFunction\": () => (/* binding */addFunction),\n          /* harmony export */\"attachFunctions\": () => (/* binding */attachFunctions)\n          /* harmony export */\n        });\n        var interactionFunctions = [];\n        var addFunction = function addFunction(func) {\n          interactionFunctions.push(func);\n        };\n        var attachFunctions = function attachFunctions() {\n          interactionFunctions.forEach(function (f) {\n            f();\n          });\n          interactionFunctions = [];\n        };\n\n        /***/\n      }),\n      /***/\"./src/logger.js\": (\n      /*!***********************!*\\\n        !*** ./src/logger.js ***!\n        \\***********************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"LEVELS\": () => (/* binding */LEVELS),\n          /* harmony export */\"log\": () => (/* binding */log),\n          /* harmony export */\"setLogLevel\": () => (/* binding */setLogLevel)\n          /* harmony export */\n        });\n        /* harmony import */\n        var moment_mini__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment-mini */\"moment-mini\");\n        /* harmony import */\n        var moment_mini__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__);\n\n        /** @typedef {'debug' | 'info' | 'warn' | 'error' | 'fatal'} LogLevel A log level */\n\n        /** @type {object<LogLevel, number>} */\n\n        var LEVELS = {\n          debug: 1,\n          info: 2,\n          warn: 3,\n          error: 4,\n          fatal: 5\n        };\n        var log = {\n          debug: function debug() {},\n          info: function info() {},\n          warn: function warn() {},\n          error: function error() {},\n          fatal: function fatal() {}\n        };\n        /**\n         * Sets a log level\n         *\n         * @param {LogLevel} [level=\"fatal\"] The level to set the logging to. Default is `\"fatal\"`\n         */\n\n        var setLogLevel = function setLogLevel() {\n          var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'fatal';\n          if (isNaN(level)) {\n            level = level.toLowerCase();\n            if (LEVELS[level] !== undefined) {\n              level = LEVELS[level];\n            }\n          }\n          log.trace = function () {};\n          log.debug = function () {};\n          log.info = function () {};\n          log.warn = function () {};\n          log.error = function () {};\n          log.fatal = function () {};\n          if (level <= LEVELS.fatal) {\n            log.fatal = console.error ? console.error.bind(console, format('FATAL'), 'color: orange') : console.log.bind(console, '\\x1b[35m', format('FATAL'));\n          }\n          if (level <= LEVELS.error) {\n            log.error = console.error ? console.error.bind(console, format('ERROR'), 'color: orange') : console.log.bind(console, '\\x1b[31m', format('ERROR'));\n          }\n          if (level <= LEVELS.warn) {\n            log.warn = console.warn ? console.warn.bind(console, format('WARN'), 'color: orange') : console.log.bind(console, \"\\x1B[33m\", format('WARN'));\n          }\n          if (level <= LEVELS.info) {\n            log.info = console.info // ? console.info.bind(console, '\\x1b[34m', format('INFO'), 'color: blue')\n            ? console.info.bind(console, format('INFO'), 'color: lightblue') : console.log.bind(console, '\\x1b[34m', format('INFO'));\n          }\n          if (level <= LEVELS.debug) {\n            log.debug = console.debug ? console.debug.bind(console, format('DEBUG'), 'color: lightgreen') : console.log.bind(console, '\\x1b[32m', format('DEBUG'));\n          }\n        };\n        /**\n         * Returns a format with the timestamp and the log level\n         *\n         * @param {LogLevel} level The level for the log format\n         * @returns {string} The format with the timestamp and log level\n         */\n\n        var format = function format(level) {\n          var time = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()().format('ss.SSS');\n          return \"%c\".concat(time, \" : \").concat(level, \" : \");\n        };\n\n        /***/\n      }),\n      /***/\"./src/mermaid.js\": (\n      /*!************************!*\\\n        !*** ./src/mermaid.js ***!\n        \\************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */\"./src/logger.js\");\n        /* harmony import */\n        var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mermaidAPI */\"./src/mermaidAPI.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */\"./src/utils.js\");\n        /**\n         * Web page integration module for the mermaid framework. It uses the mermaidAPI for mermaid\n         * functionality and to render the diagrams to svg code.\n         */\n\n        /**\n         * ## init\n         *\n         * Function that goes through the document to find the chart definitions in there and render them.\n         *\n         * The function tags the processed attributes with the attribute data-processed and ignores found\n         * elements with the attribute already set. This way the init function can be triggered several times.\n         *\n         * Optionally, `init` can accept in the second argument one of the following:\n         *\n         * - A DOM Node\n         * - An array of DOM nodes (as would come from a jQuery selector)\n         * - A W3C selector, a la `.mermaid`\n         *\n         * ```mermaid\n         * graph LR;\n         *  a(Find elements)-->b{Processed}\n         *  b-->|Yes|c(Leave element)\n         *  b-->|No |d(Transform)\n         * ```\n         *\n         * Renders the mermaid diagrams\n         */\n\n        var init = function init() {\n          var _this = this;\n          var conf = _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getConfig(); // console.log('Starting rendering diagrams (init) - mermaid.init', conf);\n\n          var nodes;\n          if (arguments.length >= 2) {\n            /*! sequence config was passed as #1 */\n            if (typeof arguments[0] !== 'undefined') {\n              mermaid.sequenceConfig = arguments[0];\n            }\n            nodes = arguments[1];\n          } else {\n            nodes = arguments[0];\n          } // if last argument is a function this is the callback function\n\n          var callback;\n          if (typeof arguments[arguments.length - 1] === 'function') {\n            callback = arguments[arguments.length - 1];\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Callback function found');\n          } else {\n            if (typeof conf.mermaid !== 'undefined') {\n              if (typeof conf.mermaid.callback === 'function') {\n                callback = conf.mermaid.callback;\n                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Callback function found');\n              } else {\n                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('No Callback function found');\n              }\n            }\n          }\n          nodes = nodes === undefined ? document.querySelectorAll('.mermaid') : typeof nodes === 'string' ? document.querySelectorAll(nodes) : nodes instanceof window.Node ? [nodes] : nodes; // Last case  - sequence config was passed pick next\n\n          _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Start On Load before: ' + mermaid.startOnLoad);\n          if (typeof mermaid.startOnLoad !== 'undefined') {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Start On Load inner: ' + mermaid.startOnLoad);\n            _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateSiteConfig({\n              startOnLoad: mermaid.startOnLoad\n            });\n          }\n          if (typeof mermaid.ganttConfig !== 'undefined') {\n            _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateSiteConfig({\n              gantt: mermaid.ganttConfig\n            });\n          }\n          var idGeneratior = new _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].initIdGeneratior(conf.deterministicIds, conf.deterministicIDSeed);\n          var txt;\n          var _loop = function _loop(i) {\n            // element is the current div with mermaid class\n            var element = nodes[i];\n            /*! Check if previously processed */\n\n            if (!element.getAttribute('data-processed')) {\n              element.setAttribute('data-processed', true);\n            } else {\n              return \"continue\";\n            }\n            var id = \"mermaid-\".concat(idGeneratior.next()); // Fetch the graph definition including tags\n\n            txt = element.innerHTML; // transforms the html to pure text\n\n            txt = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].entityDecode(txt).trim().replace(/<br\\s*\\/?>/gi, '<br/>');\n            var init = _utils__WEBPACK_IMPORTED_MODULE_2__[\"default\"].detectInit(txt);\n            if (init) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('Detected early reinit: ', init);\n            }\n            try {\n              _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].render(id, txt, function (svgCode, bindFunctions) {\n                element.innerHTML = svgCode;\n                if (typeof callback !== 'undefined') {\n                  callback(id);\n                }\n                if (bindFunctions) bindFunctions(element);\n              }, element);\n            } catch (e) {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn('Syntax Error rendering');\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn(e);\n              if (_this.parseError) {\n                _this.parseError(e);\n              }\n            }\n          };\n          for (var i = 0; i < nodes.length; i++) {\n            var _ret = _loop(i);\n            if (_ret === \"continue\") continue;\n          }\n        };\n        var initialize = function initialize(config) {\n          // mermaidAPI.reset();\n          if (typeof config.mermaid !== 'undefined') {\n            if (typeof config.mermaid.startOnLoad !== 'undefined') {\n              mermaid.startOnLoad = config.mermaid.startOnLoad;\n            }\n            if (typeof config.mermaid.htmlLabels !== 'undefined') {\n              mermaid.htmlLabels = config.mermaid.htmlLabels === 'false' || config.mermaid.htmlLabels === false ? false : true;\n            }\n          }\n          _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].initialize(config); // mermaidAPI.reset();\n        };\n        /**\n         * ##contentLoaded Callback function that is called when page is loaded. This functions fetches\n         * configuration for mermaid rendering and calls init for rendering the mermaid diagrams on the page.\n         */\n\n        var contentLoaded = function contentLoaded() {\n          var config;\n          if (mermaid.startOnLoad) {\n            // No config found, do check API config\n            config = _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getConfig();\n            if (config.startOnLoad) {\n              mermaid.init();\n            }\n          } else {\n            if (typeof mermaid.startOnLoad === 'undefined') {\n              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug('In start, no config');\n              config = _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getConfig();\n              if (config.startOnLoad) {\n                mermaid.init();\n              }\n            }\n          }\n        };\n        if (typeof document !== 'undefined') {\n          /*!\n           * Wait for document loaded before starting the execution\n           */\n          window.addEventListener('load', function () {\n            contentLoaded();\n          }, false);\n        }\n        var mermaid = {\n          startOnLoad: true,\n          htmlLabels: true,\n          mermaidAPI: _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n          parse: _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].parse,\n          render: _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__[\"default\"].render,\n          init: init,\n          initialize: initialize,\n          contentLoaded: contentLoaded\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = mermaid;\n\n        /***/\n      }),\n      /***/\"./src/mermaidAPI.js\": (\n      /*!***************************!*\\\n        !*** ./src/mermaidAPI.js ***!\n        \\***************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"encodeEntities\": () => (/* binding */encodeEntities),\n          /* harmony export */\"decodeEntities\": () => (/* binding */decodeEntities),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var stylis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! stylis */\"stylis\");\n        /* harmony import */\n        var stylis__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(stylis__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _package_json__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../package.json */\"./package.json\");\n        /* harmony import */\n        var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./config */\"./src/config.js\");\n        /* harmony import */\n        var _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./diagrams/class/classDb */\"./src/diagrams/class/classDb.js\");\n        /* harmony import */\n        var _diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./diagrams/class/classRenderer */\"./src/diagrams/class/classRenderer.js\");\n        /* harmony import */\n        var _diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./diagrams/class/classRenderer-v2 */\"./src/diagrams/class/classRenderer-v2.js\");\n        /* harmony import */\n        var _diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./diagrams/class/parser/classDiagram */\"./src/diagrams/class/parser/classDiagram.jison\");\n        /* harmony import */\n        var _diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13__);\n        /* harmony import */\n        var _diagrams_er_erDb__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./diagrams/er/erDb */\"./src/diagrams/er/erDb.js\");\n        /* harmony import */\n        var _diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./diagrams/er/erRenderer */\"./src/diagrams/er/erRenderer.js\");\n        /* harmony import */\n        var _diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./diagrams/er/parser/erDiagram */\"./src/diagrams/er/parser/erDiagram.jison\");\n        /* harmony import */\n        var _diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21__);\n        /* harmony import */\n        var _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./diagrams/flowchart/flowDb */\"./src/diagrams/flowchart/flowDb.js\");\n        /* harmony import */\n        var _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./diagrams/flowchart/flowRenderer */\"./src/diagrams/flowchart/flowRenderer.js\");\n        /* harmony import */\n        var _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./diagrams/flowchart/flowRenderer-v2 */\"./src/diagrams/flowchart/flowRenderer-v2.js\");\n        /* harmony import */\n        var _diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./diagrams/flowchart/parser/flow */\"./src/diagrams/flowchart/parser/flow.jison\");\n        /* harmony import */\n        var _diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8__);\n        /* harmony import */\n        var _diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./diagrams/gantt/ganttDb */\"./src/diagrams/gantt/ganttDb.js\");\n        /* harmony import */\n        var _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./diagrams/gantt/ganttRenderer */\"./src/diagrams/gantt/ganttRenderer.js\");\n        /* harmony import */\n        var _diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./diagrams/gantt/parser/gantt */\"./src/diagrams/gantt/parser/gantt.jison\");\n        /* harmony import */\n        var _diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11__);\n        /* harmony import */\n        var _diagrams_git_gitGraphAst__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./diagrams/git/gitGraphAst */\"./src/diagrams/git/gitGraphAst.js\");\n        /* harmony import */\n        var _diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./diagrams/git/gitGraphRenderer */\"./src/diagrams/git/gitGraphRenderer.js\");\n        /* harmony import */\n        var _diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./diagrams/git/parser/gitGraph */\"./src/diagrams/git/parser/gitGraph.jison\");\n        /* harmony import */\n        var _diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5__);\n        /* harmony import */\n        var _diagrams_info_infoDb__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./diagrams/info/infoDb */\"./src/diagrams/info/infoDb.js\");\n        /* harmony import */\n        var _diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./diagrams/info/infoRenderer */\"./src/diagrams/info/infoRenderer.js\");\n        /* harmony import */\n        var _diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./diagrams/info/parser/info */\"./src/diagrams/info/parser/info.jison\");\n        /* harmony import */\n        var _diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17__);\n        /* harmony import */\n        var _diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./diagrams/pie/parser/pie */\"./src/diagrams/pie/parser/pie.jison\");\n        /* harmony import */\n        var _diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19__);\n        /* harmony import */\n        var _diagrams_pie_pieDb__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./diagrams/pie/pieDb */\"./src/diagrams/pie/pieDb.js\");\n        /* harmony import */\n        var _diagrams_pie_pieRenderer__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./diagrams/pie/pieRenderer */\"./src/diagrams/pie/pieRenderer.js\");\n        /* harmony import */\n        var _diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./diagrams/requirement/parser/requirementDiagram */\"./src/diagrams/requirement/parser/requirementDiagram.jison\");\n        /* harmony import */\n        var _diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25__);\n        /* harmony import */\n        var _diagrams_requirement_requirementDb__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./diagrams/requirement/requirementDb */\"./src/diagrams/requirement/requirementDb.js\");\n        /* harmony import */\n        var _diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./diagrams/requirement/requirementRenderer */\"./src/diagrams/requirement/requirementRenderer.js\");\n        /* harmony import */\n        var _diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./diagrams/sequence/parser/sequenceDiagram */\"./src/diagrams/sequence/parser/sequenceDiagram.jison\");\n        /* harmony import */\n        var _diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9__);\n        /* harmony import */\n        var _diagrams_sequence_sequenceDb__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./diagrams/sequence/sequenceDb */\"./src/diagrams/sequence/sequenceDb.js\");\n        /* harmony import */\n        var _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./diagrams/sequence/sequenceRenderer */\"./src/diagrams/sequence/sequenceRenderer.js\");\n        /* harmony import */\n        var _diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./diagrams/state/parser/stateDiagram */\"./src/diagrams/state/parser/stateDiagram.jison\");\n        /* harmony import */\n        var _diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15__);\n        /* harmony import */\n        var _diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./diagrams/state/stateDb */\"./src/diagrams/state/stateDb.js\");\n        /* harmony import */\n        var _diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./diagrams/state/stateRenderer */\"./src/diagrams/state/stateRenderer.js\");\n        /* harmony import */\n        var _diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./diagrams/state/stateRenderer-v2 */\"./src/diagrams/state/stateRenderer-v2.js\");\n        /* harmony import */\n        var _diagrams_user_journey_journeyDb__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./diagrams/user-journey/journeyDb */\"./src/diagrams/user-journey/journeyDb.js\");\n        /* harmony import */\n        var _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./diagrams/user-journey/journeyRenderer */\"./src/diagrams/user-journey/journeyRenderer.js\");\n        /* harmony import */\n        var _diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./diagrams/user-journey/parser/journey */\"./src/diagrams/user-journey/parser/journey.jison\");\n        /* harmony import */\n        var _diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23__);\n        /* harmony import */\n        var _errorRenderer__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./errorRenderer */\"./src/errorRenderer.js\");\n        /* harmony import */\n        var _interactionDb__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./interactionDb */\"./src/interactionDb.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logger */\"./src/logger.js\");\n        /* harmony import */\n        var _styles__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./styles */\"./src/styles.js\");\n        /* harmony import */\n        var _themes__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./themes */\"./src/themes/index.js\");\n        /* harmony import */\n        var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */\"./src/utils.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n\n        /**\n         * Edit this\n         * Page[[N|Solid](img/GitHub-Mark-32px.png)](https://github.com/mermaid-js/mermaid/blob/develop/src/mermaidAPI.js)\n         *\n         * This is the API to be used when optionally handling the integration with the web page, instead of\n         * using the default integration provided by mermaid.js.\n         *\n         * The core of this api is the [**render**](Setup.md?id=render) function which, given a graph\n         * definition as text, renders the graph/diagram and returns an svg element for the graph.\n         *\n         * It is is then up to the user of the API to make use of the svg, either insert it somewhere in the\n         * page or do something completely different.\n         *\n         * In addition to the render function, a number of behavioral configuration options are available.\n         *\n         * @name mermaidAPI\n         */\n\n        /**\n         * @param text\n         * @returns {any}\n         */\n\n        function parse(text) {\n          var cnf = _config__WEBPACK_IMPORTED_MODULE_2__.getConfig();\n          var graphInit = _utils__WEBPACK_IMPORTED_MODULE_3__[\"default\"].detectInit(text, cnf);\n          if (graphInit) {\n            reinitialize(graphInit);\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('reinit ', graphInit);\n          }\n          var graphType = _utils__WEBPACK_IMPORTED_MODULE_3__[\"default\"].detectType(text, cnf);\n          var parser;\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('Type ' + graphType);\n          switch (graphType) {\n            case 'git':\n              parser = _diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5___default();\n              parser.parser.yy = _diagrams_git_gitGraphAst__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n              break;\n            case 'flowchart':\n              _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__[\"default\"].clear();\n              parser = _diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8___default();\n              parser.parser.yy = _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\n              break;\n            case 'flowchart-v2':\n              _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__[\"default\"].clear();\n              parser = _diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8___default();\n              parser.parser.yy = _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__[\"default\"];\n              break;\n            case 'sequence':\n              parser = _diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9___default();\n              parser.parser.yy = _diagrams_sequence_sequenceDb__WEBPACK_IMPORTED_MODULE_10__[\"default\"];\n              break;\n            case 'gantt':\n              parser = _diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11___default();\n              parser.parser.yy = _diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_12__[\"default\"];\n              break;\n            case 'class':\n              parser = _diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13___default();\n              parser.parser.yy = _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n              break;\n            case 'classDiagram':\n              parser = _diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13___default();\n              parser.parser.yy = _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\n              break;\n            case 'state':\n              parser = _diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15___default();\n              parser.parser.yy = _diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_16__[\"default\"];\n              break;\n            case 'stateDiagram':\n              parser = _diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15___default();\n              parser.parser.yy = _diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_16__[\"default\"];\n              break;\n            case 'info':\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('info info info');\n              parser = _diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17___default();\n              parser.parser.yy = _diagrams_info_infoDb__WEBPACK_IMPORTED_MODULE_18__[\"default\"];\n              break;\n            case 'pie':\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('pie');\n              parser = _diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19___default();\n              parser.parser.yy = _diagrams_pie_pieDb__WEBPACK_IMPORTED_MODULE_20__[\"default\"];\n              break;\n            case 'er':\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('er');\n              parser = _diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21___default();\n              parser.parser.yy = _diagrams_er_erDb__WEBPACK_IMPORTED_MODULE_22__[\"default\"];\n              break;\n            case 'journey':\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('Journey');\n              parser = _diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23___default();\n              parser.parser.yy = _diagrams_user_journey_journeyDb__WEBPACK_IMPORTED_MODULE_24__[\"default\"];\n              break;\n            case 'requirement':\n            case 'requirementDiagram':\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('RequirementDiagram');\n              parser = _diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25___default();\n              parser.parser.yy = _diagrams_requirement_requirementDb__WEBPACK_IMPORTED_MODULE_26__[\"default\"];\n              break;\n          }\n          parser.parser.yy.graphType = graphType;\n          parser.parser.yy.parseError = function (str, hash) {\n            var error = {\n              str: str,\n              hash: hash\n            };\n            throw error;\n          };\n          parser.parse(text);\n          return parser;\n        }\n        var encodeEntities = function encodeEntities(text) {\n          var txt = text;\n          txt = txt.replace(/style.*:\\S*#.*;/g, function (s) {\n            var innerTxt = s.substring(0, s.length - 1);\n            return innerTxt;\n          });\n          txt = txt.replace(/classDef.*:\\S*#.*;/g, function (s) {\n            var innerTxt = s.substring(0, s.length - 1);\n            return innerTxt;\n          });\n          txt = txt.replace(/#\\w+;/g, function (s) {\n            var innerTxt = s.substring(1, s.length - 1);\n            var isInt = /^\\+?\\d+$/.test(innerTxt);\n            if (isInt) {\n              return '' + innerTxt + '';\n            } else {\n              return '' + innerTxt + '';\n            }\n          });\n          return txt;\n        };\n        var decodeEntities = function decodeEntities(text) {\n          var txt = text;\n          txt = txt.replace(//g, function () {\n            return '&#';\n          });\n          txt = txt.replace(//g, function () {\n            return '&';\n          });\n          txt = txt.replace(//g, function () {\n            return ';';\n          });\n          return txt;\n        };\n        /**\n         * Function that renders an svg with a graph from a chart definition. Usage example below.\n         *\n         * ```javascript\n         * mermaidAPI.initialize({\n         *   startOnLoad: true,\n         * });\n         * $(function () {\n         *   const graphDefinition = 'graph TB\\na-->b';\n         *   const cb = function (svgGraph) {\n         *     console.log(svgGraph);\n         *   };\n         *   mermaidAPI.render('id1', graphDefinition, cb);\n         * });\n         * ```\n         *\n         * @param {any} id The id of the element to be rendered\n         * @param {any} _txt The graph definition\n         * @param {any} cb Callback which is called after rendering is finished with the svg code as inparam.\n         * @param {any} container Selector to element in which a div with the graph temporarily will be\n         *   inserted. In one is provided a hidden div will be inserted in the body of the page instead. The\n         *   element will be removed when rendering is completed.\n         * @returns {any}\n         */\n\n        var render = function render(id, _txt, cb, container) {\n          _config__WEBPACK_IMPORTED_MODULE_2__.reset();\n          var txt = _txt;\n          var graphInit = _utils__WEBPACK_IMPORTED_MODULE_3__[\"default\"].detectInit(txt);\n          if (graphInit) {\n            (0, _utils__WEBPACK_IMPORTED_MODULE_3__.directiveSanitizer)(graphInit);\n            _config__WEBPACK_IMPORTED_MODULE_2__.addDirective(graphInit);\n          }\n          var cnf = _config__WEBPACK_IMPORTED_MODULE_2__.getConfig(); // Check the maximum allowed text size\n\n          if (_txt.length > cnf.maxTextSize) {\n            txt = 'graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa';\n          } // let d3Iframe;\n\n          var root = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body'); // In regular execurtion the container will be the div with a mermaid class\n\n          if (typeof container !== 'undefined') {\n            if (cnf.securityLevel === 'sandbox') {\n              // IF we are in sandboxed mode, we do everyting mermaid related\n              // in a sandboxed div\n              var iframe = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body').append('iframe').attr('id', 'i' + id).attr('style', 'width: 100%; height: 100%;').attr('sandbox', ''); // const iframeBody = ;\n\n              root = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(iframe.nodes()[0].contentDocument.body);\n              root.node().style.margin = 0;\n            } // A container was provided by the caller\n\n            container.innerHTML = '';\n            if (cnf.securityLevel === 'sandbox') {\n              // IF we are in sandboxed mode, we do everyting mermaid related\n              // in a sandboxed div\n              var _iframe = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(container).append('iframe').attr('id', 'i' + id).attr('style', 'width: 100%; height: 100%;').attr('sandbox', ''); // const iframeBody = ;\n\n              root = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(_iframe.nodes()[0].contentDocument.body);\n              root.node().style.margin = 0;\n            } else {\n              root = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(container);\n            }\n            root.append('div').attr('id', 'd' + id).attr('style', 'font-family: ' + cnf.fontFamily).append('svg').attr('id', id).attr('width', '100%').attr('xmlns', 'http://www.w3.org/2000/svg').append('g');\n          } else {\n            // No container was provided\n            // If there is an existsing element with the id, we remove it\n            // this likley a previously rendered diagram\n            var existingSvg = document.getElementById(id);\n            if (existingSvg) {\n              existingSvg.remove();\n            } // Remove previous tpm element if it exists\n\n            var _element;\n            if (cnf.securityLevel !== 'sandbox') {\n              _element = document.querySelector('#' + 'd' + id);\n            } else {\n              _element = document.querySelector('#' + 'i' + id);\n            }\n            if (_element) {\n              _element.remove();\n            } // if (cnf.securityLevel === 'sandbox') {\n            //   const iframe = select('body')\n            //     .append('iframe')\n            //     .attr('id', 'i' + id)\n            //     .attr('sandbox', '');\n            //   // const iframeBody = ;\n            //   root = select(iframe.nodes()[0].contentDocument.body);\n            // }\n            // Add the tmp div used for rendering with the id `d${id}`\n            // d+id it will contain a svg with the id \"id\"\n\n            if (cnf.securityLevel === 'sandbox') {\n              // IF we are in sandboxed mode, we do everyting mermaid related\n              // in a sandboxed div\n              var _iframe2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body').append('iframe').attr('id', 'i' + id).attr('style', 'width: 100%; height: 100%;').attr('sandbox', ''); // const iframeBody = ;\n\n              root = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(_iframe2.nodes()[0].contentDocument.body);\n              root.node().style.margin = 0;\n            } else {\n              root = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('body');\n            } // This is the temporary div\n\n            root.append('div').attr('id', 'd' + id) // this is the seed of the svg to be rendered\n            .append('svg').attr('id', id).attr('width', '100%').attr('xmlns', 'http://www.w3.org/2000/svg').append('g');\n          }\n          txt = encodeEntities(txt); // Get the tmp element containing the the svg\n\n          var element = root.select('#d' + id).node();\n          var graphType = _utils__WEBPACK_IMPORTED_MODULE_3__[\"default\"].detectType(txt, cnf); // insert inline style into svg\n\n          var svg = element.firstChild;\n          var firstChild = svg.firstChild;\n          var userStyles = ''; // user provided theme CSS\n\n          if (cnf.themeCSS !== undefined) {\n            userStyles += \"\\n\".concat(cnf.themeCSS);\n          } // user provided theme CSS\n\n          if (cnf.fontFamily !== undefined) {\n            userStyles += \"\\n:root { --mermaid-font-family: \".concat(cnf.fontFamily, \"}\");\n          } // user provided theme CSS\n\n          if (cnf.altFontFamily !== undefined) {\n            userStyles += \"\\n:root { --mermaid-alt-font-family: \".concat(cnf.altFontFamily, \"}\");\n          } // classDef\n\n          if (graphType === 'flowchart' || graphType === 'flowchart-v2' || graphType === 'graph') {\n            var classes = _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__[\"default\"].getClasses(txt);\n            var htmlLabels = cnf.htmlLabels || cnf.flowchart.htmlLabels;\n            for (var className in classes) {\n              if (htmlLabels) {\n                userStyles += \"\\n.\".concat(className, \" > * { \").concat(classes[className].styles.join(' !important; '), \" !important; }\");\n                userStyles += \"\\n.\".concat(className, \" span { \").concat(classes[className].styles.join(' !important; '), \" !important; }\");\n              } else {\n                userStyles += \"\\n.\".concat(className, \" path { \").concat(classes[className].styles.join(' !important; '), \" !important; }\");\n                userStyles += \"\\n.\".concat(className, \" rect { \").concat(classes[className].styles.join(' !important; '), \" !important; }\");\n                userStyles += \"\\n.\".concat(className, \" polygon { \").concat(classes[className].styles.join(' !important; '), \" !important; }\");\n                userStyles += \"\\n.\".concat(className, \" ellipse { \").concat(classes[className].styles.join(' !important; '), \" !important; }\");\n                userStyles += \"\\n.\".concat(className, \" circle { \").concat(classes[className].styles.join(' !important; '), \" !important; }\");\n                if (classes[className].textStyles) {\n                  userStyles += \"\\n.\".concat(className, \" tspan { \").concat(classes[className].textStyles.join(' !important; '), \" !important; }\");\n                }\n              }\n            }\n          } // log.warn(cnf.themeVariables);\n\n          var stylis = function stylis(selector, styles) {\n            return (0, stylis__WEBPACK_IMPORTED_MODULE_1__.serialize)((0, stylis__WEBPACK_IMPORTED_MODULE_1__.compile)(\"\".concat(selector, \"{\").concat(styles, \"}\")), stylis__WEBPACK_IMPORTED_MODULE_1__.stringify);\n          };\n          var rules = stylis(\"#\".concat(id), (0, _styles__WEBPACK_IMPORTED_MODULE_28__[\"default\"])(graphType, userStyles, cnf.themeVariables));\n          var style1 = document.createElement('style');\n          style1.innerHTML = \"#\".concat(id, \" \") + rules;\n          svg.insertBefore(style1, firstChild); // Verify that the generated svgs are ok before removing this\n          // const style2 = document.createElement('style');\n          // const cs = window.getComputedStyle(svg);\n          // style2.innerHTML = `#d${id} * {\n          //   color: ${cs.color};\n          //   // font: ${cs.font};\n          //   // font-family: Arial;\n          //   // font-size: 24px;\n          // }`;\n          // svg.insertBefore(style2, firstChild);\n\n          try {\n            switch (graphType) {\n              case 'git':\n                cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__[\"default\"].setConf(cnf.git);\n                _diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__[\"default\"].draw(txt, id, false);\n                break;\n              case 'flowchart':\n                cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__[\"default\"].setConf(cnf.flowchart);\n                _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__[\"default\"].draw(txt, id, false);\n                break;\n              case 'flowchart-v2':\n                cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__[\"default\"].setConf(cnf.flowchart);\n                _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__[\"default\"].draw(txt, id, false);\n                break;\n              case 'sequence':\n                cnf.sequence.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                if (cnf.sequenceDiagram) {\n                  // backwards compatibility\n                  _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__[\"default\"].setConf(Object.assign(cnf.sequence, cnf.sequenceDiagram));\n                  console.error('`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.');\n                } else {\n                  _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__[\"default\"].setConf(cnf.sequence);\n                }\n                _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__[\"default\"].draw(txt, id);\n                break;\n              case 'gantt':\n                cnf.gantt.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__[\"default\"].setConf(cnf.gantt);\n                _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__[\"default\"].draw(txt, id);\n                break;\n              case 'class':\n                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__[\"default\"].setConf(cnf.class);\n                _diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__[\"default\"].draw(txt, id);\n                break;\n              case 'classDiagram':\n                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_34__[\"default\"].setConf(cnf.class);\n                _diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_34__[\"default\"].draw(txt, id);\n                break;\n              case 'state':\n                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__[\"default\"].setConf(cnf.state);\n                _diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__[\"default\"].draw(txt, id);\n                break;\n              case 'stateDiagram':\n                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__[\"default\"].setConf(cnf.state);\n                _diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__[\"default\"].draw(txt, id);\n                break;\n              case 'info':\n                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                _diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__[\"default\"].setConf(cnf.class);\n                _diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__[\"default\"].draw(txt, id, _package_json__WEBPACK_IMPORTED_MODULE_38__.version);\n                break;\n              case 'pie':\n                //cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n                //pieRenderer.setConf(cnf.pie);\n                _diagrams_pie_pieRenderer__WEBPACK_IMPORTED_MODULE_39__[\"default\"].draw(txt, id, _package_json__WEBPACK_IMPORTED_MODULE_38__.version);\n                break;\n              case 'er':\n                _diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__[\"default\"].setConf(cnf.er);\n                _diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__[\"default\"].draw(txt, id, _package_json__WEBPACK_IMPORTED_MODULE_38__.version);\n                break;\n              case 'journey':\n                _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__[\"default\"].setConf(cnf.journey);\n                _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__[\"default\"].draw(txt, id, _package_json__WEBPACK_IMPORTED_MODULE_38__.version);\n                break;\n              case 'requirement':\n                _diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__[\"default\"].setConf(cnf.requirement);\n                _diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__[\"default\"].draw(txt, id, _package_json__WEBPACK_IMPORTED_MODULE_38__.version);\n                break;\n            }\n          } catch (e) {\n            // errorRenderer.setConf(cnf.class);\n            _errorRenderer__WEBPACK_IMPORTED_MODULE_43__[\"default\"].draw(id, _package_json__WEBPACK_IMPORTED_MODULE_38__.version);\n            throw e;\n          }\n          root.select(\"[id=\\\"\".concat(id, \"\\\"]\")).selectAll('foreignobject > *').attr('xmlns', 'http://www.w3.org/1999/xhtml'); // Fix for when the base tag is used\n\n          var svgCode = root.select('#d' + id).node().innerHTML;\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('cnf.arrowMarkerAbsolute', cnf.arrowMarkerAbsolute);\n          if ((!cnf.arrowMarkerAbsolute || cnf.arrowMarkerAbsolute === 'false') && cnf.arrowMarkerAbsolute !== 'sandbox') {\n            svgCode = svgCode.replace(/marker-end=\"url\\(.*?#/g, 'marker-end=\"url(#', 'g');\n          }\n          svgCode = decodeEntities(svgCode); // Fix for when the br tag is used\n\n          svgCode = svgCode.replace(/<br>/g, '<br/>');\n          if (cnf.securityLevel === 'sandbox') {\n            var svgEl = root.select('#d' + id + ' svg').node();\n            var width = '100%';\n            var height = '100%';\n            if (svgEl) {\n              // width = svgEl.viewBox.baseVal.width + 'px';\n              height = svgEl.viewBox.baseVal.height + 'px';\n            }\n            svgCode = \"<iframe style=\\\"width:\".concat(width, \";height:\").concat(height, \";border:0;margin:0;\\\" src=\\\"data:text/html;base64,\").concat(btoa('<body style=\"margin:0\">' + svgCode + '</body>'), \"\\\" sandbox=\\\"allow-top-navigation-by-user-activation allow-popups\\\">\\n  The \\u201Ciframe\\u201D tag is not supported by your browser.\\n</iframe>\");\n          }\n          if (typeof cb !== 'undefined') {\n            switch (graphType) {\n              case 'flowchart':\n              case 'flowchart-v2':\n                cb(svgCode, _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__[\"default\"].bindFunctions);\n                break;\n              case 'gantt':\n                cb(svgCode, _diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_12__[\"default\"].bindFunctions);\n                break;\n              case 'class':\n              case 'classDiagram':\n                cb(svgCode, _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_14__[\"default\"].bindFunctions);\n                break;\n              default:\n                cb(svgCode);\n            }\n          } else {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('CB = undefined!');\n          }\n          (0, _interactionDb__WEBPACK_IMPORTED_MODULE_44__.attachFunctions)();\n          var tmpElementSelector = cnf.securityLevel === 'sandbox' ? '#i' + id : '#d' + id;\n          var node = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(tmpElementSelector).node();\n          if (node !== null && typeof node.remove === 'function') {\n            (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(tmpElementSelector).node().remove();\n          }\n          return svgCode;\n        };\n        var currentDirective = {};\n        var parseDirective = function parseDirective(p, statement, context, type) {\n          try {\n            if (statement !== undefined) {\n              statement = statement.trim();\n              switch (context) {\n                case 'open_directive':\n                  currentDirective = {};\n                  break;\n                case 'type_directive':\n                  currentDirective.type = statement.toLowerCase();\n                  break;\n                case 'arg_directive':\n                  currentDirective.args = JSON.parse(statement);\n                  break;\n                case 'close_directive':\n                  handleDirective(p, currentDirective, type);\n                  currentDirective = null;\n                  break;\n              }\n            }\n          } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.error(\"Error while rendering sequenceDiagram directive: \".concat(statement, \" jison context: \").concat(context));\n            _logger__WEBPACK_IMPORTED_MODULE_4__.log.error(error.message);\n          }\n        };\n        var handleDirective = function handleDirective(p, directive, type) {\n          _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug(\"Directive type=\".concat(directive.type, \" with args:\"), directive.args);\n          switch (directive.type) {\n            case 'init':\n            case 'initialize':\n              {\n                ['config'].forEach(function (prop) {\n                  if (typeof directive.args[prop] !== 'undefined') {\n                    if (type === 'flowchart-v2') {\n                      type = 'flowchart';\n                    }\n                    directive.args[type] = directive.args[prop];\n                    delete directive.args[prop];\n                  }\n                });\n                _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('sanitize in handleDirective', directive.args);\n                (0, _utils__WEBPACK_IMPORTED_MODULE_3__.directiveSanitizer)(directive.args);\n                _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug('sanitize in handleDirective (done)', directive.args);\n                reinitialize(directive.args);\n                _config__WEBPACK_IMPORTED_MODULE_2__.addDirective(directive.args);\n                break;\n              }\n            case 'wrap':\n            case 'nowrap':\n              if (p && p['setWrap']) {\n                p.setWrap(directive.type === 'wrap');\n              }\n              break;\n            case 'themeCss':\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn('themeCss encountered');\n              break;\n            default:\n              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn(\"Unhandled directive: source: '%%{\".concat(directive.type, \": \").concat(JSON.stringify(directive.args ? directive.args : {}), \"}%%\"), directive);\n              break;\n          }\n        };\n        /** @param {any} conf */\n\n        function updateRendererConfigs(conf) {\n          // Todo remove, all diagrams should get config on demoand from the config object, no need for this\n          _diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__[\"default\"].setConf(conf.git);\n          _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__[\"default\"].setConf(conf.flowchart);\n          _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__[\"default\"].setConf(conf.flowchart);\n          if (typeof conf['sequenceDiagram'] !== 'undefined') {\n            _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__[\"default\"].setConf((0, _utils__WEBPACK_IMPORTED_MODULE_3__.assignWithDepth)(conf.sequence, conf['sequenceDiagram']));\n          }\n          _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__[\"default\"].setConf(conf.sequence);\n          _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__[\"default\"].setConf(conf.gantt);\n          _diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__[\"default\"].setConf(conf.class);\n          _diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__[\"default\"].setConf(conf.state);\n          _diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__[\"default\"].setConf(conf.state);\n          _diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__[\"default\"].setConf(conf.class); // pieRenderer.setConf(conf.class);\n\n          _diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__[\"default\"].setConf(conf.er);\n          _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__[\"default\"].setConf(conf.journey);\n          _diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__[\"default\"].setConf(conf.requirement);\n          _errorRenderer__WEBPACK_IMPORTED_MODULE_43__[\"default\"].setConf(conf.class);\n        }\n        /** To be removed */\n\n        function reinitialize() {// `mermaidAPI.reinitialize: v${pkg.version}`,\n          //   JSON.stringify(options),\n          //   options.themeVariables.primaryColor;\n          // // if (options.theme && theme[options.theme]) {\n          // //   options.themeVariables = theme[options.theme].getThemeVariables(options.themeVariables);\n          // // }\n          // // Set default options\n          // const config =\n          //   typeof options === 'object' ? configApi.setConfig(options) : configApi.getSiteConfig();\n          // updateRendererConfigs(config);\n          // setLogLevel(config.logLevel);\n          // log.debug('mermaidAPI.reinitialize: ', config);\n        }\n        /** @param {any} options */\n\n        function initialize(options) {\n          // console.warn(`mermaidAPI.initialize: v${pkg.version} `, options);\n          // Handle legacy location of font-family configuration\n          if (options && options.fontFamily) {\n            if (!options.themeVariables) {\n              options.themeVariables = {\n                fontFamily: options.fontFamily\n              };\n            } else {\n              if (!options.themeVariables.fontFamily) {\n                options.themeVariables = {\n                  fontFamily: options.fontFamily\n                };\n              }\n            }\n          } // Set default options\n\n          _config__WEBPACK_IMPORTED_MODULE_2__.saveConfigFromInitilize(options);\n          if (options && options.theme && _themes__WEBPACK_IMPORTED_MODULE_45__[\"default\"][options.theme]) {\n            // Todo merge with user options\n            options.themeVariables = _themes__WEBPACK_IMPORTED_MODULE_45__[\"default\"][options.theme].getThemeVariables(options.themeVariables);\n          } else {\n            if (options) options.themeVariables = _themes__WEBPACK_IMPORTED_MODULE_45__[\"default\"][\"default\"].getThemeVariables(options.themeVariables);\n          }\n          var config = _typeof(options) === 'object' ? _config__WEBPACK_IMPORTED_MODULE_2__.setSiteConfig(options) : _config__WEBPACK_IMPORTED_MODULE_2__.getSiteConfig();\n          updateRendererConfigs(config);\n          (0, _logger__WEBPACK_IMPORTED_MODULE_4__.setLogLevel)(config.logLevel); // log.debug('mermaidAPI.initialize: ', config);\n        }\n        var mermaidAPI = Object.freeze({\n          render: render,\n          parse: parse,\n          parseDirective: parseDirective,\n          initialize: initialize,\n          reinitialize: reinitialize,\n          getConfig: _config__WEBPACK_IMPORTED_MODULE_2__.getConfig,\n          setConfig: _config__WEBPACK_IMPORTED_MODULE_2__.setConfig,\n          getSiteConfig: _config__WEBPACK_IMPORTED_MODULE_2__.getSiteConfig,\n          updateSiteConfig: _config__WEBPACK_IMPORTED_MODULE_2__.updateSiteConfig,\n          reset: function reset() {\n            // console.warn('reset');\n            _config__WEBPACK_IMPORTED_MODULE_2__.reset(); // const siteConfig = configApi.getSiteConfig();\n            // updateRendererConfigs(siteConfig);\n          },\n          globalReset: function globalReset() {\n            _config__WEBPACK_IMPORTED_MODULE_2__.reset(_config__WEBPACK_IMPORTED_MODULE_2__.defaultConfig);\n            updateRendererConfigs(_config__WEBPACK_IMPORTED_MODULE_2__.getConfig());\n          },\n          defaultConfig: _config__WEBPACK_IMPORTED_MODULE_2__.defaultConfig\n        });\n        (0, _logger__WEBPACK_IMPORTED_MODULE_4__.setLogLevel)(_config__WEBPACK_IMPORTED_MODULE_2__.getConfig().logLevel);\n        _config__WEBPACK_IMPORTED_MODULE_2__.reset(_config__WEBPACK_IMPORTED_MODULE_2__.getConfig());\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = mermaidAPI;\n        /**\n         * ## mermaidAPI configuration defaults\n         *\n         * ```html\n         * <script>\n         *   var config = {\n         *     theme: 'default',\n         *     logLevel: 'fatal',\n         *     securityLevel: 'strict',\n         *     startOnLoad: true,\n         *     arrowMarkerAbsolute: false,\n         *\n         *     er: {\n         *       diagramPadding: 20,\n         *       layoutDirection: 'TB',\n         *       minEntityWidth: 100,\n         *       minEntityHeight: 75,\n         *       entityPadding: 15,\n         *       stroke: 'gray',\n         *       fill: 'honeydew',\n         *       fontSize: 12,\n         *       useMaxWidth: true,\n         *     },\n         *     flowchart: {\n         *       diagramPadding: 8,\n         *       htmlLabels: true,\n         *       curve: 'basis',\n         *     },\n         *     sequence: {\n         *       diagramMarginX: 50,\n         *       diagramMarginY: 10,\n         *       actorMargin: 50,\n         *       width: 150,\n         *       height: 65,\n         *       boxMargin: 10,\n         *       boxTextMargin: 5,\n         *       noteMargin: 10,\n         *       messageMargin: 35,\n         *       messageAlign: 'center',\n         *       mirrorActors: true,\n         *       bottomMarginAdj: 1,\n         *       useMaxWidth: true,\n         *       rightAngles: false,\n         *       showSequenceNumbers: false,\n         *     },\n         *     gantt: {\n         *       titleTopMargin: 25,\n         *       barHeight: 20,\n         *       barGap: 4,\n         *       topPadding: 50,\n         *       leftPadding: 75,\n         *       gridLineStartPadding: 35,\n         *       fontSize: 11,\n         *       fontFamily: '\"Open-Sans\", \"sans-serif\"',\n         *       numberSectionStyles: 4,\n         *       axisFormat: '%Y-%m-%d',\n         *       topAxis: false,\n         *     },\n         *   };\n         *   mermaid.initialize(config);\n         * </script>\n         * ```\n         */\n\n        /***/\n      }),\n      /***/\"./src/styles.js\": (\n      /*!***********************!*\\\n        !*** ./src/styles.js ***!\n        \\***********************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"calcThemeVariables\": () => (/* binding */calcThemeVariables),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./diagrams/class/styles */\"./src/diagrams/class/styles.js\");\n        /* harmony import */\n        var _diagrams_er_styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./diagrams/er/styles */\"./src/diagrams/er/styles.js\");\n        /* harmony import */\n        var _diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./diagrams/flowchart/styles */\"./src/diagrams/flowchart/styles.js\");\n        /* harmony import */\n        var _diagrams_gantt_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./diagrams/gantt/styles */\"./src/diagrams/gantt/styles.js\");\n        /* harmony import */\n        var _diagrams_git_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./diagrams/git/styles */\"./src/diagrams/git/styles.js\");\n        /* harmony import */\n        var _diagrams_info_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./diagrams/info/styles */\"./src/diagrams/info/styles.js\");\n        /* harmony import */\n        var _diagrams_pie_styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./diagrams/pie/styles */\"./src/diagrams/pie/styles.js\");\n        /* harmony import */\n        var _diagrams_requirement_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./diagrams/requirement/styles */\"./src/diagrams/requirement/styles.js\");\n        /* harmony import */\n        var _diagrams_sequence_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./diagrams/sequence/styles */\"./src/diagrams/sequence/styles.js\");\n        /* harmony import */\n        var _diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./diagrams/state/styles */\"./src/diagrams/state/styles.js\");\n        /* harmony import */\n        var _diagrams_user_journey_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./diagrams/user-journey/styles */\"./src/diagrams/user-journey/styles.js\");\n        var themes = {\n          flowchart: _diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n          'flowchart-v2': _diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n          sequence: _diagrams_sequence_styles__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n          gantt: _diagrams_gantt_styles__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n          classDiagram: _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n          'classDiagram-v2': _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n          class: _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n          stateDiagram: _diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n          state: _diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n          git: _diagrams_git_styles__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n          info: _diagrams_info_styles__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n          pie: _diagrams_pie_styles__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n          er: _diagrams_er_styles__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n          journey: _diagrams_user_journey_styles__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n          requirement: _diagrams_requirement_styles__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n        };\n        var calcThemeVariables = function calcThemeVariables(theme, userOverRides) {\n          return theme.calcColors(userOverRides);\n        };\n        var getStyles = function getStyles(type, userStyles, options) {\n          //console.warn('options in styles: ', options);\n          return \" {\\n    font-family: \".concat(options.fontFamily, \";\\n    font-size: \").concat(options.fontSize, \";\\n    fill: \").concat(options.textColor, \"\\n  }\\n\\n  /* Classes common for multiple diagrams */\\n\\n  .error-icon {\\n    fill: \").concat(options.errorBkgColor, \";\\n  }\\n  .error-text {\\n    fill: \").concat(options.errorTextColor, \";\\n    stroke: \").concat(options.errorTextColor, \";\\n  }\\n\\n  .edge-thickness-normal {\\n    stroke-width: 2px;\\n  }\\n  .edge-thickness-thick {\\n    stroke-width: 3.5px\\n  }\\n  .edge-pattern-solid {\\n    stroke-dasharray: 0;\\n  }\\n\\n  .edge-pattern-dashed{\\n    stroke-dasharray: 3;\\n  }\\n  .edge-pattern-dotted {\\n    stroke-dasharray: 2;\\n  }\\n\\n  .marker {\\n    fill: \").concat(options.lineColor, \";\\n    stroke: \").concat(options.lineColor, \";\\n  }\\n  .marker.cross {\\n    stroke: \").concat(options.lineColor, \";\\n  }\\n\\n  svg {\\n    font-family: \").concat(options.fontFamily, \";\\n    font-size: \").concat(options.fontSize, \";\\n  }\\n\\n  \").concat(themes[type](options), \"\\n\\n  \").concat(userStyles, \"\\n\");\n        };\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = getStyles;\n\n        /***/\n      }),\n      /***/\"./src/themes/index.js\": (\n      /*!*****************************!*\\\n        !*** ./src/themes/index.js ***!\n        \\*****************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _theme_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./theme-base */\"./src/themes/theme-base.js\");\n        /* harmony import */\n        var _theme_dark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme-dark */\"./src/themes/theme-dark.js\");\n        /* harmony import */\n        var _theme_default__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./theme-default */\"./src/themes/theme-default.js\");\n        /* harmony import */\n        var _theme_forest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./theme-forest */\"./src/themes/theme-forest.js\");\n        /* harmony import */\n        var _theme_neutral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./theme-neutral */\"./src/themes/theme-neutral.js\");\n\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          base: {\n            getThemeVariables: _theme_base__WEBPACK_IMPORTED_MODULE_0__.getThemeVariables\n          },\n          dark: {\n            getThemeVariables: _theme_dark__WEBPACK_IMPORTED_MODULE_1__.getThemeVariables\n          },\n          default: {\n            getThemeVariables: _theme_default__WEBPACK_IMPORTED_MODULE_2__.getThemeVariables\n          },\n          forest: {\n            getThemeVariables: _theme_forest__WEBPACK_IMPORTED_MODULE_3__.getThemeVariables\n          },\n          neutral: {\n            getThemeVariables: _theme_neutral__WEBPACK_IMPORTED_MODULE_4__.getThemeVariables\n          }\n        };\n\n        /***/\n      }),\n      /***/\"./src/themes/theme-base.js\": (\n      /*!**********************************!*\\\n        !*** ./src/themes/theme-base.js ***!\n        \\**********************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"getThemeVariables\": () => (/* binding */getThemeVariables)\n          /* harmony export */\n        });\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! khroma */\"khroma\");\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(khroma__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme-helpers */\"./src/themes/theme-helpers.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        function _defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        function _createClass(Constructor, protoProps, staticProps) {\n          if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) _defineProperties(Constructor, staticProps);\n          Object.defineProperty(Constructor, \"prototype\", {\n            writable: false\n          });\n          return Constructor;\n        }\n        var Theme = /*#__PURE__*/function () {\n          function Theme() {\n            _classCallCheck(this, Theme);\n\n            /** # Base variables */\n\n            /**\n             * - Background - used to know what the background color is of the diagram. This is used for\n             *   deducing colors for istance line color. Defaulr value is #f4f4f4.\n             */\n            this.background = '#f4f4f4';\n            this.darkMode = false; // this.background = '#0c0c0c';\n            // this.darkMode = true;\n\n            this.primaryColor = '#fff4dd'; // this.background = '#0c0c0c';\n            // this.primaryColor = '#1f1f00';\n\n            this.noteBkgColor = '#fff5ad';\n            this.noteTextColor = '#333'; // dark\n            // this.primaryColor = '#034694';\n            // this.primaryColor = '#f2ee7e';\n            // this.primaryColor = '#9f33be';\n            // this.primaryColor = '#f0fff0';\n            // this.primaryColor = '#fa255e';\n            // this.primaryColor = '#ECECFF';\n            // this.secondaryColor = '#c39ea0';\n            // this.tertiaryColor = '#f8e5e5';\n            // this.secondaryColor = '#dfdfde';\n            // this.tertiaryColor = '#CCCCFF';\n\n            this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n            this.fontSize = '16px'; // this.updateColors();\n          }\n          _createClass(Theme, [{\n            key: \"updateColors\",\n            value: function updateColors() {\n              // The || is to make sure that if the variable has been defiend by a user override that value is to be used\n\n              /* Main */\n              this.primaryTextColor = this.primaryTextColor || (this.darkMode ? '#ddd' : '#333'); // invert(this.primaryColor);\n\n              this.secondaryColor = this.secondaryColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -120\n              });\n              this.tertiaryColor = this.tertiaryColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 180,\n                l: 5\n              });\n              this.primaryBorderColor = this.primaryBorderColor || (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);\n              this.secondaryBorderColor = this.secondaryBorderColor || (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);\n              this.tertiaryBorderColor = this.tertiaryBorderColor || (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode);\n              this.noteBorderColor = this.noteBorderColor || (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.noteBkgColor, this.darkMode);\n              this.noteBkgColor = this.noteBkgColor || '#fff5ad';\n              this.noteTextColor = this.noteTextColor || '#333';\n              this.secondaryTextColor = this.secondaryTextColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);\n              this.tertiaryTextColor = this.tertiaryTextColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor);\n              this.lineColor = this.lineColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);\n              this.textColor = this.textColor || this.primaryTextColor;\n              /* Flowchart variables */\n\n              this.nodeBkg = this.nodeBkg || this.primaryColor;\n              this.mainBkg = this.mainBkg || this.primaryColor;\n              this.nodeBorder = this.nodeBorder || this.primaryBorderColor;\n              this.clusterBkg = this.clusterBkg || this.tertiaryColor;\n              this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor;\n              this.defaultLinkColor = this.defaultLinkColor || this.lineColor;\n              this.titleColor = this.titleColor || this.tertiaryTextColor;\n              this.edgeLabelBackground = this.edgeLabelBackground || (this.darkMode ? (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor, 30) : this.secondaryColor);\n              this.nodeTextColor = this.nodeTextColor || this.primaryTextColor;\n              /* Sequence Diagram variables */\n              // this.actorBorder = lighten(this.border1, 0.5);\n\n              this.actorBorder = this.actorBorder || this.primaryBorderColor;\n              this.actorBkg = this.actorBkg || this.mainBkg;\n              this.actorTextColor = this.actorTextColor || this.primaryTextColor;\n              this.actorLineColor = this.actorLineColor || 'grey';\n              this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg;\n              this.signalColor = this.signalColor || this.textColor;\n              this.signalTextColor = this.signalTextColor || this.textColor;\n              this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder;\n              this.labelTextColor = this.labelTextColor || this.actorTextColor;\n              this.loopTextColor = this.loopTextColor || this.actorTextColor;\n              this.activationBorderColor = this.activationBorderColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor, 10);\n              this.activationBkgColor = this.activationBkgColor || this.secondaryColor;\n              this.sequenceNumberColor = this.sequenceNumberColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.lineColor);\n              /* Gantt chart variables */\n\n              this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor;\n              this.altSectionBkgColor = this.altSectionBkgColor || 'white';\n              this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor;\n              this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor;\n              this.excludeBkgColor = this.excludeBkgColor || '#eeeeee';\n              this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor;\n              this.taskBkgColor = this.taskBkgColor || this.primaryColor;\n              this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor;\n              this.activeTaskBkgColor = this.activeTaskBkgColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.primaryColor, 23);\n              this.gridColor = this.gridColor || 'lightgrey';\n              this.doneTaskBkgColor = this.doneTaskBkgColor || 'lightgrey';\n              this.doneTaskBorderColor = this.doneTaskBorderColor || 'grey';\n              this.critBorderColor = this.critBorderColor || '#ff8888';\n              this.critBkgColor = this.critBkgColor || 'red';\n              this.todayLineColor = this.todayLineColor || 'red';\n              this.taskTextColor = this.taskTextColor || this.textColor;\n              this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor;\n              this.taskTextLightColor = this.taskTextLightColor || this.textColor;\n              this.taskTextColor = this.taskTextColor || this.primaryTextColor;\n              this.taskTextDarkColor = this.taskTextDarkColor || this.textColor;\n              this.taskTextClickableColor = this.taskTextClickableColor || '#003163';\n              /* state colors */\n\n              this.transitionColor = this.transitionColor || this.lineColor;\n              this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n              /* The color of the text tables of the tstates*/\n\n              this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n              this.stateBkg = this.stateBkg || this.mainBkg;\n              this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n              this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n              this.altBackground = this.altBackground || this.tertiaryColor;\n              this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n              this.compositeBorder = this.compositeBorder || this.nodeBorder;\n              this.innerEndBackground = this.nodeBorder;\n              this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n              this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n              this.transitionColor = this.transitionColor || this.lineColor;\n              this.specialStateColor = this.lineColor;\n              /* class */\n\n              this.classText = this.classText || this.textColor;\n              /* user-journey */\n\n              this.fillType0 = this.fillType0 || this.primaryColor;\n              this.fillType1 = this.fillType1 || this.secondaryColor;\n              this.fillType2 = this.fillType2 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 64\n              });\n              this.fillType3 = this.fillType3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 64\n              });\n              this.fillType4 = this.fillType4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -64\n              });\n              this.fillType5 = this.fillType5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: -64\n              });\n              this.fillType6 = this.fillType6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 128\n              });\n              this.fillType7 = this.fillType7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 128\n              });\n              /* pie */\n\n              this.pie1 = this.pie1 || this.primaryColor;\n              this.pie2 = this.pie2 || this.secondaryColor;\n              this.pie3 = this.pie3 || this.tertiaryColor;\n              this.pie4 = this.pie4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                l: -10\n              });\n              this.pie5 = this.pie5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                l: -10\n              });\n              this.pie6 = this.pie6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor, {\n                l: -10\n              });\n              this.pie7 = this.pie7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: +60,\n                l: -10\n              });\n              this.pie8 = this.pie8 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -60,\n                l: -10\n              });\n              this.pie9 = this.pie9 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 120,\n                l: 0\n              });\n              this.pie10 = this.pie10 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: +60,\n                l: -20\n              });\n              this.pie11 = this.pie11 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -60,\n                l: -20\n              });\n              this.pie12 = this.pie12 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 120,\n                l: -10\n              });\n              this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n              this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n              this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n              this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n              this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n              this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n              this.pieStrokeColor = this.pieStrokeColor || 'black';\n              this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n              this.pieOpacity = this.pieOpacity || '0.7';\n              /* requirement-diagram */\n\n              this.requirementBackground = this.requirementBackground || this.primaryColor;\n              this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n              this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n              this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n              this.relationColor = this.relationColor || this.lineColor;\n              this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor, 30) : this.secondaryColor);\n              this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n            }\n          }, {\n            key: \"calculate\",\n            value: function calculate(overrides) {\n              var _this = this;\n              if (_typeof(overrides) !== 'object') {\n                // Calculate colors form base colors\n                this.updateColors();\n                return;\n              }\n              var keys = Object.keys(overrides); // Copy values from overrides, this is mainly for base colors\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              }); // Calculate colors form base colors\n\n              this.updateColors(); // Copy values from overrides again in case of an override of derived value\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              });\n            }\n          }]);\n          return Theme;\n        }();\n        var getThemeVariables = function getThemeVariables(userOverrides) {\n          var theme = new Theme();\n          theme.calculate(userOverrides);\n          return theme;\n        };\n\n        /***/\n      }),\n      /***/\"./src/themes/theme-dark.js\": (\n      /*!**********************************!*\\\n        !*** ./src/themes/theme-dark.js ***!\n        \\**********************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"getThemeVariables\": () => (/* binding */getThemeVariables)\n          /* harmony export */\n        });\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! khroma */\"khroma\");\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(khroma__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme-helpers */\"./src/themes/theme-helpers.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        function _defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        function _createClass(Constructor, protoProps, staticProps) {\n          if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) _defineProperties(Constructor, staticProps);\n          Object.defineProperty(Constructor, \"prototype\", {\n            writable: false\n          });\n          return Constructor;\n        }\n        var Theme = /*#__PURE__*/function () {\n          function Theme() {\n            _classCallCheck(this, Theme);\n            this.background = '#333';\n            this.primaryColor = '#1f2020';\n            this.secondaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.primaryColor, 16);\n            this.tertiaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n              h: -160\n            });\n            this.primaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);\n            this.secondaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);\n            this.tertiaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode);\n            this.primaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);\n            this.secondaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);\n            this.tertiaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor);\n            this.lineColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);\n            this.textColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);\n            this.mainBkg = '#1f2020';\n            this.secondBkg = 'calculated';\n            this.mainContrastColor = 'lightgrey';\n            this.darkTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)((0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)('#323D47'), 10);\n            this.lineColor = 'calculated';\n            this.border1 = '#81B1DB';\n            this.border2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255, 255, 255, 0.25);\n            this.arrowheadColor = 'calculated';\n            this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n            this.fontSize = '16px';\n            this.labelBackground = '#181818';\n            this.textColor = '#ccc';\n            /* Flowchart variables */\n\n            this.nodeBkg = 'calculated';\n            this.nodeBorder = 'calculated';\n            this.clusterBkg = 'calculated';\n            this.clusterBorder = 'calculated';\n            this.defaultLinkColor = 'calculated';\n            this.titleColor = '#F9FFFE';\n            this.edgeLabelBackground = 'calculated';\n            /* Sequence Diagram variables */\n\n            this.actorBorder = 'calculated';\n            this.actorBkg = 'calculated';\n            this.actorTextColor = 'calculated';\n            this.actorLineColor = 'calculated';\n            this.signalColor = 'calculated';\n            this.signalTextColor = 'calculated';\n            this.labelBoxBkgColor = 'calculated';\n            this.labelBoxBorderColor = 'calculated';\n            this.labelTextColor = 'calculated';\n            this.loopTextColor = 'calculated';\n            this.noteBorderColor = 'calculated';\n            this.noteBkgColor = '#fff5ad';\n            this.noteTextColor = 'calculated';\n            this.activationBorderColor = 'calculated';\n            this.activationBkgColor = 'calculated';\n            this.sequenceNumberColor = 'black';\n            /* Gantt chart variables */\n\n            this.sectionBkgColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)('#EAE8D9', 30);\n            this.altSectionBkgColor = 'calculated';\n            this.sectionBkgColor2 = '#EAE8D9';\n            this.taskBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255, 255, 255, 70);\n            this.taskBkgColor = 'calculated';\n            this.taskTextColor = 'calculated';\n            this.taskTextLightColor = 'calculated';\n            this.taskTextOutsideColor = 'calculated';\n            this.taskTextClickableColor = '#003163';\n            this.activeTaskBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255, 255, 255, 50);\n            this.activeTaskBkgColor = '#81B1DB';\n            this.gridColor = 'calculated';\n            this.doneTaskBkgColor = 'calculated';\n            this.doneTaskBorderColor = 'grey';\n            this.critBorderColor = '#E83737';\n            this.critBkgColor = '#E83737';\n            this.taskTextDarkColor = 'calculated';\n            this.todayLineColor = '#DB5757';\n            /* state colors */\n\n            this.labelColor = 'calculated';\n            this.errorBkgColor = '#a44141';\n            this.errorTextColor = '#ddd';\n          }\n          _createClass(Theme, [{\n            key: \"updateColors\",\n            value: function updateColors() {\n              this.secondBkg = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.mainBkg, 16);\n              this.lineColor = this.mainContrastColor;\n              this.arrowheadColor = this.mainContrastColor;\n              /* Flowchart variables */\n\n              this.nodeBkg = this.mainBkg;\n              this.nodeBorder = this.border1;\n              this.clusterBkg = this.secondBkg;\n              this.clusterBorder = this.border2;\n              this.defaultLinkColor = this.lineColor;\n              this.edgeLabelBackground = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.labelBackground, 25);\n              /* Sequence Diagram variables */\n\n              this.actorBorder = this.border1;\n              this.actorBkg = this.mainBkg;\n              this.actorTextColor = this.mainContrastColor;\n              this.actorLineColor = this.mainContrastColor;\n              this.signalColor = this.mainContrastColor;\n              this.signalTextColor = this.mainContrastColor;\n              this.labelBoxBkgColor = this.actorBkg;\n              this.labelBoxBorderColor = this.actorBorder;\n              this.labelTextColor = this.mainContrastColor;\n              this.loopTextColor = this.mainContrastColor;\n              this.noteBorderColor = this.secondaryBorderColor;\n              this.noteBkgColor = this.secondBkg;\n              this.noteTextColor = this.secondaryTextColor;\n              this.activationBorderColor = this.border1;\n              this.activationBkgColor = this.secondBkg;\n              /* Gantt chart variables */\n\n              this.altSectionBkgColor = this.background;\n              this.taskBkgColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.mainBkg, 23);\n              this.taskTextColor = this.darkTextColor;\n              this.taskTextLightColor = this.mainContrastColor;\n              this.taskTextOutsideColor = this.taskTextLightColor;\n              this.gridColor = this.mainContrastColor;\n              this.doneTaskBkgColor = this.mainContrastColor;\n              this.taskTextDarkColor = this.darkTextColor;\n              /* state colors */\n\n              this.transitionColor = this.transitionColor || this.lineColor;\n              this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n              this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n              this.stateBkg = this.stateBkg || this.mainBkg;\n              this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n              this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n              this.altBackground = this.altBackground || '#555';\n              this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n              this.compositeBorder = this.compositeBorder || this.nodeBorder;\n              this.innerEndBackground = this.primaryBorderColor;\n              this.specialStateColor = '#f4f4f4'; // this.lineColor;\n\n              this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n              this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n              this.fillType0 = this.primaryColor;\n              this.fillType1 = this.secondaryColor;\n              this.fillType2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 64\n              });\n              this.fillType3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 64\n              });\n              this.fillType4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -64\n              });\n              this.fillType5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: -64\n              });\n              this.fillType6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 128\n              });\n              this.fillType7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 128\n              });\n              /* pie */\n\n              this.pie1 = this.pie1 || '#0b0000';\n              this.pie2 = this.pie2 || '#4d1037';\n              this.pie3 = this.pie3 || '#3f5258';\n              this.pie4 = this.pie4 || '#4f2f1b';\n              this.pie5 = this.pie5 || '#6e0a0a';\n              this.pie6 = this.pie6 || '#3b0048';\n              this.pie7 = this.pie7 || '#995a01';\n              this.pie8 = this.pie8 || '#154706';\n              this.pie9 = this.pie9 || '#161722';\n              this.pie10 = this.pie10 || '#00296f';\n              this.pie11 = this.pie11 || '#01629c';\n              this.pie12 = this.pie12 || '#010029';\n              this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n              this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n              this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n              this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n              this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n              this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n              this.pieStrokeColor = this.pieStrokeColor || 'black';\n              this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n              this.pieOpacity = this.pieOpacity || '0.7';\n              /* class */\n\n              this.classText = this.primaryTextColor;\n              /* requirement-diagram */\n\n              this.requirementBackground = this.requirementBackground || this.primaryColor;\n              this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n              this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n              this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n              this.relationColor = this.relationColor || this.lineColor;\n              this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor, 30) : this.secondaryColor);\n              this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n            }\n          }, {\n            key: \"calculate\",\n            value: function calculate(overrides) {\n              var _this = this;\n              if (_typeof(overrides) !== 'object') {\n                // Calculate colors form base colors\n                this.updateColors();\n                return;\n              }\n              var keys = Object.keys(overrides); // Copy values from overrides, this is mainly for base colors\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              }); // Calculate colors form base colors\n\n              this.updateColors(); // Copy values from overrides again in case of an override of derived value\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              });\n            }\n          }]);\n          return Theme;\n        }();\n        var getThemeVariables = function getThemeVariables(userOverrides) {\n          var theme = new Theme();\n          theme.calculate(userOverrides);\n          return theme;\n        };\n\n        /***/\n      }),\n      /***/\"./src/themes/theme-default.js\": (\n      /*!*************************************!*\\\n        !*** ./src/themes/theme-default.js ***!\n        \\*************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"getThemeVariables\": () => (/* binding */getThemeVariables)\n          /* harmony export */\n        });\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! khroma */\"khroma\");\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(khroma__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme-helpers */\"./src/themes/theme-helpers.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        function _defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        function _createClass(Constructor, protoProps, staticProps) {\n          if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) _defineProperties(Constructor, staticProps);\n          Object.defineProperty(Constructor, \"prototype\", {\n            writable: false\n          });\n          return Constructor;\n        }\n        var Theme = /*#__PURE__*/function () {\n          function Theme() {\n            _classCallCheck(this, Theme);\n\n            /* Base variables */\n            this.background = '#f4f4f4';\n            this.primaryColor = '#ECECFF';\n            this.secondaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n              h: 120\n            });\n            this.secondaryColor = '#ffffde';\n            this.tertiaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n              h: -160\n            });\n            this.primaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);\n            this.secondaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);\n            this.tertiaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode); // this.noteBorderColor = mkBorder(this.noteBkgColor, this.darkMode);\n\n            this.primaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);\n            this.secondaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);\n            this.tertiaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor);\n            this.lineColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);\n            this.textColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);\n            this.background = 'white';\n            this.mainBkg = '#ECECFF';\n            this.secondBkg = '#ffffde';\n            this.lineColor = '#333333';\n            this.border1 = '#9370DB';\n            this.border2 = '#aaaa33';\n            this.arrowheadColor = '#333333';\n            this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n            this.fontSize = '16px';\n            this.labelBackground = '#e8e8e8';\n            this.textColor = '#333';\n            /* Flowchart variables */\n\n            this.nodeBkg = 'calculated';\n            this.nodeBorder = 'calculated';\n            this.clusterBkg = 'calculated';\n            this.clusterBorder = 'calculated';\n            this.defaultLinkColor = 'calculated';\n            this.titleColor = 'calculated';\n            this.edgeLabelBackground = 'calculated';\n            /* Sequence Diagram variables */\n\n            this.actorBorder = 'calculated';\n            this.actorBkg = 'calculated';\n            this.actorTextColor = 'black';\n            this.actorLineColor = 'grey';\n            this.signalColor = 'calculated';\n            this.signalTextColor = 'calculated';\n            this.labelBoxBkgColor = 'calculated';\n            this.labelBoxBorderColor = 'calculated';\n            this.labelTextColor = 'calculated';\n            this.loopTextColor = 'calculated';\n            this.noteBorderColor = 'calculated';\n            this.noteBkgColor = '#fff5ad';\n            this.noteTextColor = 'calculated';\n            this.activationBorderColor = '#666';\n            this.activationBkgColor = '#f4f4f4';\n            this.sequenceNumberColor = 'white';\n            /* Gantt chart variables */\n\n            this.sectionBkgColor = 'calculated';\n            this.altSectionBkgColor = 'calculated';\n            this.sectionBkgColor2 = 'calculated';\n            this.excludeBkgColor = '#eeeeee';\n            this.taskBorderColor = 'calculated';\n            this.taskBkgColor = 'calculated';\n            this.taskTextLightColor = 'calculated';\n            this.taskTextColor = this.taskTextLightColor;\n            this.taskTextDarkColor = 'calculated';\n            this.taskTextOutsideColor = this.taskTextDarkColor;\n            this.taskTextClickableColor = 'calculated';\n            this.activeTaskBorderColor = 'calculated';\n            this.activeTaskBkgColor = 'calculated';\n            this.gridColor = 'calculated';\n            this.doneTaskBkgColor = 'calculated';\n            this.doneTaskBorderColor = 'calculated';\n            this.critBorderColor = 'calculated';\n            this.critBkgColor = 'calculated';\n            this.todayLineColor = 'calculated';\n            this.sectionBkgColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(102, 102, 255, 0.49);\n            this.altSectionBkgColor = 'white';\n            this.sectionBkgColor2 = '#fff400';\n            this.taskBorderColor = '#534fbc';\n            this.taskBkgColor = '#8a90dd';\n            this.taskTextLightColor = 'white';\n            this.taskTextColor = 'calculated';\n            this.taskTextDarkColor = 'black';\n            this.taskTextOutsideColor = 'calculated';\n            this.taskTextClickableColor = '#003163';\n            this.activeTaskBorderColor = '#534fbc';\n            this.activeTaskBkgColor = '#bfc7ff';\n            this.gridColor = 'lightgrey';\n            this.doneTaskBkgColor = 'lightgrey';\n            this.doneTaskBorderColor = 'grey';\n            this.critBorderColor = '#ff8888';\n            this.critBkgColor = 'red';\n            this.todayLineColor = 'red';\n            /* state colors */\n\n            this.labelColor = 'black';\n            this.errorBkgColor = '#552222';\n            this.errorTextColor = '#552222';\n            this.updateColors();\n          }\n          _createClass(Theme, [{\n            key: \"updateColors\",\n            value: function updateColors() {\n              /* Flowchart variables */\n              this.nodeBkg = this.mainBkg;\n              this.nodeBorder = this.border1; // border 1\n\n              this.clusterBkg = this.secondBkg;\n              this.clusterBorder = this.border2;\n              this.defaultLinkColor = this.lineColor;\n              this.titleColor = this.textColor;\n              this.edgeLabelBackground = this.labelBackground;\n              /* Sequence Diagram variables */\n              // this.actorBorder = lighten(this.border1, 0.5);\n\n              this.actorBorder = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1, 23);\n              this.actorBkg = this.mainBkg;\n              this.labelBoxBkgColor = this.actorBkg;\n              this.signalColor = this.textColor;\n              this.signalTextColor = this.textColor;\n              this.labelBoxBorderColor = this.actorBorder;\n              this.labelTextColor = this.actorTextColor;\n              this.loopTextColor = this.actorTextColor;\n              this.noteBorderColor = this.border2;\n              this.noteTextColor = this.actorTextColor;\n              /* Gantt chart variables */\n\n              this.taskTextColor = this.taskTextLightColor;\n              this.taskTextOutsideColor = this.taskTextDarkColor;\n              /* state colors */\n\n              this.transitionColor = this.transitionColor || this.lineColor;\n              this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n              this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n              this.stateBkg = this.stateBkg || this.mainBkg;\n              this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n              this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n              this.altBackground = this.altBackground || '#f0f0f0';\n              this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n              this.compositeBorder = this.compositeBorder || this.nodeBorder;\n              this.innerEndBackground = this.nodeBorder;\n              this.specialStateColor = this.lineColor;\n              this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n              this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n              this.transitionColor = this.transitionColor || this.lineColor;\n              /* class */\n\n              this.classText = this.primaryTextColor;\n              /* journey */\n\n              this.fillType0 = this.primaryColor;\n              this.fillType1 = this.secondaryColor;\n              this.fillType2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 64\n              });\n              this.fillType3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 64\n              });\n              this.fillType4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -64\n              });\n              this.fillType5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: -64\n              });\n              this.fillType6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 128\n              });\n              this.fillType7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 128\n              });\n              /* pie */\n\n              this.pie1 = this.pie1 || this.primaryColor;\n              this.pie2 = this.pie2 || this.secondaryColor;\n              this.pie3 = this.pie3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor, {\n                l: -40\n              });\n              this.pie4 = this.pie4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                l: -10\n              });\n              this.pie5 = this.pie5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                l: -30\n              });\n              this.pie6 = this.pie6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor, {\n                l: -20\n              });\n              this.pie7 = this.pie7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: +60,\n                l: -20\n              });\n              this.pie8 = this.pie8 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -60,\n                l: -40\n              });\n              this.pie9 = this.pie9 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 120,\n                l: -40\n              });\n              this.pie10 = this.pie10 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: +60,\n                l: -40\n              });\n              this.pie11 = this.pie11 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -90,\n                l: -40\n              });\n              this.pie12 = this.pie12 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 120,\n                l: -30\n              });\n              this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n              this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n              this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n              this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n              this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n              this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n              this.pieStrokeColor = this.pieStrokeColor || 'black';\n              this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n              this.pieOpacity = this.pieOpacity || '0.7';\n              /* requirement-diagram */\n\n              this.requirementBackground = this.requirementBackground || this.primaryColor;\n              this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n              this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n              this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n              this.relationColor = this.relationColor || this.lineColor;\n              this.relationLabelBackground = this.relationLabelBackground || this.labelBackground;\n              this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n            }\n          }, {\n            key: \"calculate\",\n            value: function calculate(overrides) {\n              var _this = this;\n              if (_typeof(overrides) !== 'object') {\n                // Calculate colors form base colors\n                this.updateColors();\n                return;\n              }\n              var keys = Object.keys(overrides); // Copy values from overrides, this is mainly for base colors\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              }); // Calculate colors form base colors\n\n              this.updateColors(); // Copy values from overrides again in case of an override of derived value\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              });\n            }\n          }]);\n          return Theme;\n        }();\n        var getThemeVariables = function getThemeVariables(userOverrides) {\n          var theme = new Theme();\n          theme.calculate(userOverrides);\n          return theme;\n        };\n\n        /***/\n      }),\n      /***/\"./src/themes/theme-forest.js\": (\n      /*!************************************!*\\\n        !*** ./src/themes/theme-forest.js ***!\n        \\************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"getThemeVariables\": () => (/* binding */getThemeVariables)\n          /* harmony export */\n        });\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! khroma */\"khroma\");\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(khroma__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme-helpers */\"./src/themes/theme-helpers.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        function _defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        function _createClass(Constructor, protoProps, staticProps) {\n          if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) _defineProperties(Constructor, staticProps);\n          Object.defineProperty(Constructor, \"prototype\", {\n            writable: false\n          });\n          return Constructor;\n        }\n        var Theme = /*#__PURE__*/function () {\n          function Theme() {\n            _classCallCheck(this, Theme);\n\n            /* Base vales */\n            this.background = '#f4f4f4';\n            this.primaryColor = '#cde498';\n            this.secondaryColor = '#cdffb2';\n            this.background = 'white';\n            this.mainBkg = '#cde498';\n            this.secondBkg = '#cdffb2';\n            this.lineColor = 'green';\n            this.border1 = '#13540c';\n            this.border2 = '#6eaa49';\n            this.arrowheadColor = 'green';\n            this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n            this.fontSize = '16px';\n            this.tertiaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)('#cde498', 10);\n            this.primaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);\n            this.secondaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);\n            this.tertiaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode);\n            this.primaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);\n            this.secondaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);\n            this.tertiaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);\n            this.lineColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);\n            this.textColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);\n            /* Flowchart variables */\n\n            this.nodeBkg = 'calculated';\n            this.nodeBorder = 'calculated';\n            this.clusterBkg = 'calculated';\n            this.clusterBorder = 'calculated';\n            this.defaultLinkColor = 'calculated';\n            this.titleColor = '#333';\n            this.edgeLabelBackground = '#e8e8e8';\n            /* Sequence Diagram variables */\n\n            this.actorBorder = 'calculated';\n            this.actorBkg = 'calculated';\n            this.actorTextColor = 'black';\n            this.actorLineColor = 'grey';\n            this.signalColor = '#333';\n            this.signalTextColor = '#333';\n            this.labelBoxBkgColor = 'calculated';\n            this.labelBoxBorderColor = '#326932';\n            this.labelTextColor = 'calculated';\n            this.loopTextColor = 'calculated';\n            this.noteBorderColor = 'calculated';\n            this.noteBkgColor = '#fff5ad';\n            this.noteTextColor = 'calculated';\n            this.activationBorderColor = '#666';\n            this.activationBkgColor = '#f4f4f4';\n            this.sequenceNumberColor = 'white';\n            /* Gantt chart variables */\n\n            this.sectionBkgColor = '#6eaa49';\n            this.altSectionBkgColor = 'white';\n            this.sectionBkgColor2 = '#6eaa49';\n            this.excludeBkgColor = '#eeeeee';\n            this.taskBorderColor = 'calculated';\n            this.taskBkgColor = '#487e3a';\n            this.taskTextLightColor = 'white';\n            this.taskTextColor = 'calculated';\n            this.taskTextDarkColor = 'black';\n            this.taskTextOutsideColor = 'calculated';\n            this.taskTextClickableColor = '#003163';\n            this.activeTaskBorderColor = 'calculated';\n            this.activeTaskBkgColor = 'calculated';\n            this.gridColor = 'lightgrey';\n            this.doneTaskBkgColor = 'lightgrey';\n            this.doneTaskBorderColor = 'grey';\n            this.critBorderColor = '#ff8888';\n            this.critBkgColor = 'red';\n            this.todayLineColor = 'red';\n            /* state colors */\n\n            this.labelColor = 'black';\n            this.errorBkgColor = '#552222';\n            this.errorTextColor = '#552222';\n          }\n          _createClass(Theme, [{\n            key: \"updateColors\",\n            value: function updateColors() {\n              /* Flowchart variables */\n              this.nodeBkg = this.mainBkg;\n              this.nodeBorder = this.border1;\n              this.clusterBkg = this.secondBkg;\n              this.clusterBorder = this.border2;\n              this.defaultLinkColor = this.lineColor;\n              /* Sequence Diagram variables */\n\n              this.actorBorder = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.mainBkg, 20);\n              this.actorBkg = this.mainBkg;\n              this.labelBoxBkgColor = this.actorBkg;\n              this.labelTextColor = this.actorTextColor;\n              this.loopTextColor = this.actorTextColor;\n              this.noteBorderColor = this.border2;\n              this.noteTextColor = this.actorTextColor;\n              /* Gantt chart variables */\n\n              this.taskBorderColor = this.border1;\n              this.taskTextColor = this.taskTextLightColor;\n              this.taskTextOutsideColor = this.taskTextDarkColor;\n              this.activeTaskBorderColor = this.taskBorderColor;\n              this.activeTaskBkgColor = this.mainBkg;\n              /* state colors */\n\n              this.transitionColor = this.transitionColor || this.lineColor;\n              this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n              this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n              this.stateBkg = this.stateBkg || this.mainBkg;\n              this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n              this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n              this.altBackground = this.altBackground || '#f0f0f0';\n              this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n              this.compositeBorder = this.compositeBorder || this.nodeBorder;\n              this.innerEndBackground = this.primaryBorderColor;\n              this.specialStateColor = this.lineColor;\n              this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n              this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n              this.transitionColor = this.transitionColor || this.lineColor;\n              /* class */\n\n              this.classText = this.primaryTextColor;\n              /* journey */\n\n              this.fillType0 = this.primaryColor;\n              this.fillType1 = this.secondaryColor;\n              this.fillType2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 64\n              });\n              this.fillType3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 64\n              });\n              this.fillType4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -64\n              });\n              this.fillType5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: -64\n              });\n              this.fillType6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 128\n              });\n              this.fillType7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 128\n              });\n              /* pie */\n\n              this.pie1 = this.pie1 || this.primaryColor;\n              this.pie2 = this.pie2 || this.secondaryColor;\n              this.pie3 = this.pie3 || this.tertiaryColor;\n              this.pie4 = this.pie4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                l: -30\n              });\n              this.pie5 = this.pie5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                l: -30\n              });\n              this.pie6 = this.pie6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor, {\n                h: +40,\n                l: -40\n              });\n              this.pie7 = this.pie7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: +60,\n                l: -10\n              });\n              this.pie8 = this.pie8 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -60,\n                l: -10\n              });\n              this.pie9 = this.pie9 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 120,\n                l: 0\n              });\n              this.pie10 = this.pie10 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: +60,\n                l: -50\n              });\n              this.pie11 = this.pie11 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -60,\n                l: -50\n              });\n              this.pie12 = this.pie12 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 120,\n                l: -50\n              });\n              this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n              this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n              this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n              this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n              this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n              this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n              this.pieStrokeColor = this.pieStrokeColor || 'black';\n              this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n              this.pieOpacity = this.pieOpacity || '0.7';\n              /* requirement-diagram */\n\n              this.requirementBackground = this.requirementBackground || this.primaryColor;\n              this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n              this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n              this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n              this.relationColor = this.relationColor || this.lineColor;\n              this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;\n              this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n            }\n          }, {\n            key: \"calculate\",\n            value: function calculate(overrides) {\n              var _this = this;\n              if (_typeof(overrides) !== 'object') {\n                // Calculate colors form base colors\n                this.updateColors();\n                return;\n              }\n              var keys = Object.keys(overrides); // Copy values from overrides, this is mainly for base colors\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              }); // Calculate colors form base colors\n\n              this.updateColors(); // Copy values from overrides again in case of an override of derived value\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              });\n            }\n          }]);\n          return Theme;\n        }();\n        var getThemeVariables = function getThemeVariables(userOverrides) {\n          var theme = new Theme();\n          theme.calculate(userOverrides);\n          return theme;\n        };\n\n        /***/\n      }),\n      /***/\"./src/themes/theme-helpers.js\": (\n      /*!*************************************!*\\\n        !*** ./src/themes/theme-helpers.js ***!\n        \\*************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"mkBorder\": () => (/* binding */mkBorder)\n          /* harmony export */\n        });\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! khroma */\"khroma\");\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(khroma__WEBPACK_IMPORTED_MODULE_0__);\n        var mkBorder = function mkBorder(col, darkMode) {\n          return darkMode ? (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(col, {\n            s: -40,\n            l: 10\n          }) : (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(col, {\n            s: -40,\n            l: -10\n          });\n        };\n\n        /***/\n      }),\n      /***/\"./src/themes/theme-neutral.js\": (\n      /*!*************************************!*\\\n        !*** ./src/themes/theme-neutral.js ***!\n        \\*************************************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"getThemeVariables\": () => (/* binding */getThemeVariables)\n          /* harmony export */\n        });\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! khroma */\"khroma\");\n        /* harmony import */\n        var khroma__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(khroma__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./theme-helpers */\"./src/themes/theme-helpers.js\");\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        function _defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        function _createClass(Constructor, protoProps, staticProps) {\n          if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) _defineProperties(Constructor, staticProps);\n          Object.defineProperty(Constructor, \"prototype\", {\n            writable: false\n          });\n          return Constructor;\n        }\n\n        // const Color = require ( 'khroma/dist/color' ).default\n        // Color.format.hex.stringify(Color.parse('hsl(210, 66.6666666667%, 95%)')); // => \"#EAF2FB\"\n\n        var Theme = /*#__PURE__*/function () {\n          function Theme() {\n            _classCallCheck(this, Theme);\n            this.primaryColor = '#eee';\n            this.contrast = '#707070';\n            this.secondaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast, 55);\n            this.background = '#ffffff'; // this.secondaryColor = adjust(this.primaryColor, { h: 120 });\n\n            this.tertiaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n              h: -160\n            });\n            this.primaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);\n            this.secondaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);\n            this.tertiaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode); // this.noteBorderColor = mkBorder(this.noteBkgColor, this.darkMode);\n\n            this.primaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);\n            this.secondaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);\n            this.tertiaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor);\n            this.lineColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);\n            this.textColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background); // this.altBackground = lighten(this.contrast, 55);\n\n            this.mainBkg = '#eee';\n            this.secondBkg = 'calculated';\n            this.lineColor = '#666';\n            this.border1 = '#999';\n            this.border2 = 'calculated';\n            this.note = '#ffa';\n            this.text = '#333';\n            this.critical = '#d42';\n            this.done = '#bbb';\n            this.arrowheadColor = '#333333';\n            this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n            this.fontSize = '16px';\n            /* Flowchart variables */\n\n            this.nodeBkg = 'calculated';\n            this.nodeBorder = 'calculated';\n            this.clusterBkg = 'calculated';\n            this.clusterBorder = 'calculated';\n            this.defaultLinkColor = 'calculated';\n            this.titleColor = 'calculated';\n            this.edgeLabelBackground = 'white';\n            /* Sequence Diagram variables */\n\n            this.actorBorder = 'calculated';\n            this.actorBkg = 'calculated';\n            this.actorTextColor = 'calculated';\n            this.actorLineColor = 'calculated';\n            this.signalColor = 'calculated';\n            this.signalTextColor = 'calculated';\n            this.labelBoxBkgColor = 'calculated';\n            this.labelBoxBorderColor = 'calculated';\n            this.labelTextColor = 'calculated';\n            this.loopTextColor = 'calculated';\n            this.noteBorderColor = 'calculated';\n            this.noteBkgColor = 'calculated';\n            this.noteTextColor = 'calculated';\n            this.activationBorderColor = '#666';\n            this.activationBkgColor = '#f4f4f4';\n            this.sequenceNumberColor = 'white';\n            /* Gantt chart variables */\n\n            this.sectionBkgColor = 'calculated';\n            this.altSectionBkgColor = 'white';\n            this.sectionBkgColor2 = 'calculated';\n            this.excludeBkgColor = '#eeeeee';\n            this.taskBorderColor = 'calculated';\n            this.taskBkgColor = 'calculated';\n            this.taskTextLightColor = 'white';\n            this.taskTextColor = 'calculated';\n            this.taskTextDarkColor = 'calculated';\n            this.taskTextOutsideColor = 'calculated';\n            this.taskTextClickableColor = '#003163';\n            this.activeTaskBorderColor = 'calculated';\n            this.activeTaskBkgColor = 'calculated';\n            this.gridColor = 'calculated';\n            this.doneTaskBkgColor = 'calculated';\n            this.doneTaskBorderColor = 'calculated';\n            this.critBkgColor = 'calculated';\n            this.critBorderColor = 'calculated';\n            this.todayLineColor = 'calculated';\n            /* state colors */\n\n            this.labelColor = 'black';\n            this.errorBkgColor = '#552222';\n            this.errorTextColor = '#552222';\n          }\n          _createClass(Theme, [{\n            key: \"updateColors\",\n            value: function updateColors() {\n              this.secondBkg = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast, 55);\n              this.border2 = this.contrast;\n              /* Flowchart variables */\n\n              this.nodeBkg = this.mainBkg;\n              this.nodeBorder = this.border1;\n              this.clusterBkg = this.secondBkg;\n              this.clusterBorder = this.border2;\n              this.defaultLinkColor = this.lineColor;\n              this.titleColor = this.text;\n              /* Sequence Diagram variables */\n\n              this.actorBorder = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1, 23);\n              this.actorBkg = this.mainBkg;\n              this.actorTextColor = this.text;\n              this.actorLineColor = this.lineColor;\n              this.signalColor = this.text;\n              this.signalTextColor = this.text;\n              this.labelBoxBkgColor = this.actorBkg;\n              this.labelBoxBorderColor = this.actorBorder;\n              this.labelTextColor = this.text;\n              this.loopTextColor = this.text;\n              this.noteBorderColor = '#999';\n              this.noteBkgColor = '#666';\n              this.noteTextColor = '#fff';\n              /* Gantt chart variables */\n\n              this.sectionBkgColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast, 30);\n              this.sectionBkgColor2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast, 30);\n              this.taskBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.contrast, 10);\n              this.taskBkgColor = this.contrast;\n              this.taskTextColor = this.taskTextLightColor;\n              this.taskTextDarkColor = this.text;\n              this.taskTextOutsideColor = this.taskTextDarkColor;\n              this.activeTaskBorderColor = this.taskBorderColor;\n              this.activeTaskBkgColor = this.mainBkg;\n              this.gridColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1, 30);\n              this.doneTaskBkgColor = this.done;\n              this.doneTaskBorderColor = this.lineColor;\n              this.critBkgColor = this.critical;\n              this.critBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.critBkgColor, 10);\n              this.todayLineColor = this.critBkgColor;\n              /* state colors */\n\n              this.transitionColor = this.transitionColor || '#000';\n              this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n              this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n              this.stateBkg = this.stateBkg || this.mainBkg;\n              this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n              this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n              this.altBackground = this.altBackground || '#f4f4f4';\n              this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n              this.stateBorder = this.stateBorder || '#000';\n              this.innerEndBackground = this.primaryBorderColor;\n              this.specialStateColor = '#222';\n              this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n              this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n              /* class */\n\n              this.classText = this.primaryTextColor;\n              /* journey */\n\n              this.fillType0 = this.primaryColor;\n              this.fillType1 = this.secondaryColor;\n              this.fillType2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 64\n              });\n              this.fillType3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 64\n              });\n              this.fillType4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: -64\n              });\n              this.fillType5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: -64\n              });\n              this.fillType6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {\n                h: 128\n              });\n              this.fillType7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {\n                h: 128\n              }); // /* pie */\n\n              this.pie1 = this.pie1 || '#F4F4F4';\n              this.pie2 = this.pie2 || '#555';\n              this.pie3 = this.pie3 || '#BBB';\n              this.pie4 = this.pie4 || '#777';\n              this.pie5 = this.pie5 || '#999';\n              this.pie6 = this.pie6 || '#DDD';\n              this.pie7 = this.pie7 || '#FFF';\n              this.pie8 = this.pie8 || '#DDD';\n              this.pie9 = this.pie9 || '#BBB';\n              this.pie10 = this.pie10 || '#999';\n              this.pie11 = this.pie11 || '#777';\n              this.pie12 = this.pie12 || '#555';\n              this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n              this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n              this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n              this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n              this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n              this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n              this.pieStrokeColor = this.pieStrokeColor || 'black';\n              this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n              this.pieOpacity = this.pieOpacity || '0.7'; // this.pie1 = this.pie1 || '#212529';\n              // this.pie2 = this.pie2 || '#343A40';\n              // this.pie3 = this.pie3 || '#495057';\n              // this.pie4 = this.pie4 || '#6C757D';\n              // this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -10 });\n              // this.pie6 = this.pie6 || adjust(this.tertiaryColor, { l: -10 });\n              // this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -10 });\n              // this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -10 });\n              // this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: 0 });\n              // this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -20 });\n              // this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -60, l: -20 });\n              // this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -10 });\n\n              /* requirement-diagram */\n\n              this.requirementBackground = this.requirementBackground || this.primaryColor;\n              this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n              this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n              this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n              this.relationColor = this.relationColor || this.lineColor;\n              this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;\n              this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n            }\n          }, {\n            key: \"calculate\",\n            value: function calculate(overrides) {\n              var _this = this;\n              if (_typeof(overrides) !== 'object') {\n                // Calculate colors form base colors\n                this.updateColors();\n                return;\n              }\n              var keys = Object.keys(overrides); // Copy values from overrides, this is mainly for base colors\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              }); // Calculate colors form base colors\n\n              this.updateColors(); // Copy values from overrides again in case of an override of derived value\n\n              keys.forEach(function (k) {\n                _this[k] = overrides[k];\n              });\n            }\n          }]);\n          return Theme;\n        }();\n        var getThemeVariables = function getThemeVariables(userOverrides) {\n          var theme = new Theme();\n          theme.calculate(userOverrides);\n          return theme;\n        };\n\n        /***/\n      }),\n      /***/\"./src/utils.js\": (\n      /*!**********************!*\\\n        !*** ./src/utils.js ***!\n        \\**********************/\n      /***/\n      (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n        \"use strict\";\n\n        __webpack_require__.r(__webpack_exports__);\n        /* harmony export */\n        __webpack_require__.d(__webpack_exports__, {\n          /* harmony export */\"detectInit\": () => (/* binding */detectInit),\n          /* harmony export */\"detectDirective\": () => (/* binding */detectDirective),\n          /* harmony export */\"detectType\": () => (/* binding */detectType),\n          /* harmony export */\"isSubstringInArray\": () => (/* binding */isSubstringInArray),\n          /* harmony export */\"interpolateToCurve\": () => (/* binding */interpolateToCurve),\n          /* harmony export */\"formatUrl\": () => (/* binding */formatUrl),\n          /* harmony export */\"runFunc\": () => (/* binding */runFunc),\n          /* harmony export */\"getStylesFromArray\": () => (/* binding */getStylesFromArray),\n          /* harmony export */\"generateId\": () => (/* binding */generateId),\n          /* harmony export */\"random\": () => (/* binding */random),\n          /* harmony export */\"assignWithDepth\": () => (/* binding */assignWithDepth),\n          /* harmony export */\"getTextObj\": () => (/* binding */getTextObj),\n          /* harmony export */\"drawSimpleText\": () => (/* binding */drawSimpleText),\n          /* harmony export */\"wrapLabel\": () => (/* binding */wrapLabel),\n          /* harmony export */\"calculateTextHeight\": () => (/* binding */calculateTextHeight),\n          /* harmony export */\"calculateTextWidth\": () => (/* binding */calculateTextWidth),\n          /* harmony export */\"calculateTextDimensions\": () => (/* binding */calculateTextDimensions),\n          /* harmony export */\"calculateSvgSizeAttrs\": () => (/* binding */calculateSvgSizeAttrs),\n          /* harmony export */\"configureSvgSize\": () => (/* binding */configureSvgSize),\n          /* harmony export */\"initIdGeneratior\": () => (/* binding */initIdGeneratior),\n          /* harmony export */\"entityDecode\": () => (/* binding */entityDecode),\n          /* harmony export */\"directiveSanitizer\": () => (/* binding */directiveSanitizer),\n          /* harmony export */\"sanitizeCss\": () => (/* binding */sanitizeCss),\n          /* harmony export */\"default\": () => __WEBPACK_DEFAULT_EXPORT__\n          /* harmony export */\n        });\n        /* harmony import */\n        var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @braintree/sanitize-url */\"@braintree/sanitize-url\");\n        /* harmony import */\n        var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */\"d3\");\n        /* harmony import */\n        var d3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./diagrams/common/common */\"./src/diagrams/common/common.js\");\n        /* harmony import */\n        var _defaultConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./defaultConfig */\"./src/defaultConfig.js\");\n        /* harmony import */\n        var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */\"./src/logger.js\");\n        var _this = undefined;\n        function _classCallCheck(instance, Constructor) {\n          if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n          }\n        }\n        function _defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n        function _createClass(Constructor, protoProps, staticProps) {\n          if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) _defineProperties(Constructor, staticProps);\n          Object.defineProperty(Constructor, \"prototype\", {\n            writable: false\n          });\n          return Constructor;\n        }\n        function _createForOfIteratorHelper(o, allowArrayLike) {\n          var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n          if (!it) {\n            if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n              if (it) o = it;\n              var i = 0;\n              var F = function F() {};\n              return {\n                s: F,\n                n: function n() {\n                  if (i >= o.length) return {\n                    done: true\n                  };\n                  return {\n                    done: false,\n                    value: o[i++]\n                  };\n                },\n                e: function e(_e) {\n                  throw _e;\n                },\n                f: F\n              };\n            }\n            throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n          }\n          var normalCompletion = true,\n            didErr = false,\n            err;\n          return {\n            s: function s() {\n              it = it.call(o);\n            },\n            n: function n() {\n              var step = it.next();\n              normalCompletion = step.done;\n              return step;\n            },\n            e: function e(_e2) {\n              didErr = true;\n              err = _e2;\n            },\n            f: function f() {\n              try {\n                if (!normalCompletion && it.return != null) it.return();\n              } finally {\n                if (didErr) throw err;\n              }\n            }\n          };\n        }\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n            return typeof obj;\n          } : function (obj) {\n            return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n          }, _typeof(obj);\n        }\n        function _toConsumableArray(arr) {\n          return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n        }\n        function _nonIterableSpread() {\n          throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n        function _unsupportedIterableToArray(o, minLen) {\n          if (!o) return;\n          if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n          var n = Object.prototype.toString.call(o).slice(8, -1);\n          if (n === \"Object\" && o.constructor) n = o.constructor.name;\n          if (n === \"Map\" || n === \"Set\") return Array.from(o);\n          if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n        }\n        function _iterableToArray(iter) {\n          if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n        }\n        function _arrayWithoutHoles(arr) {\n          if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n        }\n        function _arrayLikeToArray(arr, len) {\n          if (len == null || len > arr.length) len = arr.length;\n          for (var i = 0, arr2 = new Array(len); i < len; i++) {\n            arr2[i] = arr[i];\n          }\n          return arr2;\n        }\n\n        // Effectively an enum of the supported curve types, accessible by name\n\n        var d3CurveTypes = {\n          curveBasis: d3__WEBPACK_IMPORTED_MODULE_1__.curveBasis,\n          curveBasisClosed: d3__WEBPACK_IMPORTED_MODULE_1__.curveBasisClosed,\n          curveBasisOpen: d3__WEBPACK_IMPORTED_MODULE_1__.curveBasisOpen,\n          curveLinear: d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear,\n          curveLinearClosed: d3__WEBPACK_IMPORTED_MODULE_1__.curveLinearClosed,\n          curveMonotoneX: d3__WEBPACK_IMPORTED_MODULE_1__.curveMonotoneX,\n          curveMonotoneY: d3__WEBPACK_IMPORTED_MODULE_1__.curveMonotoneY,\n          curveNatural: d3__WEBPACK_IMPORTED_MODULE_1__.curveNatural,\n          curveStep: d3__WEBPACK_IMPORTED_MODULE_1__.curveStep,\n          curveStepAfter: d3__WEBPACK_IMPORTED_MODULE_1__.curveStepAfter,\n          curveStepBefore: d3__WEBPACK_IMPORTED_MODULE_1__.curveStepBefore\n        };\n        var directive = /[%]{2}[{]\\s*(?:(?:(\\w+)\\s*:|(\\w+))\\s*(?:(?:(\\w+))|((?:(?![}][%]{2}).|\\r?\\n)*))?\\s*)(?:[}][%]{2})?/gi;\n        var directiveWithoutOpen = /\\s*(?:(?:(\\w+)(?=:):|(\\w+))\\s*(?:(?:(\\w+))|((?:(?![}][%]{2}).|\\r?\\n)*))?\\s*)(?:[}][%]{2})?/gi;\n        var anyComment = /\\s*%%.*\\n/gm;\n        /**\n         * @function detectInit Detects the init config object from the text\n         *\n         *   ```mermaid\n         *   %%{init: {\"theme\": \"debug\", \"logLevel\": 1 }}%%\n         *   graph LR\n         *    a-->b\n         *    b-->c\n         *    c-->d\n         *    d-->e\n         *    e-->f\n         *    f-->g\n         *    g-->h\n         * ```\n         *\n         *   Or\n         *\n         *   ```mermaid\n         *   %%{initialize: {\"theme\": \"dark\", logLevel: \"debug\" }}%%\n         *   graph LR\n         *    a-->b\n         *    b-->c\n         *    c-->d\n         *    d-->e\n         *    e-->f\n         *    f-->g\n         *    g-->h\n         * ```\n         * @param {string} text The text defining the graph\n         * @param {any} cnf\n         * @returns {object} The json object representing the init passed to mermaid.initialize()\n         */\n\n        var detectInit = function detectInit(text, cnf) {\n          var inits = detectDirective(text, /(?:init\\b)|(?:initialize\\b)/);\n          var results = {};\n          if (Array.isArray(inits)) {\n            var args = inits.map(function (init) {\n              return init.args;\n            });\n            directiveSanitizer(args);\n            results = assignWithDepth(results, _toConsumableArray(args));\n          } else {\n            results = inits.args;\n          }\n          if (results) {\n            var type = detectType(text, cnf);\n            ['config'].forEach(function (prop) {\n              if (typeof results[prop] !== 'undefined') {\n                if (type === 'flowchart-v2') {\n                  type = 'flowchart';\n                }\n                results[type] = results[prop];\n                delete results[prop];\n              }\n            });\n          } // Todo: refactor this, these results are never used\n\n          return results;\n        };\n        /**\n         * @function detectDirective Detects the directive from the text. Text can be single line or\n         *   multiline. If type is null or omitted the first directive encountered in text will be returned\n         *\n         *   ```mermaid\n         *   graph LR\n         *    %%{somedirective}%%\n         *    a-->b\n         *    b-->c\n         *    c-->d\n         *    d-->e\n         *    e-->f\n         *    f-->g\n         *    g-->h\n         * ```\n         * @param {string} text The text defining the graph\n         * @param {string | RegExp} type The directive to return (default: null)\n         * @returns {object | Array} An object or Array representing the directive(s): { type: string, args:\n         *   object|null } matched by the input type if a single directive was found, that directive object\n         *   will be returned.\n         */\n\n        var detectDirective = function detectDirective(text) {\n          var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n          try {\n            var commentWithoutDirectives = new RegExp(\"[%]{2}(?![{]\".concat(directiveWithoutOpen.source, \")(?=[}][%]{2}).*\\n\"), 'ig');\n            text = text.trim().replace(commentWithoutDirectives, '').replace(/'/gm, '\"');\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"Detecting diagram directive\".concat(type !== null ? ' type:' + type : '', \" based on the text:\").concat(text));\n            var match,\n              result = [];\n            while ((match = directive.exec(text)) !== null) {\n              // This is necessary to avoid infinite loops with zero-width matches\n              if (match.index === directive.lastIndex) {\n                directive.lastIndex++;\n              }\n              if (match && !type || type && match[1] && match[1].match(type) || type && match[2] && match[2].match(type)) {\n                var _type = match[1] ? match[1] : match[2];\n                var args = match[3] ? match[3].trim() : match[4] ? JSON.parse(match[4].trim()) : null;\n                result.push({\n                  type: _type,\n                  args: args\n                });\n              }\n            }\n            if (result.length === 0) {\n              result.push({\n                type: text,\n                args: null\n              });\n            }\n            return result.length === 1 ? result[0] : result;\n          } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.log.error(\"ERROR: \".concat(error.message, \" - Unable to parse directive\\n      \").concat(type !== null ? ' type:' + type : '', \" based on the text:\").concat(text));\n            return {\n              type: null,\n              args: null\n            };\n          }\n        };\n        /**\n         * @function detectType Detects the type of the graph text. Takes into consideration the possible\n         *   existence of an %%init directive\n         *\n         *   ```mermaid\n         *   %%{initialize: {\"startOnLoad\": true, logLevel: \"fatal\" }}%%\n         *   graph LR\n         *    a-->b\n         *    b-->c\n         *    c-->d\n         *    d-->e\n         *    e-->f\n         *    f-->g\n         *    g-->h\n         * ```\n         * @param {string} text The text defining the graph\n         * @param {{\n         *   class: { defaultRenderer: string } | undefined;\n         *   state: { defaultRenderer: string } | undefined;\n         *   flowchart: { defaultRenderer: string } | undefined;\n         * }} [cnf]\n         * @returns {string} A graph definition key\n         */\n\n        var detectType = function detectType(text, cnf) {\n          text = text.replace(directive, '').replace(anyComment, '\\n');\n          if (text.match(/^\\s*sequenceDiagram/)) {\n            return 'sequence';\n          }\n          if (text.match(/^\\s*gantt/)) {\n            return 'gantt';\n          }\n          if (text.match(/^\\s*classDiagram-v2/)) {\n            return 'classDiagram';\n          }\n          if (text.match(/^\\s*classDiagram/)) {\n            if (cnf && cnf.class && cnf.class.defaultRenderer === 'dagre-wrapper') return 'classDiagram';\n            return 'class';\n          }\n          if (text.match(/^\\s*stateDiagram-v2/)) {\n            return 'stateDiagram';\n          }\n          if (text.match(/^\\s*stateDiagram/)) {\n            if (cnf && cnf.class && cnf.state.defaultRenderer === 'dagre-wrapper') return 'stateDiagram';\n            return 'state';\n          }\n          if (text.match(/^\\s*gitGraph/)) {\n            return 'git';\n          }\n          if (text.match(/^\\s*flowchart/)) {\n            return 'flowchart-v2';\n          }\n          if (text.match(/^\\s*info/)) {\n            return 'info';\n          }\n          if (text.match(/^\\s*pie/)) {\n            return 'pie';\n          }\n          if (text.match(/^\\s*erDiagram/)) {\n            return 'er';\n          }\n          if (text.match(/^\\s*journey/)) {\n            return 'journey';\n          }\n          if (text.match(/^\\s*requirement/) || text.match(/^\\s*requirementDiagram/)) {\n            return 'requirement';\n          }\n          if (cnf && cnf.flowchart && cnf.flowchart.defaultRenderer === 'dagre-wrapper') return 'flowchart-v2';\n          return 'flowchart';\n        };\n        /**\n         * Caches results of functions based on input\n         *\n         * @param {Function} fn Function to run\n         * @param {Function} resolver Function that resolves to an ID given arguments the `fn` takes\n         * @returns {Function} An optimized caching function\n         */\n\n        var memoize = function memoize(fn, resolver) {\n          var cache = {};\n          return function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            var n = resolver ? resolver.apply(_this, args) : args[0];\n            if (n in cache) {\n              return cache[n];\n            } else {\n              var result = fn.apply(void 0, args);\n              cache[n] = result;\n              return result;\n            }\n          };\n        };\n        /**\n         * @function isSubstringInArray Detects whether a substring in present in a given array\n         * @param {string} str The substring to detect\n         * @param {Array} arr The array to search\n         * @returns {number} The array index containing the substring or -1 if not present\n         */\n\n        var isSubstringInArray = function isSubstringInArray(str, arr) {\n          for (var i = 0; i < arr.length; i++) {\n            if (arr[i].match(str)) return i;\n          }\n          return -1;\n        };\n        /**\n         * Returns a d3 curve given a curve name\n         *\n         * @param {string | undefined} interpolate The interpolation name\n         * @param {any} defaultCurve The default curve to return\n         * @returns {import('d3-shape').CurveFactory} The curve factory to use\n         */\n\n        var interpolateToCurve = function interpolateToCurve(interpolate, defaultCurve) {\n          if (!interpolate) {\n            return defaultCurve;\n          }\n          var curveName = \"curve\".concat(interpolate.charAt(0).toUpperCase() + interpolate.slice(1));\n          return d3CurveTypes[curveName] || defaultCurve;\n        };\n        /**\n         * Formats a URL string\n         *\n         * @param {string} linkStr String of the URL\n         * @param {{ securityLevel: string }} config Configuration passed to MermaidJS\n         * @returns {string | undefined} The formatted URL\n         */\n\n        var formatUrl = function formatUrl(linkStr, config) {\n          var url = linkStr.trim();\n          if (url) {\n            if (config.securityLevel !== 'loose') {\n              return (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(url);\n            }\n            return url;\n          }\n        };\n        /**\n         * Runs a function\n         *\n         * @param {string} functionName A dot seperated path to the function relative to the `window`\n         * @param {...any} params Parameters to pass to the function\n         */\n\n        var runFunc = function runFunc(functionName) {\n          var _obj;\n          var arrPaths = functionName.split('.');\n          var len = arrPaths.length - 1;\n          var fnName = arrPaths[len];\n          var obj = window;\n          for (var i = 0; i < len; i++) {\n            obj = obj[arrPaths[i]];\n            if (!obj) return;\n          }\n          for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            params[_key2 - 1] = arguments[_key2];\n          }\n          (_obj = obj)[fnName].apply(_obj, params);\n        };\n        /**\n         * @typedef {object} Point A (x, y) point\n         * @property {number} x The x value\n         * @property {number} y The y value\n         */\n\n        /**\n         * Finds the distance between two points using the Distance Formula\n         *\n         * @param {Point} p1 The first point\n         * @param {Point} p2 The second point\n         * @returns {number} The distance\n         */\n\n        var distance = function distance(p1, p2) {\n          return p1 && p2 ? Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2)) : 0;\n        };\n        /**\n         * @param {Point[]} points List of points\n         * @returns {Point}\n         * @todo Give this a description\n         */\n\n        var traverseEdge = function traverseEdge(points) {\n          var prevPoint;\n          var totalDistance = 0;\n          points.forEach(function (point) {\n            totalDistance += distance(point, prevPoint);\n            prevPoint = point;\n          }); // Traverse half of total distance along points\n\n          var remainingDistance = totalDistance / 2;\n          var center = undefined;\n          prevPoint = undefined;\n          points.forEach(function (point) {\n            if (prevPoint && !center) {\n              var vectorDistance = distance(point, prevPoint);\n              if (vectorDistance < remainingDistance) {\n                remainingDistance -= vectorDistance;\n              } else {\n                // The point is remainingDistance from prevPoint in the vector between prevPoint and point\n                // Calculate the coordinates\n                var distanceRatio = remainingDistance / vectorDistance;\n                if (distanceRatio <= 0) center = prevPoint;\n                if (distanceRatio >= 1) center = {\n                  x: point.x,\n                  y: point.y\n                };\n                if (distanceRatio > 0 && distanceRatio < 1) {\n                  center = {\n                    x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\n                    y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y\n                  };\n                }\n              }\n            }\n            prevPoint = point;\n          });\n          return center;\n        };\n        /**\n         * Alias for `traverseEdge`\n         *\n         * @param {Point[]} points List of points\n         * @returns {Point} Return result of `transverseEdge`\n         */\n\n        var calcLabelPosition = function calcLabelPosition(points) {\n          return traverseEdge(points);\n        };\n        var calcCardinalityPosition = function calcCardinalityPosition(isRelationTypePresent, points, initialPosition) {\n          var prevPoint;\n          var totalDistance = 0; // eslint-disable-line\n\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('our points', points);\n          if (points[0] !== initialPosition) {\n            points = points.reverse();\n          }\n          points.forEach(function (point) {\n            totalDistance += distance(point, prevPoint);\n            prevPoint = point;\n          }); // Traverse only 25 total distance along points to find cardinality point\n\n          var distanceToCardinalityPoint = 25;\n          var remainingDistance = distanceToCardinalityPoint;\n          var center;\n          prevPoint = undefined;\n          points.forEach(function (point) {\n            if (prevPoint && !center) {\n              var vectorDistance = distance(point, prevPoint);\n              if (vectorDistance < remainingDistance) {\n                remainingDistance -= vectorDistance;\n              } else {\n                // The point is remainingDistance from prevPoint in the vector between prevPoint and point\n                // Calculate the coordinates\n                var distanceRatio = remainingDistance / vectorDistance;\n                if (distanceRatio <= 0) center = prevPoint;\n                if (distanceRatio >= 1) center = {\n                  x: point.x,\n                  y: point.y\n                };\n                if (distanceRatio > 0 && distanceRatio < 1) {\n                  center = {\n                    x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\n                    y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y\n                  };\n                }\n              }\n            }\n            prevPoint = point;\n          }); // if relation is present (Arrows will be added), change cardinality point off-set distance (d)\n\n          var d = isRelationTypePresent ? 10 : 5; //Calculate Angle for x and y axis\n\n          var angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);\n          var cardinalityPosition = {\n            x: 0,\n            y: 0\n          }; //Calculation cardinality position using angle, center point on the line/curve but pendicular and with offset-distance\n\n          cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;\n          cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;\n          return cardinalityPosition;\n        };\n        /**\n         * Position ['start_left', 'start_right', 'end_left', 'end_right']\n         *\n         * @param {any} terminalMarkerSize\n         * @param {any} position\n         * @param {any} _points\n         * @returns {any}\n         */\n\n        var calcTerminalLabelPosition = function calcTerminalLabelPosition(terminalMarkerSize, position, _points) {\n          // Todo looking to faster cloning method\n          var points = JSON.parse(JSON.stringify(_points));\n          var prevPoint;\n          var totalDistance = 0; // eslint-disable-line\n\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.info('our points', points);\n          if (position !== 'start_left' && position !== 'start_right') {\n            points = points.reverse();\n          }\n          points.forEach(function (point) {\n            totalDistance += distance(point, prevPoint);\n            prevPoint = point;\n          }); // Traverse only 25 total distance along points to find cardinality point\n\n          var distanceToCardinalityPoint = 25 + terminalMarkerSize;\n          var remainingDistance = distanceToCardinalityPoint;\n          var center;\n          prevPoint = undefined;\n          points.forEach(function (point) {\n            if (prevPoint && !center) {\n              var vectorDistance = distance(point, prevPoint);\n              if (vectorDistance < remainingDistance) {\n                remainingDistance -= vectorDistance;\n              } else {\n                // The point is remainingDistance from prevPoint in the vector between prevPoint and point\n                // Calculate the coordinates\n                var distanceRatio = remainingDistance / vectorDistance;\n                if (distanceRatio <= 0) center = prevPoint;\n                if (distanceRatio >= 1) center = {\n                  x: point.x,\n                  y: point.y\n                };\n                if (distanceRatio > 0 && distanceRatio < 1) {\n                  center = {\n                    x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\n                    y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y\n                  };\n                }\n              }\n            }\n            prevPoint = point;\n          }); // if relation is present (Arrows will be added), change cardinality point off-set distance (d)\n\n          var d = 10 + terminalMarkerSize * 0.5; //Calculate Angle for x and y axis\n\n          var angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);\n          var cardinalityPosition = {\n            x: 0,\n            y: 0\n          }; //Calculation cardinality position using angle, center point on the line/curve but pendicular and with offset-distance\n\n          cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;\n          cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;\n          if (position === 'start_left') {\n            cardinalityPosition.x = Math.sin(angle + Math.PI) * d + (points[0].x + center.x) / 2;\n            cardinalityPosition.y = -Math.cos(angle + Math.PI) * d + (points[0].y + center.y) / 2;\n          }\n          if (position === 'end_right') {\n            cardinalityPosition.x = Math.sin(angle - Math.PI) * d + (points[0].x + center.x) / 2 - 5;\n            cardinalityPosition.y = -Math.cos(angle - Math.PI) * d + (points[0].y + center.y) / 2 - 5;\n          }\n          if (position === 'end_left') {\n            cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2 - 5;\n            cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2 - 5;\n          }\n          return cardinalityPosition;\n        };\n        /**\n         * Gets styles from an array of declarations\n         *\n         * @param {string[]} arr Declarations\n         * @returns {{ style: string; labelStyle: string }} The styles grouped as strings\n         */\n\n        var getStylesFromArray = function getStylesFromArray(arr) {\n          var style = '';\n          var labelStyle = '';\n          for (var i = 0; i < arr.length; i++) {\n            if (typeof arr[i] !== 'undefined') {\n              // add text properties to label style definition\n              if (arr[i].startsWith('color:') || arr[i].startsWith('text-align:')) {\n                labelStyle = labelStyle + arr[i] + ';';\n              } else {\n                style = style + arr[i] + ';';\n              }\n            }\n          }\n          return {\n            style: style,\n            labelStyle: labelStyle\n          };\n        };\n        var cnt = 0;\n        var generateId = function generateId() {\n          cnt++;\n          return 'id-' + Math.random().toString(36).substr(2, 12) + '-' + cnt;\n        };\n        /**\n         * @param {any} length\n         * @returns {any}\n         */\n\n        function makeid(length) {\n          var result = '';\n          var characters = '0123456789abcdef';\n          var charactersLength = characters.length;\n          for (var i = 0; i < length; i++) {\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\n          }\n          return result;\n        }\n        var random = function random(options) {\n          return makeid(options.length);\n        };\n        /**\n         * @function assignWithDepth Extends the functionality of {@link ObjectConstructor.assign} with the\n         *   ability to merge arbitrary-depth objects For each key in src with path `k` (recursively)\n         *   performs an Object.assign(dst[`k`], src[`k`]) with a slight change from the typical handling of\n         *   undefined for dst[`k`]: instead of raising an error, dst[`k`] is auto-initialized to {} and\n         *   effectively merged with src[`k`]<p> Additionally, dissimilar types will not clobber unless the\n         *   config.clobber parameter === true. Example:\n         *\n         *   ```js\n         *   let config_0 = { foo: { bar: 'bar' }, bar: 'foo' };\n         *   let config_1 = { foo: 'foo', bar: 'bar' };\n         *   let result = assignWithDepth(config_0, config_1);\n         *   console.log(result);\n         *   //-> result: { foo: { bar: 'bar' }, bar: 'bar' }\n         *   ```\n         *\n         *   Traditional Object.assign would have clobbered foo in config_0 with foo in config_1. If src is a\n         *   destructured array of objects and dst is not an array, assignWithDepth will apply each element\n         *   of src to dst in order.\n         * @param dst\n         * @param src\n         * @param config\n         * @param dst\n         * @param src\n         * @param config\n         * @param dst\n         * @param src\n         * @param config\n         * @param {any} dst - The destination of the merge\n         * @param {any} src - The source object(s) to merge into destination\n         * @param {{ depth: number; clobber: boolean }} [config={ depth: 2, clobber: false }] - Depth: depth\n         *   to traverse within src and dst for merging - clobber: should dissimilar types clobber (default:\n         *   { depth: 2, clobber: false }). Default is `{ depth: 2, clobber: false }`\n         * @returns {any}\n         */\n\n        var assignWithDepth = function assignWithDepth(dst, src, config) {\n          var _Object$assign = Object.assign({\n              depth: 2,\n              clobber: false\n            }, config),\n            depth = _Object$assign.depth,\n            clobber = _Object$assign.clobber;\n          if (Array.isArray(src) && !Array.isArray(dst)) {\n            src.forEach(function (s) {\n              return assignWithDepth(dst, s, config);\n            });\n            return dst;\n          } else if (Array.isArray(src) && Array.isArray(dst)) {\n            src.forEach(function (s) {\n              if (dst.indexOf(s) === -1) {\n                dst.push(s);\n              }\n            });\n            return dst;\n          }\n          if (typeof dst === 'undefined' || depth <= 0) {\n            if (dst !== undefined && dst !== null && _typeof(dst) === 'object' && _typeof(src) === 'object') {\n              return Object.assign(dst, src);\n            } else {\n              return src;\n            }\n          }\n          if (typeof src !== 'undefined' && _typeof(dst) === 'object' && _typeof(src) === 'object') {\n            Object.keys(src).forEach(function (key) {\n              if (_typeof(src[key]) === 'object' && (dst[key] === undefined || _typeof(dst[key]) === 'object')) {\n                if (dst[key] === undefined) {\n                  dst[key] = Array.isArray(src[key]) ? [] : {};\n                }\n                dst[key] = assignWithDepth(dst[key], src[key], {\n                  depth: depth - 1,\n                  clobber: clobber\n                });\n              } else if (clobber || _typeof(dst[key]) !== 'object' && _typeof(src[key]) !== 'object') {\n                dst[key] = src[key];\n              }\n            });\n          }\n          return dst;\n        };\n        var getTextObj = function getTextObj() {\n          return {\n            x: 0,\n            y: 0,\n            fill: undefined,\n            anchor: 'start',\n            style: '#666',\n            width: 100,\n            height: 100,\n            textMargin: 0,\n            rx: 0,\n            ry: 0,\n            valign: undefined\n          };\n        };\n        /**\n         * Adds text to an element\n         *\n         * @param {SVGElement} elem Element to add text to\n         * @param {{\n         *   text: string;\n         *   x: number;\n         *   y: number;\n         *   anchor: 'start' | 'middle' | 'end';\n         *   fontFamily: string;\n         *   fontSize: string | number;\n         *   fontWeight: string | number;\n         *   fill: string;\n         *   class: string | undefined;\n         *   textMargin: number;\n         * }} textData\n         * @returns {SVGTextElement} Text element with given styling and content\n         */\n\n        var drawSimpleText = function drawSimpleText(elem, textData) {\n          // Remove and ignore br:s\n          var nText = textData.text.replace(_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lineBreakRegex, ' ');\n          var textElem = elem.append('text');\n          textElem.attr('x', textData.x);\n          textElem.attr('y', textData.y);\n          textElem.style('text-anchor', textData.anchor);\n          textElem.style('font-family', textData.fontFamily);\n          textElem.style('font-size', textData.fontSize);\n          textElem.style('font-weight', textData.fontWeight);\n          textElem.attr('fill', textData.fill);\n          if (typeof textData.class !== 'undefined') {\n            textElem.attr('class', textData.class);\n          }\n          var span = textElem.append('tspan');\n          span.attr('x', textData.x + textData.textMargin * 2);\n          span.attr('fill', textData.fill);\n          span.text(nText);\n          return textElem;\n        };\n        var wrapLabel = memoize(function (label, maxWidth, config) {\n          if (!label) {\n            return label;\n          }\n          config = Object.assign({\n            fontSize: 12,\n            fontWeight: 400,\n            fontFamily: 'Arial',\n            joinWith: '<br/>'\n          }, config);\n          if (_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lineBreakRegex.test(label)) {\n            return label;\n          }\n          var words = label.split(' ');\n          var completedLines = [];\n          var nextLine = '';\n          words.forEach(function (word, index) {\n            var wordLength = calculateTextWidth(\"\".concat(word, \" \"), config);\n            var nextLineLength = calculateTextWidth(nextLine, config);\n            if (wordLength > maxWidth) {\n              var _breakString = breakString(word, maxWidth, '-', config),\n                hyphenatedStrings = _breakString.hyphenatedStrings,\n                remainingWord = _breakString.remainingWord;\n              completedLines.push.apply(completedLines, [nextLine].concat(_toConsumableArray(hyphenatedStrings)));\n              nextLine = remainingWord;\n            } else if (nextLineLength + wordLength >= maxWidth) {\n              completedLines.push(nextLine);\n              nextLine = word;\n            } else {\n              nextLine = [nextLine, word].filter(Boolean).join(' ');\n            }\n            var currentWord = index + 1;\n            var isLastWord = currentWord === words.length;\n            if (isLastWord) {\n              completedLines.push(nextLine);\n            }\n          });\n          return completedLines.filter(function (line) {\n            return line !== '';\n          }).join(config.joinWith);\n        }, function (label, maxWidth, config) {\n          return \"\".concat(label, \"-\").concat(maxWidth, \"-\").concat(config.fontSize, \"-\").concat(config.fontWeight, \"-\").concat(config.fontFamily, \"-\").concat(config.joinWith);\n        });\n        var breakString = memoize(function (word, maxWidth) {\n          var hyphenCharacter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '-';\n          var config = arguments.length > 3 ? arguments[3] : undefined;\n          config = Object.assign({\n            fontSize: 12,\n            fontWeight: 400,\n            fontFamily: 'Arial',\n            margin: 0\n          }, config);\n          var characters = word.split('');\n          var lines = [];\n          var currentLine = '';\n          characters.forEach(function (character, index) {\n            var nextLine = \"\".concat(currentLine).concat(character);\n            var lineWidth = calculateTextWidth(nextLine, config);\n            if (lineWidth >= maxWidth) {\n              var currentCharacter = index + 1;\n              var isLastLine = characters.length === currentCharacter;\n              var hyphenatedNextLine = \"\".concat(nextLine).concat(hyphenCharacter);\n              lines.push(isLastLine ? nextLine : hyphenatedNextLine);\n              currentLine = '';\n            } else {\n              currentLine = nextLine;\n            }\n          });\n          return {\n            hyphenatedStrings: lines,\n            remainingWord: currentLine\n          };\n        }, function (word, maxWidth) {\n          var hyphenCharacter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '-';\n          var config = arguments.length > 3 ? arguments[3] : undefined;\n          return \"\".concat(word, \"-\").concat(maxWidth, \"-\").concat(hyphenCharacter, \"-\").concat(config.fontSize, \"-\").concat(config.fontWeight, \"-\").concat(config.fontFamily);\n        });\n        /**\n         * This calculates the text's height, taking into account the wrap breaks and both the statically\n         * configured height, width, and the length of the text (in pixels).\n         *\n         * If the wrapped text text has greater height, we extend the height, so it's value won't overflow.\n         *\n         * @param {any} text The text to measure\n         * @param {any} config - The config for fontSize, fontFamily, and fontWeight all impacting the resulting size\n         * @returns {any} - The height for the given text\n         */\n\n        var calculateTextHeight = function calculateTextHeight(text, config) {\n          config = Object.assign({\n            fontSize: 12,\n            fontWeight: 400,\n            fontFamily: 'Arial',\n            margin: 15\n          }, config);\n          return calculateTextDimensions(text, config).height;\n        };\n        /**\n         * This calculates the width of the given text, font size and family.\n         *\n         * @param {any} text - The text to calculate the width of\n         * @param {any} config - The config for fontSize, fontFamily, and fontWeight all impacting the resulting size\n         * @returns {any} - The width for the given text\n         */\n\n        var calculateTextWidth = function calculateTextWidth(text, config) {\n          config = Object.assign({\n            fontSize: 12,\n            fontWeight: 400,\n            fontFamily: 'Arial'\n          }, config);\n          return calculateTextDimensions(text, config).width;\n        };\n        /**\n         * This calculates the dimensions of the given text, font size, font family, font weight, and margins.\n         *\n         * @param {any} text - The text to calculate the width of\n         * @param {any} config - The config for fontSize, fontFamily, fontWeight, and margin all impacting\n         *   the resulting size\n         * @returns - The width for the given text\n         */\n\n        var calculateTextDimensions = memoize(function (text, config) {\n          config = Object.assign({\n            fontSize: 12,\n            fontWeight: 400,\n            fontFamily: 'Arial'\n          }, config);\n          var _config = config,\n            fontSize = _config.fontSize,\n            fontFamily = _config.fontFamily,\n            fontWeight = _config.fontWeight;\n          if (!text) {\n            return {\n              width: 0,\n              height: 0\n            };\n          } // We can't really know if the user supplied font family will render on the user agent;\n          // thus, we'll take the max width between the user supplied font family, and a default\n          // of sans-serif.\n\n          var fontFamilies = ['sans-serif', fontFamily];\n          var lines = text.split(_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__[\"default\"].lineBreakRegex);\n          var dims = [];\n          var body = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('body'); // We don't want to leak DOM elements - if a removal operation isn't available\n          // for any reason, do not continue.\n\n          if (!body.remove) {\n            return {\n              width: 0,\n              height: 0,\n              lineHeight: 0\n            };\n          }\n          var g = body.append('svg');\n          for (var _i = 0, _fontFamilies = fontFamilies; _i < _fontFamilies.length; _i++) {\n            var _fontFamily = _fontFamilies[_i];\n            var cheight = 0;\n            var dim = {\n              width: 0,\n              height: 0,\n              lineHeight: 0\n            };\n            var _iterator = _createForOfIteratorHelper(lines),\n              _step;\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var line = _step.value;\n                var textObj = getTextObj();\n                textObj.text = line;\n                var textElem = drawSimpleText(g, textObj).style('font-size', fontSize).style('font-weight', fontWeight).style('font-family', _fontFamily);\n                var bBox = (textElem._groups || textElem)[0][0].getBBox();\n                dim.width = Math.round(Math.max(dim.width, bBox.width));\n                cheight = Math.round(bBox.height);\n                dim.height += cheight;\n                dim.lineHeight = Math.round(Math.max(dim.lineHeight, cheight));\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n            dims.push(dim);\n          }\n          g.remove();\n          var index = isNaN(dims[1].height) || isNaN(dims[1].width) || isNaN(dims[1].lineHeight) || dims[0].height > dims[1].height && dims[0].width > dims[1].width && dims[0].lineHeight > dims[1].lineHeight ? 0 : 1;\n          return dims[index];\n        }, function (text, config) {\n          return \"\".concat(text, \"-\").concat(config.fontSize, \"-\").concat(config.fontWeight, \"-\").concat(config.fontFamily);\n        });\n        /**\n         * Applys d3 attributes\n         *\n         * @param {any} d3Elem D3 Element to apply the attributes onto\n         * @param {[string, string][]} attrs Object.keys equivalent format of key to value mapping of attributes\n         */\n\n        var d3Attrs = function d3Attrs(d3Elem, attrs) {\n          var _iterator2 = _createForOfIteratorHelper(attrs),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var attr = _step2.value;\n              d3Elem.attr(attr[0], attr[1]);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        };\n        /**\n         * Gives attributes for an SVG's size given arguments\n         *\n         * @param {number} height The height of the SVG\n         * @param {number} width The width of the SVG\n         * @param {boolean} useMaxWidth Whether or not to use max-width and set width to 100%\n         * @returns {Map<'height' | 'width' | 'style', string>} Attributes for the SVG\n         */\n\n        var calculateSvgSizeAttrs = function calculateSvgSizeAttrs(height, width, useMaxWidth) {\n          var attrs = new Map();\n          attrs.set('height', height);\n          if (useMaxWidth) {\n            attrs.set('width', '100%');\n            attrs.set('style', \"max-width: \".concat(width, \"px;\"));\n          } else {\n            attrs.set('width', width);\n          }\n          return attrs;\n        };\n        /**\n         * Applies attributes from `calculateSvgSizeAttrs`\n         *\n         * @param {SVGSVGElement} svgElem The SVG Element to configure\n         * @param {number} height The height of the SVG\n         * @param {number} width The width of the SVG\n         * @param {boolean} useMaxWidth Whether or not to use max-width and set width to 100%\n         */\n\n        var configureSvgSize = function configureSvgSize(svgElem, height, width, useMaxWidth) {\n          var attrs = calculateSvgSizeAttrs(height, width, useMaxWidth);\n          d3Attrs(svgElem, attrs);\n        };\n        var initIdGeneratior = /*#__PURE__*/function () {\n          function iterator(deterministic, seed) {\n            _classCallCheck(this, iterator);\n            this.deterministic = deterministic;\n            this.seed = seed;\n            this.count = seed ? seed.length : 0;\n          }\n          _createClass(iterator, [{\n            key: \"next\",\n            value: function next() {\n              if (!this.deterministic) return Date.now();\n              return this.count++;\n            }\n          }]);\n          return iterator;\n        }();\n        var decoder;\n        /**\n         * Decodes HTML, source: {@link https://github.com/shrpne/entity-decode/blob/v2.0.1/browser.js}\n         *\n         * @param {string} html HTML as a string\n         * @returns Unescaped HTML\n         */\n\n        var entityDecode = function entityDecode(html) {\n          decoder = decoder || document.createElement('div'); // Escape HTML before decoding for HTML Entities\n\n          html = escape(html).replace(/%26/g, '&').replace(/%23/g, '#').replace(/%3B/g, ';'); // decoding\n\n          decoder.innerHTML = html;\n          return unescape(decoder.textContent);\n        };\n        /**\n         * Sanitizes directive objects\n         *\n         * @param {object} args Directive's JSON\n         */\n\n        var directiveSanitizer = function directiveSanitizer(args) {\n          _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('directiveSanitizer called with', args);\n          if (_typeof(args) === 'object') {\n            // check for array\n            if (args.length) {\n              args.forEach(function (arg) {\n                return directiveSanitizer(arg);\n              });\n            } else {\n              // This is an object\n              Object.keys(args).forEach(function (key) {\n                _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('Checking key', key);\n                if (key.indexOf('__') === 0) {\n                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('sanitize deleting __ option', key);\n                  delete args[key];\n                }\n                if (key.indexOf('proto') >= 0) {\n                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('sanitize deleting proto option', key);\n                  delete args[key];\n                }\n                if (key.indexOf('constr') >= 0) {\n                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('sanitize deleting constr option', key);\n                  delete args[key];\n                }\n                if (key.indexOf('themeCSS') >= 0) {\n                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('sanitizing themeCss option');\n                  args[key] = sanitizeCss(args[key]);\n                }\n                if (_defaultConfig__WEBPACK_IMPORTED_MODULE_4__.configKeys.indexOf(key) < 0) {\n                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('sanitize deleting option', key);\n                  delete args[key];\n                } else {\n                  if (_typeof(args[key]) === 'object') {\n                    _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug('sanitize deleting object', key);\n                    directiveSanitizer(args[key]);\n                  }\n                }\n              });\n            }\n          }\n        };\n        var sanitizeCss = function sanitizeCss(str) {\n          var stringsearch = 'o';\n          var startCnt = (str.match(/\\{/g) || []).length;\n          var endCnt = (str.match(/\\}/g) || []).length;\n          if (startCnt !== endCnt) {\n            return '{ /* ERROR: Unbalanced CSS */ }';\n          } // Todo add more checks here\n\n          return str;\n        };\n        /* harmony default export */\n        const __WEBPACK_DEFAULT_EXPORT__ = {\n          assignWithDepth: assignWithDepth,\n          wrapLabel: wrapLabel,\n          calculateTextHeight: calculateTextHeight,\n          calculateTextWidth: calculateTextWidth,\n          calculateTextDimensions: calculateTextDimensions,\n          calculateSvgSizeAttrs: calculateSvgSizeAttrs,\n          configureSvgSize: configureSvgSize,\n          detectInit: detectInit,\n          detectDirective: detectDirective,\n          detectType: detectType,\n          isSubstringInArray: isSubstringInArray,\n          interpolateToCurve: interpolateToCurve,\n          calcLabelPosition: calcLabelPosition,\n          calcCardinalityPosition: calcCardinalityPosition,\n          calcTerminalLabelPosition: calcTerminalLabelPosition,\n          formatUrl: formatUrl,\n          getStylesFromArray: getStylesFromArray,\n          generateId: generateId,\n          random: random,\n          memoize: memoize,\n          runFunc: runFunc,\n          entityDecode: entityDecode,\n          initIdGeneratior: initIdGeneratior,\n          directiveSanitizer: directiveSanitizer,\n          sanitizeCss: sanitizeCss\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/path-browserify/index.js\": (\n      /*!***********************************************!*\\\n        !*** ./node_modules/path-browserify/index.js ***!\n        \\***********************************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        // 'path' module extracted from Node.js v8.11.1 (only the posix part)\n        // transplited with Babel\n\n        // Copyright Joyent, Inc. and other Node contributors.\n        //\n        // Permission is hereby granted, free of charge, to any person obtaining a\n        // copy of this software and associated documentation files (the\n        // \"Software\"), to deal in the Software without restriction, including\n        // without limitation the rights to use, copy, modify, merge, publish,\n        // distribute, sublicense, and/or sell copies of the Software, and to permit\n        // persons to whom the Software is furnished to do so, subject to the\n        // following conditions:\n        //\n        // The above copyright notice and this permission notice shall be included\n        // in all copies or substantial portions of the Software.\n        //\n        // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n        // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n        // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n        // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n        // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n        // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n        // USE OR OTHER DEALINGS IN THE SOFTWARE.\n        function assertPath(path) {\n          if (typeof path !== 'string') {\n            throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n          }\n        }\n\n        // Resolves . and .. elements in a path with directory names\n        function normalizeStringPosix(path, allowAboveRoot) {\n          var res = '';\n          var lastSegmentLength = 0;\n          var lastSlash = -1;\n          var dots = 0;\n          var code;\n          for (var i = 0; i <= path.length; ++i) {\n            if (i < path.length) code = path.charCodeAt(i);else if (code === 47 /*/*/) break;else code = 47 /*/*/;\n            if (code === 47 /*/*/) {\n              if (lastSlash === i - 1 || dots === 1) {\n                // NOOP\n              } else if (lastSlash !== i - 1 && dots === 2) {\n                if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n                  if (res.length > 2) {\n                    var lastSlashIndex = res.lastIndexOf('/');\n                    if (lastSlashIndex !== res.length - 1) {\n                      if (lastSlashIndex === -1) {\n                        res = '';\n                        lastSegmentLength = 0;\n                      } else {\n                        res = res.slice(0, lastSlashIndex);\n                        lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n                      }\n                      lastSlash = i;\n                      dots = 0;\n                      continue;\n                    }\n                  } else if (res.length === 2 || res.length === 1) {\n                    res = '';\n                    lastSegmentLength = 0;\n                    lastSlash = i;\n                    dots = 0;\n                    continue;\n                  }\n                }\n                if (allowAboveRoot) {\n                  if (res.length > 0) res += '/..';else res = '..';\n                  lastSegmentLength = 2;\n                }\n              } else {\n                if (res.length > 0) res += '/' + path.slice(lastSlash + 1, i);else res = path.slice(lastSlash + 1, i);\n                lastSegmentLength = i - lastSlash - 1;\n              }\n              lastSlash = i;\n              dots = 0;\n            } else if (code === 46 /*.*/ && dots !== -1) {\n              ++dots;\n            } else {\n              dots = -1;\n            }\n          }\n          return res;\n        }\n        function _format(sep, pathObject) {\n          var dir = pathObject.dir || pathObject.root;\n          var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n          if (!dir) {\n            return base;\n          }\n          if (dir === pathObject.root) {\n            return dir + base;\n          }\n          return dir + sep + base;\n        }\n        var posix = {\n          // path.resolve([from ...], to)\n          resolve: function resolve() {\n            var resolvedPath = '';\n            var resolvedAbsolute = false;\n            var cwd;\n            for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n              var path;\n              if (i >= 0) path = arguments[i];else {\n                if (cwd === undefined) cwd = process.cwd();\n                path = cwd;\n              }\n              assertPath(path);\n\n              // Skip empty entries\n              if (path.length === 0) {\n                continue;\n              }\n              resolvedPath = path + '/' + resolvedPath;\n              resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n            }\n\n            // At this point the path should be resolved to a full absolute path, but\n            // handle relative paths to be safe (might happen when process.cwd() fails)\n\n            // Normalize the path\n            resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n            if (resolvedAbsolute) {\n              if (resolvedPath.length > 0) return '/' + resolvedPath;else return '/';\n            } else if (resolvedPath.length > 0) {\n              return resolvedPath;\n            } else {\n              return '.';\n            }\n          },\n          normalize: function normalize(path) {\n            assertPath(path);\n            if (path.length === 0) return '.';\n            var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n            var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n            // Normalize the path\n            path = normalizeStringPosix(path, !isAbsolute);\n            if (path.length === 0 && !isAbsolute) path = '.';\n            if (path.length > 0 && trailingSeparator) path += '/';\n            if (isAbsolute) return '/' + path;\n            return path;\n          },\n          isAbsolute: function isAbsolute(path) {\n            assertPath(path);\n            return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n          },\n          join: function join() {\n            if (arguments.length === 0) return '.';\n            var joined;\n            for (var i = 0; i < arguments.length; ++i) {\n              var arg = arguments[i];\n              assertPath(arg);\n              if (arg.length > 0) {\n                if (joined === undefined) joined = arg;else joined += '/' + arg;\n              }\n            }\n            if (joined === undefined) return '.';\n            return posix.normalize(joined);\n          },\n          relative: function relative(from, to) {\n            assertPath(from);\n            assertPath(to);\n            if (from === to) return '';\n            from = posix.resolve(from);\n            to = posix.resolve(to);\n            if (from === to) return '';\n\n            // Trim any leading backslashes\n            var fromStart = 1;\n            for (; fromStart < from.length; ++fromStart) {\n              if (from.charCodeAt(fromStart) !== 47 /*/*/) break;\n            }\n            var fromEnd = from.length;\n            var fromLen = fromEnd - fromStart;\n\n            // Trim any leading backslashes\n            var toStart = 1;\n            for (; toStart < to.length; ++toStart) {\n              if (to.charCodeAt(toStart) !== 47 /*/*/) break;\n            }\n            var toEnd = to.length;\n            var toLen = toEnd - toStart;\n\n            // Compare paths to find the longest common path from root\n            var length = fromLen < toLen ? fromLen : toLen;\n            var lastCommonSep = -1;\n            var i = 0;\n            for (; i <= length; ++i) {\n              if (i === length) {\n                if (toLen > length) {\n                  if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n                    // We get here if `from` is the exact base path for `to`.\n                    // For example: from='/foo/bar'; to='/foo/bar/baz'\n                    return to.slice(toStart + i + 1);\n                  } else if (i === 0) {\n                    // We get here if `from` is the root\n                    // For example: from='/'; to='/foo'\n                    return to.slice(toStart + i);\n                  }\n                } else if (fromLen > length) {\n                  if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n                    // We get here if `to` is the exact base path for `from`.\n                    // For example: from='/foo/bar/baz'; to='/foo/bar'\n                    lastCommonSep = i;\n                  } else if (i === 0) {\n                    // We get here if `to` is the root.\n                    // For example: from='/foo'; to='/'\n                    lastCommonSep = 0;\n                  }\n                }\n                break;\n              }\n              var fromCode = from.charCodeAt(fromStart + i);\n              var toCode = to.charCodeAt(toStart + i);\n              if (fromCode !== toCode) break;else if (fromCode === 47 /*/*/) lastCommonSep = i;\n            }\n            var out = '';\n            // Generate the relative path based on the path difference between `to`\n            // and `from`\n            for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n              if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n                if (out.length === 0) out += '..';else out += '/..';\n              }\n            }\n\n            // Lastly, append the rest of the destination (`to`) path that comes after\n            // the common path parts\n            if (out.length > 0) return out + to.slice(toStart + lastCommonSep);else {\n              toStart += lastCommonSep;\n              if (to.charCodeAt(toStart) === 47 /*/*/) ++toStart;\n              return to.slice(toStart);\n            }\n          },\n          _makeLong: function _makeLong(path) {\n            return path;\n          },\n          dirname: function dirname(path) {\n            assertPath(path);\n            if (path.length === 0) return '.';\n            var code = path.charCodeAt(0);\n            var hasRoot = code === 47 /*/*/;\n            var end = -1;\n            var matchedSlash = true;\n            for (var i = path.length - 1; i >= 1; --i) {\n              code = path.charCodeAt(i);\n              if (code === 47 /*/*/) {\n                if (!matchedSlash) {\n                  end = i;\n                  break;\n                }\n              } else {\n                // We saw the first non-path separator\n                matchedSlash = false;\n              }\n            }\n            if (end === -1) return hasRoot ? '/' : '.';\n            if (hasRoot && end === 1) return '//';\n            return path.slice(0, end);\n          },\n          basename: function basename(path, ext) {\n            if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n            assertPath(path);\n            var start = 0;\n            var end = -1;\n            var matchedSlash = true;\n            var i;\n            if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n              if (ext.length === path.length && ext === path) return '';\n              var extIdx = ext.length - 1;\n              var firstNonSlashEnd = -1;\n              for (i = path.length - 1; i >= 0; --i) {\n                var code = path.charCodeAt(i);\n                if (code === 47 /*/*/) {\n                  // If we reached a path separator that was not part of a set of path\n                  // separators at the end of the string, stop now\n                  if (!matchedSlash) {\n                    start = i + 1;\n                    break;\n                  }\n                } else {\n                  if (firstNonSlashEnd === -1) {\n                    // We saw the first non-path separator, remember this index in case\n                    // we need it if the extension ends up not matching\n                    matchedSlash = false;\n                    firstNonSlashEnd = i + 1;\n                  }\n                  if (extIdx >= 0) {\n                    // Try to match the explicit extension\n                    if (code === ext.charCodeAt(extIdx)) {\n                      if (--extIdx === -1) {\n                        // We matched the extension, so mark this as the end of our path\n                        // component\n                        end = i;\n                      }\n                    } else {\n                      // Extension does not match, so our result is the entire path\n                      // component\n                      extIdx = -1;\n                      end = firstNonSlashEnd;\n                    }\n                  }\n                }\n              }\n              if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n              return path.slice(start, end);\n            } else {\n              for (i = path.length - 1; i >= 0; --i) {\n                if (path.charCodeAt(i) === 47 /*/*/) {\n                  // If we reached a path separator that was not part of a set of path\n                  // separators at the end of the string, stop now\n                  if (!matchedSlash) {\n                    start = i + 1;\n                    break;\n                  }\n                } else if (end === -1) {\n                  // We saw the first non-path separator, mark this as the end of our\n                  // path component\n                  matchedSlash = false;\n                  end = i + 1;\n                }\n              }\n              if (end === -1) return '';\n              return path.slice(start, end);\n            }\n          },\n          extname: function extname(path) {\n            assertPath(path);\n            var startDot = -1;\n            var startPart = 0;\n            var end = -1;\n            var matchedSlash = true;\n            // Track the state of characters (if any) we see before our first dot and\n            // after any path separator we find\n            var preDotState = 0;\n            for (var i = path.length - 1; i >= 0; --i) {\n              var code = path.charCodeAt(i);\n              if (code === 47 /*/*/) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                  startPart = i + 1;\n                  break;\n                }\n                continue;\n              }\n              if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n              }\n              if (code === 46 /*.*/) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n              } else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n              }\n            }\n            if (startDot === -1 || end === -1 ||\n            // We saw a non-dot character immediately before the dot\n            preDotState === 0 ||\n            // The (right-most) trimmed path component is exactly '..'\n            preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n              return '';\n            }\n            return path.slice(startDot, end);\n          },\n          format: function format(pathObject) {\n            if (pathObject === null || typeof pathObject !== 'object') {\n              throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n            }\n            return _format('/', pathObject);\n          },\n          parse: function parse(path) {\n            assertPath(path);\n            var ret = {\n              root: '',\n              dir: '',\n              base: '',\n              ext: '',\n              name: ''\n            };\n            if (path.length === 0) return ret;\n            var code = path.charCodeAt(0);\n            var isAbsolute = code === 47 /*/*/;\n            var start;\n            if (isAbsolute) {\n              ret.root = '/';\n              start = 1;\n            } else {\n              start = 0;\n            }\n            var startDot = -1;\n            var startPart = 0;\n            var end = -1;\n            var matchedSlash = true;\n            var i = path.length - 1;\n\n            // Track the state of characters (if any) we see before our first dot and\n            // after any path separator we find\n            var preDotState = 0;\n\n            // Get non-dir info\n            for (; i >= start; --i) {\n              code = path.charCodeAt(i);\n              if (code === 47 /*/*/) {\n                // If we reached a path separator that was not part of a set of path\n                // separators at the end of the string, stop now\n                if (!matchedSlash) {\n                  startPart = i + 1;\n                  break;\n                }\n                continue;\n              }\n              if (end === -1) {\n                // We saw the first non-path separator, mark this as the end of our\n                // extension\n                matchedSlash = false;\n                end = i + 1;\n              }\n              if (code === 46 /*.*/) {\n                // If this is our first dot, mark it as the start of our extension\n                if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n              } else if (startDot !== -1) {\n                // We saw a non-dot and non-path separator before our dot, so we should\n                // have a good chance at having a non-empty extension\n                preDotState = -1;\n              }\n            }\n            if (startDot === -1 || end === -1 ||\n            // We saw a non-dot character immediately before the dot\n            preDotState === 0 ||\n            // The (right-most) trimmed path component is exactly '..'\n            preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n              if (end !== -1) {\n                if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n              }\n            } else {\n              if (startPart === 0 && isAbsolute) {\n                ret.name = path.slice(1, startDot);\n                ret.base = path.slice(1, end);\n              } else {\n                ret.name = path.slice(startPart, startDot);\n                ret.base = path.slice(startPart, end);\n              }\n              ret.ext = path.slice(startDot, end);\n            }\n            if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n            return ret;\n          },\n          sep: '/',\n          delimiter: ':',\n          win32: null,\n          posix: null\n        };\n        posix.posix = posix;\n        module.exports = posix;\n\n        /***/\n      }),\n      /***/\"@braintree/sanitize-url\": (\n      /*!******************************************!*\\\n        !*** external \"@braintree/sanitize-url\" ***!\n        \\******************************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"@braintree/sanitize-url\");\n\n        /***/\n      }),\n      /***/\"d3\": (\n      /*!*********************!*\\\n        !*** external \"d3\" ***!\n        \\*********************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"d3\");\n\n        /***/\n      }),\n      /***/\"dagre\": (\n      /*!************************!*\\\n        !*** external \"dagre\" ***!\n        \\************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"dagre\");\n\n        /***/\n      }),\n      /***/\"dagre-d3\": (\n      /*!***************************!*\\\n        !*** external \"dagre-d3\" ***!\n        \\***************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"dagre-d3\");\n\n        /***/\n      }),\n      /***/\"dagre-d3/lib/label/add-html-label.js\": (\n      /*!*******************************************************!*\\\n        !*** external \"dagre-d3/lib/label/add-html-label.js\" ***!\n        \\*******************************************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"dagre-d3/lib/label/add-html-label.js\");\n\n        /***/\n      }),\n      /***/\"dompurify\": (\n      /*!****************************!*\\\n        !*** external \"dompurify\" ***!\n        \\****************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"dompurify\");\n\n        /***/\n      }),\n      /***/\"graphlib\": (\n      /*!***************************!*\\\n        !*** external \"graphlib\" ***!\n        \\***************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"graphlib\");\n\n        /***/\n      }),\n      /***/\"khroma\": (\n      /*!*************************!*\\\n        !*** external \"khroma\" ***!\n        \\*************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"khroma\");\n\n        /***/\n      }),\n      /***/\"moment-mini\": (\n      /*!******************************!*\\\n        !*** external \"moment-mini\" ***!\n        \\******************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"moment-mini\");\n\n        /***/\n      }),\n      /***/\"stylis\": (\n      /*!*************************!*\\\n        !*** external \"stylis\" ***!\n        \\*************************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = require(\"stylis\");\n\n        /***/\n      }),\n      /***/\"?35ed\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?3c87\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?dbae\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?8ed1\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?2b40\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?c5f1\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?a3fa\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?ebf4\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?e940\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?a3b8\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"?0f62\": (\n      /*!********************!*\\\n        !*** fs (ignored) ***!\n        \\********************/\n      /***/\n      () => {\n\n        /* (ignored) */\n\n        /***/}),\n      /***/\"./package.json\": (\n      /*!**********************!*\\\n        !*** ./package.json ***!\n        \\**********************/\n      /***/\n      module => {\n        \"use strict\";\n\n        module.exports = JSON.parse('{\"name\":\"mermaid\",\"version\":\"8.14.0\",\"description\":\"Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.\",\"main\":\"dist/mermaid.core.js\",\"module\":\"dist/mermaid.esm.min.mjs\",\"exports\":{\".\":{\"require\":\"./dist/mermaid.core.js\",\"import\":\"./dist/mermaid.esm.min.mjs\"},\"./*\":\"./*\"},\"keywords\":[\"diagram\",\"markdown\",\"flowchart\",\"sequence diagram\",\"gantt\",\"class diagram\",\"git graph\"],\"scripts\":{\"build:development\":\"webpack --mode development --progress --color\",\"build:production\":\"webpack --mode production --progress --color\",\"build\":\"concurrently \\\\\"yarn build:development\\\\\" \\\\\"yarn build:production\\\\\"\",\"postbuild\":\"documentation build src/mermaidAPI.js src/config.js src/defaultConfig.js --shallow -f md --markdown-toc false > docs/Setup.md\",\"build:watch\":\"yarn build:development --watch\",\"release\":\"yarn build\",\"lint\":\"eslint ./ --ext js,html\",\"lint:fix\":\"yarn lint --fix\",\"e2e:depr\":\"yarn lint && jest e2e --config e2e/jest.config.js\",\"cypress\":\"percy exec -- cypress run\",\"e2e\":\"start-server-and-test dev http://localhost:9000/ cypress\",\"e2e-upd\":\"yarn lint && jest e2e -u --config e2e/jest.config.js\",\"dev\":\"webpack serve --config ./.webpack/webpack.config.e2e.babel.js\",\"test\":\"yarn lint && jest src/.*\",\"test:watch\":\"jest --watch src\",\"prepublishOnly\":\"yarn build && yarn test\",\"prepare\":\"husky install && yarn build\",\"pre-commit\":\"lint-staged\"},\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/knsv/mermaid\"},\"author\":\"Knut Sveidqvist\",\"license\":\"MIT\",\"standard\":{\"ignore\":[\"**/parser/*.js\",\"dist/**/*.js\",\"cypress/**/*.js\"],\"globals\":[\"page\"]},\"dependencies\":{\"@braintree/sanitize-url\":\"^3.1.0\",\"d3\":\"^7.0.0\",\"dagre\":\"^0.8.5\",\"dagre-d3\":\"^0.6.4\",\"dompurify\":\"2.3.5\",\"graphlib\":\"^2.1.8\",\"khroma\":\"^1.4.1\",\"moment-mini\":\"^2.24.0\",\"stylis\":\"^4.0.10\"},\"devDependencies\":{\"@babel/core\":\"^7.14.6\",\"@babel/eslint-parser\":\"^7.14.7\",\"@babel/preset-env\":\"^7.14.7\",\"@babel/register\":\"^7.14.5\",\"@commitlint/cli\":\"^16.0.0\",\"@commitlint/config-conventional\":\"^16.0.0\",\"@percy/cli\":\"^1.0.0-beta.58\",\"@percy/cypress\":\"^3.1.0\",\"@percy/migrate\":\"^0.11.0\",\"babel-jest\":\"^27.0.6\",\"babel-loader\":\"^8.2.2\",\"concurrently\":\"^7.0.0\",\"coveralls\":\"^3.0.2\",\"css-to-string-loader\":\"^0.1.3\",\"cypress\":\"9.4.1\",\"documentation\":\"13.2.0\",\"eslint\":\"^8.2.0\",\"eslint-config-prettier\":\"^8.3.0\",\"eslint-plugin-cypress\":\"^2.12.1\",\"eslint-plugin-html\":\"^6.2.0\",\"eslint-plugin-jest\":\"^26.0.0\",\"eslint-plugin-jsdoc\":\"^37.0.3\",\"eslint-plugin-markdown\":\"^2.2.1\",\"eslint-plugin-prettier\":\"^4.0.0\",\"husky\":\"^7.0.1\",\"identity-obj-proxy\":\"^3.0.0\",\"jest\":\"^27.0.6\",\"jison\":\"^0.4.18\",\"js-base64\":\"3.7.2\",\"lint-staged\":\"^12.1.2\",\"moment\":\"^2.23.0\",\"path-browserify\":\"^1.0.1\",\"prettier\":\"^2.3.2\",\"prettier-plugin-jsdoc\":\"^0.3.30\",\"start-server-and-test\":\"^1.12.6\",\"terser-webpack-plugin\":\"^5.2.4\",\"webpack\":\"^5.53.0\",\"webpack-cli\":\"^4.7.2\",\"webpack-dev-server\":\"^4.3.0\",\"webpack-merge\":\"^5.8.0\",\"webpack-node-externals\":\"^3.0.0\"},\"files\":[\"dist\"],\"sideEffects\":[\"**/*.css\",\"**/*.scss\"]}');\n\n        /***/\n      })\n\n      /******/\n    };\n    /************************************************************************/\n    /******/ // The module cache\n    /******/\n    var __webpack_module_cache__ = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n      /******/ // Check if module is in cache\n      /******/var cachedModule = __webpack_module_cache__[moduleId];\n      /******/\n      if (cachedModule !== undefined) {\n        /******/return cachedModule.exports;\n        /******/\n      }\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = __webpack_module_cache__[moduleId] = {\n        /******/id: moduleId,\n        /******/loaded: false,\n        /******/exports: {}\n        /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      __webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n      /******/\n      /******/ // Flag the module as loaded\n      /******/\n      module.loaded = true;\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = __webpack_module_cache__;\n    /******/\n    /************************************************************************/\n    /******/ /* webpack/runtime/compat get default export */\n    /******/\n    (() => {\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = module => {\n        /******/var getter = module && module.__esModule ? /******/() => module['default'] : /******/() => module;\n        /******/\n        __webpack_require__.d(getter, {\n          a: getter\n        });\n        /******/\n        return getter;\n        /******/\n      };\n      /******/\n    })();\n    /******/\n    /******/ /* webpack/runtime/define property getters */\n    /******/\n    (() => {\n      /******/ // define getter functions for harmony exports\n      /******/__webpack_require__.d = (exports, definition) => {\n        /******/for (var key in definition) {\n          /******/if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            /******/Object.defineProperty(exports, key, {\n              enumerable: true,\n              get: definition[key]\n            });\n            /******/\n          }\n          /******/\n        }\n        /******/\n      };\n      /******/\n    })();\n    /******/\n    /******/ /* webpack/runtime/hasOwnProperty shorthand */\n    /******/\n    (() => {\n      /******/__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n      /******/\n    })();\n    /******/\n    /******/ /* webpack/runtime/make namespace object */\n    /******/\n    (() => {\n      /******/ // define __esModule on exports\n      /******/__webpack_require__.r = exports => {\n        /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n    })();\n    /******/\n    /******/ /* webpack/runtime/node module decorator */\n    /******/\n    (() => {\n      /******/__webpack_require__.nmd = module => {\n        /******/module.paths = [];\n        /******/\n        if (!module.children) module.children = [];\n        /******/\n        return module;\n        /******/\n      };\n      /******/\n    })();\n    /******/\n    /************************************************************************/\n    /******/\n    /******/ // module cache are used so entry inlining is disabled\n    /******/ // startup\n    /******/ // Load entry module and return exports\n    /******/\n    var __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/mermaid.js\");\n    /******/\n    __webpack_exports__ = __webpack_exports__[\"default\"];\n    /******/\n    /******/\n    return __webpack_exports__;\n    /******/\n  })();\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","self","parser","o","k","v","l","length","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","$Ve","$Vf","$Vg","$Vh","$Vi","$Vj","$Vk","$Vl","$Vm","$Vn","$Vo","$Vp","$Vq","$Vr","$Vs","$Vt","$Vu","$Vv","$Vw","$Vx","$Vy","trace","yy","symbols_","terminals_","productions_","performAction","anonymous","yytext","yyleng","yylineno","yystate","$$","_$","$0","setDirection","parseDirective","trim","replace","$","addRelation","title","cleanupLabel","addClass","setCssClass","addMembers","addAnnotation","push","addMember","relation","relationTitle1","relationTitle2","id1","id2","type1","type2","lineType","relationType","AGGREGATION","EXTENSION","COMPOSITION","DEPENDENCY","LINE","DOTTED_LINE","setClickEvent","setTooltip","setLink","table","defaultActions","parseError","str","hash","recoverable","error","Error","parse","input","stack","tstack","vstack","lstack","recovering","TERROR","EOF","args","slice","call","arguments","lexer","Object","create","sharedState","prototype","hasOwnProperty","setInput","yylloc","yyloc","ranges","options","getPrototypeOf","popStack","n","lex","token","pop","Array","symbol","preErrorSymbol","state","action","a","r","yyval","p","len","newState","expected","errStr","showPosition","join","text","match","line","loc","first_line","last_line","first_column","last_column","range","apply","concat","_input","_more","_backtrack","done","matched","conditionStack","offset","ch","lines","unput","split","substr","oldLines","more","reject","backtrack_lexer","less","pastInput","past","upcomingInput","next","pre","c","test_match","indexed_rule","backup","matches","tempMatch","index","rules","_currentRules","i","flex","begin","condition","popState","conditions","topState","Math","abs","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","YYSTATE","Parser","main","commonjsMain","console","log","process","exit","source","__webpack_require__","readFileSync","normalize","s","argv","addEntity","addRelationship","addAttributes","attributeType","attributeName","attributeKeyType","attributeComment","cardA","relType","cardB","Cardinality","ZERO_OR_ONE","ZERO_OR_MORE","ONE_OR_MORE","ONLY_ONE","Identification","NON_IDENTIFYING","IDENTIFYING","$Vz","$VA","$VB","$VC","$VD","$VE","$VF","$VG","$VH","$VI","$VJ","$VK","$VL","$VM","$VN","$VO","$VP","$VQ","$VR","$VS","$VT","$VU","$VV","$VW","$VX","$VY","$VZ","$V_","$V$","$V01","$V11","$V21","$V31","$V41","$V51","$V61","$V71","$V81","$V91","$Va1","$Vb1","$Vc1","$Vd1","$Ve1","$Vf1","$Vg1","$Vh1","$Vi1","$Vj1","$Vk1","$Vl1","$Vm1","$Vn1","$Vo1","$Vp1","$Vq1","$Vr1","$Vs1","$Vt1","$Vu1","$Vv1","$Vw1","$Vx1","$Vy1","$Vz1","$VA1","$VB1","$VC1","$VD1","$VE1","nodes","addSubGraph","undefined","addLink","stmt","setClass","addVertex","fromEntries","inf","destructLink","type","stroke","updateLink","updateLinkInterpolate","value","firstGraph","setDateFormat","enableInclusiveEndDates","TopAxis","setAxisFormat","setExcludes","setIncludes","setTodayMarker","setTitle","addSection","addTask","setOptions","commit","branch","checkout","merge","reset","count","setInfo","setShowData","cleanupValue","addRequirement","setNewReqId","setNewReqText","setNewReqRisk","setNewReqVerifyMethod","RequirementType","REQUIREMENT","FUNCTIONAL_REQUIREMENT","INTERFACE_REQUIREMENT","PERFORMANCE_REQUIREMENT","PHYSICAL_REQUIREMENT","DESIGN_CONSTRAINT","RiskLevel","LOW_RISK","MED_RISK","HIGH_RISK","VerifyType","VERIFY_ANALYSIS","VERIFY_DEMONSTRATION","VERIFY_INSPECTION","VERIFY_TEST","addElement","setNewElementType","setNewElementDocRef","Relationships","CONTAINS","COPIES","DERIVES","SATISFIES","VERIFIES","REFINES","TRACES","description","parseMessage","enableSequenceNumbers","signalType","LINETYPE","ACTIVE_START","actor","ACTIVE_END","unshift","loopText","LOOP_START","LOOP_END","color","RECT_START","RECT_END","optText","OPT_START","OPT_END","altText","ALT_START","ALT_END","parText","PAR_START","PAR_END","PAR_AND","ALT_ELSE","placement","PLACEMENT","OVER","LEFTOF","RIGHTOF","from","to","msg","SOLID_OPEN","DOTTED_OPEN","SOLID","DOTTED","SOLID_CROSS","DOTTED_CROSS","SOLID_POINT","DOTTED_POINT","substring","setRootDoc","id","trimColon","state1","state2","doc","parts","getDividerId","note","position","defaultConfig","freeze","_defaultConfig__WEBPACK_IMPORTED_MODULE_0__","siteConfig","_utils__WEBPACK_IMPORTED_MODULE_1__","assignWithDepth","configFromInitialize","directives","currentConfig","updateCurrentConfig","siteCfg","_directives","cfg","sumOfDirectives","d","sanitize","theme","tmpConfigFromInitialize","themeVariables","_themes__WEBPACK_IMPORTED_MODULE_2__","getThemeVariables","setSiteConfig","conf","saveConfigFromInitilize","updateSiteConfig","getSiteConfig","setConfig","getConfig","keys","secure","forEach","key","_logger__WEBPACK_IMPORTED_MODULE_3__","debug","indexOf","_typeof","addDirective","directive","fontFamily","rect","parent","node","_logger__WEBPACK_IMPORTED_MODULE_1__","shapeSvg","insert","attr","class","label","appendChild","_createLabel__WEBPACK_IMPORTED_MODULE_2__","labelText","labelStyle","bbox","getBBox","_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__","evaluate","_config__WEBPACK_IMPORTED_MODULE_4__","flowchart","htmlLabels","div","children","dv","d3__WEBPACK_IMPORTED_MODULE_0__","select","getBoundingClientRect","width","height","padding","halfPadding","diff","JSON","stringify","style","rx","ry","x","y","rectBox","intersect","point","_intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__","noteGroup","roundedWithTitle","classes","innerRect","append","divider","shapes","clusterElems","insertCluster","elem","shape","getClusterTitleWidth","removeChild","clear","positionCluster","info","el","sanitizeTxt","txt","_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__","sanitizeText","_config__WEBPACK_IMPORTED_MODULE_2__","applyStyle","dom","styleFn","addHtmlLabel","fo","document","createElementNS","labelClass","isNode","html","createLabel","_vertexText","isTitle","vertexText","vertexNode","svgLabel","setAttribute","rows","isArray","j","tspan","setAttributeNS","textContent","__WEBPACK_DEFAULT_EXPORT__","edgeLabels","terminalLabels","insertEdgeLabel","edge","labelElement","_createLabel__WEBPACK_IMPORTED_MODULE_1__","edgeLabel","_diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__","_config__WEBPACK_IMPORTED_MODULE_3__","startLabelLeft","startLabelElement","startEdgeLabelLeft","inner","slBox","startLeft","setTerminalWidth","startLabelRight","_startLabelElement","startEdgeLabelRight","_inner","_slBox","startRight","endLabelLeft","endLabelElement","endEdgeLabelLeft","_inner2","_slBox2","endLeft","endLabelRight","_endLabelElement","endEdgeLabelRight","_inner3","_slBox3","endRight","positionEdgeLabel","paths","_logger__WEBPACK_IMPORTED_MODULE_4__","path","updatedPath","originalPath","pos","_utils__WEBPACK_IMPORTED_MODULE_5__","calcLabelPosition","_el","_x2","_y2","_pos","calcTerminalLabelPosition","arrowTypeStart","_el2","_x3","_y3","_pos2","_el3","_x4","_y4","_pos3","arrowTypeEnd","_el4","_x5","_y5","_pos4","outsideNode","dx","dy","w","h","intersection","outsidePoint","insidePoint","warn","Q","R","q","res","_q","_x","_y","cutPathAtIntersect","_points","boundryNode","points","lastPointOutside","isInside","inter","pointPresent","find","e","insertEdge","clusterDb","diagramType","graph","pointsHasChanged","tail","head","toCluster","fromCluster","reverse","lineData","filter","Number","isNaN","curve","curveBasis","lineFunction","strokeClasses","thickness","pattern","svgPath","url","arrowMarkerAbsolute","window","location","protocol","host","pathname","search","recursiveRender","_elem","diagramtype","parentCluster","_logger__WEBPACK_IMPORTED_MODULE_2__","graphlib__WEBPACK_IMPORTED_MODULE_1___default","json","write","dir","rankdir","edges","clusters","edgePaths","data","clusterData","setNode","setParent","clusterNode","newEl","_shapes_util__WEBPACK_IMPORTED_MODULE_3__","updateNodeBounds","_nodes__WEBPACK_IMPORTED_MODULE_4__","setNodeElem","_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__","findNonClusterChild","insertNode","name","_edges__WEBPACK_IMPORTED_MODULE_6__","dagre__WEBPACK_IMPORTED_MODULE_0___default","layout","sortNodesByHierarchy","positionNode","_clusters__WEBPACK_IMPORTED_MODULE_7__","render","markers","_markers__WEBPACK_IMPORTED_MODULE_8__","adjustClustersAndEdges","_intersect_node_js__WEBPACK_IMPORTED_MODULE_0___default","circle","_intersect_circle_js__WEBPACK_IMPORTED_MODULE_1__","ellipse","_intersect_ellipse_js__WEBPACK_IMPORTED_MODULE_2__","polygon","_intersect_polygon_js__WEBPACK_IMPORTED_MODULE_3__","_intersect_rect_js__WEBPACK_IMPORTED_MODULE_4__","intersectCircle","_intersect_ellipse__WEBPACK_IMPORTED_MODULE_0__","intersectEllipse","cx","cy","px","py","det","sqrt","intersectLine","p1","p2","q1","q2","a1","a2","b1","b2","c1","c2","r1","r2","r3","r4","denom","num","sameSign","intersectNode","intersectPolygon","polyPoints","x1","y1","intersections","minX","POSITIVE_INFINITY","minY","entry","min","left","top","_intersect_line__WEBPACK_IMPORTED_MODULE_0__","sort","pdx","pdy","distp","qdx","qdy","distq","intersectRect","sx","sy","insertMarkers","markerArray","markerName","extension","_logger__WEBPACK_IMPORTED_MODULE_0__","composition","aggregation","dependency","cross","barb","decendants","parents","isDecendant","ancenstorId","edgeInCluster","clusterId","copy","newGraph","rootId","setEdge","removeNode","extractDecendants","validate","_id","getAnchorId","externalConnections","depth","d1","d2","removeEdge","graphlib__WEBPACK_IMPORTED_MODULE_0___default","extractor","hasChildren","_i","_node","graphSettings","clusterGraph","Graph","multigraph","compound","setGraph","nodesep","ranksep","marginx","marginy","setDefaultEdgeLabel","_i2","_node2","sorter","result","assign","sorted","question","_labelHelper","labelHelper","questionElem","insertPolygonShape","_intersect_index_js__WEBPACK_IMPORTED_MODULE_5__","choice","domId","map","hexagon","_labelHelper2","f","m","hex","rect_left_inv_arrow","_labelHelper3","lean_right","_labelHelper4","lean_left","_labelHelper5","trapezoid","_labelHelper6","inv_trapezoid","_labelHelper7","rect_right_inv_arrow","_labelHelper8","cylinder","_labelHelper9","_labelHelper10","totalWidth","totalHeight","props","propKeys","Set","borders","applyNodePropertyBorders","delete","propKey","strokeDashArray","addBorder","skipBorder","includes","rectWithTitle","innerLine","text2","flat","_createLabel__WEBPACK_IMPORTED_MODULE_6__","textRows","titleBox","descr","_div","_dv","stadium","_labelHelper11","_labelHelper12","subroutine","_labelHelper13","start","forkJoin","end","innerCircle","class_box","rowPadding","lineHeight","topLine","bottomLine","maxWidth","maxHeight","labelContainer","verticalPos","hasInterface","classData","annotations","interfaceLabelText","interfaceLabel","interfaceBBox","classTitleString","classTitleLabel","classTitleBBox","_div2","_dv2","classAttributes","members","parsedInfo","_diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__","parseMember","parsedText","displayText","lbl","cssStyle","_div3","_dv3","classMethods","methods","_div4","_dv4","_diffX","diffX","_shapes_note__WEBPACK_IMPORTED_MODULE_8__","fork","nodeElems","link","target","securityLevel","linkTarget","tooltip","haveCallback","_util__WEBPACK_IMPORTED_MODULE_0__","_intersect_index_js__WEBPACK_IMPORTED_MODULE_2__","_classes","_mermaidAPI__WEBPACK_IMPORTED_MODULE_3__","decodeEntities","element","config","_themes__WEBPACK_IMPORTED_MODULE_0__","themeCSS","maxTextSize","darkMode","logLevel","startOnLoad","deterministicIds","deterministicIDSeed","diagramPadding","nodeSpacing","rankSpacing","useMaxWidth","defaultRenderer","sequence","activationWidth","diagramMarginX","diagramMarginY","actorMargin","boxMargin","boxTextMargin","noteMargin","messageMargin","messageAlign","mirrorActors","forceMenus","bottomMarginAdj","rightAngles","showSequenceNumbers","actorFontSize","actorFontFamily","actorFontWeight","noteFontSize","noteFontFamily","noteFontWeight","noteAlign","messageFontSize","messageFontFamily","messageFontWeight","wrap","wrapPadding","labelBoxWidth","labelBoxHeight","messageFont","fontSize","fontWeight","noteFont","actorFont","gantt","titleTopMargin","barHeight","barGap","topPadding","rightPadding","leftPadding","gridLineStartPadding","sectionFontSize","numberSectionStyles","axisFormat","topAxis","useWidth","journey","leftMargin","taskFontSize","taskFontFamily","taskMargin","textPlacement","actorColours","sectionFills","sectionColours","git","dividerMargin","sizeUnit","textHeight","titleShift","forkWidth","forkHeight","miniPadding","fontSizeFactor","labelHeight","edgeLengthFactor","compositTitleSize","radius","er","layoutDirection","minEntityWidth","minEntityHeight","entityPadding","fill","pie","requirement","rect_fill","text_color","rect_border_size","rect_border_color","rect_min_width","rect_min_height","rect_padding","line_height","keyify","obj","prefix","reduce","_toConsumableArray","configKeys","MERMAID_DOM_ID_PREFIX","relations","classCounter","funs","_common_common__WEBPACK_IMPORTED_MODULE_1__","statement","context","splitClassNameAndType","genericType","className","classId","cssClasses","lookUpDomId","classKeys","setupToolTips","getClass","getClasses","getRelations","annotation","validatedClassName","member","theClass","memberString","startsWith","endsWith","ids","linkStr","formatUrl","functionName","functionArgs","setClickFunc","elemId","argList","item","charAt","querySelector","addEventListener","runFunc","bindFunctions","fun","tooltipElem","_groups","svg","selectAll","on","transition","duration","scrollX","right","scrollY","body","scrollTop","classed","direction","getDirection","_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__","_classDb__WEBPACK_IMPORTED_MODULE_4__","idCache","_common_common__WEBPACK_IMPORTED_MODULE_5__","_config__WEBPACK_IMPORTED_MODULE_6__","addClasses","g","_logger__WEBPACK_IMPORTED_MODULE_7__","vertex","cssClassStr","styles","radious","_shape","addRelations","cnt","defaultStyle","defaultLabelStyle","edgeData","arrowhead","getArrowMarker","_utils__WEBPACK_IMPORTED_MODULE_8__","getStylesFromArray","interpolate","interpolateToCurve","curveLinear","defaultInterpolate","arrowheadStyle","labelpos","labelType","lineBreakRegex","getGraphId","foundEntry","entries","setConf","cnf","draw","graphlib__WEBPACK_IMPORTED_MODULE_2___default","sandboxElement","contentDocument","_dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__","svgBounds","_label","configureSvgSize","labels","querySelectorAll","dim","insertBefore","firstChild","marker","_logger__WEBPACK_IMPORTED_MODULE_5__","diagram","isMultiGraph","classDef","_svgDraw__WEBPACK_IMPORTED_MODULE_7__","drawClass","dagre__WEBPACK_IMPORTED_MODULE_1___default","drawEdge","vBox","getStyles","nodeBorder","classText","mainBkg","lineColor","edgeCount","getRelationType","_classDb__WEBPACK_IMPORTED_MODULE_1__","labelPosition","_utils__WEBPACK_IMPORTED_MODULE_2__","p1_card_x","p1_card_y","p2_card_x","p2_card_y","cardinality_1_point","calcCardinalityPosition","cardinality_2_point","bounds","_g","_g2","classInfo","isFirst","titleText2","classTitle","titleHeight","membersLine","addTspan","membersBox","methodsLine","method","classBox","rectWidth","childNodes","fieldRegEx","methodRegEx","fieldMatch","methodMatch","buildFieldDisplay","buildMethodDisplay","buildLegacyDisplay","visibility","fieldType","parseGenericTypes","fieldName","classifier","parseClassifier","err","methodName","parameters","returnType","memberText","methodStart","methodEnd","firstChar","textEl","tSpan","cleanedText","getRows","breakToPlaceholder","removeEscapes","newStr","String","fromCharCode","parseInt","_","removeScript","rs","idx","decodedText","sanitizeMore","level","placeholderToBreak","dompurify__WEBPACK_IMPORTED_MODULE_0___default","sanitizeTextOrArray","hasBreaks","test","splitBreaks","getUrl","useAbsolute","val","entities","relationships","_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__","attributes","getEntities","entityName","attribs","entity","entA","rolA","entB","rSpec","rel","entityA","roleA","entityB","relSpec","getRelationships","getTitle","ERMarkers","ONLY_ONE_START","ONLY_ONE_END","ZERO_OR_ONE_START","ZERO_OR_ONE_END","ONE_OR_MORE_START","ONE_OR_MORE_END","ZERO_OR_MORE_START","ZERO_OR_MORE_END","drawAttributes","groupNode","entityTextNode","heightPadding","widthPadding","attrFontSize","labelBBox","attributeNodes","hasKeyType","hasComment","maxTypeWidth","maxNameWidth","maxKeyWidth","maxCommentWidth","cumulativeHeight","attrNum","attrPrefix","nodeHeight","typeNode","nameNode","attributeNode","tn","nn","typeBBox","nameBBox","max","keyTypeNode","kn","keyTypeBBox","commentNode","cn","commentNodeBBox","widthPaddingFactor","bBox","spareColumnWidth","heightOffset","attribStyle","alignY","typeRect","nameXOffset","parseFloat","nameRect","keyTypeAndCommentXOffset","keyTypeRect","drawEntities","svgNode","firstOne","textId","textNode","_drawAttributes","entityWidth","entityHeight","rectNode","rectBBox","adjustEntities","getEdgeName","addRelationships","relationship","relCnt","drawRelationshipFromLayout","d3__WEBPACK_IMPORTED_MODULE_1__","_erDb__WEBPACK_IMPORTED_MODULE_4__","_erMarkers__WEBPACK_IMPORTED_MODULE_5__","getTotalLength","labelPoint","getPointAtLength","labelId","labelNode","_logger__WEBPACK_IMPORTED_MODULE_6__","_parser_erDiagram__WEBPACK_IMPORTED_MODULE_7___default","directed","edgesep","firstEntity","dagre__WEBPACK_IMPORTED_MODULE_2___default","tertiaryColor","dagre_d3__WEBPACK_IMPORTED_MODULE_0___default","addToRender","addToRenderV2","addShape","vertexCounter","_config__WEBPACK_IMPORTED_MODULE_1__","vertices","subGraphs","subGraphLookup","tooltips","subCount","firstGraphFlag","version","_mermaidAPI__WEBPACK_IMPORTED_MODULE_2__","veritceKeys","_common_common__WEBPACK_IMPORTED_MODULE_3__","addSingleLink","_start","_end","linktext","positions","interp","_utils__WEBPACK_IMPORTED_MODULE_4__","isSubstringInArray","textStyles","newStyle1","newStyle2","setClickFun","getTooltip","getVertices","getEdges","ver","setGen","list","_title","uniq","prims","boolean","number","string","objs","nodeList","_uniq","nl","subGraph","makeUniq","getPosForId","secCount","posCrossRef","indexNodes2","posCount","childPos","getDepthFirstPos","indexNodes","getSubGraphs","destructStartLink","_str","countChar","char","destructEndLink","dots","_startStr","startInfo","exists","allSgs","sg","allSubgraphs","addVertices","vert","svgId","classStr","_utils__WEBPACK_IMPORTED_MODULE_3__","_common_common__WEBPACK_IMPORTED_MODULE_4__","_config__WEBPACK_IMPORTED_MODULE_5__","dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2___default","parentNode","_flowDb__WEBPACK_IMPORTED_MODULE_6__","addEdges","linkIdCnt","defaultStyles","linkIdBase","linkId","linkNameStart","linkNameEnd","minlen","_parser_flow__WEBPACK_IMPORTED_MODULE_8___default","subG","linkNode","_doc","_common_common__WEBPACK_IMPORTED_MODULE_6__","dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3___default","_flowDb__WEBPACK_IMPORTED_MODULE_8__","_parser_flow__WEBPACK_IMPORTED_MODULE_9___default","Render","dagre_d3__WEBPACK_IMPORTED_MODULE_2___default","_flowChartShapes__WEBPACK_IMPORTED_MODULE_10__","arrows","none","normal","util","clusterRects","clusterEl","xPos","baseVal","yPos","_width","cluster","te","_j","classList","add","nodeTextColor","textColor","titleColor","arrowheadColor","edgeLabelBackground","clusterBkg","clusterBorder","border2","dateFormat","todayMarker","excludes","links","sections","tasks","currentSection","tags","inclusiveEndDates","lastOrder","taskCnt","lastTask","lastTaskID","rawTasks","getAxisFormat","getTodayMarker","endDatesAreInclusive","enableTopAxis","topAxisEnabled","getDateFormat","toLowerCase","getIncludes","getExcludes","getLinks","getSections","getTasks","allItemsPricessed","compileTasks","maxDepth","iterationCount","isInvalidDate","date","format","isoWeekday","checkTaskDates","task","manualEndTime","startTime","moment_mini__WEBPACK_IMPORTED_MODULE_0___default","endTime","renderEndTime","fixTaskDates","toDate","invalid","getStartDate","prevTime","re","afterStatement","exec","latestEndingTask","findTaskById","dt","Date","setHours","mDate","isValid","durationToDate","durationStatement","relativeTime","getEndDate","inclusive","parseId","idStr","compileData","prevTask","dataStr","ds","getTaskTags","endTimeData","parseData","prevTaskId","startData","taskDb","rawTask","section","processed","raw","taskInfo","active","crit","milestone","order","addTaskOrg","newTask","compileTask","allProcessed","_linkStr","_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1__","sanitizeUrl","pushFun","open","callbackFunction","matchFound","t","regex","RegExp","shift","_parser_gantt__WEBPACK_IMPORTED_MODULE_2__","_ganttDb__WEBPACK_IMPORTED_MODULE_3__","getElementById","parentElement","offsetWidth","taskArray","timeScale","scaleTime","domain","rangeRound","categories","catsUnfiltered","checkUnique","taskCompare","b","taskA","taskB","makeGant","pageWidth","pageHeight","gap","colorScale","scaleLinear","interpolateHcl","drawExcludeDays","makeGrid","drawRects","vertLabels","drawToday","theArray","theGap","theTopPad","theSidePad","theBarHeight","theColorScale","enter","rectangles","toString","secNum","taskClass","startX","endX","textWidth","_i3","taskType","_sandboxElement","_root","each","taskRect","taskText","oldParent","Link","createElement","minTime","_ref","maxTime","_ref2","excludeRanges","valueOf","clone","renderEnd","bottomXAxis","axisBottom","tickSize","tickFormat","timeFormat","topXAxis","axisTop","numOccurances","prevGap","_i4","getCount","_i5","todayG","today","todayLine","arr","_i6","getCounts","word","excludeBkgColor","sectionBkgColor","sectionBkgColor2","altSectionBkgColor","ganttFontSize","gridColor","todayLineColor","taskTextDarkColor","taskTextClickableColor","taskTextColor","taskBkgColor","taskBorderColor","taskTextOutsideColor","activeTaskBkgColor","activeTaskBorderColor","doneTaskBorderColor","doneTaskBkgColor","critBorderColor","critBkgColor","commits","branches","master","curBranch","seq","getId","_utils__WEBPACK_IMPORTED_MODULE_0__","random","isfastforwardable","currentCommit","otherCommit","isReachableFrom","currentSeq","otherSeq","uniqBy","fn","recordMap","out","rawOptString","message","getOptions","otherBranch","_commit","commitRef","ref","parentCount","upsert","newval","splice","prettyPrintCommitHistory","commitArr","_branch","newCommit","nextCommit","prettyPrint","getCommitsArray","getBranchesAsObjArray","branchArr","_branch2","getBranches","getCommits","getCurrentBranch","getHead","allCommitsDict","branchNum","nodeFillColor","nodeStrokeWidth","nodeStrokeColor","lineStrokeWidth","branchOffset","branchColors","nodeRadius","nodeLabel","apiConfig","svgCreateDefs","svgDrawLine","colorIdx","lineGen","round","getElementCoords","coords","ctm","getCTM","xn","yn","svgDrawLineForCommits","fromId","toId","fromBbox","toBbox","lineStart","lineEnd","_lineStart","_lineEnd","cloneNode","selector","renderCommitHistory","commitid","numCommits","size","branchName","renderLines","branchColor","lineDrawn","_parser_gitGraph__WEBPACK_IMPORTED_MODULE_3___default","_gitGraphAst__WEBPACK_IMPORTED_MODULE_4__","setMessage","getMessage","getInfo","_parser_info__WEBPACK_IMPORTED_MODULE_1___default","_infoDb__WEBPACK_IMPORTED_MODULE_2__","showData","toggle","getShowData","_parser_pie__WEBPACK_IMPORTED_MODULE_2___default","_pieDb__WEBPACK_IMPORTED_MODULE_3__","margin","legendRectSize","legendSpacing","sum","myGeneratedColors","pie1","pie2","pie3","pie4","pie5","pie6","pie7","pie8","pie9","pie10","pie11","pie12","scaleOrdinal","dataReady","arcGenerator","arc","innerRadius","outerRadius","toFixed","centroid","legend","horz","pieStrokeColor","pieStrokeWidth","pieOpacity","pieTitleTextSize","pieTitleTextColor","pieSectionTextColor","pieSectionTextSize","pieLegendTextColor","pieLegendTextSize","latestRequirement","requirements","latestElement","elements","risk","verifyMethod","getRequirements","docRef","getElements","src","dst","req","ReqMarkers","ARROW","insertLineEndings","containsNode","newRectNode","newTitleNode","txts","textStr","yPadding","linePadding","totalY","titleNode","newBodyNode","yStart","currentRow","charLimit","wrappedTxts","currentTextLen","firstPart","lastStr","addEdgeLabel","elementString","_requirementDb__WEBPACK_IMPORTED_MODULE_3__","_requirementMarkers__WEBPACK_IMPORTED_MODULE_5__","drawReqs","reqs","reqName","titleNodeInfo","bodyNode","drawElements","els","elName","_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__","_config__WEBPACK_IMPORTED_MODULE_8__","_utils__WEBPACK_IMPORTED_MODULE_9__","relationColor","requirementBackground","requirementBorderColor","requirementBorderSize","requirementTextColor","relationLabelBackground","relationLabelColor","prevActor","actors","messages","notes","titleWrapped","sequenceNumbersEnabled","wrapEnabled","addActor","old","autoWrap","properties","actorCnt","rectData","nextActor","activationCount","part","addMessage","idFrom","idTo","answer","addSignal","messageType","getMessages","getActors","getActor","getActorKeys","getTitleWrapped","setWrap","wrapSetting","NOTE","ARROWTYPE","FILLED","OPEN","addNote","addLinks","actorId","sanitizedText","_common_common__WEBPACK_IMPORTED_MODULE_2__","insertLinks","addALink","sep","addProperties","insertProperties","addDetails","_text","innerHTML","details","getActorProperty","titleWrap","param","_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__","_sequenceDb__WEBPACK_IMPORTED_MODULE_2__","startx","stopx","starty","stopy","sequenceItems","activations","models","getHeight","loops","it","acc","actorModel","addLoop","loopModel","msgModel","noteModel","lastActor","lastLoop","lastMessage","lastNote","init","updateVal","updateBounds","_self","updateFn","updateItemBounds","_startx","_stopx","_starty","_stopy","newActivation","actorRect","stackedSize","actorActivations","anchored","_svgDraw__WEBPACK_IMPORTED_MODULE_3__","anchorElement","endActivation","lastActorActivationIdx","activation","lastIndexOf","createLoop","newLoop","endLoop","addSectionToLoop","loop","sectionTitles","getVerticalPos","bumpVerticalPos","bump","getBounds","drawNote","getNoteRect","rectElem","drawRect","textObj","getTextObj","anchor","textMargin","valign","textElem","drawText","curr","drawMessage","sequenceIndex","textDims","calculateTextDimensions","totalOffset","lineStarty","fromBounds","toBounds","drawActors","actorKeys","prevWidth","prevMargin","drawActor","drawActorsPopup","minMenuWidth","getRequiredPopupWidth","menuDimensions","drawPopup","activationBounds","actorObj","adjustLoopHeightForWrap","loopWidths","preMargin","postMargin","addLoopFn","heightAdjust","loopWidth","textConf","wrapLabel","_config__WEBPACK_IMPORTED_MODULE_7__","maxMessageWidthPerActor","getMaxMessageWidthPerActor","calculateActorMargins","insertComputerIcon","insertDatabaseIcon","insertClockIcon","calculateLoopBounds","insertArrowHead","insertArrowCrossHead","insertArrowFilledHead","insertSequenceNumber","activeEnd","activationData","drawActivation","drawLoop","drawBackgroundRect","fixLifeLineHeights","requiredBoxSize","_bounds$getBounds","box","actorLines","boxHeight","boxWidth","extraVertForTitle","isNote","isMessage","textFont","wrappedMessage","messageDimensions","messageWidth","requiredPopupWidth","labelDimensions","labelWidth","actorToMessageWidth","prop","actDims","actorKey","actorWidth","buildNoteModel","shouldWrap","textDimensions","buildMessageModel","fromIdx","toIdx","allBounds","boundedWidth","msgDims","current","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","toAdd","enabled","stk","actorBorder","actorBkg","actorTextColor","actorLineColor","signalColor","sequenceNumberColor","signalTextColor","labelBoxBorderColor","labelBoxBkgColor","labelTextColor","loopTextColor","noteBorderColor","noteBkgColor","noteTextColor","activationBkgColor","activationBorderColor","addPopupInteraction","_interactionDb__WEBPACK_IMPORTED_MODULE_1__","addFunction","popupMenuUpFunc","popupMenuDownFunc","textAttrs","displayValue","actorClass","menuWidth","linkY","linkElem","sanitizedLink","_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__","_drawMenuItemTextCandidateFunc","drawImage","imageElem","drawEmbeddedImage","popupMenu","popid","popdownMenu","popupId","pu","display","textData","prevTextHeight","textElems","yfunc","dominantBaseline","alignmentBaseline","span","drawLabel","txtObject","genPoints","cut","drawActorTypeParticipant","center","boxpluslineGroup","cssclass","iconSrc","_drawTextCandidateFunc","drawActorTypeActor","actElem","drawLoopLine","sectionHeight","lower","defs","byText","content","_setTextAttrs","byTspan","byFo","toText","fromTextAttrsDict","set","get","drawStartState","drawDivider","drawSimpleState","stateDef","drawDescrState","descriptions","isSecond","descrLine","descrBox","addTitleAndBox","altBkg","pad","dblPad","orgBox","orgWidth","orgX","titleWidth","graphBox","lineY","drawEndState","drawForkJoinState","parentId","tmp","nText","_drawLongText","tHeight","_iterator","_createForOfIteratorHelper","_step","_line","textBounds","_drawLongText2","drawState","stateInfo","stateBox","_id_cache_js__WEBPACK_IMPORTED_MODULE_3__","_stateDb__WEBPACK_IMPORTED_MODULE_4__","_utils$calcLabelPosit","titleRows","boundstmp","heightAdj","rootDoc","getRootDoc","docTranslator","first","currentDoc","newNode","_newNode","generateId","docNode","getRootDocV2","extract","addState","newDoc","states","documents","currentDocument","startCnt","endCnt","addDescription","des","getState","getStates","logDocuments","_id1","_id2","_descr","theState","dividerCnt","nodeDb","_stateDb__WEBPACK_IMPORTED_MODULE_3__","_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4___default","setupNode","altFlag","getDir","nodeData","noteData","groupData","arrowType","setupDoc","startId","endId","defaultDir","_dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_7__","_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__","transformationLog","renderDoc","svgWidth","_utils__WEBPACK_IMPORTED_MODULE_7__","getLabelWidth","domDocument","edgeFreeDoc","ranker","nodeSep","sub","_shapes__WEBPACK_IMPORTED_MODULE_8__","boxBounds","_boxBounds","noteDef","nodeCount","_common_common__WEBPACK_IMPORTED_MODULE_9__","svgElem","dividers","pWidth","pShift","getAttribute","transitionColor","stateLabelColor","background","labelBackgroundColor","transitionLabelColor","tertiaryTextColor","specialStateColor","innerEndBackground","compositeBackground","stateBkg","stateBorder","compositeTitleBackground","altBackground","allItemsProcessed","updateActors","tempActors","people","unique","taskData","pieces","score","peeps","peopleList","_parser_journey__WEBPACK_IMPORTED_MODULE_1__","_journeyDb__WEBPACK_IMPORTED_MODULE_2__","drawActorLegend","person","colour","circleData","_svgDraw__WEBPACK_IMPORTED_MODULE_4__","drawCircle","labelData","LEFT_MARGIN","initGraphics","actorNames","actorPos","actorName","drawTasks","fills","textColours","lastSection","sectionVHeight","taskPos","sectionNumber","drawSection","taskActors","drawTask","faceColor","fillType0","fillType1","fillType2","fillType3","fillType4","fillType5","fillType6","fillType7","actor0","actor1","actor2","actor3","actor4","actor5","drawFace","faceData","circleElement","face","smile","startAngle","PI","endAngle","sad","ambivalent","labelMargin","taskCount","graphics","interactionFunctions","func","attachFunctions","LEVELS","fatal","setLogLevel","bind","time","_this","mermaid","sequenceConfig","callback","Node","ganttConfig","idGeneratior","initIdGeneratior","_loop","entityDecode","detectInit","svgCode","_ret","initialize","contentLoaded","mermaidAPI","graphInit","reinitialize","graphType","detectType","_diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5___default","_diagrams_git_gitGraphAst__WEBPACK_IMPORTED_MODULE_6__","_diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__","_diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8___default","_diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9___default","_diagrams_sequence_sequenceDb__WEBPACK_IMPORTED_MODULE_10__","_diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11___default","_diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_12__","_diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13___default","_diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_14__","_diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15___default","_diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_16__","_diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17___default","_diagrams_info_infoDb__WEBPACK_IMPORTED_MODULE_18__","_diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19___default","_diagrams_pie_pieDb__WEBPACK_IMPORTED_MODULE_20__","_diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21___default","_diagrams_er_erDb__WEBPACK_IMPORTED_MODULE_22__","_diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23___default","_diagrams_user_journey_journeyDb__WEBPACK_IMPORTED_MODULE_24__","_diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25___default","_diagrams_requirement_requirementDb__WEBPACK_IMPORTED_MODULE_26__","encodeEntities","innerTxt","isInt","_txt","cb","container","directiveSanitizer","iframe","_iframe","existingSvg","remove","_element","_iframe2","userStyles","altFontFamily","_diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__","stylis","stylis__WEBPACK_IMPORTED_MODULE_1__","serialize","compile","_styles__WEBPACK_IMPORTED_MODULE_28__","style1","_diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__","_diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__","sequenceDiagram","_diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__","_diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__","_diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__","_diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_34__","_diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__","_diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__","_diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__","_package_json__WEBPACK_IMPORTED_MODULE_38__","_diagrams_pie_pieRenderer__WEBPACK_IMPORTED_MODULE_39__","_diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__","_diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__","_diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__","_errorRenderer__WEBPACK_IMPORTED_MODULE_43__","svgEl","viewBox","btoa","_interactionDb__WEBPACK_IMPORTED_MODULE_44__","tmpElementSelector","currentDirective","handleDirective","updateRendererConfigs","_themes__WEBPACK_IMPORTED_MODULE_45__","globalReset","themes","_diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__","_diagrams_sequence_styles__WEBPACK_IMPORTED_MODULE_1__","_diagrams_gantt_styles__WEBPACK_IMPORTED_MODULE_2__","classDiagram","_diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__","stateDiagram","_diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__","_diagrams_git_styles__WEBPACK_IMPORTED_MODULE_5__","_diagrams_info_styles__WEBPACK_IMPORTED_MODULE_6__","_diagrams_pie_styles__WEBPACK_IMPORTED_MODULE_7__","_diagrams_er_styles__WEBPACK_IMPORTED_MODULE_8__","_diagrams_user_journey_styles__WEBPACK_IMPORTED_MODULE_9__","_diagrams_requirement_styles__WEBPACK_IMPORTED_MODULE_10__","calcThemeVariables","userOverRides","calcColors","errorBkgColor","errorTextColor","base","_theme_base__WEBPACK_IMPORTED_MODULE_0__","dark","_theme_dark__WEBPACK_IMPORTED_MODULE_1__","default","_theme_default__WEBPACK_IMPORTED_MODULE_2__","forest","_theme_forest__WEBPACK_IMPORTED_MODULE_3__","neutral","_theme_neutral__WEBPACK_IMPORTED_MODULE_4__","Theme","_classCallCheck","primaryColor","updateColors","primaryTextColor","secondaryColor","khroma__WEBPACK_IMPORTED_MODULE_0__","adjust","primaryBorderColor","_theme_helpers__WEBPACK_IMPORTED_MODULE_1__","mkBorder","secondaryBorderColor","tertiaryBorderColor","secondaryTextColor","invert","nodeBkg","defaultLinkColor","darken","lighten","taskTextLightColor","compositeBorder","calculate","overrides","userOverrides","secondBkg","mainContrastColor","darkTextColor","border1","rgba","labelBackground","labelColor","col","contrast","critical","d3CurveTypes","curveBasisClosed","curveBasisOpen","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","directiveWithoutOpen","anyComment","inits","detectDirective","results","commentWithoutDirectives","lastIndex","_type","memoize","resolver","cache","_len","_key","defaultCurve","curveName","toUpperCase","_obj","arrPaths","fnName","_len2","params","_key2","distance","pow","traverseEdge","prevPoint","totalDistance","remainingDistance","vectorDistance","distanceRatio","isRelationTypePresent","initialPosition","distanceToCardinalityPoint","angle","atan2","cardinalityPosition","sin","cos","terminalMarkerSize","makeid","characters","charactersLength","floor","_Object$assign","clobber","drawSimpleText","joinWith","words","completedLines","nextLine","wordLength","calculateTextWidth","nextLineLength","_breakString","breakString","hyphenatedStrings","remainingWord","Boolean","currentWord","isLastWord","hyphenCharacter","currentLine","character","lineWidth","currentCharacter","isLastLine","hyphenatedNextLine","calculateTextHeight","_config","fontFamilies","dims","_fontFamilies","_fontFamily","cheight","d3Attrs","d3Elem","attrs","_iterator2","_step2","calculateSvgSizeAttrs","Map","iterator","deterministic","seed","_createClass","now","decoder","escape","unescape","arg","sanitizeCss","_defaultConfig__WEBPACK_IMPORTED_MODULE_4__","stringsearch","assertPath","TypeError","normalizeStringPosix","allowAboveRoot","lastSegmentLength","lastSlash","code","charCodeAt","lastSlashIndex","_format","pathObject","ext","posix","resolve","resolvedPath","resolvedAbsolute","cwd","isAbsolute","trailingSeparator","joined","relative","fromStart","fromEnd","fromLen","toStart","toEnd","toLen","lastCommonSep","fromCode","toCode","_makeLong","dirname","hasRoot","matchedSlash","basename","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","ret","delimiter","win32","require","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","getter","__esModule","definition","defineProperty","enumerable","Symbol","toStringTag","nmd","__webpack_exports__"],"sources":["webpack://mermaid/webpack/universalModuleDefinition","webpack://mermaid/src/diagrams/class/parser/classDiagram.jison","webpack://mermaid/src/diagrams/er/parser/erDiagram.jison","webpack://mermaid/src/diagrams/flowchart/parser/flow.jison","webpack://mermaid/src/diagrams/gantt/parser/gantt.jison","webpack://mermaid/src/diagrams/git/parser/gitGraph.jison","webpack://mermaid/src/diagrams/info/parser/info.jison","webpack://mermaid/src/diagrams/pie/parser/pie.jison","webpack://mermaid/src/diagrams/requirement/parser/requirementDiagram.jison","webpack://mermaid/src/diagrams/sequence/parser/sequenceDiagram.jison","webpack://mermaid/src/diagrams/state/parser/stateDiagram.jison","webpack://mermaid/src/diagrams/user-journey/parser/journey.jison","webpack://mermaid/src/config.js","webpack://mermaid/src/dagre-wrapper/clusters.js","webpack://mermaid/src/dagre-wrapper/createLabel.js","webpack://mermaid/src/dagre-wrapper/edges.js","webpack://mermaid/src/dagre-wrapper/index.js","webpack://mermaid/src/dagre-wrapper/intersect/index.js","webpack://mermaid/src/dagre-wrapper/intersect/intersect-circle.js","webpack://mermaid/src/dagre-wrapper/intersect/intersect-ellipse.js","webpack://mermaid/src/dagre-wrapper/intersect/intersect-line.js","webpack://mermaid/src/dagre-wrapper/intersect/intersect-node.js","webpack://mermaid/src/dagre-wrapper/intersect/intersect-polygon.js","webpack://mermaid/src/dagre-wrapper/intersect/intersect-rect.js","webpack://mermaid/src/dagre-wrapper/markers.js","webpack://mermaid/src/dagre-wrapper/mermaid-graphlib.js","webpack://mermaid/src/dagre-wrapper/nodes.js","webpack://mermaid/src/dagre-wrapper/shapes/note.js","webpack://mermaid/src/dagre-wrapper/shapes/util.js","webpack://mermaid/src/defaultConfig.js","webpack://mermaid/src/diagrams/class/classDb.js","webpack://mermaid/src/diagrams/class/classRenderer-v2.js","webpack://mermaid/src/diagrams/class/classRenderer.js","webpack://mermaid/src/diagrams/class/styles.js","webpack://mermaid/src/diagrams/class/svgDraw.js","webpack://mermaid/src/diagrams/common/common.js","webpack://mermaid/src/diagrams/er/erDb.js","webpack://mermaid/src/diagrams/er/erMarkers.js","webpack://mermaid/src/diagrams/er/erRenderer.js","webpack://mermaid/src/diagrams/er/styles.js","webpack://mermaid/src/diagrams/flowchart/flowChartShapes.js","webpack://mermaid/src/diagrams/flowchart/flowDb.js","webpack://mermaid/src/diagrams/flowchart/flowRenderer-v2.js","webpack://mermaid/src/diagrams/flowchart/flowRenderer.js","webpack://mermaid/src/diagrams/flowchart/styles.js","webpack://mermaid/src/diagrams/gantt/ganttDb.js","webpack://mermaid/src/diagrams/gantt/ganttRenderer.js","webpack://mermaid/src/diagrams/gantt/styles.js","webpack://mermaid/src/diagrams/git/gitGraphAst.js","webpack://mermaid/src/diagrams/git/gitGraphRenderer.js","webpack://mermaid/src/diagrams/git/styles.js","webpack://mermaid/src/diagrams/info/infoDb.js","webpack://mermaid/src/diagrams/info/infoRenderer.js","webpack://mermaid/src/diagrams/info/styles.js","webpack://mermaid/src/diagrams/pie/pieDb.js","webpack://mermaid/src/diagrams/pie/pieRenderer.js","webpack://mermaid/src/diagrams/pie/styles.js","webpack://mermaid/src/diagrams/requirement/requirementDb.js","webpack://mermaid/src/diagrams/requirement/requirementMarkers.js","webpack://mermaid/src/diagrams/requirement/requirementRenderer.js","webpack://mermaid/src/diagrams/requirement/styles.js","webpack://mermaid/src/diagrams/sequence/sequenceDb.js","webpack://mermaid/src/diagrams/sequence/sequenceRenderer.js","webpack://mermaid/src/diagrams/sequence/styles.js","webpack://mermaid/src/diagrams/sequence/svgDraw.js","webpack://mermaid/src/diagrams/state/id-cache.js","webpack://mermaid/src/diagrams/state/shapes.js","webpack://mermaid/src/diagrams/state/stateDb.js","webpack://mermaid/src/diagrams/state/stateRenderer-v2.js","webpack://mermaid/src/diagrams/state/stateRenderer.js","webpack://mermaid/src/diagrams/state/styles.js","webpack://mermaid/src/diagrams/user-journey/journeyDb.js","webpack://mermaid/src/diagrams/user-journey/journeyRenderer.js","webpack://mermaid/src/diagrams/user-journey/styles.js","webpack://mermaid/src/diagrams/user-journey/svgDraw.js","webpack://mermaid/src/errorRenderer.js","webpack://mermaid/src/interactionDb.js","webpack://mermaid/src/logger.js","webpack://mermaid/src/mermaid.js","webpack://mermaid/src/mermaidAPI.js","webpack://mermaid/src/styles.js","webpack://mermaid/src/themes/index.js","webpack://mermaid/src/themes/theme-base.js","webpack://mermaid/src/themes/theme-dark.js","webpack://mermaid/src/themes/theme-default.js","webpack://mermaid/src/themes/theme-forest.js","webpack://mermaid/src/themes/theme-helpers.js","webpack://mermaid/src/themes/theme-neutral.js","webpack://mermaid/src/utils.js","webpack://mermaid/node_modules/path-browserify/index.js","webpack://mermaid/external commonjs \"@braintree/sanitize-url\"","webpack://mermaid/external commonjs \"d3\"","webpack://mermaid/external commonjs \"dagre\"","webpack://mermaid/external commonjs \"dagre-d3\"","webpack://mermaid/external commonjs \"dagre-d3/lib/label/add-html-label.js\"","webpack://mermaid/external commonjs \"dompurify\"","webpack://mermaid/external commonjs \"graphlib\"","webpack://mermaid/external commonjs \"khroma\"","webpack://mermaid/external commonjs \"moment-mini\"","webpack://mermaid/external commonjs \"stylis\"","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/class/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/er/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/flowchart/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/gantt/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/git/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/info/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/pie/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/requirement/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/sequence/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/state/parser|fs","webpack://mermaid/ignored|/mnt/c/mermaid/src/diagrams/user-journey/parser|fs","webpack://mermaid/webpack/bootstrap","webpack://mermaid/webpack/runtime/compat get default export","webpack://mermaid/webpack/runtime/define property getters","webpack://mermaid/webpack/runtime/hasOwnProperty shorthand","webpack://mermaid/webpack/runtime/make namespace object","webpack://mermaid/webpack/runtime/node module decorator","webpack://mermaid/webpack/before-startup","webpack://mermaid/webpack/startup","webpack://mermaid/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mermaid\"] = factory();\n\telse\n\t\troot[\"mermaid\"] = factory();\n})(typeof self !== \"undefined\" ? self : this, function() {\nreturn ","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,6],$V1=[1,7],$V2=[1,8],$V3=[1,9],$V4=[1,12],$V5=[1,11],$V6=[1,15,24],$V7=[1,19],$V8=[1,31],$V9=[1,34],$Va=[1,32],$Vb=[1,33],$Vc=[1,35],$Vd=[1,36],$Ve=[1,37],$Vf=[1,38],$Vg=[1,41],$Vh=[1,42],$Vi=[1,43],$Vj=[1,44],$Vk=[15,24],$Vl=[1,56],$Vm=[1,57],$Vn=[1,58],$Vo=[1,59],$Vp=[1,60],$Vq=[1,61],$Vr=[15,24,31,38,39,47,50,51,52,53,54,55,60,62],$Vs=[15,24,29,31,38,39,43,47,50,51,52,53,54,55,60,62,77,78,79,80],$Vt=[7,8,9,10,15,18,22,24],$Vu=[47,77,78,79,80],$Vv=[47,54,55,77,78,79,80],$Vw=[47,50,51,52,53,77,78,79,80],$Vx=[15,24,31],$Vy=[1,93];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"mermaidDoc\":4,\"direction\":5,\"directive\":6,\"direction_tb\":7,\"direction_bt\":8,\"direction_rl\":9,\"direction_lr\":10,\"graphConfig\":11,\"openDirective\":12,\"typeDirective\":13,\"closeDirective\":14,\"NEWLINE\":15,\":\":16,\"argDirective\":17,\"open_directive\":18,\"type_directive\":19,\"arg_directive\":20,\"close_directive\":21,\"CLASS_DIAGRAM\":22,\"statements\":23,\"EOF\":24,\"statement\":25,\"className\":26,\"alphaNumToken\":27,\"classLiteralName\":28,\"GENERICTYPE\":29,\"relationStatement\":30,\"LABEL\":31,\"classStatement\":32,\"methodStatement\":33,\"annotationStatement\":34,\"clickStatement\":35,\"cssClassStatement\":36,\"CLASS\":37,\"STYLE_SEPARATOR\":38,\"STRUCT_START\":39,\"members\":40,\"STRUCT_STOP\":41,\"ANNOTATION_START\":42,\"ANNOTATION_END\":43,\"MEMBER\":44,\"SEPARATOR\":45,\"relation\":46,\"STR\":47,\"relationType\":48,\"lineType\":49,\"AGGREGATION\":50,\"EXTENSION\":51,\"COMPOSITION\":52,\"DEPENDENCY\":53,\"LINE\":54,\"DOTTED_LINE\":55,\"CALLBACK\":56,\"LINK\":57,\"LINK_TARGET\":58,\"CLICK\":59,\"CALLBACK_NAME\":60,\"CALLBACK_ARGS\":61,\"HREF\":62,\"CSSCLASS\":63,\"commentToken\":64,\"textToken\":65,\"graphCodeTokens\":66,\"textNoTagsToken\":67,\"TAGSTART\":68,\"TAGEND\":69,\"==\":70,\"--\":71,\"PCT\":72,\"DEFAULT\":73,\"SPACE\":74,\"MINUS\":75,\"keywords\":76,\"UNICODE_TEXT\":77,\"NUM\":78,\"ALPHA\":79,\"BQUOTE_STR\":80,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",7:\"direction_tb\",8:\"direction_bt\",9:\"direction_rl\",10:\"direction_lr\",15:\"NEWLINE\",16:\":\",18:\"open_directive\",19:\"type_directive\",20:\"arg_directive\",21:\"close_directive\",22:\"CLASS_DIAGRAM\",24:\"EOF\",29:\"GENERICTYPE\",31:\"LABEL\",37:\"CLASS\",38:\"STYLE_SEPARATOR\",39:\"STRUCT_START\",41:\"STRUCT_STOP\",42:\"ANNOTATION_START\",43:\"ANNOTATION_END\",44:\"MEMBER\",45:\"SEPARATOR\",47:\"STR\",50:\"AGGREGATION\",51:\"EXTENSION\",52:\"COMPOSITION\",53:\"DEPENDENCY\",54:\"LINE\",55:\"DOTTED_LINE\",56:\"CALLBACK\",57:\"LINK\",58:\"LINK_TARGET\",59:\"CLICK\",60:\"CALLBACK_NAME\",61:\"CALLBACK_ARGS\",62:\"HREF\",63:\"CSSCLASS\",66:\"graphCodeTokens\",68:\"TAGSTART\",69:\"TAGEND\",70:\"==\",71:\"--\",72:\"PCT\",73:\"DEFAULT\",74:\"SPACE\",75:\"MINUS\",76:\"keywords\",77:\"UNICODE_TEXT\",78:\"NUM\",79:\"ALPHA\",80:\"BQUOTE_STR\"},\nproductions_: [0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[23,1],[23,2],[23,3],[26,1],[26,1],[26,2],[26,2],[26,2],[25,1],[25,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[32,2],[32,4],[32,5],[32,7],[34,4],[40,1],[40,2],[33,1],[33,2],[33,1],[33,1],[30,3],[30,4],[30,4],[30,5],[46,3],[46,2],[46,2],[46,1],[48,1],[48,1],[48,1],[48,1],[49,1],[49,1],[35,3],[35,4],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[36,3],[64,1],[64,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[67,1],[67,1],[67,1],[67,1],[27,1],[27,1],[27,1],[28,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 4:\n yy.setDirection('TB');\nbreak;\ncase 5:\n yy.setDirection('BT');\nbreak;\ncase 6:\n yy.setDirection('RL');\nbreak;\ncase 7:\n yy.setDirection('LR');\nbreak;\ncase 11:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 12:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 13:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 14:\n yy.parseDirective('}%%', 'close_directive', 'class'); \nbreak;\ncase 19: case 20:\n this.$=$$[$0]; \nbreak;\ncase 21:\n this.$=$$[$0-1]+$$[$0]; \nbreak;\ncase 22: case 23:\n this.$=$$[$0-1]+'~'+$$[$0]; \nbreak;\ncase 24:\n yy.addRelation($$[$0]); \nbreak;\ncase 25:\n $$[$0-1].title =  yy.cleanupLabel($$[$0]); yy.addRelation($$[$0-1]);        \nbreak;\ncase 33:\nyy.addClass($$[$0]);\nbreak;\ncase 34:\nyy.addClass($$[$0-2]);yy.setCssClass($$[$0-2], $$[$0]);\nbreak;\ncase 35:\n/*console.log($$[$0-3],JSON.stringify($$[$0-1]));*/yy.addClass($$[$0-3]);yy.addMembers($$[$0-3],$$[$0-1]);\nbreak;\ncase 36:\nyy.addClass($$[$0-5]);yy.setCssClass($$[$0-5], $$[$0-3]);yy.addMembers($$[$0-5],$$[$0-1]);\nbreak;\ncase 37:\n yy.addAnnotation($$[$0],$$[$0-2]); \nbreak;\ncase 38:\n this.$ = [$$[$0]]; \nbreak;\ncase 39:\n $$[$0].push($$[$0-1]);this.$=$$[$0];\nbreak;\ncase 40:\n/*console.log('Rel found',$$[$0]);*/\nbreak;\ncase 41:\nyy.addMember($$[$0-1],yy.cleanupLabel($$[$0]));\nbreak;\ncase 42:\n/*console.warn('Member',$$[$0]);*/\nbreak;\ncase 43:\n/*console.log('sep found',$$[$0]);*/\nbreak;\ncase 44:\n this.$ = {'id1':$$[$0-2],'id2':$$[$0], relation:$$[$0-1], relationTitle1:'none', relationTitle2:'none'}; \nbreak;\ncase 45:\n this.$ = {id1:$$[$0-3], id2:$$[$0], relation:$$[$0-1], relationTitle1:$$[$0-2], relationTitle2:'none'}\nbreak;\ncase 46:\n this.$ = {id1:$$[$0-3], id2:$$[$0], relation:$$[$0-2], relationTitle1:'none', relationTitle2:$$[$0-1]}; \nbreak;\ncase 47:\n this.$ = {id1:$$[$0-4], id2:$$[$0], relation:$$[$0-2], relationTitle1:$$[$0-3], relationTitle2:$$[$0-1]} \nbreak;\ncase 48:\n this.$={type1:$$[$0-2],type2:$$[$0],lineType:$$[$0-1]}; \nbreak;\ncase 49:\n this.$={type1:'none',type2:$$[$0],lineType:$$[$0-1]}; \nbreak;\ncase 50:\n this.$={type1:$$[$0-1],type2:'none',lineType:$$[$0]}; \nbreak;\ncase 51:\n this.$={type1:'none',type2:'none',lineType:$$[$0]}; \nbreak;\ncase 52:\n this.$=yy.relationType.AGGREGATION;\nbreak;\ncase 53:\n this.$=yy.relationType.EXTENSION;\nbreak;\ncase 54:\n this.$=yy.relationType.COMPOSITION;\nbreak;\ncase 55:\n this.$=yy.relationType.DEPENDENCY;\nbreak;\ncase 56:\nthis.$=yy.lineType.LINE;\nbreak;\ncase 57:\nthis.$=yy.lineType.DOTTED_LINE;\nbreak;\ncase 58: case 64:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-1], $$[$0]);\nbreak;\ncase 59: case 65:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-2], $$[$0-1]);yy.setTooltip($$[$0-2], $$[$0]);\nbreak;\ncase 60: case 68:\nthis.$ = $$[$0-2];yy.setLink($$[$0-1], $$[$0]);\nbreak;\ncase 61:\nthis.$ = $$[$0-3];yy.setLink($$[$0-2], $$[$0-1],$$[$0]);\nbreak;\ncase 62: case 70:\nthis.$ = $$[$0-3];yy.setLink($$[$0-2], $$[$0-1]);yy.setTooltip($$[$0-2], $$[$0]);\nbreak;\ncase 63: case 71:\nthis.$ = $$[$0-4];yy.setLink($$[$0-3], $$[$0-2], $$[$0]);yy.setTooltip($$[$0-3], $$[$0-1]);\nbreak;\ncase 66:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 67:\nthis.$ = $$[$0-4];yy.setClickEvent($$[$0-3], $$[$0-2], $$[$0-1]);yy.setTooltip($$[$0-3], $$[$0]);\nbreak;\ncase 69:\nthis.$ = $$[$0-3];yy.setLink($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 72:\nyy.setCssClass($$[$0-1], $$[$0]);\nbreak;\n}\n},\ntable: [{3:1,4:2,5:3,6:4,7:$V0,8:$V1,9:$V2,10:$V3,11:5,12:10,18:$V4,22:$V5},{1:[3]},{1:[2,1]},{1:[2,2]},{3:13,4:2,5:3,6:4,7:$V0,8:$V1,9:$V2,10:$V3,11:5,12:10,18:$V4,22:$V5},{1:[2,8]},o($V6,[2,4]),o($V6,[2,5]),o($V6,[2,6]),o($V6,[2,7]),{13:14,19:[1,15]},{15:[1,16]},{19:[2,11]},{1:[2,3]},{14:17,16:[1,18],21:$V7},o([16,21],[2,12]),{5:29,6:28,7:$V0,8:$V1,9:$V2,10:$V3,12:10,18:$V4,23:20,25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:$V8,42:$V9,44:$Va,45:$Vb,56:$Vc,57:$Vd,59:$Ve,63:$Vf,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{15:[1,45]},{17:46,20:[1,47]},{15:[2,14]},{24:[1,48]},{15:[1,49],24:[2,16]},o($Vk,[2,24],{31:[1,50]}),o($Vk,[2,26]),o($Vk,[2,27]),o($Vk,[2,28]),o($Vk,[2,29]),o($Vk,[2,30]),o($Vk,[2,31]),o($Vk,[2,32]),o($Vk,[2,40],{46:51,48:54,49:55,31:[1,53],47:[1,52],50:$Vl,51:$Vm,52:$Vn,53:$Vo,54:$Vp,55:$Vq}),{26:62,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,42]),o($Vk,[2,43]),{27:63,77:$Vg,78:$Vh,79:$Vi},{26:64,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:65,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:66,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{47:[1,67]},o($Vr,[2,19],{27:39,28:40,26:68,29:[1,69],77:$Vg,78:$Vh,79:$Vi,80:$Vj}),o($Vr,[2,20],{29:[1,70]}),o($Vs,[2,86]),o($Vs,[2,87]),o($Vs,[2,88]),o([15,24,29,31,38,39,47,50,51,52,53,54,55,60,62],[2,89]),o($Vt,[2,9]),{14:71,21:$V7},{21:[2,13]},{1:[2,15]},{5:29,6:28,7:$V0,8:$V1,9:$V2,10:$V3,12:10,18:$V4,23:72,24:[2,17],25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:$V8,42:$V9,44:$Va,45:$Vb,56:$Vc,57:$Vd,59:$Ve,63:$Vf,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,25]),{26:73,27:39,28:40,47:[1,74],77:$Vg,78:$Vh,79:$Vi,80:$Vj},{46:75,48:54,49:55,50:$Vl,51:$Vm,52:$Vn,53:$Vo,54:$Vp,55:$Vq},o($Vk,[2,41]),{49:76,54:$Vp,55:$Vq},o($Vu,[2,51],{48:77,50:$Vl,51:$Vm,52:$Vn,53:$Vo}),o($Vv,[2,52]),o($Vv,[2,53]),o($Vv,[2,54]),o($Vv,[2,55]),o($Vw,[2,56]),o($Vw,[2,57]),o($Vk,[2,33],{38:[1,78],39:[1,79]}),{43:[1,80]},{47:[1,81]},{47:[1,82]},{60:[1,83],62:[1,84]},{27:85,77:$Vg,78:$Vh,79:$Vi},o($Vr,[2,21]),o($Vr,[2,22]),o($Vr,[2,23]),{15:[1,86]},{24:[2,18]},o($Vx,[2,44]),{26:87,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:88,27:39,28:40,47:[1,89],77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vu,[2,50],{48:90,50:$Vl,51:$Vm,52:$Vn,53:$Vo}),o($Vu,[2,49]),{27:91,77:$Vg,78:$Vh,79:$Vi},{40:92,44:$Vy},{26:94,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,58],{47:[1,95]}),o($Vk,[2,60],{47:[1,97],58:[1,96]}),o($Vk,[2,64],{47:[1,98],61:[1,99]}),o($Vk,[2,68],{47:[1,101],58:[1,100]}),o($Vk,[2,72]),o($Vt,[2,10]),o($Vx,[2,46]),o($Vx,[2,45]),{26:102,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vu,[2,48]),o($Vk,[2,34],{39:[1,103]}),{41:[1,104]},{40:105,41:[2,38],44:$Vy},o($Vk,[2,37]),o($Vk,[2,59]),o($Vk,[2,61]),o($Vk,[2,62],{58:[1,106]}),o($Vk,[2,65]),o($Vk,[2,66],{47:[1,107]}),o($Vk,[2,69]),o($Vk,[2,70],{58:[1,108]}),o($Vx,[2,47]),{40:109,44:$Vy},o($Vk,[2,35]),{41:[2,39]},o($Vk,[2,63]),o($Vk,[2,67]),o($Vk,[2,71]),{41:[1,110]},o($Vk,[2,36])],\ndefaultActions: {2:[2,1],3:[2,2],5:[2,8],12:[2,11],13:[2,3],19:[2,14],47:[2,13],48:[2,15],72:[2,18],105:[2,39]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 18; \nbreak;\ncase 1:return 7;\nbreak;\ncase 2:return 8;\nbreak;\ncase 3:return 9;\nbreak;\ncase 4:return 10;\nbreak;\ncase 5: this.begin('type_directive'); return 19; \nbreak;\ncase 6: this.popState(); this.begin('arg_directive'); return 16; \nbreak;\ncase 7: this.popState(); this.popState(); return 21; \nbreak;\ncase 8:return 20;\nbreak;\ncase 9:/* skip comments */\nbreak;\ncase 10:/* skip comments */\nbreak;\ncase 11:return 15;\nbreak;\ncase 12:/* skip whitespace */\nbreak;\ncase 13:return 22;\nbreak;\ncase 14:return 22;\nbreak;\ncase 15: this.begin(\"struct\"); /*console.log('Starting struct');*/ return 39;\nbreak;\ncase 16:return \"EOF_IN_STRUCT\";\nbreak;\ncase 17:return \"OPEN_IN_STRUCT\";\nbreak;\ncase 18: /*console.log('Ending struct');*/this.popState(); return 41;\nbreak;\ncase 19:/* nothing */\nbreak;\ncase 20: /*console.log('lex-member: ' + yy_.yytext);*/  return \"MEMBER\";\nbreak;\ncase 21:return 37;\nbreak;\ncase 22:return 63;\nbreak;\ncase 23:return 56;\nbreak;\ncase 24:return 57;\nbreak;\ncase 25:return 59;\nbreak;\ncase 26:return 42;\nbreak;\ncase 27:return 43;\nbreak;\ncase 28:this.begin(\"generic\");\nbreak;\ncase 29:this.popState();\nbreak;\ncase 30:return \"GENERICTYPE\";\nbreak;\ncase 31:this.begin(\"string\");\nbreak;\ncase 32:this.popState();\nbreak;\ncase 33:return \"STR\";\nbreak;\ncase 34:this.begin(\"bqstring\");\nbreak;\ncase 35:this.popState();\nbreak;\ncase 36:return \"BQUOTE_STR\";\nbreak;\ncase 37:this.begin(\"href\");\nbreak;\ncase 38:this.popState();\nbreak;\ncase 39:return 62;\nbreak;\ncase 40:this.begin(\"callback_name\");\nbreak;\ncase 41:this.popState();\nbreak;\ncase 42:this.popState(); this.begin(\"callback_args\");\nbreak;\ncase 43:return 60;\nbreak;\ncase 44:this.popState();\nbreak;\ncase 45:return 61;\nbreak;\ncase 46:return 58;\nbreak;\ncase 47:return 58;\nbreak;\ncase 48:return 58;\nbreak;\ncase 49:return 58;\nbreak;\ncase 50:return 51;\nbreak;\ncase 51:return 51;\nbreak;\ncase 52:return 53;\nbreak;\ncase 53:return 53;\nbreak;\ncase 54:return 52;\nbreak;\ncase 55:return 50;\nbreak;\ncase 56:return 54;\nbreak;\ncase 57:return 55;\nbreak;\ncase 58:return 31;\nbreak;\ncase 59:return 38;\nbreak;\ncase 60:return 75;\nbreak;\ncase 61:return 'DOT';\nbreak;\ncase 62:return 'PLUS';\nbreak;\ncase 63:return 72;\nbreak;\ncase 64:return 'EQUALS';\nbreak;\ncase 65:return 'EQUALS';\nbreak;\ncase 66:return 79;\nbreak;\ncase 67:return 'PUNCTUATION';\nbreak;\ncase 68:return 78;\nbreak;\ncase 69:return 77;\nbreak;\ncase 70:return 74;\nbreak;\ncase 71:return 24;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/,/^(?:.*direction\\s+TB[^\\n]*)/,/^(?:.*direction\\s+BT[^\\n]*)/,/^(?:.*direction\\s+RL[^\\n]*)/,/^(?:.*direction\\s+LR[^\\n]*)/,/^(?:((?:(?!\\}%%)[^:.])*))/,/^(?::)/,/^(?:\\}%%)/,/^(?:((?:(?!\\}%%).|\\n)*))/,/^(?:%%(?!\\{)*[^\\n]*(\\r?\\n?)+)/,/^(?:%%[^\\n]*(\\r?\\n)*)/,/^(?:\\s*(\\r?\\n)+)/,/^(?:\\s+)/,/^(?:classDiagram-v2\\b)/,/^(?:classDiagram\\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\\n])/,/^(?:[^{}\\n]*)/,/^(?:class\\b)/,/^(?:cssClass\\b)/,/^(?:callback\\b)/,/^(?:link\\b)/,/^(?:click\\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:[\"])/,/^(?:[\"])/,/^(?:[^\"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\\s]+[\"])/,/^(?:[\"])/,/^(?:[^\"]*)/,/^(?:call[\\s]+)/,/^(?:\\([\\s]*\\))/,/^(?:\\()/,/^(?:[^(]*)/,/^(?:\\))/,/^(?:[^)]*)/,/^(?:_self\\b)/,/^(?:_blank\\b)/,/^(?:_parent\\b)/,/^(?:_top\\b)/,/^(?:\\s*<\\|)/,/^(?:\\s*\\|>)/,/^(?:\\s*>)/,/^(?:\\s*<)/,/^(?:\\s*\\*)/,/^(?:\\s*o\\b)/,/^(?:--)/,/^(?:\\.\\.)/,/^(?::{1}[^:\\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\\.)/,/^(?:\\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\\w+)/,/^(?:[!\"#$%&'*+,-.`?\\\\/])/,/^(?:[0-9]+)/,/^(?:[\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6]|[\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377]|[\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5]|[\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA]|[\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE]|[\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA]|[\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0]|[\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977]|[\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2]|[\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A]|[\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39]|[\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8]|[\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C]|[\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C]|[\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99]|[\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0]|[\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D]|[\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3]|[\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10]|[\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1]|[\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81]|[\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3]|[\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6]|[\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A]|[\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081]|[\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D]|[\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0]|[\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310]|[\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C]|[\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711]|[\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7]|[\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C]|[\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16]|[\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF]|[\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC]|[\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D]|[\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D]|[\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3]|[\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F]|[\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128]|[\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184]|[\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3]|[\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6]|[\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE]|[\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C]|[\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D]|[\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC]|[\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B]|[\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788]|[\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805]|[\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB]|[\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28]|[\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5]|[\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4]|[\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E]|[\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D]|[\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36]|[\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D]|[\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC]|[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF]|[\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])/,/^(?:\\s)/,/^(?:$)/],\nconditions: {\"arg_directive\":{\"rules\":[7,8],\"inclusive\":false},\"type_directive\":{\"rules\":[6,7],\"inclusive\":false},\"open_directive\":{\"rules\":[5],\"inclusive\":false},\"callback_args\":{\"rules\":[44,45],\"inclusive\":false},\"callback_name\":{\"rules\":[41,42,43],\"inclusive\":false},\"href\":{\"rules\":[38,39],\"inclusive\":false},\"struct\":{\"rules\":[16,17,18,19,20],\"inclusive\":false},\"generic\":{\"rules\":[29,30],\"inclusive\":false},\"bqstring\":{\"rules\":[35,36],\"inclusive\":false},\"string\":{\"rules\":[32,33],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,2,3,4,9,10,11,12,13,14,15,21,22,23,24,25,26,27,28,31,34,37,40,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,5],$V2=[6,9,11,23,41],$V3=[1,17],$V4=[1,20],$V5=[1,25],$V6=[1,26],$V7=[1,27],$V8=[1,28],$V9=[1,37],$Va=[23,38,39],$Vb=[4,6,9,11,23,41],$Vc=[34,35,36,37],$Vd=[22,29],$Ve=[1,55];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"ER_DIAGRAM\":4,\"document\":5,\"EOF\":6,\"directive\":7,\"line\":8,\"SPACE\":9,\"statement\":10,\"NEWLINE\":11,\"openDirective\":12,\"typeDirective\":13,\"closeDirective\":14,\":\":15,\"argDirective\":16,\"entityName\":17,\"relSpec\":18,\"role\":19,\"BLOCK_START\":20,\"attributes\":21,\"BLOCK_STOP\":22,\"ALPHANUM\":23,\"attribute\":24,\"attributeType\":25,\"attributeName\":26,\"attributeKeyType\":27,\"attributeComment\":28,\"ATTRIBUTE_WORD\":29,\"ATTRIBUTE_KEY\":30,\"COMMENT\":31,\"cardinality\":32,\"relType\":33,\"ZERO_OR_ONE\":34,\"ZERO_OR_MORE\":35,\"ONE_OR_MORE\":36,\"ONLY_ONE\":37,\"NON_IDENTIFYING\":38,\"IDENTIFYING\":39,\"WORD\":40,\"open_directive\":41,\"type_directive\":42,\"arg_directive\":43,\"close_directive\":44,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"ER_DIAGRAM\",6:\"EOF\",9:\"SPACE\",11:\"NEWLINE\",15:\":\",20:\"BLOCK_START\",22:\"BLOCK_STOP\",23:\"ALPHANUM\",29:\"ATTRIBUTE_WORD\",30:\"ATTRIBUTE_KEY\",31:\"COMMENT\",34:\"ZERO_OR_ONE\",35:\"ZERO_OR_MORE\",36:\"ONE_OR_MORE\",37:\"ONLY_ONE\",38:\"NON_IDENTIFYING\",39:\"IDENTIFYING\",40:\"WORD\",41:\"open_directive\",42:\"type_directive\",43:\"arg_directive\",44:\"close_directive\"},\nproductions_: [0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[17,1],[21,1],[21,2],[24,2],[24,3],[24,3],[24,4],[25,1],[26,1],[27,1],[28,1],[18,3],[32,1],[32,1],[32,1],[32,1],[33,1],[33,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n /*console.log('finished parsing');*/ \nbreak;\ncase 3:\n this.$ = [] \nbreak;\ncase 4:\n$$[$0-1].push($$[$0]);this.$ = $$[$0-1]\nbreak;\ncase 5: case 6:\n this.$ = $$[$0] \nbreak;\ncase 7: case 8:\n this.$=[];\nbreak;\ncase 12:\n\n          yy.addEntity($$[$0-4]);\n          yy.addEntity($$[$0-2]);\n          yy.addRelationship($$[$0-4], $$[$0], $$[$0-2], $$[$0-3]);\n          /*console.log($$[$0-4] + $$[$0-3] + $$[$0-2] + ':' + $$[$0]);*/\n      \nbreak;\ncase 13:\n\n          /* console.log('detected block'); */\n          yy.addEntity($$[$0-3]);\n          yy.addAttributes($$[$0-3], $$[$0-1]);\n          /* console.log('handled block'); */\n      \nbreak;\ncase 14:\n yy.addEntity($$[$0-2]); \nbreak;\ncase 15:\n yy.addEntity($$[$0]); \nbreak;\ncase 16:\n this.$ = $$[$0]; /*console.log('Entity: ' + $$[$0]);*/ \nbreak;\ncase 17:\n this.$ = [$$[$0]]; \nbreak;\ncase 18:\n $$[$0].push($$[$0-1]); this.$=$$[$0]; \nbreak;\ncase 19:\n this.$ = { attributeType: $$[$0-1], attributeName: $$[$0] }; \nbreak;\ncase 20:\n this.$ = { attributeType: $$[$0-2], attributeName: $$[$0-1], attributeKeyType: $$[$0] }; \nbreak;\ncase 21:\n this.$ = { attributeType: $$[$0-2], attributeName: $$[$0-1], attributeComment: $$[$0] }; \nbreak;\ncase 22:\n this.$ = { attributeType: $$[$0-3], attributeName: $$[$0-2], attributeKeyType: $$[$0-1], attributeComment: $$[$0] }; \nbreak;\ncase 23: case 24: case 25:\n this.$=$$[$0]; \nbreak;\ncase 26:\n this.$=$$[$0].replace(/\"/g, ''); \nbreak;\ncase 27:\n\n        this.$ = { cardA: $$[$0], relType: $$[$0-1], cardB: $$[$0-2] };\n        /*console.log('relSpec: ' + $$[$0] + $$[$0-1] + $$[$0-2]);*/\n      \nbreak;\ncase 28:\n this.$ = yy.Cardinality.ZERO_OR_ONE; \nbreak;\ncase 29:\n this.$ = yy.Cardinality.ZERO_OR_MORE; \nbreak;\ncase 30:\n this.$ = yy.Cardinality.ONE_OR_MORE; \nbreak;\ncase 31:\n this.$ = yy.Cardinality.ONLY_ONE; \nbreak;\ncase 32:\n this.$ = yy.Identification.NON_IDENTIFYING;  \nbreak;\ncase 33:\n this.$ = yy.Identification.IDENTIFYING; \nbreak;\ncase 34:\n this.$ = $$[$0].replace(/\"/g, ''); \nbreak;\ncase 35:\n this.$ = $$[$0]; \nbreak;\ncase 36:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 37:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 38:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 39:\n yy.parseDirective('}%%', 'close_directive', 'er'); \nbreak;\n}\n},\ntable: [{3:1,4:$V0,7:3,12:4,41:$V1},{1:[3]},o($V2,[2,3],{5:6}),{3:7,4:$V0,7:3,12:4,41:$V1},{13:8,42:[1,9]},{42:[2,36]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:$V3,41:$V1},{1:[2,2]},{14:18,15:[1,19],44:$V4},o([15,44],[2,37]),o($V2,[2,8],{1:[2,1]}),o($V2,[2,4]),{7:15,10:21,12:4,17:16,23:$V3,41:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,11]),o($V2,[2,15],{18:22,32:24,20:[1,23],34:$V5,35:$V6,36:$V7,37:$V8}),o([6,9,11,15,20,23,34,35,36,37,41],[2,16]),{11:[1,29]},{16:30,43:[1,31]},{11:[2,39]},o($V2,[2,5]),{17:32,23:$V3},{21:33,22:[1,34],24:35,25:36,29:$V9},{33:38,38:[1,39],39:[1,40]},o($Va,[2,28]),o($Va,[2,29]),o($Va,[2,30]),o($Va,[2,31]),o($Vb,[2,9]),{14:41,44:$V4},{44:[2,38]},{15:[1,42]},{22:[1,43]},o($V2,[2,14]),{21:44,22:[2,17],24:35,25:36,29:$V9},{26:45,29:[1,46]},{29:[2,23]},{32:47,34:$V5,35:$V6,36:$V7,37:$V8},o($Vc,[2,32]),o($Vc,[2,33]),{11:[1,48]},{19:49,23:[1,51],40:[1,50]},o($V2,[2,13]),{22:[2,18]},o($Vd,[2,19],{27:52,28:53,30:[1,54],31:$Ve}),o([22,29,30,31],[2,24]),{23:[2,27]},o($Vb,[2,10]),o($V2,[2,12]),o($V2,[2,34]),o($V2,[2,35]),o($Vd,[2,20],{28:56,31:$Ve}),o($Vd,[2,21]),o([22,29,31],[2,25]),o($Vd,[2,26]),o($Vd,[2,22])],\ndefaultActions: {5:[2,36],7:[2,2],20:[2,39],31:[2,38],37:[2,23],44:[2,18],47:[2,27]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 41; \nbreak;\ncase 1: this.begin('type_directive'); return 42; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 15; \nbreak;\ncase 3: this.popState(); this.popState(); return 44; \nbreak;\ncase 4:return 43;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */\nbreak;\ncase 7:return 11;\nbreak;\ncase 8:/* skip whitespace */\nbreak;\ncase 9:return 9;\nbreak;\ncase 10:return 40;\nbreak;\ncase 11:return 4;\nbreak;\ncase 12: this.begin(\"block\"); return 20; \nbreak;\ncase 13:/* skip whitespace in block */\nbreak;\ncase 14:return 30\nbreak;\ncase 15:return 29\nbreak;\ncase 16:return 31;\nbreak;\ncase 17:/* nothing */\nbreak;\ncase 18: this.popState(); return 22; \nbreak;\ncase 19:return yy_.yytext[0];\nbreak;\ncase 20:return 34;\nbreak;\ncase 21:return 35;\nbreak;\ncase 22:return 36;\nbreak;\ncase 23:return 37;\nbreak;\ncase 24:return 34;\nbreak;\ncase 25:return 35;\nbreak;\ncase 26:return 36;\nbreak;\ncase 27:return 38;\nbreak;\ncase 28:return 39;\nbreak;\ncase 29:return 38;\nbreak;\ncase 30:return 38;\nbreak;\ncase 31:return 23;\nbreak;\ncase 32:return yy_.yytext[0];\nbreak;\ncase 33:return 6;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:[\\n]+)/i,/^(?:\\s+)/i,/^(?:[\\s]+)/i,/^(?:\"[^\"]*\")/i,/^(?:erDiagram\\b)/i,/^(?:\\{)/i,/^(?:\\s+)/i,/^(?:(?:PK)|(?:FK))/i,/^(?:[A-Za-z][A-Za-z0-9\\-_]*)/i,/^(?:\"[^\"]*\")/i,/^(?:[\\n]+)/i,/^(?:\\})/i,/^(?:.)/i,/^(?:\\|o\\b)/i,/^(?:\\}o\\b)/i,/^(?:\\}\\|)/i,/^(?:\\|\\|)/i,/^(?:o\\|)/i,/^(?:o\\{)/i,/^(?:\\|\\{)/i,/^(?:\\.\\.)/i,/^(?:--)/i,/^(?:\\.-)/i,/^(?:-\\.)/i,/^(?:[A-Za-z][A-Za-z0-9\\-_]*)/i,/^(?:.)/i,/^(?:$)/i],\nconditions: {\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"block\":{\"rules\":[13,14,15,16,17,18,19],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,11,12,20,21,22,23,24,25,26,27,28,29,30,31,32,33],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,9],$V1=[1,7],$V2=[1,6],$V3=[1,8],$V4=[1,20,21,22,23,38,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],$V5=[2,10],$V6=[1,20],$V7=[1,21],$V8=[1,22],$V9=[1,23],$Va=[1,30],$Vb=[1,59],$Vc=[1,45],$Vd=[1,49],$Ve=[1,33],$Vf=[1,34],$Vg=[1,35],$Vh=[1,36],$Vi=[1,37],$Vj=[1,53],$Vk=[1,60],$Vl=[1,48],$Vm=[1,50],$Vn=[1,52],$Vo=[1,56],$Vp=[1,57],$Vq=[1,38],$Vr=[1,39],$Vs=[1,40],$Vt=[1,41],$Vu=[1,58],$Vv=[1,47],$Vw=[1,51],$Vx=[1,54],$Vy=[1,55],$Vz=[1,46],$VA=[1,63],$VB=[1,68],$VC=[1,20,21,22,23,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],$VD=[1,72],$VE=[1,71],$VF=[1,73],$VG=[20,21,23,74,75],$VH=[1,94],$VI=[1,99],$VJ=[1,102],$VK=[1,103],$VL=[1,96],$VM=[1,101],$VN=[1,104],$VO=[1,97],$VP=[1,109],$VQ=[1,108],$VR=[1,98],$VS=[1,100],$VT=[1,105],$VU=[1,106],$VV=[1,107],$VW=[1,110],$VX=[20,21,22,23,74,75],$VY=[20,21,22,23,48,74,75],$VZ=[20,21,22,23,40,47,48,50,52,54,56,58,59,60,62,64,66,67,69,74,75,84,88,98,99,102,104,105,115,116,117,118,119,120],$V_=[20,21,23],$V$=[20,21,23,47,59,60,74,75,84,88,98,99,102,104,105,115,116,117,118,119,120],$V01=[1,12,20,21,22,23,24,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],$V11=[47,59,60,84,88,98,99,102,104,105,115,116,117,118,119,120],$V21=[1,143],$V31=[1,151],$V41=[1,152],$V51=[1,153],$V61=[1,154],$V71=[1,138],$V81=[1,139],$V91=[1,135],$Va1=[1,146],$Vb1=[1,147],$Vc1=[1,148],$Vd1=[1,149],$Ve1=[1,150],$Vf1=[1,155],$Vg1=[1,156],$Vh1=[1,141],$Vi1=[1,144],$Vj1=[1,140],$Vk1=[1,137],$Vl1=[20,21,22,23,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],$Vm1=[1,159],$Vn1=[20,21,22,23,26,47,59,60,84,98,99,102,104,105,115,116,117,118,119,120],$Vo1=[20,21,22,23,24,26,38,40,41,42,47,51,53,55,57,59,60,61,63,65,66,68,70,74,75,79,80,81,82,83,84,85,88,98,99,102,104,105,106,107,115,116,117,118,119,120],$Vp1=[12,21,22,24],$Vq1=[22,99],$Vr1=[1,242],$Vs1=[1,237],$Vt1=[1,238],$Vu1=[1,246],$Vv1=[1,243],$Vw1=[1,240],$Vx1=[1,239],$Vy1=[1,241],$Vz1=[1,244],$VA1=[1,245],$VB1=[1,247],$VC1=[1,265],$VD1=[20,21,23,99],$VE1=[20,21,22,23,59,60,79,95,98,99,102,103,104,105,106];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"mermaidDoc\":4,\"directive\":5,\"openDirective\":6,\"typeDirective\":7,\"closeDirective\":8,\"separator\":9,\":\":10,\"argDirective\":11,\"open_directive\":12,\"type_directive\":13,\"arg_directive\":14,\"close_directive\":15,\"graphConfig\":16,\"document\":17,\"line\":18,\"statement\":19,\"SEMI\":20,\"NEWLINE\":21,\"SPACE\":22,\"EOF\":23,\"GRAPH\":24,\"NODIR\":25,\"DIR\":26,\"FirstStmtSeperator\":27,\"ending\":28,\"endToken\":29,\"spaceList\":30,\"spaceListNewline\":31,\"verticeStatement\":32,\"styleStatement\":33,\"linkStyleStatement\":34,\"classDefStatement\":35,\"classStatement\":36,\"clickStatement\":37,\"subgraph\":38,\"text\":39,\"SQS\":40,\"SQE\":41,\"end\":42,\"direction\":43,\"link\":44,\"node\":45,\"vertex\":46,\"AMP\":47,\"STYLE_SEPARATOR\":48,\"idString\":49,\"PS\":50,\"PE\":51,\"(-\":52,\"-)\":53,\"STADIUMSTART\":54,\"STADIUMEND\":55,\"SUBROUTINESTART\":56,\"SUBROUTINEEND\":57,\"VERTEX_WITH_PROPS_START\":58,\"ALPHA\":59,\"COLON\":60,\"PIPE\":61,\"CYLINDERSTART\":62,\"CYLINDEREND\":63,\"DIAMOND_START\":64,\"DIAMOND_STOP\":65,\"TAGEND\":66,\"TRAPSTART\":67,\"TRAPEND\":68,\"INVTRAPSTART\":69,\"INVTRAPEND\":70,\"linkStatement\":71,\"arrowText\":72,\"TESTSTR\":73,\"START_LINK\":74,\"LINK\":75,\"textToken\":76,\"STR\":77,\"keywords\":78,\"STYLE\":79,\"LINKSTYLE\":80,\"CLASSDEF\":81,\"CLASS\":82,\"CLICK\":83,\"DOWN\":84,\"UP\":85,\"textNoTags\":86,\"textNoTagsToken\":87,\"DEFAULT\":88,\"stylesOpt\":89,\"alphaNum\":90,\"CALLBACKNAME\":91,\"CALLBACKARGS\":92,\"HREF\":93,\"LINK_TARGET\":94,\"HEX\":95,\"numList\":96,\"INTERPOLATE\":97,\"NUM\":98,\"COMMA\":99,\"style\":100,\"styleComponent\":101,\"MINUS\":102,\"UNIT\":103,\"BRKT\":104,\"DOT\":105,\"PCT\":106,\"TAGSTART\":107,\"alphaNumToken\":108,\"idStringToken\":109,\"alphaNumStatement\":110,\"direction_tb\":111,\"direction_bt\":112,\"direction_rl\":113,\"direction_lr\":114,\"PUNCTUATION\":115,\"UNICODE_TEXT\":116,\"PLUS\":117,\"EQUALS\":118,\"MULT\":119,\"UNDERSCORE\":120,\"graphCodeTokens\":121,\"ARROW_CROSS\":122,\"ARROW_POINT\":123,\"ARROW_CIRCLE\":124,\"ARROW_OPEN\":125,\"QUOTE\":126,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",10:\":\",12:\"open_directive\",13:\"type_directive\",14:\"arg_directive\",15:\"close_directive\",20:\"SEMI\",21:\"NEWLINE\",22:\"SPACE\",23:\"EOF\",24:\"GRAPH\",25:\"NODIR\",26:\"DIR\",38:\"subgraph\",40:\"SQS\",41:\"SQE\",42:\"end\",47:\"AMP\",48:\"STYLE_SEPARATOR\",50:\"PS\",51:\"PE\",52:\"(-\",53:\"-)\",54:\"STADIUMSTART\",55:\"STADIUMEND\",56:\"SUBROUTINESTART\",57:\"SUBROUTINEEND\",58:\"VERTEX_WITH_PROPS_START\",59:\"ALPHA\",60:\"COLON\",61:\"PIPE\",62:\"CYLINDERSTART\",63:\"CYLINDEREND\",64:\"DIAMOND_START\",65:\"DIAMOND_STOP\",66:\"TAGEND\",67:\"TRAPSTART\",68:\"TRAPEND\",69:\"INVTRAPSTART\",70:\"INVTRAPEND\",73:\"TESTSTR\",74:\"START_LINK\",75:\"LINK\",77:\"STR\",79:\"STYLE\",80:\"LINKSTYLE\",81:\"CLASSDEF\",82:\"CLASS\",83:\"CLICK\",84:\"DOWN\",85:\"UP\",88:\"DEFAULT\",91:\"CALLBACKNAME\",92:\"CALLBACKARGS\",93:\"HREF\",94:\"LINK_TARGET\",95:\"HEX\",97:\"INTERPOLATE\",98:\"NUM\",99:\"COMMA\",102:\"MINUS\",103:\"UNIT\",104:\"BRKT\",105:\"DOT\",106:\"PCT\",107:\"TAGSTART\",111:\"direction_tb\",112:\"direction_bt\",113:\"direction_rl\",114:\"direction_lr\",115:\"PUNCTUATION\",116:\"UNICODE_TEXT\",117:\"PLUS\",118:\"EQUALS\",119:\"MULT\",120:\"UNDERSCORE\",122:\"ARROW_CROSS\",123:\"ARROW_POINT\",124:\"ARROW_CIRCLE\",125:\"ARROW_OPEN\",126:\"QUOTE\"},\nproductions_: [0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[45,1],[45,5],[45,3],[46,4],[46,6],[46,4],[46,4],[46,4],[46,8],[46,4],[46,4],[46,4],[46,6],[46,4],[46,4],[46,4],[46,4],[46,4],[46,1],[44,2],[44,3],[44,3],[44,1],[44,3],[71,1],[72,3],[39,1],[39,2],[39,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[86,1],[86,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[96,1],[96,3],[89,1],[89,3],[100,1],[100,2],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[87,1],[87,1],[87,1],[87,1],[49,1],[49,2],[90,1],[90,2],[110,1],[110,1],[110,1],[110,1],[43,1],[43,1],[43,1],[43,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 5:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 6:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 7:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 8:\n yy.parseDirective('}%%', 'close_directive', 'flowchart'); \nbreak;\ncase 10:\n this.$ = [];\nbreak;\ncase 11:\n\n\t    if($$[$0] !== []){\n\t        $$[$0-1].push($$[$0]);\n\t    }\n\t    this.$=$$[$0-1];\nbreak;\ncase 12: case 78: case 80: case 92: case 148: case 150: case 151:\nthis.$=$$[$0];\nbreak;\ncase 19:\n yy.setDirection('TB');this.$ = 'TB';\nbreak;\ncase 20:\n yy.setDirection($$[$0-1]);this.$ = $$[$0-1];\nbreak;\ncase 35:\n /* console.warn('finat vs', $$[$0-1].nodes); */ this.$=$$[$0-1].nodes\nbreak;\ncase 36: case 37: case 38: case 39: case 40:\nthis.$=[];\nbreak;\ncase 41:\nthis.$=yy.addSubGraph($$[$0-6],$$[$0-1],$$[$0-4]);\nbreak;\ncase 42:\nthis.$=yy.addSubGraph($$[$0-3],$$[$0-1],$$[$0-3]);\nbreak;\ncase 43:\nthis.$=yy.addSubGraph(undefined,$$[$0-1],undefined);\nbreak;\ncase 48:\n /* console.warn('vs',$$[$0-2].stmt,$$[$0]); */ yy.addLink($$[$0-2].stmt,$$[$0],$$[$0-1]); this.$ = { stmt: $$[$0], nodes: $$[$0].concat($$[$0-2].nodes) } \nbreak;\ncase 49:\n /* console.warn('vs',$$[$0-3].stmt,$$[$0-1]); */ yy.addLink($$[$0-3].stmt,$$[$0-1],$$[$0-2]); this.$ = { stmt: $$[$0-1], nodes: $$[$0-1].concat($$[$0-3].nodes) } \nbreak;\ncase 50:\n/*console.warn('noda', $$[$0-1]);*/ this.$ = {stmt: $$[$0-1], nodes:$$[$0-1] }\nbreak;\ncase 51:\n /*console.warn('noda', $$[$0]);*/ this.$ = {stmt: $$[$0], nodes:$$[$0] }\nbreak;\ncase 52:\n /* console.warn('nod', $$[$0]); */ this.$ = [$$[$0]];\nbreak;\ncase 53:\n this.$ = $$[$0-4].concat($$[$0]); /* console.warn('pip', $$[$0-4][0], $$[$0], this.$); */ \nbreak;\ncase 54:\nthis.$ = [$$[$0-2]];yy.setClass($$[$0-2],$$[$0])\nbreak;\ncase 55:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'square');\nbreak;\ncase 56:\nthis.$ = $$[$0-5];yy.addVertex($$[$0-5],$$[$0-2],'circle');\nbreak;\ncase 57:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'ellipse');\nbreak;\ncase 58:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'stadium');\nbreak;\ncase 59:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'subroutine');\nbreak;\ncase 60:\nthis.$ = $$[$0-7];yy.addVertex($$[$0-7],$$[$0-1],'rect',undefined,undefined,undefined, Object.fromEntries([[$$[$0-5], $$[$0-3]]]));\nbreak;\ncase 61:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'cylinder');\nbreak;\ncase 62:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'round');\nbreak;\ncase 63:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'diamond');\nbreak;\ncase 64:\nthis.$ = $$[$0-5];yy.addVertex($$[$0-5],$$[$0-2],'hexagon');\nbreak;\ncase 65:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'odd');\nbreak;\ncase 66:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'trapezoid');\nbreak;\ncase 67:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'inv_trapezoid');\nbreak;\ncase 68:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'lean_right');\nbreak;\ncase 69:\nthis.$ = $$[$0-3];yy.addVertex($$[$0-3],$$[$0-1],'lean_left');\nbreak;\ncase 70:\n /*console.warn('h: ', $$[$0]);*/this.$ = $$[$0];yy.addVertex($$[$0]);\nbreak;\ncase 71:\n$$[$0-1].text = $$[$0];this.$ = $$[$0-1];\nbreak;\ncase 72: case 73:\n$$[$0-2].text = $$[$0-1];this.$ = $$[$0-2];\nbreak;\ncase 74:\nthis.$ = $$[$0];\nbreak;\ncase 75:\nvar inf = yy.destructLink($$[$0], $$[$0-2]); this.$ = {\"type\":inf.type,\"stroke\":inf.stroke,\"length\":inf.length,\"text\":$$[$0-1]};\nbreak;\ncase 76:\nvar inf = yy.destructLink($$[$0]);this.$ = {\"type\":inf.type,\"stroke\":inf.stroke,\"length\":inf.length};\nbreak;\ncase 77:\nthis.$ = $$[$0-1];\nbreak;\ncase 79: case 93: case 149:\nthis.$=$$[$0-1]+''+$$[$0];\nbreak;\ncase 94: case 95:\nthis.$ = $$[$0-4];yy.addClass($$[$0-2],$$[$0]);\nbreak;\ncase 96:\nthis.$ = $$[$0-4];yy.setClass($$[$0-2], $$[$0]);\nbreak;\ncase 97: case 105:\nthis.$ = $$[$0-1];yy.setClickEvent($$[$0-1], $$[$0]);\nbreak;\ncase 98: case 106:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-3], $$[$0-2]);yy.setTooltip($$[$0-3], $$[$0]);\nbreak;\ncase 99:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 100:\nthis.$ = $$[$0-4];yy.setClickEvent($$[$0-4], $$[$0-3], $$[$0-2]);yy.setTooltip($$[$0-4], $$[$0]);\nbreak;\ncase 101: case 107:\nthis.$ = $$[$0-1];yy.setLink($$[$0-1], $$[$0]);\nbreak;\ncase 102: case 108:\nthis.$ = $$[$0-3];yy.setLink($$[$0-3], $$[$0-2]);yy.setTooltip($$[$0-3], $$[$0]);\nbreak;\ncase 103: case 109:\nthis.$ = $$[$0-3];yy.setLink($$[$0-3], $$[$0-2], $$[$0]);\nbreak;\ncase 104: case 110:\nthis.$ = $$[$0-5];yy.setLink($$[$0-5], $$[$0-4], $$[$0]);yy.setTooltip($$[$0-5], $$[$0-2]);\nbreak;\ncase 111:\nthis.$ = $$[$0-4];yy.addVertex($$[$0-2],undefined,undefined,$$[$0]);\nbreak;\ncase 112: case 114:\nthis.$ = $$[$0-4];yy.updateLink($$[$0-2],$$[$0]);\nbreak;\ncase 113:\nthis.$ = $$[$0-4];yy.updateLink([$$[$0-2]],$$[$0]);\nbreak;\ncase 115:\nthis.$ = $$[$0-8];yy.updateLinkInterpolate([$$[$0-6]],$$[$0-2]);yy.updateLink([$$[$0-6]],$$[$0]);\nbreak;\ncase 116:\nthis.$ = $$[$0-8];yy.updateLinkInterpolate($$[$0-6],$$[$0-2]);yy.updateLink($$[$0-6],$$[$0]);\nbreak;\ncase 117:\nthis.$ = $$[$0-6];yy.updateLinkInterpolate([$$[$0-4]],$$[$0]);\nbreak;\ncase 118:\nthis.$ = $$[$0-6];yy.updateLinkInterpolate($$[$0-4],$$[$0]);\nbreak;\ncase 119: case 121:\nthis.$ = [$$[$0]]\nbreak;\ncase 120: case 122:\n$$[$0-2].push($$[$0]);this.$ = $$[$0-2];\nbreak;\ncase 124:\nthis.$ = $$[$0-1] + $$[$0];\nbreak;\ncase 146:\nthis.$=$$[$0]\nbreak;\ncase 147:\nthis.$=$$[$0-1]+''+$$[$0]\nbreak;\ncase 152:\nthis.$='v';\nbreak;\ncase 153:\nthis.$='-';\nbreak;\ncase 154:\n this.$={stmt:'dir', value:'TB'};\nbreak;\ncase 155:\n this.$={stmt:'dir', value:'BT'};\nbreak;\ncase 156:\n this.$={stmt:'dir', value:'RL'};\nbreak;\ncase 157:\n this.$={stmt:'dir', value:'LR'};\nbreak;\n}\n},\ntable: [{3:1,4:2,5:3,6:5,12:$V0,16:4,21:$V1,22:$V2,24:$V3},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:$V0,16:4,21:$V1,22:$V2,24:$V3},o($V4,$V5,{17:11}),{7:12,13:[1,13]},{16:14,21:$V1,22:$V2,24:$V3},{16:15,21:$V1,22:$V2,24:$V3},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,43:31,45:32,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,79:$Ve,80:$Vf,81:$Vg,82:$Vh,83:$Vi,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{8:61,10:[1,62],15:$VA},o([10,15],[2,6]),o($V4,[2,17]),o($V4,[2,18]),o($V4,[2,19]),{20:[1,65],21:[1,66],22:$VB,27:64,30:67},o($VC,[2,11]),o($VC,[2,12]),o($VC,[2,13]),o($VC,[2,14]),o($VC,[2,15]),o($VC,[2,16]),{9:69,20:$VD,21:$VE,23:$VF,44:70,71:74,74:[1,75],75:[1,76]},{9:77,20:$VD,21:$VE,23:$VF},{9:78,20:$VD,21:$VE,23:$VF},{9:79,20:$VD,21:$VE,23:$VF},{9:80,20:$VD,21:$VE,23:$VF},{9:81,20:$VD,21:$VE,23:$VF},{9:83,20:$VD,21:$VE,22:[1,82],23:$VF},o($VC,[2,44]),o($VG,[2,51],{30:84,22:$VB}),{22:[1,85]},{22:[1,86]},{22:[1,87]},{22:[1,88]},{26:$VH,47:$VI,59:$VJ,60:$VK,77:[1,92],84:$VL,90:91,91:[1,89],93:[1,90],98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VC,[2,154]),o($VC,[2,155]),o($VC,[2,156]),o($VC,[2,157]),o($VX,[2,52],{48:[1,111]}),o($VY,[2,70],{109:123,40:[1,112],47:$Vb,50:[1,113],52:[1,114],54:[1,115],56:[1,116],58:[1,117],59:$Vc,60:$Vd,62:[1,118],64:[1,119],66:[1,120],67:[1,121],69:[1,122],84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz}),o($VZ,[2,146]),o($VZ,[2,171]),o($VZ,[2,172]),o($VZ,[2,173]),o($VZ,[2,174]),o($VZ,[2,175]),o($VZ,[2,176]),o($VZ,[2,177]),o($VZ,[2,178]),o($VZ,[2,179]),o($VZ,[2,180]),o($VZ,[2,181]),o($VZ,[2,182]),o($VZ,[2,183]),o($VZ,[2,184]),o($VZ,[2,185]),o($VZ,[2,186]),{9:124,20:$VD,21:$VE,23:$VF},{11:125,14:[1,126]},o($V_,[2,8]),o($V4,[2,20]),o($V4,[2,26]),o($V4,[2,27]),{21:[1,127]},o($V$,[2,34],{30:128,22:$VB}),o($VC,[2,35]),{45:129,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},o($V01,[2,45]),o($V01,[2,46]),o($V01,[2,47]),o($V11,[2,74],{72:130,61:[1,132],73:[1,131]}),{22:$V21,24:$V31,26:$V41,38:$V51,39:133,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o([47,59,60,61,73,84,88,98,99,102,104,105,115,116,117,118,119,120],[2,76]),o($VC,[2,36]),o($VC,[2,37]),o($VC,[2,38]),o($VC,[2,39]),o($VC,[2,40]),{22:$V21,24:$V31,26:$V41,38:$V51,39:157,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($Vl1,$V5,{17:158}),o($VG,[2,50],{47:$Vm1}),{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:160,95:[1,161],98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{88:[1,162],96:163,98:[1,164]},{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,88:[1,165],90:166,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:167,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($V_,[2,97],{22:[1,168],92:[1,169]}),o($V_,[2,101],{22:[1,170]}),o($V_,[2,105],{108:95,110:172,22:[1,171],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW}),o($V_,[2,107],{22:[1,173]}),o($Vn1,[2,148]),o($Vn1,[2,150]),o($Vn1,[2,151]),o($Vn1,[2,152]),o($Vn1,[2,153]),o($Vo1,[2,158]),o($Vo1,[2,159]),o($Vo1,[2,160]),o($Vo1,[2,161]),o($Vo1,[2,162]),o($Vo1,[2,163]),o($Vo1,[2,164]),o($Vo1,[2,165]),o($Vo1,[2,166]),o($Vo1,[2,167]),o($Vo1,[2,168]),o($Vo1,[2,169]),o($Vo1,[2,170]),{47:$Vb,49:174,59:$Vc,60:$Vd,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{22:$V21,24:$V31,26:$V41,38:$V51,39:175,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:177,42:$V61,47:$VI,50:[1,176],59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:178,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:179,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:180,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{59:[1,181]},{22:$V21,24:$V31,26:$V41,38:$V51,39:182,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:183,42:$V61,47:$VI,59:$VJ,60:$VK,64:[1,184],66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:185,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:186,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:187,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VZ,[2,147]),o($Vp1,[2,3]),{8:188,15:$VA},{15:[2,7]},o($V4,[2,28]),o($V$,[2,33]),o($VG,[2,48],{30:189,22:$VB}),o($V11,[2,71],{22:[1,190]}),{22:[1,191]},{22:$V21,24:$V31,26:$V41,38:$V51,39:192,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,75:[1,193],76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($Vo1,[2,78]),o($Vo1,[2,80]),o($Vo1,[2,136]),o($Vo1,[2,137]),o($Vo1,[2,138]),o($Vo1,[2,139]),o($Vo1,[2,140]),o($Vo1,[2,141]),o($Vo1,[2,142]),o($Vo1,[2,143]),o($Vo1,[2,144]),o($Vo1,[2,145]),o($Vo1,[2,81]),o($Vo1,[2,82]),o($Vo1,[2,83]),o($Vo1,[2,84]),o($Vo1,[2,85]),o($Vo1,[2,86]),o($Vo1,[2,87]),o($Vo1,[2,88]),o($Vo1,[2,89]),o($Vo1,[2,90]),o($Vo1,[2,91]),{9:196,20:$VD,21:$VE,22:$V21,23:$VF,24:$V31,26:$V41,38:$V51,40:[1,195],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,197],43:31,45:32,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,79:$Ve,80:$Vf,81:$Vg,82:$Vh,83:$Vi,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{22:$VB,30:198},{22:[1,199],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:172,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:[1,200]},{22:[1,201]},{22:[1,202],99:[1,203]},o($Vq1,[2,119]),{22:[1,204]},{22:[1,205],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:172,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:[1,206],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:172,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{77:[1,207]},o($V_,[2,99],{22:[1,208]}),{77:[1,209],94:[1,210]},{77:[1,211]},o($Vn1,[2,149]),{77:[1,212],94:[1,213]},o($VX,[2,54],{109:123,47:$Vb,59:$Vc,60:$Vd,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz}),{22:$V21,24:$V31,26:$V41,38:$V51,41:[1,214],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:215,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,51:[1,216],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,53:[1,217],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,55:[1,218],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,57:[1,219],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{60:[1,220]},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,63:[1,221],66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,65:[1,222],66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:223,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,41:[1,224],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,68:[1,225],70:[1,226],74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,68:[1,228],70:[1,227],74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{9:229,20:$VD,21:$VE,23:$VF},o($VG,[2,49],{47:$Vm1}),o($V11,[2,73]),o($V11,[2,72]),{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,61:[1,230],66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($V11,[2,75]),o($Vo1,[2,79]),{22:$V21,24:$V31,26:$V41,38:$V51,39:231,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($Vl1,$V5,{17:232}),o($VC,[2,43]),{46:233,47:$Vb,49:43,59:$Vc,60:$Vd,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:234,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:248,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:249,95:$Vv1,97:[1,250],98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:251,95:$Vv1,97:[1,252],98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{98:[1,253]},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:254,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:255,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:256,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($V_,[2,98]),{77:[1,257]},o($V_,[2,102],{22:[1,258]}),o($V_,[2,103]),o($V_,[2,106]),o($V_,[2,108],{22:[1,259]}),o($V_,[2,109]),o($VY,[2,55]),{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,51:[1,260],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VY,[2,62]),o($VY,[2,57]),o($VY,[2,58]),o($VY,[2,59]),{59:[1,261]},o($VY,[2,61]),o($VY,[2,63]),{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,65:[1,262],66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VY,[2,65]),o($VY,[2,66]),o($VY,[2,68]),o($VY,[2,67]),o($VY,[2,69]),o($Vp1,[2,4]),o([22,47,59,60,84,88,98,99,102,104,105,115,116,117,118,119,120],[2,77]),{22:$V21,24:$V31,26:$V41,38:$V51,41:[1,263],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,264],43:31,45:32,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,79:$Ve,80:$Vf,81:$Vg,82:$Vh,83:$Vi,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},o($VX,[2,53]),o($V_,[2,111],{99:$VC1}),o($VD1,[2,121],{101:266,22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,95:$Vv1,98:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1}),o($VE1,[2,123]),o($VE1,[2,125]),o($VE1,[2,126]),o($VE1,[2,127]),o($VE1,[2,128]),o($VE1,[2,129]),o($VE1,[2,130]),o($VE1,[2,131]),o($VE1,[2,132]),o($VE1,[2,133]),o($VE1,[2,134]),o($VE1,[2,135]),o($V_,[2,112],{99:$VC1}),o($V_,[2,113],{99:$VC1}),{22:[1,267]},o($V_,[2,114],{99:$VC1}),{22:[1,268]},o($Vq1,[2,120]),o($V_,[2,94],{99:$VC1}),o($V_,[2,95],{99:$VC1}),o($V_,[2,96],{108:95,110:172,26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW}),o($V_,[2,100]),{94:[1,269]},{94:[1,270]},{51:[1,271]},{61:[1,272]},{65:[1,273]},{9:274,20:$VD,21:$VE,23:$VF},o($VC,[2,42]),{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,95:$Vv1,98:$Vw1,100:275,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},o($VE1,[2,124]),{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:276,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:277,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($V_,[2,104]),o($V_,[2,110]),o($VY,[2,56]),{22:$V21,24:$V31,26:$V41,38:$V51,39:278,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VY,[2,64]),o($Vl1,$V5,{17:279}),o($VD1,[2,122],{101:266,22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,95:$Vv1,98:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1}),o($V_,[2,117],{108:95,110:172,22:[1,280],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW}),o($V_,[2,118],{108:95,110:172,22:[1,281],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW}),{22:$V21,24:$V31,26:$V41,38:$V51,41:[1,282],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,283],43:31,45:32,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,79:$Ve,80:$Vf,81:$Vg,82:$Vh,83:$Vi,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:284,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:285,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},o($VY,[2,60]),o($VC,[2,41]),o($V_,[2,115],{99:$VC1}),o($V_,[2,116],{99:$VC1})],\ndefaultActions: {2:[2,1],9:[2,5],10:[2,2],126:[2,7]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 12; \nbreak;\ncase 1: this.begin('type_directive'); return 13; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 10; \nbreak;\ncase 3: this.popState(); this.popState(); return 15; \nbreak;\ncase 4:return 14;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */\nbreak;\ncase 7:this.begin(\"string\");\nbreak;\ncase 8:this.popState();\nbreak;\ncase 9:return \"STR\";\nbreak;\ncase 10:return 79;\nbreak;\ncase 11:return 88;\nbreak;\ncase 12:return 80;\nbreak;\ncase 13:return 97;\nbreak;\ncase 14:return 81;\nbreak;\ncase 15:return 82;\nbreak;\ncase 16:this.begin(\"href\");\nbreak;\ncase 17:this.popState();\nbreak;\ncase 18:return 93;\nbreak;\ncase 19:this.begin(\"callbackname\");\nbreak;\ncase 20:this.popState();\nbreak;\ncase 21:this.popState(); this.begin(\"callbackargs\");\nbreak;\ncase 22:return 91;\nbreak;\ncase 23:this.popState();\nbreak;\ncase 24:return 92;\nbreak;\ncase 25:this.begin(\"click\");\nbreak;\ncase 26:this.popState();\nbreak;\ncase 27:return 83;\nbreak;\ncase 28:if(yy.lex.firstGraph()){this.begin(\"dir\");}  return 24;\nbreak;\ncase 29:if(yy.lex.firstGraph()){this.begin(\"dir\");}  return 24;\nbreak;\ncase 30:return 38;\nbreak;\ncase 31:return 42;\nbreak;\ncase 32:return 94;\nbreak;\ncase 33:return 94;\nbreak;\ncase 34:return 94;\nbreak;\ncase 35:return 94;\nbreak;\ncase 36:   this.popState();  return 25; \nbreak;\ncase 37:   this.popState();  return 26; \nbreak;\ncase 38:   this.popState();  return 26; \nbreak;\ncase 39:   this.popState();  return 26; \nbreak;\ncase 40:   this.popState();  return 26; \nbreak;\ncase 41:   this.popState();  return 26; \nbreak;\ncase 42:   this.popState();  return 26; \nbreak;\ncase 43:   this.popState();  return 26; \nbreak;\ncase 44:   this.popState();  return 26; \nbreak;\ncase 45:   this.popState();  return 26; \nbreak;\ncase 46:   this.popState();  return 26; \nbreak;\ncase 47:return 111;\nbreak;\ncase 48:return 112;\nbreak;\ncase 49:return 113;\nbreak;\ncase 50:return 114;\nbreak;\ncase 51: return 98;\nbreak;\ncase 52:return 104;\nbreak;\ncase 53:return 48;\nbreak;\ncase 54:return 60;\nbreak;\ncase 55:return 47;\nbreak;\ncase 56:return 20;\nbreak;\ncase 57:return 99;\nbreak;\ncase 58:return 119;\nbreak;\ncase 59:return 75;\nbreak;\ncase 60:return 75;\nbreak;\ncase 61:return 75;\nbreak;\ncase 62:return 74;\nbreak;\ncase 63:return 74;\nbreak;\ncase 64:return 74;\nbreak;\ncase 65:return 52;\nbreak;\ncase 66:return 53;\nbreak;\ncase 67:return 54;\nbreak;\ncase 68:return 55;\nbreak;\ncase 69:return 56;\nbreak;\ncase 70:return 57;\nbreak;\ncase 71:return 58;\nbreak;\ncase 72:return 62;\nbreak;\ncase 73:return 63;\nbreak;\ncase 74:return 102;\nbreak;\ncase 75:return 105;\nbreak;\ncase 76:return 120;\nbreak;\ncase 77:return 117;\nbreak;\ncase 78:return 106;\nbreak;\ncase 79:return 118;\nbreak;\ncase 80:return 118;\nbreak;\ncase 81:return 107;\nbreak;\ncase 82:return 66;\nbreak;\ncase 83:return 85;\nbreak;\ncase 84:return 'SEP';\nbreak;\ncase 85:return 84;\nbreak;\ncase 86:return 59;\nbreak;\ncase 87:return 68;\nbreak;\ncase 88:return 67;\nbreak;\ncase 89:return 70;\nbreak;\ncase 90:return 69;\nbreak;\ncase 91:return 115;\nbreak;\ncase 92:return 116;\nbreak;\ncase 93:return 61;\nbreak;\ncase 94:return 50;\nbreak;\ncase 95:return 51;\nbreak;\ncase 96:return 40;\nbreak;\ncase 97:return 41;\nbreak;\ncase 98:return 64\nbreak;\ncase 99:return 65\nbreak;\ncase 100:return 126;\nbreak;\ncase 101:return 21;\nbreak;\ncase 102:return 22;\nbreak;\ncase 103:return 23;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/,/^(?:((?:(?!\\}%%)[^:.])*))/,/^(?::)/,/^(?:\\}%%)/,/^(?:((?:(?!\\}%%).|\\n)*))/,/^(?:%%(?!\\{)[^\\n]*)/,/^(?:[^\\}]%%[^\\n]*)/,/^(?:[\"])/,/^(?:[\"])/,/^(?:[^\"]*)/,/^(?:style\\b)/,/^(?:default\\b)/,/^(?:linkStyle\\b)/,/^(?:interpolate\\b)/,/^(?:classDef\\b)/,/^(?:class\\b)/,/^(?:href[\\s]+[\"])/,/^(?:[\"])/,/^(?:[^\"]*)/,/^(?:call[\\s]+)/,/^(?:\\([\\s]*\\))/,/^(?:\\()/,/^(?:[^(]*)/,/^(?:\\))/,/^(?:[^)]*)/,/^(?:click[\\s]+)/,/^(?:[\\s\\n])/,/^(?:[^\\s\\n]*)/,/^(?:graph\\b)/,/^(?:flowchart\\b)/,/^(?:subgraph\\b)/,/^(?:end\\b\\s*)/,/^(?:_self\\b)/,/^(?:_blank\\b)/,/^(?:_parent\\b)/,/^(?:_top\\b)/,/^(?:(\\r?\\n)*\\s*\\n)/,/^(?:\\s*LR\\b)/,/^(?:\\s*RL\\b)/,/^(?:\\s*TB\\b)/,/^(?:\\s*BT\\b)/,/^(?:\\s*TD\\b)/,/^(?:\\s*BR\\b)/,/^(?:\\s*<)/,/^(?:\\s*>)/,/^(?:\\s*\\^)/,/^(?:\\s*v\\b)/,/^(?:.*direction\\s+TB[^\\n]*)/,/^(?:.*direction\\s+BT[^\\n]*)/,/^(?:.*direction\\s+RL[^\\n]*)/,/^(?:.*direction\\s+LR[^\\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\\*)/,/^(?:\\s*[xo<]?--+[-xo>]\\s*)/,/^(?:\\s*[xo<]?==+[=xo>]\\s*)/,/^(?:\\s*[xo<]?-?\\.+-[xo>]?\\s*)/,/^(?:\\s*[xo<]?--\\s*)/,/^(?:\\s*[xo<]?==\\s*)/,/^(?:\\s*[xo<]?-\\.\\s*)/,/^(?:\\(-)/,/^(?:-\\))/,/^(?:\\(\\[)/,/^(?:\\]\\))/,/^(?:\\[\\[)/,/^(?:\\]\\])/,/^(?:\\[\\|)/,/^(?:\\[\\()/,/^(?:\\)\\])/,/^(?:-)/,/^(?:\\.)/,/^(?:[\\_])/,/^(?:\\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\\^)/,/^(?:\\\\\\|)/,/^(?:v\\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\\\\])/,/^(?:\\[\\/)/,/^(?:\\/\\])/,/^(?:\\[\\\\)/,/^(?:[!\"#$%&'*+,-.`?\\\\_/])/,/^(?:[\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6]|[\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377]|[\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5]|[\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA]|[\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE]|[\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA]|[\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0]|[\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977]|[\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2]|[\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A]|[\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39]|[\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8]|[\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C]|[\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C]|[\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99]|[\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0]|[\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D]|[\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3]|[\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10]|[\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1]|[\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81]|[\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3]|[\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6]|[\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A]|[\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081]|[\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D]|[\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0]|[\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310]|[\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C]|[\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711]|[\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7]|[\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C]|[\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16]|[\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF]|[\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC]|[\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D]|[\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D]|[\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3]|[\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F]|[\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128]|[\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184]|[\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3]|[\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6]|[\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE]|[\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C]|[\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D]|[\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC]|[\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B]|[\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788]|[\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805]|[\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB]|[\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28]|[\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5]|[\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4]|[\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E]|[\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D]|[\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36]|[\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D]|[\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC]|[\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF]|[\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC])/,/^(?:\\|)/,/^(?:\\()/,/^(?:\\))/,/^(?:\\[)/,/^(?:\\])/,/^(?:\\{)/,/^(?:\\})/,/^(?:\")/,/^(?:(\\r?\\n)+)/,/^(?:\\s)/,/^(?:$)/],\nconditions: {\"close_directive\":{\"rules\":[],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"callbackargs\":{\"rules\":[23,24],\"inclusive\":false},\"callbackname\":{\"rules\":[20,21,22],\"inclusive\":false},\"href\":{\"rules\":[17,18],\"inclusive\":false},\"click\":{\"rules\":[26,27],\"inclusive\":false},\"vertex\":{\"rules\":[],\"inclusive\":false},\"dir\":{\"rules\":[36,37,38,39,40,41,42,43,44,45,46],\"inclusive\":false},\"string\":{\"rules\":[8,9],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,10,11,12,13,14,15,16,19,25,28,29,30,31,32,33,34,35,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,3],$V1=[1,5],$V2=[7,9,11,12,13,14,15,16,17,18,19,20,22,29,34],$V3=[1,15],$V4=[1,16],$V5=[1,17],$V6=[1,18],$V7=[1,19],$V8=[1,20],$V9=[1,21],$Va=[1,22],$Vb=[1,23],$Vc=[1,25],$Vd=[1,27],$Ve=[1,30],$Vf=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,29,34];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"directive\":4,\"gantt\":5,\"document\":6,\"EOF\":7,\"line\":8,\"SPACE\":9,\"statement\":10,\"NL\":11,\"dateFormat\":12,\"inclusiveEndDates\":13,\"topAxis\":14,\"axisFormat\":15,\"excludes\":16,\"includes\":17,\"todayMarker\":18,\"title\":19,\"section\":20,\"clickStatement\":21,\"taskTxt\":22,\"taskData\":23,\"openDirective\":24,\"typeDirective\":25,\"closeDirective\":26,\":\":27,\"argDirective\":28,\"click\":29,\"callbackname\":30,\"callbackargs\":31,\"href\":32,\"clickStatementDebug\":33,\"open_directive\":34,\"type_directive\":35,\"arg_directive\":36,\"close_directive\":37,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"gantt\",7:\"EOF\",9:\"SPACE\",11:\"NL\",12:\"dateFormat\",13:\"inclusiveEndDates\",14:\"topAxis\",15:\"axisFormat\",16:\"excludes\",17:\"includes\",18:\"todayMarker\",19:\"title\",20:\"section\",22:\"taskTxt\",23:\"taskData\",27:\":\",29:\"click\",30:\"callbackname\",31:\"callbackargs\",32:\"href\",34:\"open_directive\",35:\"type_directive\",36:\"arg_directive\",37:\"close_directive\"},\nproductions_: [0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[21,2],[21,3],[21,3],[21,4],[21,3],[21,4],[21,2],[33,2],[33,3],[33,3],[33,4],[33,3],[33,4],[33,2],[24,1],[25,1],[28,1],[26,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 2:\n return $$[$0-1]; \nbreak;\ncase 3:\n this.$ = [] \nbreak;\ncase 4:\n$$[$0-1].push($$[$0]);this.$ = $$[$0-1]\nbreak;\ncase 5: case 6:\n this.$ = $$[$0] \nbreak;\ncase 7: case 8:\n this.$=[];\nbreak;\ncase 9:\nyy.setDateFormat($$[$0].substr(11));this.$=$$[$0].substr(11);\nbreak;\ncase 10:\nyy.enableInclusiveEndDates();this.$=$$[$0].substr(18);\nbreak;\ncase 11:\nyy.TopAxis();this.$=$$[$0].substr(8);\nbreak;\ncase 12:\nyy.setAxisFormat($$[$0].substr(11));this.$=$$[$0].substr(11);\nbreak;\ncase 13:\nyy.setExcludes($$[$0].substr(9));this.$=$$[$0].substr(9);\nbreak;\ncase 14:\nyy.setIncludes($$[$0].substr(9));this.$=$$[$0].substr(9);\nbreak;\ncase 15:\nyy.setTodayMarker($$[$0].substr(12));this.$=$$[$0].substr(12);\nbreak;\ncase 16:\nyy.setTitle($$[$0].substr(6));this.$=$$[$0].substr(6);\nbreak;\ncase 17:\nyy.addSection($$[$0].substr(8));this.$=$$[$0].substr(8);\nbreak;\ncase 19:\nyy.addTask($$[$0-1],$$[$0]);this.$='task';\nbreak;\ncase 23:\nthis.$ = $$[$0-1];yy.setClickEvent($$[$0-1], $$[$0], null);\nbreak;\ncase 24:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-2], $$[$0-1], $$[$0]);\nbreak;\ncase 25:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-2], $$[$0-1], null);yy.setLink($$[$0-2],$$[$0]);\nbreak;\ncase 26:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-3], $$[$0-2], $$[$0-1]);yy.setLink($$[$0-3],$$[$0]);\nbreak;\ncase 27:\nthis.$ = $$[$0-2];yy.setClickEvent($$[$0-2], $$[$0], null);yy.setLink($$[$0-2],$$[$0-1]);\nbreak;\ncase 28:\nthis.$ = $$[$0-3];yy.setClickEvent($$[$0-3], $$[$0-1], $$[$0]);yy.setLink($$[$0-3],$$[$0-2]);\nbreak;\ncase 29:\nthis.$ = $$[$0-1];yy.setLink($$[$0-1], $$[$0]);\nbreak;\ncase 30: case 36:\nthis.$=$$[$0-1] + ' ' + $$[$0];\nbreak;\ncase 31: case 32: case 34:\nthis.$=$$[$0-2] + ' ' + $$[$0-1] + ' ' + $$[$0];\nbreak;\ncase 33: case 35:\nthis.$=$$[$0-3] + ' ' + $$[$0-2] + ' ' + $$[$0-1] + ' ' + $$[$0];\nbreak;\ncase 37:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 38:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 39:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 40:\n yy.parseDirective('}%%', 'close_directive', 'gantt'); \nbreak;\n}\n},\ntable: [{3:1,4:2,5:$V0,24:4,34:$V1},{1:[3]},{3:6,4:2,5:$V0,24:4,34:$V1},o($V2,[2,3],{6:7}),{25:8,35:[1,9]},{35:[2,37]},{1:[2,1]},{4:26,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,17:$V8,18:$V9,19:$Va,20:$Vb,21:24,22:$Vc,24:4,29:$Vd,34:$V1},{26:28,27:[1,29],37:$Ve},o([27,37],[2,38]),o($V2,[2,8],{1:[2,2]}),o($V2,[2,4]),{4:26,10:31,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,17:$V8,18:$V9,19:$Va,20:$Vb,21:24,22:$Vc,24:4,29:$Vd,34:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,9]),o($V2,[2,10]),o($V2,[2,11]),o($V2,[2,12]),o($V2,[2,13]),o($V2,[2,14]),o($V2,[2,15]),o($V2,[2,16]),o($V2,[2,17]),o($V2,[2,18]),{23:[1,32]},o($V2,[2,20]),{30:[1,33],32:[1,34]},{11:[1,35]},{28:36,36:[1,37]},{11:[2,40]},o($V2,[2,5]),o($V2,[2,19]),o($V2,[2,23],{31:[1,38],32:[1,39]}),o($V2,[2,29],{30:[1,40]}),o($Vf,[2,21]),{26:41,37:$Ve},{37:[2,39]},o($V2,[2,24],{32:[1,42]}),o($V2,[2,25]),o($V2,[2,27],{31:[1,43]}),{11:[1,44]},o($V2,[2,26]),o($V2,[2,28]),o($Vf,[2,22])],\ndefaultActions: {5:[2,37],6:[2,1],30:[2,40],37:[2,39]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 34; \nbreak;\ncase 1: this.begin('type_directive'); return 35; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 27; \nbreak;\ncase 3: this.popState(); this.popState(); return 37; \nbreak;\ncase 4:return 36;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */\nbreak;\ncase 7:/* do nothing */\nbreak;\ncase 8:return 11;\nbreak;\ncase 9:/* skip whitespace */\nbreak;\ncase 10:/* skip comments */\nbreak;\ncase 11:/* skip comments */\nbreak;\ncase 12:this.begin(\"href\");\nbreak;\ncase 13:this.popState();\nbreak;\ncase 14:return 32;\nbreak;\ncase 15:this.begin(\"callbackname\");\nbreak;\ncase 16:this.popState();\nbreak;\ncase 17:this.popState(); this.begin(\"callbackargs\");\nbreak;\ncase 18:return 30;\nbreak;\ncase 19:this.popState();\nbreak;\ncase 20:return 31;\nbreak;\ncase 21:this.begin(\"click\");\nbreak;\ncase 22:this.popState();\nbreak;\ncase 23:return 29;\nbreak;\ncase 24:return 5;\nbreak;\ncase 25:return 12;\nbreak;\ncase 26:return 13;\nbreak;\ncase 27:return 14;\nbreak;\ncase 28:return 15;\nbreak;\ncase 29:return 17;\nbreak;\ncase 30:return 16;\nbreak;\ncase 31:return 18;\nbreak;\ncase 32:return 'date';\nbreak;\ncase 33:return 19;\nbreak;\ncase 34:return 20;\nbreak;\ncase 35:return 22;\nbreak;\ncase 36:return 23;\nbreak;\ncase 37:return 27;\nbreak;\ncase 38:return 7;\nbreak;\ncase 39:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%%(?!\\{)*[^\\n]*)/i,/^(?:[^\\}]%%*[^\\n]*)/i,/^(?:%%*[^\\n]*[\\n]*)/i,/^(?:[\\n]+)/i,/^(?:\\s+)/i,/^(?:#[^\\n]*)/i,/^(?:%[^\\n]*)/i,/^(?:href[\\s]+[\"])/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:call[\\s]+)/i,/^(?:\\([\\s]*\\))/i,/^(?:\\()/i,/^(?:[^(]*)/i,/^(?:\\))/i,/^(?:[^)]*)/i,/^(?:click[\\s]+)/i,/^(?:[\\s\\n])/i,/^(?:[^\\s\\n]*)/i,/^(?:gantt\\b)/i,/^(?:dateFormat\\s[^#\\n;]+)/i,/^(?:inclusiveEndDates\\b)/i,/^(?:topAxis\\b)/i,/^(?:axisFormat\\s[^#\\n;]+)/i,/^(?:includes\\s[^#\\n;]+)/i,/^(?:excludes\\s[^#\\n;]+)/i,/^(?:todayMarker\\s[^\\n;]+)/i,/^(?:\\d\\d\\d\\d-\\d\\d-\\d\\d\\b)/i,/^(?:title\\s[^#\\n;]+)/i,/^(?:section\\s[^#:\\n;]+)/i,/^(?:[^#:\\n;]+)/i,/^(?::[^#\\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"close_directive\":{\"rules\":[],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"callbackargs\":{\"rules\":[19,20],\"inclusive\":false},\"callbackname\":{\"rules\":[16,17,18],\"inclusive\":false},\"href\":{\"rules\":[13,14],\"inclusive\":false},\"click\":{\"rules\":[22,23],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,11,12,15,21,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[2,3],$V1=[1,7],$V2=[7,12,15,17,19,20,21],$V3=[7,11,12,15,17,19,20,21],$V4=[2,20],$V5=[1,32];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"GG\":4,\":\":5,\"document\":6,\"EOF\":7,\"DIR\":8,\"options\":9,\"body\":10,\"OPT\":11,\"NL\":12,\"line\":13,\"statement\":14,\"COMMIT\":15,\"commit_arg\":16,\"BRANCH\":17,\"ID\":18,\"CHECKOUT\":19,\"MERGE\":20,\"RESET\":21,\"reset_arg\":22,\"STR\":23,\"HEAD\":24,\"reset_parents\":25,\"CARET\":26,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"GG\",5:\":\",7:\"EOF\",8:\"DIR\",11:\"OPT\",12:\"NL\",15:\"COMMIT\",17:\"BRANCH\",18:\"ID\",19:\"CHECKOUT\",20:\"MERGE\",21:\"RESET\",23:\"STR\",24:\"HEAD\",26:\"CARET\"},\nproductions_: [0,[3,4],[3,5],[6,0],[6,2],[9,2],[9,1],[10,0],[10,2],[13,2],[13,1],[14,2],[14,2],[14,2],[14,2],[14,2],[16,0],[16,1],[22,2],[22,2],[25,0],[25,2]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return $$[$0-1]; \nbreak;\ncase 2:\nyy.setDirection($$[$0-3]); return $$[$0-1];\nbreak;\ncase 4:\n yy.setOptions($$[$0-1]); this.$ = $$[$0]\nbreak;\ncase 5:\n$$[$0-1] +=$$[$0]; this.$=$$[$0-1]\nbreak;\ncase 7:\nthis.$ = []\nbreak;\ncase 8:\n$$[$0-1].push($$[$0]); this.$=$$[$0-1];\nbreak;\ncase 9:\nthis.$ =$$[$0-1]\nbreak;\ncase 11:\nyy.commit($$[$0])\nbreak;\ncase 12:\nyy.branch($$[$0])\nbreak;\ncase 13:\nyy.checkout($$[$0])\nbreak;\ncase 14:\nyy.merge($$[$0])\nbreak;\ncase 15:\nyy.reset($$[$0])\nbreak;\ncase 16:\nthis.$ = \"\"\nbreak;\ncase 17:\nthis.$=$$[$0]\nbreak;\ncase 18:\nthis.$ = $$[$0-1]+ \":\" + $$[$0] \nbreak;\ncase 19:\nthis.$ = $$[$0-1]+ \":\"  + yy.count; yy.count = 0\nbreak;\ncase 20:\nyy.count = 0\nbreak;\ncase 21:\n yy.count += 1 \nbreak;\n}\n},\ntable: [{3:1,4:[1,2]},{1:[3]},{5:[1,3],8:[1,4]},{6:5,7:$V0,9:6,12:$V1},{5:[1,8]},{7:[1,9]},o($V2,[2,7],{10:10,11:[1,11]}),o($V3,[2,6]),{6:12,7:$V0,9:6,12:$V1},{1:[2,1]},{7:[2,4],12:[1,15],13:13,14:14,15:[1,16],17:[1,17],19:[1,18],20:[1,19],21:[1,20]},o($V3,[2,5]),{7:[1,21]},o($V2,[2,8]),{12:[1,22]},o($V2,[2,10]),{12:[2,16],16:23,23:[1,24]},{18:[1,25]},{18:[1,26]},{18:[1,27]},{18:[1,30],22:28,24:[1,29]},{1:[2,2]},o($V2,[2,9]),{12:[2,11]},{12:[2,17]},{12:[2,12]},{12:[2,13]},{12:[2,14]},{12:[2,15]},{12:$V4,25:31,26:$V5},{12:$V4,25:33,26:$V5},{12:[2,18]},{12:$V4,25:34,26:$V5},{12:[2,19]},{12:[2,21]}],\ndefaultActions: {9:[2,1],21:[2,2],23:[2,11],24:[2,17],25:[2,12],26:[2,13],27:[2,14],28:[2,15],31:[2,18],33:[2,19],34:[2,21]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:return 12;\nbreak;\ncase 1:/* skip all whitespace */\nbreak;\ncase 2:/* skip comments */\nbreak;\ncase 3:/* skip comments */\nbreak;\ncase 4:return 4;\nbreak;\ncase 5:return 15;\nbreak;\ncase 6:return 17;\nbreak;\ncase 7:return 20;\nbreak;\ncase 8:return 21;\nbreak;\ncase 9:return 19;\nbreak;\ncase 10:return 8;\nbreak;\ncase 11:return 8;\nbreak;\ncase 12:return 5;\nbreak;\ncase 13:return 26\nbreak;\ncase 14:this.begin(\"options\");\nbreak;\ncase 15:this.popState();\nbreak;\ncase 16:return 11;\nbreak;\ncase 17:this.begin(\"string\");\nbreak;\ncase 18:this.popState();\nbreak;\ncase 19:return 23;\nbreak;\ncase 20:return 18;\nbreak;\ncase 21:return 7;\nbreak;\n}\n},\nrules: [/^(?:(\\r?\\n)+)/i,/^(?:\\s+)/i,/^(?:#[^\\n]*)/i,/^(?:%[^\\n]*)/i,/^(?:gitGraph\\b)/i,/^(?:commit\\b)/i,/^(?:branch\\b)/i,/^(?:merge\\b)/i,/^(?:reset\\b)/i,/^(?:checkout\\b)/i,/^(?:LR\\b)/i,/^(?:BT\\b)/i,/^(?::)/i,/^(?:\\^)/i,/^(?:options\\r?\\n)/i,/^(?:end\\r?\\n)/i,/^(?:[^\\n]+\\r?\\n)/i,/^(?:[\"])/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:[a-zA-Z][-_\\.a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],\nconditions: {\"options\":{\"rules\":[15,16],\"inclusive\":false},\"string\":{\"rules\":[18,19],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,20,21],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[6,9,10];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"info\":4,\"document\":5,\"EOF\":6,\"line\":7,\"statement\":8,\"NL\":9,\"showInfo\":10,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"info\",6:\"EOF\",9:\"NL\",10:\"showInfo\"},\nproductions_: [0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return yy; \nbreak;\ncase 4:\n \nbreak;\ncase 6:\n yy.setInfo(true);  \nbreak;\n}\n},\ntable: [{3:1,4:[1,2]},{1:[3]},o($V0,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},o($V0,[2,3]),o($V0,[2,4]),o($V0,[2,5]),o($V0,[2,6])],\ndefaultActions: {4:[2,1]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\r\n\t// Pre-lexer code can go here\r\n\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:return 4    ;\nbreak;\ncase 1:return 9      ;\nbreak;\ncase 2:return 'space';\nbreak;\ncase 3:return 10;\nbreak;\ncase 4:return 6     ;\nbreak;\ncase 5:return 'TXT' ;\nbreak;\n}\n},\nrules: [/^(?:info\\b)/i,/^(?:[\\s\\n\\r]+)/i,/^(?:[\\s]+)/i,/^(?:showInfo\\b)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"INITIAL\":{\"rules\":[0,1,2,3,4,5],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,4],$V1=[1,5],$V2=[1,6],$V3=[1,7],$V4=[1,9],$V5=[1,11,13,20,21,22,23],$V6=[2,5],$V7=[1,6,11,13,20,21,22,23],$V8=[20,21,22],$V9=[2,8],$Va=[1,18],$Vb=[1,19],$Vc=[1,24],$Vd=[6,20,21,22,23];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"eol\":4,\"directive\":5,\"PIE\":6,\"document\":7,\"showData\":8,\"line\":9,\"statement\":10,\"txt\":11,\"value\":12,\"title\":13,\"title_value\":14,\"openDirective\":15,\"typeDirective\":16,\"closeDirective\":17,\":\":18,\"argDirective\":19,\"NEWLINE\":20,\";\":21,\"EOF\":22,\"open_directive\":23,\"type_directive\":24,\"arg_directive\":25,\"close_directive\":26,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",6:\"PIE\",8:\"showData\",11:\"txt\",12:\"value\",13:\"title\",14:\"title_value\",18:\":\",20:\"NEWLINE\",21:\";\",22:\"EOF\",23:\"open_directive\",24:\"type_directive\",25:\"arg_directive\",26:\"close_directive\"},\nproductions_: [0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[15,1],[16,1],[19,1],[17,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 4:\nyy.setShowData(true);\nbreak;\ncase 7:\n this.$ = $$[$0-1] \nbreak;\ncase 9:\n yy.addSection($$[$0-1],yy.cleanupValue($$[$0])); \nbreak;\ncase 10:\n this.$=$$[$0].trim();yy.setTitle(this.$); \nbreak;\ncase 17:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 18:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 19:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 20:\n yy.parseDirective('}%%', 'close_directive', 'pie'); \nbreak;\n}\n},\ntable: [{3:1,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},{1:[3]},{3:10,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},{3:11,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},o($V5,$V6,{7:12,8:[1,13]}),o($V7,[2,14]),o($V7,[2,15]),o($V7,[2,16]),{16:14,24:[1,15]},{24:[2,17]},{1:[2,1]},{1:[2,2]},o($V8,$V9,{15:8,9:16,10:17,5:20,1:[2,3],11:$Va,13:$Vb,23:$V4}),o($V5,$V6,{7:21}),{17:22,18:[1,23],26:$Vc},o([18,26],[2,18]),o($V5,[2,6]),{4:25,20:$V1,21:$V2,22:$V3},{12:[1,26]},{14:[1,27]},o($V8,[2,11]),o($V8,$V9,{15:8,9:16,10:17,5:20,1:[2,4],11:$Va,13:$Vb,23:$V4}),o($Vd,[2,12]),{19:28,25:[1,29]},o($Vd,[2,20]),o($V5,[2,7]),o($V8,[2,9]),o($V8,[2,10]),{17:30,26:$Vc},{26:[2,19]},o($Vd,[2,13])],\ndefaultActions: {9:[2,17],10:[2,1],11:[2,2],29:[2,19]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 23; \nbreak;\ncase 1: this.begin('type_directive'); return 24; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 18; \nbreak;\ncase 3: this.popState(); this.popState(); return 26; \nbreak;\ncase 4:return 25;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */{ /*console.log('');*/ }\nbreak;\ncase 7:return 20;\nbreak;\ncase 8:/* do nothing */\nbreak;\ncase 9:/* ignore */\nbreak;\ncase 10: this.begin(\"title\");return 13; \nbreak;\ncase 11: this.popState(); return \"title_value\"; \nbreak;\ncase 12: this.begin(\"string\"); \nbreak;\ncase 13: this.popState(); \nbreak;\ncase 14: return \"txt\"; \nbreak;\ncase 15:return 6;\nbreak;\ncase 16:return 8;\nbreak;\ncase 17:return \"value\";\nbreak;\ncase 18:return 22;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:[\\n\\r]+)/i,/^(?:%%[^\\n]*)/i,/^(?:[\\s]+)/i,/^(?:title\\b)/i,/^(?:(?!\\n||)*[^\\n]*)/i,/^(?:[\"])/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:pie\\b)/i,/^(?:showData\\b)/i,/^(?::[\\s]*[\\d]+(?:\\.[\\d]+)?)/i,/^(?:$)/i],\nconditions: {\"close_directive\":{\"rules\":[],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"title\":{\"rules\":[11],\"inclusive\":false},\"string\":{\"rules\":[13,14],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,12,15,16,17,18],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,3],$V1=[1,5],$V2=[1,17],$V3=[2,10],$V4=[1,21],$V5=[1,22],$V6=[1,23],$V7=[1,24],$V8=[1,25],$V9=[1,26],$Va=[1,19],$Vb=[1,27],$Vc=[1,28],$Vd=[1,31],$Ve=[66,67],$Vf=[5,8,14,35,36,37,38,39,40,48,55,57,66,67],$Vg=[5,6,8,14,35,36,37,38,39,40,48,66,67],$Vh=[1,51],$Vi=[1,52],$Vj=[1,53],$Vk=[1,54],$Vl=[1,55],$Vm=[1,56],$Vn=[1,57],$Vo=[57,58],$Vp=[1,69],$Vq=[1,65],$Vr=[1,66],$Vs=[1,67],$Vt=[1,68],$Vu=[1,70],$Vv=[1,74],$Vw=[1,75],$Vx=[1,72],$Vy=[1,73],$Vz=[5,8,14,35,36,37,38,39,40,48,66,67];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"directive\":4,\"NEWLINE\":5,\"RD\":6,\"diagram\":7,\"EOF\":8,\"openDirective\":9,\"typeDirective\":10,\"closeDirective\":11,\":\":12,\"argDirective\":13,\"open_directive\":14,\"type_directive\":15,\"arg_directive\":16,\"close_directive\":17,\"requirementDef\":18,\"elementDef\":19,\"relationshipDef\":20,\"requirementType\":21,\"requirementName\":22,\"STRUCT_START\":23,\"requirementBody\":24,\"ID\":25,\"COLONSEP\":26,\"id\":27,\"TEXT\":28,\"text\":29,\"RISK\":30,\"riskLevel\":31,\"VERIFYMTHD\":32,\"verifyType\":33,\"STRUCT_STOP\":34,\"REQUIREMENT\":35,\"FUNCTIONAL_REQUIREMENT\":36,\"INTERFACE_REQUIREMENT\":37,\"PERFORMANCE_REQUIREMENT\":38,\"PHYSICAL_REQUIREMENT\":39,\"DESIGN_CONSTRAINT\":40,\"LOW_RISK\":41,\"MED_RISK\":42,\"HIGH_RISK\":43,\"VERIFY_ANALYSIS\":44,\"VERIFY_DEMONSTRATION\":45,\"VERIFY_INSPECTION\":46,\"VERIFY_TEST\":47,\"ELEMENT\":48,\"elementName\":49,\"elementBody\":50,\"TYPE\":51,\"type\":52,\"DOCREF\":53,\"ref\":54,\"END_ARROW_L\":55,\"relationship\":56,\"LINE\":57,\"END_ARROW_R\":58,\"CONTAINS\":59,\"COPIES\":60,\"DERIVES\":61,\"SATISFIES\":62,\"VERIFIES\":63,\"REFINES\":64,\"TRACES\":65,\"unqString\":66,\"qString\":67,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"NEWLINE\",6:\"RD\",8:\"EOF\",12:\":\",14:\"open_directive\",15:\"type_directive\",16:\"arg_directive\",17:\"close_directive\",23:\"STRUCT_START\",25:\"ID\",26:\"COLONSEP\",28:\"TEXT\",30:\"RISK\",32:\"VERIFYMTHD\",34:\"STRUCT_STOP\",35:\"REQUIREMENT\",36:\"FUNCTIONAL_REQUIREMENT\",37:\"INTERFACE_REQUIREMENT\",38:\"PERFORMANCE_REQUIREMENT\",39:\"PHYSICAL_REQUIREMENT\",40:\"DESIGN_CONSTRAINT\",41:\"LOW_RISK\",42:\"MED_RISK\",43:\"HIGH_RISK\",44:\"VERIFY_ANALYSIS\",45:\"VERIFY_DEMONSTRATION\",46:\"VERIFY_INSPECTION\",47:\"VERIFY_TEST\",48:\"ELEMENT\",51:\"TYPE\",53:\"DOCREF\",55:\"END_ARROW_L\",57:\"LINE\",58:\"END_ARROW_R\",59:\"CONTAINS\",60:\"COPIES\",61:\"DERIVES\",62:\"SATISFIES\",63:\"VERIFIES\",64:\"REFINES\",65:\"TRACES\",66:\"unqString\",67:\"qString\"},\nproductions_: [0,[3,3],[3,2],[3,4],[4,3],[4,5],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[18,5],[24,5],[24,5],[24,5],[24,5],[24,2],[24,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[31,1],[31,1],[31,1],[33,1],[33,1],[33,1],[33,1],[19,5],[50,5],[50,5],[50,2],[50,1],[20,5],[20,5],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[22,1],[22,1],[27,1],[27,1],[29,1],[29,1],[49,1],[49,1],[52,1],[52,1],[54,1],[54,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 6:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 7:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 8:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 9:\n yy.parseDirective('}%%', 'close_directive', 'pie'); \nbreak;\ncase 10:\n this.$ = [] \nbreak;\ncase 16:\n yy.addRequirement($$[$0-3], $$[$0-4]) \nbreak;\ncase 17:\n yy.setNewReqId($$[$0-2]); \nbreak;\ncase 18:\n yy.setNewReqText($$[$0-2]); \nbreak;\ncase 19:\n yy.setNewReqRisk($$[$0-2]); \nbreak;\ncase 20:\n yy.setNewReqVerifyMethod($$[$0-2]); \nbreak;\ncase 23:\n this.$=yy.RequirementType.REQUIREMENT;\nbreak;\ncase 24:\n this.$=yy.RequirementType.FUNCTIONAL_REQUIREMENT;\nbreak;\ncase 25:\n this.$=yy.RequirementType.INTERFACE_REQUIREMENT;\nbreak;\ncase 26:\n this.$=yy.RequirementType.PERFORMANCE_REQUIREMENT;\nbreak;\ncase 27:\n this.$=yy.RequirementType.PHYSICAL_REQUIREMENT;\nbreak;\ncase 28:\n this.$=yy.RequirementType.DESIGN_CONSTRAINT;\nbreak;\ncase 29:\n this.$=yy.RiskLevel.LOW_RISK;\nbreak;\ncase 30:\n this.$=yy.RiskLevel.MED_RISK;\nbreak;\ncase 31:\n this.$=yy.RiskLevel.HIGH_RISK;\nbreak;\ncase 32:\n this.$=yy.VerifyType.VERIFY_ANALYSIS;\nbreak;\ncase 33:\n this.$=yy.VerifyType.VERIFY_DEMONSTRATION;\nbreak;\ncase 34:\n this.$=yy.VerifyType.VERIFY_INSPECTION;\nbreak;\ncase 35:\n this.$=yy.VerifyType.VERIFY_TEST;\nbreak;\ncase 36:\n yy.addElement($$[$0-3]) \nbreak;\ncase 37:\n yy.setNewElementType($$[$0-2]); \nbreak;\ncase 38:\n yy.setNewElementDocRef($$[$0-2]); \nbreak;\ncase 41:\n  yy.addRelationship($$[$0-2], $$[$0], $$[$0-4]) \nbreak;\ncase 42:\n yy.addRelationship($$[$0-2], $$[$0-4], $$[$0]) \nbreak;\ncase 43:\n this.$=yy.Relationships.CONTAINS;\nbreak;\ncase 44:\n this.$=yy.Relationships.COPIES;\nbreak;\ncase 45:\n this.$=yy.Relationships.DERIVES;\nbreak;\ncase 46:\n this.$=yy.Relationships.SATISFIES;\nbreak;\ncase 47:\n this.$=yy.Relationships.VERIFIES;\nbreak;\ncase 48:\n this.$=yy.Relationships.REFINES;\nbreak;\ncase 49:\n this.$=yy.Relationships.TRACES;\nbreak;\n}\n},\ntable: [{3:1,4:2,6:$V0,9:4,14:$V1},{1:[3]},{3:7,4:2,5:[1,6],6:$V0,9:4,14:$V1},{5:[1,8]},{10:9,15:[1,10]},{15:[2,6]},{3:11,4:2,6:$V0,9:4,14:$V1},{1:[2,2]},{4:16,5:$V2,7:12,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{11:29,12:[1,30],17:$Vd},o([12,17],[2,7]),{1:[2,1]},{8:[1,32]},{4:16,5:$V2,7:33,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:34,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:35,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:36,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:37,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{22:38,66:[1,39],67:[1,40]},{49:41,66:[1,42],67:[1,43]},{55:[1,44],57:[1,45]},o($Ve,[2,23]),o($Ve,[2,24]),o($Ve,[2,25]),o($Ve,[2,26]),o($Ve,[2,27]),o($Ve,[2,28]),o($Vf,[2,52]),o($Vf,[2,53]),o($Vg,[2,4]),{13:46,16:[1,47]},o($Vg,[2,9]),{1:[2,3]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{23:[1,48]},{23:[2,50]},{23:[2,51]},{23:[1,49]},{23:[2,56]},{23:[2,57]},{56:50,59:$Vh,60:$Vi,61:$Vj,62:$Vk,63:$Vl,64:$Vm,65:$Vn},{56:58,59:$Vh,60:$Vi,61:$Vj,62:$Vk,63:$Vl,64:$Vm,65:$Vn},{11:59,17:$Vd},{17:[2,8]},{5:[1,60]},{5:[1,61]},{57:[1,62]},o($Vo,[2,43]),o($Vo,[2,44]),o($Vo,[2,45]),o($Vo,[2,46]),o($Vo,[2,47]),o($Vo,[2,48]),o($Vo,[2,49]),{58:[1,63]},o($Vg,[2,5]),{5:$Vp,24:64,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vv,34:$Vw,50:71,51:$Vx,53:$Vy},{27:76,66:$Vb,67:$Vc},{27:77,66:$Vb,67:$Vc},o($Vz,[2,16]),{26:[1,78]},{26:[1,79]},{26:[1,80]},{26:[1,81]},{5:$Vp,24:82,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},o($Vz,[2,22]),o($Vz,[2,36]),{26:[1,83]},{26:[1,84]},{5:$Vv,34:$Vw,50:85,51:$Vx,53:$Vy},o($Vz,[2,40]),o($Vz,[2,41]),o($Vz,[2,42]),{27:86,66:$Vb,67:$Vc},{29:87,66:[1,88],67:[1,89]},{31:90,41:[1,91],42:[1,92],43:[1,93]},{33:94,44:[1,95],45:[1,96],46:[1,97],47:[1,98]},o($Vz,[2,21]),{52:99,66:[1,100],67:[1,101]},{54:102,66:[1,103],67:[1,104]},o($Vz,[2,39]),{5:[1,105]},{5:[1,106]},{5:[2,54]},{5:[2,55]},{5:[1,107]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[1,108]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[1,109]},{5:[2,58]},{5:[2,59]},{5:[1,110]},{5:[2,60]},{5:[2,61]},{5:$Vp,24:111,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:112,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:113,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:114,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vv,34:$Vw,50:115,51:$Vx,53:$Vy},{5:$Vv,34:$Vw,50:116,51:$Vx,53:$Vy},o($Vz,[2,17]),o($Vz,[2,18]),o($Vz,[2,19]),o($Vz,[2,20]),o($Vz,[2,37]),o($Vz,[2,38])],\ndefaultActions: {5:[2,6],7:[2,2],11:[2,1],32:[2,3],33:[2,11],34:[2,12],35:[2,13],36:[2,14],37:[2,15],39:[2,50],40:[2,51],42:[2,56],43:[2,57],47:[2,8],88:[2,54],89:[2,55],91:[2,29],92:[2,30],93:[2,31],95:[2,32],96:[2,33],97:[2,34],98:[2,35],100:[2,58],101:[2,59],103:[2,60],104:[2,61]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 14; \nbreak;\ncase 1: this.begin('type_directive'); return 15; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 12; \nbreak;\ncase 3: this.popState(); this.popState(); return 17; \nbreak;\ncase 4:return 16;\nbreak;\ncase 5:return 5;\nbreak;\ncase 6:/* skip all whitespace */\nbreak;\ncase 7:/* skip comments */\nbreak;\ncase 8:/* skip comments */\nbreak;\ncase 9:return 8;\nbreak;\ncase 10:return 6;\nbreak;\ncase 11:return 23;\nbreak;\ncase 12:return 34;\nbreak;\ncase 13:return 26;\nbreak;\ncase 14:return 25;\nbreak;\ncase 15:return 28;\nbreak;\ncase 16:return 30;\nbreak;\ncase 17:return 32;\nbreak;\ncase 18:return 35;\nbreak;\ncase 19:return 36;\nbreak;\ncase 20:return 37;\nbreak;\ncase 21:return 38;\nbreak;\ncase 22:return 39;\nbreak;\ncase 23:return 40;\nbreak;\ncase 24:return 41;\nbreak;\ncase 25:return 42;\nbreak;\ncase 26:return 43;\nbreak;\ncase 27:return 44;\nbreak;\ncase 28:return 45;\nbreak;\ncase 29:return 46;\nbreak;\ncase 30:return 47;\nbreak;\ncase 31:return 48;\nbreak;\ncase 32:return 59;\nbreak;\ncase 33:return 60;\nbreak;\ncase 34:return 61;\nbreak;\ncase 35:return 62;\nbreak;\ncase 36:return 63;\nbreak;\ncase 37:return 64;\nbreak;\ncase 38:return 65;\nbreak;\ncase 39:return 51;\nbreak;\ncase 40:return 53;\nbreak;\ncase 41:return 55;\nbreak;\ncase 42:return 58;\nbreak;\ncase 43:return 57;\nbreak;\ncase 44: this.begin(\"string\"); \nbreak;\ncase 45: this.popState(); \nbreak;\ncase 46: return \"qString\"; \nbreak;\ncase 47: yy_.yytext = yy_.yytext.trim(); return 66;\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:(\\r?\\n)+)/i,/^(?:\\s+)/i,/^(?:#[^\\n]*)/i,/^(?:%[^\\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\\b)/i,/^(?:\\{)/i,/^(?:\\})/i,/^(?::)/i,/^(?:id\\b)/i,/^(?:text\\b)/i,/^(?:risk\\b)/i,/^(?:verifyMethod\\b)/i,/^(?:requirement\\b)/i,/^(?:functionalRequirement\\b)/i,/^(?:interfaceRequirement\\b)/i,/^(?:performanceRequirement\\b)/i,/^(?:physicalRequirement\\b)/i,/^(?:designConstraint\\b)/i,/^(?:low\\b)/i,/^(?:medium\\b)/i,/^(?:high\\b)/i,/^(?:analysis\\b)/i,/^(?:demonstration\\b)/i,/^(?:inspection\\b)/i,/^(?:test\\b)/i,/^(?:element\\b)/i,/^(?:contains\\b)/i,/^(?:copies\\b)/i,/^(?:derives\\b)/i,/^(?:satisfies\\b)/i,/^(?:verifies\\b)/i,/^(?:refines\\b)/i,/^(?:traces\\b)/i,/^(?:type\\b)/i,/^(?:docref\\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:[\"])/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:[\\w][^\\r\\n\\{\\<\\>\\-\\=]*)/i],\nconditions: {\"close_directive\":{\"rules\":[],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"unqString\":{\"rules\":[],\"inclusive\":false},\"token\":{\"rules\":[],\"inclusive\":false},\"string\":{\"rules\":[45,46],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,47],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,3],$V2=[1,5],$V3=[1,7],$V4=[2,5],$V5=[1,15],$V6=[1,17],$V7=[1,18],$V8=[1,19],$V9=[1,21],$Va=[1,22],$Vb=[1,23],$Vc=[1,29],$Vd=[1,30],$Ve=[1,31],$Vf=[1,32],$Vg=[1,33],$Vh=[1,34],$Vi=[1,37],$Vj=[1,38],$Vk=[1,39],$Vl=[1,40],$Vm=[1,41],$Vn=[1,42],$Vo=[1,45],$Vp=[1,4,5,16,20,22,23,24,30,32,33,34,35,36,38,40,41,42,46,47,48,49,57,67],$Vq=[1,58],$Vr=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,42,46,47,48,49,57,67],$Vs=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,41,42,46,47,48,49,57,67],$Vt=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,40,42,46,47,48,49,57,67],$Vu=[55,56,57],$Vv=[1,4,5,7,16,20,22,23,24,30,32,33,34,35,36,38,40,41,42,46,47,48,49,57,67];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"SPACE\":4,\"NEWLINE\":5,\"directive\":6,\"SD\":7,\"document\":8,\"line\":9,\"statement\":10,\"openDirective\":11,\"typeDirective\":12,\"closeDirective\":13,\":\":14,\"argDirective\":15,\"participant\":16,\"actor\":17,\"AS\":18,\"restOfLine\":19,\"participant_actor\":20,\"signal\":21,\"autonumber\":22,\"activate\":23,\"deactivate\":24,\"note_statement\":25,\"links_statement\":26,\"link_statement\":27,\"properties_statement\":28,\"details_statement\":29,\"title\":30,\"text2\":31,\"loop\":32,\"end\":33,\"rect\":34,\"opt\":35,\"alt\":36,\"else_sections\":37,\"par\":38,\"par_sections\":39,\"and\":40,\"else\":41,\"note\":42,\"placement\":43,\"over\":44,\"actor_pair\":45,\"links\":46,\"link\":47,\"properties\":48,\"details\":49,\"spaceList\":50,\",\":51,\"left_of\":52,\"right_of\":53,\"signaltype\":54,\"+\":55,\"-\":56,\"ACTOR\":57,\"SOLID_OPEN_ARROW\":58,\"DOTTED_OPEN_ARROW\":59,\"SOLID_ARROW\":60,\"DOTTED_ARROW\":61,\"SOLID_CROSS\":62,\"DOTTED_CROSS\":63,\"SOLID_POINT\":64,\"DOTTED_POINT\":65,\"TXT\":66,\"open_directive\":67,\"type_directive\":68,\"arg_directive\":69,\"close_directive\":70,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"SPACE\",5:\"NEWLINE\",7:\"SD\",14:\":\",16:\"participant\",18:\"AS\",19:\"restOfLine\",20:\"participant_actor\",22:\"autonumber\",23:\"activate\",24:\"deactivate\",30:\"title\",32:\"loop\",33:\"end\",34:\"rect\",35:\"opt\",36:\"alt\",38:\"par\",40:\"and\",41:\"else\",42:\"note\",44:\"over\",46:\"links\",47:\"link\",48:\"properties\",49:\"details\",51:\",\",52:\"left_of\",53:\"right_of\",55:\"+\",56:\"-\",57:\"ACTOR\",58:\"SOLID_OPEN_ARROW\",59:\"DOTTED_OPEN_ARROW\",60:\"SOLID_ARROW\",61:\"DOTTED_ARROW\",62:\"SOLID_CROSS\",63:\"DOTTED_CROSS\",64:\"SOLID_POINT\",65:\"DOTTED_POINT\",66:\"TXT\",67:\"open_directive\",68:\"type_directive\",69:\"arg_directive\",70:\"close_directive\"},\nproductions_: [0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,1],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,3],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[39,1],[39,4],[37,1],[37,4],[25,4],[25,4],[26,3],[27,3],[28,3],[29,3],[50,2],[50,1],[45,3],[45,1],[43,1],[43,1],[21,5],[21,5],[21,4],[17,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[31,1],[11,1],[12,1],[15,1],[13,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 4:\n yy.apply($$[$0]);return $$[$0]; \nbreak;\ncase 5:\n this.$ = [] \nbreak;\ncase 6:\n$$[$0-1].push($$[$0]);this.$ = $$[$0-1]\nbreak;\ncase 7: case 8:\n this.$ = $$[$0] \nbreak;\ncase 9:\n this.$=[]; \nbreak;\ncase 12:\n$$[$0-3].type='addParticipant';$$[$0-3].description=yy.parseMessage($$[$0-1]); this.$=$$[$0-3];\nbreak;\ncase 13:\n$$[$0-1].type='addParticipant';this.$=$$[$0-1];\nbreak;\ncase 14:\n$$[$0-3].type='addActor';$$[$0-3].description=yy.parseMessage($$[$0-1]); this.$=$$[$0-3];\nbreak;\ncase 15:\n$$[$0-1].type='addActor'; this.$=$$[$0-1];\nbreak;\ncase 17:\nyy.enableSequenceNumbers()\nbreak;\ncase 18:\nthis.$={type: 'activeStart', signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0-1]};\nbreak;\ncase 19:\nthis.$={type: 'activeEnd', signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0-1]};\nbreak;\ncase 25:\nthis.$=[{type:'setTitle', text:$$[$0-1]}]\nbreak;\ncase 26:\n\n\t\t$$[$0-1].unshift({type: 'loopStart', loopText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.LOOP_START});\n\t\t$$[$0-1].push({type: 'loopEnd', loopText:$$[$0-2], signalType: yy.LINETYPE.LOOP_END});\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 27:\n\n\t\t$$[$0-1].unshift({type: 'rectStart', color:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.RECT_START });\n\t\t$$[$0-1].push({type: 'rectEnd', color:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.RECT_END });\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 28:\n\n\t\t$$[$0-1].unshift({type: 'optStart', optText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.OPT_START});\n\t\t$$[$0-1].push({type: 'optEnd', optText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.OPT_END});\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 29:\n\n\t\t// Alt start\n\t\t$$[$0-1].unshift({type: 'altStart', altText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.ALT_START});\n\t\t// Content in alt is already in $$[$0-1]\n\t\t// End\n\t\t$$[$0-1].push({type: 'altEnd', signalType: yy.LINETYPE.ALT_END});\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 30:\n\n\t\t// Parallel start\n\t\t$$[$0-1].unshift({type: 'parStart', parText:yy.parseMessage($$[$0-2]), signalType: yy.LINETYPE.PAR_START});\n\t\t// Content in par is already in $$[$0-1]\n\t\t// End\n\t\t$$[$0-1].push({type: 'parEnd', signalType: yy.LINETYPE.PAR_END});\n\t\tthis.$=$$[$0-1];\nbreak;\ncase 33:\n this.$ = $$[$0-3].concat([{type: 'and', parText:yy.parseMessage($$[$0-1]), signalType: yy.LINETYPE.PAR_AND}, $$[$0]]); \nbreak;\ncase 35:\n this.$ = $$[$0-3].concat([{type: 'else', altText:yy.parseMessage($$[$0-1]), signalType: yy.LINETYPE.ALT_ELSE}, $$[$0]]); \nbreak;\ncase 36:\n\n\t\tthis.$ = [$$[$0-1], {type:'addNote', placement:$$[$0-2], actor:$$[$0-1].actor, text:$$[$0]}];\nbreak;\ncase 37:\n\n\t\t// Coerce actor_pair into a [to, from, ...] array\n\t\t$$[$0-2] = [].concat($$[$0-1], $$[$0-1]).slice(0, 2);\n\t\t$$[$0-2][0] = $$[$0-2][0].actor;\n\t\t$$[$0-2][1] = $$[$0-2][1].actor;\n\t\tthis.$ = [$$[$0-1], {type:'addNote', placement:yy.PLACEMENT.OVER, actor:$$[$0-2].slice(0, 2), text:$$[$0]}];\nbreak;\ncase 38:\n\n\t\tthis.$ = [$$[$0-1], {type:'addLinks', actor:$$[$0-1].actor, text:$$[$0]}];\n  \nbreak;\ncase 39:\n\n\t\tthis.$ = [$$[$0-1], {type:'addALink', actor:$$[$0-1].actor, text:$$[$0]}];\n  \nbreak;\ncase 40:\n\n\t\tthis.$ = [$$[$0-1], {type:'addProperties', actor:$$[$0-1].actor, text:$$[$0]}];\n  \nbreak;\ncase 41:\n\n\t\tthis.$ = [$$[$0-1], {type:'addDetails', actor:$$[$0-1].actor, text:$$[$0]}];\n  \nbreak;\ncase 44:\n this.$ = [$$[$0-2], $$[$0]]; \nbreak;\ncase 45:\n this.$ = $$[$0]; \nbreak;\ncase 46:\n this.$ = yy.PLACEMENT.LEFTOF; \nbreak;\ncase 47:\n this.$ = yy.PLACEMENT.RIGHTOF; \nbreak;\ncase 48:\n this.$ = [$$[$0-4],$$[$0-1],{type: 'addMessage', from:$$[$0-4].actor, to:$$[$0-1].actor, signalType:$$[$0-3], msg:$$[$0]},\n\t              {type: 'activeStart', signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0-1]}\n\t             ]\nbreak;\ncase 49:\n this.$ = [$$[$0-4],$$[$0-1],{type: 'addMessage', from:$$[$0-4].actor, to:$$[$0-1].actor, signalType:$$[$0-3], msg:$$[$0]},\n\t             {type: 'activeEnd', signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0-4]}\n\t             ]\nbreak;\ncase 50:\n this.$ = [$$[$0-3],$$[$0-1],{type: 'addMessage', from:$$[$0-3].actor, to:$$[$0-1].actor, signalType:$$[$0-2], msg:$$[$0]}]\nbreak;\ncase 51:\nthis.$={ type: 'addParticipant', actor:$$[$0]}\nbreak;\ncase 52:\n this.$ = yy.LINETYPE.SOLID_OPEN; \nbreak;\ncase 53:\n this.$ = yy.LINETYPE.DOTTED_OPEN; \nbreak;\ncase 54:\n this.$ = yy.LINETYPE.SOLID; \nbreak;\ncase 55:\n this.$ = yy.LINETYPE.DOTTED; \nbreak;\ncase 56:\n this.$ = yy.LINETYPE.SOLID_CROSS; \nbreak;\ncase 57:\n this.$ = yy.LINETYPE.DOTTED_CROSS; \nbreak;\ncase 58:\n this.$ = yy.LINETYPE.SOLID_POINT; \nbreak;\ncase 59:\n this.$ = yy.LINETYPE.DOTTED_POINT; \nbreak;\ncase 60:\nthis.$ = yy.parseMessage($$[$0].trim().substring(1)) \nbreak;\ncase 61:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 62:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 63:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 64:\n yy.parseDirective('}%%', 'close_directive', 'sequence'); \nbreak;\n}\n},\ntable: [{3:1,4:$V0,5:$V1,6:4,7:$V2,11:6,67:$V3},{1:[3]},{3:8,4:$V0,5:$V1,6:4,7:$V2,11:6,67:$V3},{3:9,4:$V0,5:$V1,6:4,7:$V2,11:6,67:$V3},{3:10,4:$V0,5:$V1,6:4,7:$V2,11:6,67:$V3},o([1,4,5,16,20,22,23,24,30,32,34,35,36,38,42,46,47,48,49,57,67],$V4,{8:11}),{12:12,68:[1,13]},{68:[2,61]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{13:43,14:[1,44],70:$Vo},o([14,70],[2,62]),o($Vp,[2,6]),{6:35,10:46,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},o($Vp,[2,8]),o($Vp,[2,9]),{17:47,57:$Vn},{17:48,57:$Vn},{5:[1,49]},o($Vp,[2,17]),{17:50,57:$Vn},{17:51,57:$Vn},{5:[1,52]},{5:[1,53]},{5:[1,54]},{5:[1,55]},{5:[1,56]},{31:57,66:$Vq},{19:[1,59]},{19:[1,60]},{19:[1,61]},{19:[1,62]},{19:[1,63]},o($Vp,[2,31]),{54:64,58:[1,65],59:[1,66],60:[1,67],61:[1,68],62:[1,69],63:[1,70],64:[1,71],65:[1,72]},{43:73,44:[1,74],52:[1,75],53:[1,76]},{17:77,57:$Vn},{17:78,57:$Vn},{17:79,57:$Vn},{17:80,57:$Vn},o([5,18,51,58,59,60,61,62,63,64,65,66],[2,51]),{5:[1,81]},{15:82,69:[1,83]},{5:[2,64]},o($Vp,[2,7]),{5:[1,85],18:[1,84]},{5:[1,87],18:[1,86]},o($Vp,[2,16]),{5:[1,88]},{5:[1,89]},o($Vp,[2,20]),o($Vp,[2,21]),o($Vp,[2,22]),o($Vp,[2,23]),o($Vp,[2,24]),{5:[1,90]},{5:[2,60]},o($Vr,$V4,{8:91}),o($Vr,$V4,{8:92}),o($Vr,$V4,{8:93}),o($Vs,$V4,{37:94,8:95}),o($Vt,$V4,{39:96,8:97}),{17:100,55:[1,98],56:[1,99],57:$Vn},o($Vu,[2,52]),o($Vu,[2,53]),o($Vu,[2,54]),o($Vu,[2,55]),o($Vu,[2,56]),o($Vu,[2,57]),o($Vu,[2,58]),o($Vu,[2,59]),{17:101,57:$Vn},{17:103,45:102,57:$Vn},{57:[2,46]},{57:[2,47]},{31:104,66:$Vq},{31:105,66:$Vq},{31:106,66:$Vq},{31:107,66:$Vq},o($Vv,[2,10]),{13:108,70:$Vo},{70:[2,63]},{19:[1,109]},o($Vp,[2,13]),{19:[1,110]},o($Vp,[2,15]),o($Vp,[2,18]),o($Vp,[2,19]),o($Vp,[2,25]),{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[1,111],34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[1,112],34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[1,113],34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{33:[1,114]},{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[2,34],34:$Ve,35:$Vf,36:$Vg,38:$Vh,41:[1,115],42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{33:[1,116]},{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[2,32],34:$Ve,35:$Vf,36:$Vg,38:$Vh,40:[1,117],42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{17:118,57:$Vn},{17:119,57:$Vn},{31:120,66:$Vq},{31:121,66:$Vq},{31:122,66:$Vq},{51:[1,123],66:[2,45]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},{5:[1,124]},{5:[1,125]},{5:[1,126]},o($Vp,[2,26]),o($Vp,[2,27]),o($Vp,[2,28]),o($Vp,[2,29]),{19:[1,127]},o($Vp,[2,30]),{19:[1,128]},{31:129,66:$Vq},{31:130,66:$Vq},{5:[2,50]},{5:[2,36]},{5:[2,37]},{17:131,57:$Vn},o($Vv,[2,11]),o($Vp,[2,12]),o($Vp,[2,14]),o($Vs,$V4,{8:95,37:132}),o($Vt,$V4,{8:97,39:133}),{5:[2,48]},{5:[2,49]},{66:[2,44]},{33:[2,35]},{33:[2,33]}],\ndefaultActions: {7:[2,61],8:[2,1],9:[2,2],10:[2,3],45:[2,64],58:[2,60],75:[2,46],76:[2,47],83:[2,63],104:[2,38],105:[2,39],106:[2,40],107:[2,41],120:[2,50],121:[2,36],122:[2,37],129:[2,48],130:[2,49],131:[2,44],132:[2,35],133:[2,33]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 67; \nbreak;\ncase 1: this.begin('type_directive'); return 68; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 14; \nbreak;\ncase 3: this.popState(); this.popState(); return 70; \nbreak;\ncase 4:return 69;\nbreak;\ncase 5:return 5;\nbreak;\ncase 6:/* skip all whitespace */\nbreak;\ncase 7:/* skip same-line whitespace */\nbreak;\ncase 8:/* skip comments */\nbreak;\ncase 9:/* skip comments */\nbreak;\ncase 10:/* skip comments */\nbreak;\ncase 11: this.begin('ID'); return 16; \nbreak;\ncase 12: this.begin('ID'); return 20; \nbreak;\ncase 13: yy_.yytext = yy_.yytext.trim(); this.begin('ALIAS'); return 57; \nbreak;\ncase 14: this.popState(); this.popState(); this.begin('LINE'); return 18; \nbreak;\ncase 15: this.popState(); this.popState(); return 5; \nbreak;\ncase 16: this.begin('LINE'); return 32; \nbreak;\ncase 17: this.begin('LINE'); return 34; \nbreak;\ncase 18: this.begin('LINE'); return 35; \nbreak;\ncase 19: this.begin('LINE'); return 36; \nbreak;\ncase 20: this.begin('LINE'); return 41; \nbreak;\ncase 21: this.begin('LINE'); return 38; \nbreak;\ncase 22: this.begin('LINE'); return 40; \nbreak;\ncase 23: this.popState(); return 19; \nbreak;\ncase 24:return 33;\nbreak;\ncase 25:return 52;\nbreak;\ncase 26:return 53;\nbreak;\ncase 27:return 46;\nbreak;\ncase 28:return 47;\nbreak;\ncase 29:return 48;\nbreak;\ncase 30:return 49;\nbreak;\ncase 31:return 44;\nbreak;\ncase 32:return 42;\nbreak;\ncase 33: this.begin('ID'); return 23; \nbreak;\ncase 34: this.begin('ID'); return 24; \nbreak;\ncase 35:return 30;\nbreak;\ncase 36:return 7;\nbreak;\ncase 37:return 22;\nbreak;\ncase 38:return 51;\nbreak;\ncase 39:return 5;\nbreak;\ncase 40: yy_.yytext = yy_.yytext.trim(); return 57; \nbreak;\ncase 41:return 60;\nbreak;\ncase 42:return 61;\nbreak;\ncase 43:return 58;\nbreak;\ncase 44:return 59;\nbreak;\ncase 45:return 62;\nbreak;\ncase 46:return 63;\nbreak;\ncase 47:return 64;\nbreak;\ncase 48:return 65;\nbreak;\ncase 49:return 66;\nbreak;\ncase 50:return 55;\nbreak;\ncase 51:return 56;\nbreak;\ncase 52:return 5;\nbreak;\ncase 53:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:[\\n]+)/i,/^(?:\\s+)/i,/^(?:((?!\\n)\\s)+)/i,/^(?:#[^\\n]*)/i,/^(?:%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:participant\\b)/i,/^(?:actor\\b)/i,/^(?:[^\\->:\\n,;]+?(?=((?!\\n)\\s)+as(?!\\n)\\s|[#\\n;]|$))/i,/^(?:as\\b)/i,/^(?:(?:))/i,/^(?:loop\\b)/i,/^(?:rect\\b)/i,/^(?:opt\\b)/i,/^(?:alt\\b)/i,/^(?:else\\b)/i,/^(?:par\\b)/i,/^(?:and\\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\\n;]*)/i,/^(?:end\\b)/i,/^(?:left of\\b)/i,/^(?:right of\\b)/i,/^(?:links\\b)/i,/^(?:link\\b)/i,/^(?:properties\\b)/i,/^(?:details\\b)/i,/^(?:over\\b)/i,/^(?:note\\b)/i,/^(?:activate\\b)/i,/^(?:deactivate\\b)/i,/^(?:title\\b)/i,/^(?:sequenceDiagram\\b)/i,/^(?:autonumber\\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\\+\\->:\\n,;]+((?!(-x|--x|-\\)|--\\)))[\\-]*[^\\+\\->:\\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\\)])/i,/^(?:--[\\)])/i,/^(?::(?:(?:no)?wrap)?[^#\\n;]+)/i,/^(?:\\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"open_directive\":{\"rules\":[1,8],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3,8],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4,8],\"inclusive\":false},\"ID\":{\"rules\":[7,8,13],\"inclusive\":false},\"ALIAS\":{\"rules\":[7,8,14,15],\"inclusive\":false},\"LINE\":{\"rules\":[7,8,23],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,8,9,10,11,12,16,17,18,19,20,21,22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,3],$V2=[1,5],$V3=[1,7],$V4=[2,5],$V5=[1,15],$V6=[1,17],$V7=[1,19],$V8=[1,20],$V9=[1,21],$Va=[1,22],$Vb=[1,30],$Vc=[1,23],$Vd=[1,24],$Ve=[1,25],$Vf=[1,26],$Vg=[1,27],$Vh=[1,32],$Vi=[1,33],$Vj=[1,34],$Vk=[1,35],$Vl=[1,31],$Vm=[1,38],$Vn=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vo=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vp=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vq=[4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"SPACE\":4,\"NL\":5,\"directive\":6,\"SD\":7,\"document\":8,\"line\":9,\"statement\":10,\"idStatement\":11,\"DESCR\":12,\"-->\":13,\"HIDE_EMPTY\":14,\"scale\":15,\"WIDTH\":16,\"COMPOSIT_STATE\":17,\"STRUCT_START\":18,\"STRUCT_STOP\":19,\"STATE_DESCR\":20,\"AS\":21,\"ID\":22,\"FORK\":23,\"JOIN\":24,\"CHOICE\":25,\"CONCURRENT\":26,\"note\":27,\"notePosition\":28,\"NOTE_TEXT\":29,\"direction\":30,\"openDirective\":31,\"typeDirective\":32,\"closeDirective\":33,\":\":34,\"argDirective\":35,\"direction_tb\":36,\"direction_bt\":37,\"direction_rl\":38,\"direction_lr\":39,\"eol\":40,\";\":41,\"EDGE_STATE\":42,\"left_of\":43,\"right_of\":44,\"open_directive\":45,\"type_directive\":46,\"arg_directive\":47,\"close_directive\":48,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"SPACE\",5:\"NL\",7:\"SD\",12:\"DESCR\",13:\"-->\",14:\"HIDE_EMPTY\",15:\"scale\",16:\"WIDTH\",17:\"COMPOSIT_STATE\",18:\"STRUCT_START\",19:\"STRUCT_STOP\",20:\"STATE_DESCR\",21:\"AS\",22:\"ID\",23:\"FORK\",24:\"JOIN\",25:\"CHOICE\",26:\"CONCURRENT\",27:\"note\",29:\"NOTE_TEXT\",34:\":\",36:\"direction_tb\",37:\"direction_bt\",38:\"direction_rl\",39:\"direction_lr\",41:\";\",42:\"EDGE_STATE\",43:\"left_of\",44:\"right_of\",45:\"open_directive\",46:\"type_directive\",47:\"arg_directive\",48:\"close_directive\"},\nproductions_: [0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[40,1],[40,1],[11,1],[11,1],[28,1],[28,1],[31,1],[32,1],[35,1],[33,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 4:\n /*console.warn('Root document', $$[$0]);*/ yy.setRootDoc($$[$0]);return $$[$0]; \nbreak;\ncase 5:\n this.$ = [] \nbreak;\ncase 6:\n\r\n        if($$[$0]!='nl'){\r\n            $$[$0-1].push($$[$0]);this.$ = $$[$0-1]\r\n        }\r\n        // console.warn('Got document',$$[$0-1], $$[$0]);\r\n    \nbreak;\ncase 7: case 8:\n this.$ = $$[$0] \nbreak;\ncase 9:\n this.$='nl';\nbreak;\ncase 10:\n /*console.warn('got id and descr', $$[$0]);*/this.$={ stmt: 'state', id: $$[$0], type: 'default', description: ''};\nbreak;\ncase 11:\n /*console.warn('got id and descr', $$[$0-1], $$[$0].trim());*/this.$={ stmt: 'state', id: $$[$0-1], type: 'default', description: yy.trimColon($$[$0])};\nbreak;\ncase 12:\n\r\n        /*console.warn('got id', $$[$0-2]);yy.addRelation($$[$0-2], $$[$0]);*/\r\n        this.$={ stmt: 'relation', state1: { stmt: 'state', id: $$[$0-2], type: 'default', description: '' }, state2:{ stmt: 'state', id: $$[$0] ,type: 'default', description: ''}};\r\n    \nbreak;\ncase 13:\n\r\n        /*yy.addRelation($$[$0-3], $$[$0-1], $$[$0].substr(1).trim());*/\r\n        this.$={ stmt: 'relation', state1: { stmt: 'state', id: $$[$0-3], type: 'default', description: '' }, state2:{ stmt: 'state', id: $$[$0-1] ,type: 'default', description: ''}, description: $$[$0].substr(1).trim()};\r\n    \nbreak;\ncase 17:\n\r\n        /* console.warn('Adding document for state without id ', $$[$0-3]);*/\r\n        this.$={ stmt: 'state', id: $$[$0-3], type: 'default', description: '', doc: $$[$0-1] }\r\n    \nbreak;\ncase 18:\n\r\n        var id=$$[$0];\r\n        var description = $$[$0-2].trim();\r\n        if($$[$0].match(':')){\r\n            var parts = $$[$0].split(':');\r\n            id=parts[0];\r\n            description = [description, parts[1]];\r\n        }\r\n        this.$={stmt: 'state', id: id, type: 'default', description: description};\r\n\r\n    \nbreak;\ncase 19:\n\r\n         // console.warn('Adding document for state with id zxzx', $$[$0-3], $$[$0-2], yy.getDirection()); yy.addDocument($$[$0-3]);\r\n         this.$={ stmt: 'state', id: $$[$0-3], type: 'default', description: $$[$0-5], doc: $$[$0-1] }\r\n    \nbreak;\ncase 20:\n\r\n        this.$={ stmt: 'state', id: $$[$0], type: 'fork' }\r\n    \nbreak;\ncase 21:\n\r\n        this.$={ stmt: 'state', id: $$[$0], type: 'join' }\r\n    \nbreak;\ncase 22:\n\r\n        this.$={ stmt: 'state', id: $$[$0], type: 'choice' }\r\n    \nbreak;\ncase 23:\n\r\n        this.$={ stmt: 'state', id: yy.getDividerId(), type: 'divider' }\r\n    \nbreak;\ncase 24:\n\r\n        /* console.warn('got NOTE, position: ', $$[$0-2].trim(), 'id = ', $$[$0-1].trim(), 'note: ', $$[$0]);*/\r\n        this.$={ stmt: 'state', id: $$[$0-1].trim(), note:{position: $$[$0-2].trim(), text: $$[$0].trim()}};\r\n    \nbreak;\ncase 30:\n yy.setDirection('TB');this.$={stmt:'dir', value:'TB'};\nbreak;\ncase 31:\n yy.setDirection('BT');this.$={stmt:'dir', value:'BT'};\nbreak;\ncase 32:\n yy.setDirection('RL'); this.$={stmt:'dir', value:'RL'};\nbreak;\ncase 33:\n yy.setDirection('LR');this.$={stmt:'dir', value:'LR'};\nbreak;\ncase 36: case 37:\nthis.$=$$[$0];\nbreak;\ncase 40:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 41:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 42:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 43:\n yy.parseDirective('}%%', 'close_directive', 'state'); \nbreak;\n}\n},\ntable: [{3:1,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{1:[3]},{3:8,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{3:9,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{3:10,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},o([1,4,5,14,15,17,20,22,23,24,25,26,27,36,37,38,39,42,45],$V4,{8:11}),{32:12,46:[1,13]},{46:[2,40]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},{33:36,34:[1,37],48:$Vm},o([34,48],[2,41]),o($Vn,[2,6]),{6:28,10:39,11:18,14:$V7,15:$V8,17:$V9,20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,8]),o($Vn,[2,9]),o($Vn,[2,10],{12:[1,40],13:[1,41]}),o($Vn,[2,14]),{16:[1,42]},o($Vn,[2,16],{18:[1,43]}),{21:[1,44]},o($Vn,[2,20]),o($Vn,[2,21]),o($Vn,[2,22]),o($Vn,[2,23]),{28:45,29:[1,46],43:[1,47],44:[1,48]},o($Vn,[2,26]),o($Vn,[2,27]),o($Vo,[2,36]),o($Vo,[2,37]),o($Vn,[2,30]),o($Vn,[2,31]),o($Vn,[2,32]),o($Vn,[2,33]),o($Vp,[2,28]),{35:49,47:[1,50]},o($Vp,[2,43]),o($Vn,[2,7]),o($Vn,[2,11]),{11:51,22:$Vb,42:$Vl},o($Vn,[2,15]),o($Vq,$V4,{8:52}),{22:[1,53]},{22:[1,54]},{21:[1,55]},{22:[2,38]},{22:[2,39]},{33:56,48:$Vm},{48:[2,42]},o($Vn,[2,12],{12:[1,57]}),{4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,19:[1,58],20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,18],{18:[1,59]}),{29:[1,60]},{22:[1,61]},o($Vp,[2,29]),o($Vn,[2,13]),o($Vn,[2,17]),o($Vq,$V4,{8:62}),o($Vn,[2,24]),o($Vn,[2,25]),{4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,19:[1,63],20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,19])],\ndefaultActions: {7:[2,40],8:[2,1],9:[2,2],10:[2,3],47:[2,38],48:[2,39],50:[2,42]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0:return 36;\nbreak;\ncase 1:return 37;\nbreak;\ncase 2:return 38;\nbreak;\ncase 3:return 39;\nbreak;\ncase 4: this.begin('open_directive'); return 45; \nbreak;\ncase 5: this.begin('type_directive'); return 46; \nbreak;\ncase 6: this.popState(); this.begin('arg_directive'); return 34; \nbreak;\ncase 7: this.popState(); this.popState(); return 48; \nbreak;\ncase 8:return 47;\nbreak;\ncase 9:/* skip comments */\nbreak;\ncase 10:/* skip comments */{ /*console.log('Crap after close');*/ }\nbreak;\ncase 11:return 5;\nbreak;\ncase 12:/* skip all whitespace */\nbreak;\ncase 13:/* skip same-line whitespace */\nbreak;\ncase 14:/* skip comments */\nbreak;\ncase 15:/* skip comments */\nbreak;\ncase 16: this.pushState('SCALE'); /* console.log('Got scale', yy_.yytext);*/ return 15; \nbreak;\ncase 17:return 16;\nbreak;\ncase 18:this.popState();\nbreak;\ncase 19: /*console.log('Starting STATE zxzx'+yy.getDirection());*/this.pushState('STATE'); \nbreak;\ncase 20:this.popState();yy_.yytext=yy_.yytext.slice(0,-8).trim(); /*console.warn('Fork Fork: ',yy_.yytext);*/return 23;\nbreak;\ncase 21:this.popState();yy_.yytext=yy_.yytext.slice(0,-8).trim();/*console.warn('Fork Join: ',yy_.yytext);*/return 24;\nbreak;\ncase 22:this.popState();yy_.yytext=yy_.yytext.slice(0,-10).trim();/*console.warn('Fork Join: ',yy_.yytext);*/return 25;\nbreak;\ncase 23:this.popState();yy_.yytext=yy_.yytext.slice(0,-8).trim();/*console.warn('Fork Fork: ',yy_.yytext);*/return 23;\nbreak;\ncase 24:this.popState();yy_.yytext=yy_.yytext.slice(0,-8).trim();/*console.warn('Fork Join: ',yy_.yytext);*/return 24;\nbreak;\ncase 25:this.popState();yy_.yytext=yy_.yytext.slice(0,-10).trim();/*console.warn('Fork Join: ',yy_.yytext);*/return 25;\nbreak;\ncase 26: return 36;\nbreak;\ncase 27: return 37;\nbreak;\ncase 28: return 38;\nbreak;\ncase 29: return 39;\nbreak;\ncase 30: /*console.log('Starting STATE_STRING zxzx');*/this.begin(\"STATE_STRING\");\nbreak;\ncase 31:this.popState();this.pushState('STATE_ID');return \"AS\";\nbreak;\ncase 32:this.popState();/* console.log('STATE_ID', yy_.yytext);*/return \"ID\";\nbreak;\ncase 33:this.popState();\nbreak;\ncase 34: /*console.log('Long description:', yy_.yytext);*/return \"STATE_DESCR\";\nbreak;\ncase 35:/*console.log('COMPOSIT_STATE', yy_.yytext);*/return 17;\nbreak;\ncase 36:this.popState();\nbreak;\ncase 37:this.popState();this.pushState('struct'); /*console.log('begin struct', yy_.yytext);*/return 18;\nbreak;\ncase 38: /*console.log('Ending struct');*/ this.popState(); return 19;\nbreak;\ncase 39:/* nothing */\nbreak;\ncase 40: this.begin('NOTE'); return 27; \nbreak;\ncase 41: this.popState();this.pushState('NOTE_ID');return 43;\nbreak;\ncase 42: this.popState();this.pushState('NOTE_ID');return 44;\nbreak;\ncase 43: this.popState();this.pushState('FLOATING_NOTE');\nbreak;\ncase 44:this.popState();this.pushState('FLOATING_NOTE_ID');return \"AS\";\nbreak;\ncase 45:/**/\nbreak;\ncase 46: /*console.log('Floating note text: ', yy_.yytext);*/return \"NOTE_TEXT\";\nbreak;\ncase 47:this.popState();/*console.log('Floating note ID', yy_.yytext);*/return \"ID\";\nbreak;\ncase 48: this.popState();this.pushState('NOTE_TEXT');/*console.log('Got ID for note', yy_.yytext);*/return 22;\nbreak;\ncase 49: this.popState();/*console.log('Got NOTE_TEXT for note',yy_.yytext);*/yy_.yytext = yy_.yytext.substr(2).trim();return 29;\nbreak;\ncase 50: this.popState();/*console.log('Got NOTE_TEXT for note',yy_.yytext);*/yy_.yytext = yy_.yytext.slice(0,-8).trim();return 29;\nbreak;\ncase 51: /*console.log('Got state diagram', yy_.yytext,'#');*/return 7; \nbreak;\ncase 52: /*console.log('Got state diagram', yy_.yytext,'#');*/return 7; \nbreak;\ncase 53: /*console.log('HIDE_EMPTY', yy_.yytext,'#');*/return 14; \nbreak;\ncase 54: /*console.log('EDGE_STATE=',yy_.yytext);*/ return 42;\nbreak;\ncase 55: /*console.log('=>ID=',yy_.yytext);*/ return 22;\nbreak;\ncase 56: yy_.yytext = yy_.yytext.trim(); /*console.log('Descr = ', yy_.yytext);*/ return 12; \nbreak;\ncase 57:return 13;\nbreak;\ncase 58:return 26;\nbreak;\ncase 59:return 5;\nbreak;\ncase 60:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:.*direction\\s+TB[^\\n]*)/i,/^(?:.*direction\\s+BT[^\\n]*)/i,/^(?:.*direction\\s+RL[^\\n]*)/i,/^(?:.*direction\\s+LR[^\\n]*)/i,/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:[\\n]+)/i,/^(?:[\\s]+)/i,/^(?:((?!\\n)\\s)+)/i,/^(?:#[^\\n]*)/i,/^(?:%[^\\n]*)/i,/^(?:scale\\s+)/i,/^(?:\\d+)/i,/^(?:\\s+width\\b)/i,/^(?:state\\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\\[\\[fork\\]\\])/i,/^(?:.*\\[\\[join\\]\\])/i,/^(?:.*\\[\\[choice\\]\\])/i,/^(?:.*direction\\s+TB[^\\n]*)/i,/^(?:.*direction\\s+BT[^\\n]*)/i,/^(?:.*direction\\s+RL[^\\n]*)/i,/^(?:.*direction\\s+LR[^\\n]*)/i,/^(?:[\"])/i,/^(?:\\s*as\\s+)/i,/^(?:[^\\n\\{]*)/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:[^\\n\\s\\{]+)/i,/^(?:\\n)/i,/^(?:\\{)/i,/^(?:\\})/i,/^(?:[\\n])/i,/^(?:note\\s+)/i,/^(?:left of\\b)/i,/^(?:right of\\b)/i,/^(?:\")/i,/^(?:\\s*as\\s*)/i,/^(?:[\"])/i,/^(?:[^\"]*)/i,/^(?:[^\\n]*)/i,/^(?:\\s*[^:\\n\\s\\-]+)/i,/^(?:\\s*:[^:\\n;]+)/i,/^(?:[\\s\\S]*?end note\\b)/i,/^(?:stateDiagram\\s+)/i,/^(?:stateDiagram-v2\\s+)/i,/^(?:hide empty description\\b)/i,/^(?:\\[\\*\\])/i,/^(?:[^:\\n\\s\\-\\{]+)/i,/^(?:\\s*:[^:\\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"LINE\":{\"rules\":[13,14],\"inclusive\":false},\"close_directive\":{\"rules\":[13,14],\"inclusive\":false},\"arg_directive\":{\"rules\":[7,8,13,14],\"inclusive\":false},\"type_directive\":{\"rules\":[6,7,13,14],\"inclusive\":false},\"open_directive\":{\"rules\":[5,13,14],\"inclusive\":false},\"struct\":{\"rules\":[13,14,19,26,27,28,29,38,39,40,54,55,56,57,58],\"inclusive\":false},\"FLOATING_NOTE_ID\":{\"rules\":[47],\"inclusive\":false},\"FLOATING_NOTE\":{\"rules\":[44,45,46],\"inclusive\":false},\"NOTE_TEXT\":{\"rules\":[49,50],\"inclusive\":false},\"NOTE_ID\":{\"rules\":[48],\"inclusive\":false},\"NOTE\":{\"rules\":[41,42,43],\"inclusive\":false},\"SCALE\":{\"rules\":[17,18],\"inclusive\":false},\"ALIAS\":{\"rules\":[],\"inclusive\":false},\"STATE_ID\":{\"rules\":[32],\"inclusive\":false},\"STATE_STRING\":{\"rules\":[33,34],\"inclusive\":false},\"FORK_STATE\":{\"rules\":[],\"inclusive\":false},\"STATE\":{\"rules\":[13,14,20,21,22,23,24,25,30,31,35,36,37],\"inclusive\":false},\"ID\":{\"rules\":[13,14],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,2,3,4,9,10,11,12,14,15,16,19,37,40,51,52,53,54,55,56,57,59,60],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","/* parser generated by jison 0.4.18 */\n/*\n  Returns a Parser object of the following structure:\n\n  Parser: {\n    yy: {}\n  }\n\n  Parser.prototype: {\n    yy: {},\n    trace: function(),\n    symbols_: {associative list: name ==> number},\n    terminals_: {associative list: number ==> name},\n    productions_: [...],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$),\n    table: [...],\n    defaultActions: {...},\n    parseError: function(str, hash),\n    parse: function(input),\n\n    lexer: {\n        EOF: 1,\n        parseError: function(str, hash),\n        setInput: function(input),\n        input: function(),\n        unput: function(str),\n        more: function(),\n        less: function(n),\n        pastInput: function(),\n        upcomingInput: function(),\n        showPosition: function(),\n        test_match: function(regex_match_array, rule_index),\n        next: function(),\n        lex: function(),\n        begin: function(condition),\n        popState: function(),\n        _currentRules: function(),\n        topState: function(),\n        pushState: function(condition),\n\n        options: {\n            ranges: boolean           (optional: true ==> token location info will include a .range[] member)\n            flex: boolean             (optional: true ==> flex-like lexing behaviour where the rules are tested exhaustively to find the longest match)\n            backtrack_lexer: boolean  (optional: true ==> lexer regexes are tested in order and for each matching regex the action code is invoked; the lexer terminates the scan when a token is returned by the action code)\n        },\n\n        performAction: function(yy, yy_, $avoiding_name_collisions, YY_START),\n        rules: [...],\n        conditions: {associative list: name ==> set},\n    }\n  }\n\n\n  token location info (@$, _$, etc.): {\n    first_line: n,\n    last_line: n,\n    first_column: n,\n    last_column: n,\n    range: [start_number, end_number]       (where the numbers are indexes into the input string, regular zero-based)\n  }\n\n\n  the parseError function receives a 'hash' object with these members for lexer and parser errors: {\n    text:        (matched text)\n    token:       (the produced terminal token, if any)\n    line:        (yylineno)\n  }\n  while parser (grammar) errors will also provide these members, i.e. parser errors deliver a superset of attributes: {\n    loc:         (yylloc)\n    expected:    (string describing the set of expected tokens)\n    recoverable: (boolean: TRUE when the parser has a error recovery rule available for this particular error)\n  }\n*/\nvar parser = (function(){\nvar o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,5],$V2=[6,9,11,17,18,19,21],$V3=[1,15],$V4=[1,16],$V5=[1,17],$V6=[1,21],$V7=[4,6,9,11,17,18,19,21];\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"start\":3,\"journey\":4,\"document\":5,\"EOF\":6,\"directive\":7,\"line\":8,\"SPACE\":9,\"statement\":10,\"NEWLINE\":11,\"openDirective\":12,\"typeDirective\":13,\"closeDirective\":14,\":\":15,\"argDirective\":16,\"title\":17,\"section\":18,\"taskName\":19,\"taskData\":20,\"open_directive\":21,\"type_directive\":22,\"arg_directive\":23,\"close_directive\":24,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",4:\"journey\",6:\"EOF\",9:\"SPACE\",11:\"NEWLINE\",15:\":\",17:\"title\",18:\"section\",19:\"taskName\",20:\"taskData\",21:\"open_directive\",22:\"type_directive\",23:\"arg_directive\",24:\"close_directive\"},\nproductions_: [0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],\nperformAction: function anonymous(yytext, yyleng, yylineno, yy, yystate /* action[1] */, $$ /* vstack */, _$ /* lstack */) {\n/* this == yyval */\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1:\n return $$[$0-1]; \nbreak;\ncase 3:\n this.$ = [] \nbreak;\ncase 4:\n$$[$0-1].push($$[$0]);this.$ = $$[$0-1]\nbreak;\ncase 5: case 6:\n this.$ = $$[$0] \nbreak;\ncase 7: case 8:\n this.$=[];\nbreak;\ncase 11:\nyy.setTitle($$[$0].substr(6));this.$=$$[$0].substr(6);\nbreak;\ncase 12:\nyy.addSection($$[$0].substr(8));this.$=$$[$0].substr(8);\nbreak;\ncase 13:\nyy.addTask($$[$0-1], $$[$0]);this.$='task';\nbreak;\ncase 15:\n yy.parseDirective('%%{', 'open_directive'); \nbreak;\ncase 16:\n yy.parseDirective($$[$0], 'type_directive'); \nbreak;\ncase 17:\n $$[$0] = $$[$0].trim().replace(/'/g, '\"'); yy.parseDirective($$[$0], 'arg_directive'); \nbreak;\ncase 18:\n yy.parseDirective('}%%', 'close_directive', 'journey'); \nbreak;\n}\n},\ntable: [{3:1,4:$V0,7:3,12:4,21:$V1},{1:[3]},o($V2,[2,3],{5:6}),{3:7,4:$V0,7:3,12:4,21:$V1},{13:8,22:[1,9]},{22:[2,15]},{6:[1,10],7:18,8:11,9:[1,12],10:13,11:[1,14],12:4,17:$V3,18:$V4,19:$V5,21:$V1},{1:[2,2]},{14:19,15:[1,20],24:$V6},o([15,24],[2,16]),o($V2,[2,8],{1:[2,1]}),o($V2,[2,4]),{7:18,10:22,12:4,17:$V3,18:$V4,19:$V5,21:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,11]),o($V2,[2,12]),{20:[1,23]},o($V2,[2,14]),{11:[1,24]},{16:25,23:[1,26]},{11:[2,18]},o($V2,[2,5]),o($V2,[2,13]),o($V7,[2,9]),{14:27,24:$V6},{24:[2,17]},{11:[1,28]},o($V7,[2,10])],\ndefaultActions: {5:[2,15],7:[2,2],21:[2,18],26:[2,17]},\nparseError: function parseError (str, hash) {\n    if (hash.recoverable) {\n        this.trace(str);\n    } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n    }\n},\nparse: function parse(input) {\n    var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = '', yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    var args = lstack.slice.call(arguments, 1);\n    var lexer = Object.create(this.lexer);\n    var sharedState = { yy: {} };\n    for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n            sharedState.yy[k] = this.yy[k];\n        }\n    }\n    lexer.setInput(input, sharedState.yy);\n    sharedState.yy.lexer = lexer;\n    sharedState.yy.parser = this;\n    if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n    }\n    var yyloc = lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = lexer.options && lexer.options.ranges;\n    if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n    } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n    }\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n            function lex() {\n            var token;\n            token = tstack.pop() || lexer.lex() || EOF;\n            if (typeof token !== 'number') {\n                if (token instanceof Array) {\n                    tstack = token;\n                    token = tstack.pop();\n                }\n                token = self.symbols_[token] || token;\n            }\n            return token;\n        }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == 'undefined') {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n            var errStr = '';\n            expected = [];\n            for (p in table[state]) {\n                if (this.terminals_[p] && p > TERROR) {\n                    expected.push('\\'' + this.terminals_[p] + '\\'');\n                }\n            }\n            if (lexer.showPosition) {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + ', got \\'' + (this.terminals_[symbol] || symbol) + '\\'';\n            } else {\n                errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : '\\'' + (this.terminals_[symbol] || symbol) + '\\'');\n            }\n            this.parseError(errStr, {\n                text: lexer.match,\n                token: this.terminals_[symbol] || symbol,\n                line: lexer.yylineno,\n                loc: yyloc,\n                expected: expected\n            });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = lexer.yyleng;\n                yytext = lexer.yytext;\n                yylineno = lexer.yylineno;\n                yyloc = lexer.yylloc;\n                if (recovering > 0) {\n                    recovering--;\n                }\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n                first_line: lstack[lstack.length - (len || 1)].first_line,\n                last_line: lstack[lstack.length - 1].last_line,\n                first_column: lstack[lstack.length - (len || 1)].first_column,\n                last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n                yyval._$.range = [\n                    lstack[lstack.length - (len || 1)].range[0],\n                    lstack[lstack.length - 1].range[1]\n                ];\n            }\n            r = this.performAction.apply(yyval, [\n                yytext,\n                yyleng,\n                yylineno,\n                sharedState.yy,\n                action[1],\n                vstack,\n                lstack\n            ].concat(args));\n            if (typeof r !== 'undefined') {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}};\n\r\n/* generated by jison-lex 0.3.4 */\nvar lexer = (function(){\nvar lexer = ({\n\nEOF:1,\n\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\n\n// resets the lexer, sets new input\nsetInput:function (input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n            first_line: 1,\n            first_column: 0,\n            last_line: 1,\n            last_column: 0\n        };\n        if (this.options.ranges) {\n            this.yylloc.range = [0,0];\n        }\n        this.offset = 0;\n        return this;\n    },\n\n// consumes and returns one char from the input\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n            this.yylloc.range[1]++;\n        }\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\n\n// unshifts one char (or a string) into the input\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n\n        if (lines.length - 1) {\n            this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n\n        this.yylloc = {\n            first_line: this.yylloc.first_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.first_column,\n            last_column: lines ?\n                (lines.length === oldLines.length ? this.yylloc.first_column : 0)\n                 + oldLines[oldLines.length - lines.length].length - lines[0].length :\n              this.yylloc.first_column - len\n        };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n    },\n\n// When called from action, caches matched text and appends it on next action\nmore:function () {\n        this._more = true;\n        return this;\n    },\n\n// When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\nreject:function () {\n        if (this.options.backtrack_lexer) {\n            this._backtrack = true;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n\n        }\n        return this;\n    },\n\n// retain first n characters of the match\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\n\n// displays already matched input, i.e. for error messages\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\n\n// displays upcoming input, i.e. for error messages\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, \"\");\n    },\n\n// displays the character position where the lexing error occurred, i.e. for error messages\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n    },\n\n// test the lexed token: return FALSE when not a match, otherwise return token\ntest_match:function(match, indexed_rule) {\n        var token,\n            lines,\n            backup;\n\n        if (this.options.backtrack_lexer) {\n            // save context\n            backup = {\n                yylineno: this.yylineno,\n                yylloc: {\n                    first_line: this.yylloc.first_line,\n                    last_line: this.last_line,\n                    first_column: this.yylloc.first_column,\n                    last_column: this.yylloc.last_column\n                },\n                yytext: this.yytext,\n                match: this.match,\n                matches: this.matches,\n                matched: this.matched,\n                yyleng: this.yyleng,\n                offset: this.offset,\n                _more: this._more,\n                _input: this._input,\n                yy: this.yy,\n                conditionStack: this.conditionStack.slice(0),\n                done: this.done\n            };\n            if (this.options.ranges) {\n                backup.yylloc.range = this.yylloc.range.slice(0);\n            }\n        }\n\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno += lines.length;\n        }\n        this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ?\n                         lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length :\n                         this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n            this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n            this.done = false;\n        }\n        if (token) {\n            return token;\n        } else if (this._backtrack) {\n            // recover context\n            for (var k in backup) {\n                this[k] = backup[k];\n            }\n            return false; // rule action called reject() implying the next rule should be tested instead.\n        }\n        return false;\n    },\n\n// return next match in input\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) {\n            this.done = true;\n        }\n\n        var token,\n            match,\n            tempMatch,\n            index;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (this.options.backtrack_lexer) {\n                    token = this.test_match(tempMatch, rules[i]);\n                    if (token !== false) {\n                        return token;\n                    } else if (this._backtrack) {\n                        match = false;\n                        continue; // rule action called reject() implying a rule MISmatch.\n                    } else {\n                        // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n                        return false;\n                    }\n                } else if (!this.options.flex) {\n                    break;\n                }\n            }\n        }\n        if (match) {\n            token = this.test_match(match, rules[index]);\n            if (token !== false) {\n                return token;\n            }\n            // else: this is a lexer rule which consumes input without producing a token (e.g. whitespace)\n            return false;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n                text: \"\",\n                token: null,\n                line: this.yylineno\n            });\n        }\n    },\n\n// return next match that has a token\nlex:function lex () {\n        var r = this.next();\n        if (r) {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\n\n// activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\n\n// pop the previously active lexer condition state off the condition stack\npopState:function popState () {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n            return this.conditionStack.pop();\n        } else {\n            return this.conditionStack[0];\n        }\n    },\n\n// produce the lexer rule set which is active for the currently active lexer condition state\n_currentRules:function _currentRules () {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n            return this.conditions[\"INITIAL\"].rules;\n        }\n    },\n\n// return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\ntopState:function topState (n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n            return this.conditionStack[n];\n        } else {\n            return \"INITIAL\";\n        }\n    },\n\n// alias for begin(condition)\npushState:function pushState (condition) {\n        this.begin(condition);\n    },\n\n// return the number of states currently on the stack\nstateStackSize:function stateStackSize() {\n        return this.conditionStack.length;\n    },\noptions: {\"case-insensitive\":true},\nperformAction: function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {\nvar YYSTATE=YY_START;\nswitch($avoiding_name_collisions) {\ncase 0: this.begin('open_directive'); return 21; \nbreak;\ncase 1: this.begin('type_directive'); return 22; \nbreak;\ncase 2: this.popState(); this.begin('arg_directive'); return 15; \nbreak;\ncase 3: this.popState(); this.popState(); return 24; \nbreak;\ncase 4:return 23;\nbreak;\ncase 5:/* skip comments */\nbreak;\ncase 6:/* skip comments */\nbreak;\ncase 7:return 11;\nbreak;\ncase 8:/* skip whitespace */\nbreak;\ncase 9:/* skip comments */\nbreak;\ncase 10:return 4;\nbreak;\ncase 11:return 17;\nbreak;\ncase 12:return 18;\nbreak;\ncase 13:return 19;\nbreak;\ncase 14:return 20;\nbreak;\ncase 15:return 15;\nbreak;\ncase 16:return 6;\nbreak;\ncase 17:return 'INVALID';\nbreak;\n}\n},\nrules: [/^(?:%%\\{)/i,/^(?:((?:(?!\\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\\}%%)/i,/^(?:((?:(?!\\}%%).|\\n)*))/i,/^(?:%(?!\\{)[^\\n]*)/i,/^(?:[^\\}]%%[^\\n]*)/i,/^(?:[\\n]+)/i,/^(?:\\s+)/i,/^(?:#[^\\n]*)/i,/^(?:journey\\b)/i,/^(?:title\\s[^#\\n;]+)/i,/^(?:section\\s[^#:\\n;]+)/i,/^(?:[^#:\\n;]+)/i,/^(?::[^#\\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],\nconditions: {\"open_directive\":{\"rules\":[1],\"inclusive\":false},\"type_directive\":{\"rules\":[2,3],\"inclusive\":false},\"arg_directive\":{\"rules\":[3,4],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,5,6,7,8,9,10,11,12,13,14,15,16,17],\"inclusive\":true}}\n});\nreturn lexer;\n})();\nparser.lexer = lexer;\nfunction Parser () {\n  this.yy = {};\n}\nParser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();\n\n\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {\nexports.parser = parser;\nexports.Parser = parser.Parser;\nexports.parse = function () { return parser.parse.apply(parser, arguments); };\nexports.main = function commonjsMain (args) {\n    if (!args[1]) {\n        console.log('Usage: '+args[0]+' FILE');\n        process.exit(1);\n    }\n    var source = require('fs').readFileSync(require('path').normalize(args[1]), \"utf8\");\n    return exports.parser.parse(source);\n};\nif (typeof module !== 'undefined' && require.main === module) {\n  exports.main(process.argv.slice(1));\n}\n}","import { assignWithDepth } from './utils';\nimport { log } from './logger';\nimport theme from './themes';\nimport config from './defaultConfig';\n\n// debugger;\n\nexport const defaultConfig = Object.freeze(config);\n\nlet siteConfig = assignWithDepth({}, defaultConfig);\nlet configFromInitialize;\nlet directives = [];\nlet currentConfig = assignWithDepth({}, defaultConfig);\n\nexport const updateCurrentConfig = (siteCfg, _directives) => {\n  // start with config beeing the siteConfig\n  let cfg = assignWithDepth({}, siteCfg);\n  // let sCfg = assignWithDepth(defaultConfig, siteConfigDelta);\n\n  // Join directives\n  let sumOfDirectives = {};\n  for (let i = 0; i < _directives.length; i++) {\n    const d = _directives[i];\n    sanitize(d);\n\n    // Apply the data from the directive where the the overrides the themeVaraibles\n    sumOfDirectives = assignWithDepth(sumOfDirectives, d);\n  }\n\n  cfg = assignWithDepth(cfg, sumOfDirectives);\n\n  if (sumOfDirectives.theme) {\n    const tmpConfigFromInitialize = assignWithDepth({}, configFromInitialize);\n    const themeVariables = assignWithDepth(\n      tmpConfigFromInitialize.themeVariables || {},\n      sumOfDirectives.themeVariables\n    );\n    cfg.themeVariables = theme[cfg.theme].getThemeVariables(themeVariables);\n  }\n\n  currentConfig = cfg;\n  return cfg;\n};\n\n/**\n * ## setSiteConfig\n *\n * | Function      | Description                           | Type        | Values                                  |\n * | ------------- | ------------------------------------- | ----------- | --------------------------------------- |\n * | setSiteConfig | Sets the siteConfig to desired values | Put Request | Any Values, except ones in secure array |\n *\n * **Notes:** Sets the siteConfig. The siteConfig is a protected configuration for repeat use. Calls\n * to reset() will reset the currentConfig to siteConfig. Calls to reset(configApi.defaultConfig)\n * will reset siteConfig and currentConfig to the defaultConfig Note: currentConfig is set in this\n * function *Default value: At default, will mirror Global Config**\n *\n * @param conf - The base currentConfig to use as siteConfig\n * @returns {object} - The siteConfig\n */\nexport const setSiteConfig = (conf) => {\n  siteConfig = assignWithDepth({}, defaultConfig);\n  siteConfig = assignWithDepth(siteConfig, conf);\n\n  if (conf.theme) {\n    siteConfig.themeVariables = theme[conf.theme].getThemeVariables(conf.themeVariables);\n  }\n\n  currentConfig = updateCurrentConfig(siteConfig, directives);\n  return siteConfig;\n};\n\nexport const saveConfigFromInitilize = (conf) => {\n  configFromInitialize = assignWithDepth({}, conf);\n};\n\nexport const updateSiteConfig = (conf) => {\n  siteConfig = assignWithDepth(siteConfig, conf);\n  updateCurrentConfig(siteConfig, directives);\n\n  return siteConfig;\n};\n/**\n * ## getSiteConfig\n *\n * | Function      | Description                                       | Type        | Values                           |\n * | ------------- | ------------------------------------------------- | ----------- | -------------------------------- |\n * | setSiteConfig | Returns the current siteConfig base configuration | Get Request | Returns Any Values in siteConfig |\n *\n * **Notes**: Returns **any** values in siteConfig.\n *\n * @returns {object} - The siteConfig\n */\nexport const getSiteConfig = () => {\n  return assignWithDepth({}, siteConfig);\n};\n/**\n * ## setConfig\n *\n * | Function      | Description                           | Type        | Values                                  |\n * | ------------- | ------------------------------------- | ----------- | --------------------------------------- |\n * | setSiteConfig | Sets the siteConfig to desired values | Put Request | Any Values, except ones in secure array |\n *\n * **Notes**: Sets the currentConfig. The parameter conf is sanitized based on the siteConfig.secure\n * keys. Any values found in conf with key found in siteConfig.secure will be replaced with the\n * corresponding siteConfig value.\n *\n * @param {any} conf - The potential currentConfig\n * @returns {any} - The currentConfig merged with the sanitized conf\n */\nexport const setConfig = (conf) => {\n  // sanitize(conf);\n  // Object.keys(conf).forEach(key => {\n  //   const manipulator = manipulators[key];\n  //   conf[key] = manipulator ? manipulator(conf[key]) : conf[key];\n  // });\n\n  assignWithDepth(currentConfig, conf);\n\n  return getConfig();\n};\n\n/**\n * ## getConfig\n *\n * | Function  | Description               | Type        | Return Values                  |\n * | --------- | ------------------------- | ----------- | ------------------------------ |\n * | getConfig | Obtains the currentConfig | Get Request | Any Values from current Config |\n *\n * **Notes**: Returns **any** the currentConfig\n *\n * @returns {any} - The currentConfig\n */\nexport const getConfig = () => {\n  return assignWithDepth({}, currentConfig);\n};\n/**\n * ## sanitize\n *\n * | Function | Description                            | Type        | Values |\n * | -------- | -------------------------------------- | ----------- | ------ |\n * | sanitize | Sets the siteConfig to desired values. | Put Request | None   |\n *\n * Ensures options parameter does not attempt to override siteConfig secure keys **Notes**: modifies\n * options in-place\n *\n * @param {any} options - The potential setConfig parameter\n */\nexport const sanitize = (options) => {\n  // Checking that options are not in the list of excluded options\n  Object.keys(siteConfig.secure).forEach((key) => {\n    if (typeof options[siteConfig.secure[key]] !== 'undefined') {\n      // DO NOT attempt to print options[siteConfig.secure[key]] within `${}` as a malicious script\n      // can exploit the logger's attempt to stringify the value and execute arbitrary code\n      log.debug(\n        `Denied attempt to modify a secure key ${siteConfig.secure[key]}`,\n        options[siteConfig.secure[key]]\n      );\n      delete options[siteConfig.secure[key]];\n    }\n  });\n\n  // Check that there no attempts of prototype pollution\n  Object.keys(options).forEach((key) => {\n    if (key.indexOf('__') === 0) {\n      delete options[key];\n    }\n  });\n  // Check that there no attempts of xss, there should be no tags at all in the directive\n  // blocking data urls as base64 urls can contain svgs with inline script tags\n  Object.keys(options).forEach((key) => {\n    if (typeof options[key] === 'string') {\n      if (\n        options[key].indexOf('<') > -1 ||\n        options[key].indexOf('>') > -1 ||\n        options[key].indexOf('url(data:') > -1\n      ) {\n        delete options[key];\n      }\n    }\n    if (typeof options[key] === 'object') {\n      sanitize(options[key]);\n    }\n  });\n};\n\n/**\n * Pushes in a directive to the configuration\n *\n * @param {object} directive The directive to push in\n */\nexport const addDirective = (directive) => {\n  if (directive.fontFamily) {\n    if (!directive.themeVariables) {\n      directive.themeVariables = { fontFamily: directive.fontFamily };\n    } else {\n      if (!directive.themeVariables.fontFamily) {\n        directive.themeVariables = { fontFamily: directive.fontFamily };\n      }\n    }\n  }\n  directives.push(directive);\n  updateCurrentConfig(siteConfig, directives);\n};\n\n/**\n * ## reset\n *\n * | Function | Description                  | Type        | Required | Values |\n * | -------- | ---------------------------- | ----------- | -------- | ------ |\n * | reset    | Resets currentConfig to conf | Put Request | Required | None   |\n *\n * ## conf\n *\n * | Parameter | Description                                                   | Type       | Required | Values                                       |\n * | --------- | ------------------------------------------------------------- | ---------- | -------- | -------------------------------------------- |\n * | conf      | base set of values, which currentConfig coul be **reset** to. | Dictionary | Required | Any Values, with respect to the secure Array |\n *\n * **Notes**: (default: current siteConfig ) (optional, default `getSiteConfig()`)\n */\nexport const reset = () => {\n  // Replace current config with siteConfig\n  directives = [];\n  updateCurrentConfig(siteConfig, directives);\n};\n","import intersectRect from './intersect/intersect-rect';\nimport { log } from '../logger';\nimport createLabel from './createLabel';\nimport { select } from 'd3';\nimport { getConfig } from '../config';\nimport { evaluate } from '../diagrams/common/common';\n\nconst rect = (parent, node) => {\n  log.trace('Creating subgraph rect for ', node.id, node);\n\n  // Add outer g element\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'cluster' + (node.class ? ' ' + node.class : ''))\n    .attr('id', node.id);\n\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  // Create the label and insert it after the rect\n  const label = shapeSvg.insert('g').attr('class', 'cluster-label');\n\n  const text = label\n    .node()\n    .appendChild(createLabel(node.labelText, node.labelStyle, undefined, true));\n\n  // Get the size of the label\n  let bbox = text.getBBox();\n\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n\n  const width = node.width <= bbox.width + padding ? bbox.width + padding : node.width;\n  if (node.width <= bbox.width + padding) {\n    node.diff = (bbox.width - node.width) / 2;\n  } else {\n    node.diff = -node.padding / 2;\n  }\n\n  log.trace('Data ', node, JSON.stringify(node));\n  // center the rect around its coordinate\n  rect\n    .attr('style', node.style)\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('x', node.x - width / 2)\n    .attr('y', node.y - node.height / 2 - halfPadding)\n    .attr('width', width)\n    .attr('height', node.height + padding);\n\n  // Center the label\n  label.attr(\n    'transform',\n    'translate(' +\n      (node.x - bbox.width / 2) +\n      ', ' +\n      (node.y - node.height / 2 + node.padding / 3) +\n      ')'\n  );\n\n  const rectBox = rect.node().getBBox();\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n\n  return shapeSvg;\n};\n\n/**\n * Non visiable cluster where the note is group with its\n *\n * @param {any} parent\n * @param {any} node\n * @returns {any} ShapeSvg\n */\nconst noteGroup = (parent, node) => {\n  // Add outer g element\n  const shapeSvg = parent.insert('g').attr('class', 'note-cluster').attr('id', node.id);\n\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n\n  // center the rect around its coordinate\n  rect\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('x', node.x - node.width / 2 - halfPadding)\n    .attr('y', node.y - node.height / 2 - halfPadding)\n    .attr('width', node.width + padding)\n    .attr('height', node.height + padding)\n    .attr('fill', 'none');\n\n  const rectBox = rect.node().getBBox();\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n\n  return shapeSvg;\n};\nconst roundedWithTitle = (parent, node) => {\n  // Add outer g element\n  const shapeSvg = parent.insert('g').attr('class', node.classes).attr('id', node.id);\n\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  // Create the label and insert it after the rect\n  const label = shapeSvg.insert('g').attr('class', 'cluster-label');\n  const innerRect = shapeSvg.append('rect');\n\n  const text = label\n    .node()\n    .appendChild(createLabel(node.labelText, node.labelStyle, undefined, true));\n\n  // Get the size of the label\n  let bbox = text.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n  bbox = text.getBBox();\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n\n  const width = node.width <= bbox.width + node.padding ? bbox.width + node.padding : node.width;\n  if (node.width <= bbox.width + node.padding) {\n    node.diff = (bbox.width + node.padding * 0 - node.width) / 2;\n  } else {\n    node.diff = -node.padding / 2;\n  }\n\n  // center the rect around its coordinate\n  rect\n    .attr('class', 'outer')\n    .attr('x', node.x - width / 2 - halfPadding)\n    .attr('y', node.y - node.height / 2 - halfPadding)\n    .attr('width', width + padding)\n    .attr('height', node.height + padding);\n  innerRect\n    .attr('class', 'inner')\n    .attr('x', node.x - width / 2 - halfPadding)\n    .attr('y', node.y - node.height / 2 - halfPadding + bbox.height - 1)\n    .attr('width', width + padding)\n    .attr('height', node.height + padding - bbox.height - 3);\n\n  // Center the label\n  label.attr(\n    'transform',\n    'translate(' +\n      (node.x - bbox.width / 2) +\n      ', ' +\n      (node.y -\n        node.height / 2 -\n        node.padding / 3 +\n        (evaluate(getConfig().flowchart.htmlLabels) ? 5 : 3)) +\n      ')'\n  );\n\n  const rectBox = rect.node().getBBox();\n  node.height = rectBox.height;\n\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst divider = (parent, node) => {\n  // Add outer g element\n  const shapeSvg = parent.insert('g').attr('class', node.classes).attr('id', node.id);\n\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  const padding = 0 * node.padding;\n  const halfPadding = padding / 2;\n\n  // center the rect around its coordinate\n  rect\n    .attr('class', 'divider')\n    .attr('x', node.x - node.width / 2 - halfPadding)\n    .attr('y', node.y - node.height / 2)\n    .attr('width', node.width + padding)\n    .attr('height', node.height + padding);\n\n  const rectBox = rect.node().getBBox();\n  node.width = rectBox.width;\n  node.height = rectBox.height;\n  node.diff = -node.padding / 2;\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst shapes = { rect, roundedWithTitle, noteGroup, divider };\n\nlet clusterElems = {};\n\nexport const insertCluster = (elem, node) => {\n  log.trace('Inserting cluster');\n  const shape = node.shape || 'rect';\n  clusterElems[node.id] = shapes[shape](elem, node);\n};\nexport const getClusterTitleWidth = (elem, node) => {\n  const label = createLabel(node.labelText, node.labelStyle, undefined, true);\n  elem.node().appendChild(label);\n  const width = label.getBBox().width;\n  elem.node().removeChild(label);\n  return width;\n};\n\nexport const clear = () => {\n  clusterElems = {};\n};\n\nexport const positionCluster = (node) => {\n  log.info('Position cluster (' + node.id + ', ' + node.x + ', ' + node.y + ')');\n  const el = clusterElems[node.id];\n\n  el.attr('transform', 'translate(' + node.x + ', ' + node.y + ')');\n};\n","import { select } from 'd3';\nimport { log } from '../logger'; // eslint-disable-line\nimport { getConfig } from '../config';\nimport { sanitizeText, evaluate } from '../diagrams/common/common';\n\nconst sanitizeTxt = (txt) => sanitizeText(txt, getConfig());\n\n/**\n * @param dom\n * @param styleFn\n */\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr('style', styleFn);\n  }\n}\n\n/**\n * @param {any} node\n * @returns {SVGForeignObjectElement} Node\n */\nfunction addHtmlLabel(node) {\n  const fo = select(document.createElementNS('http://www.w3.org/2000/svg', 'foreignObject'));\n  const div = fo.append('xhtml:div');\n\n  const label = node.label;\n  const labelClass = node.isNode ? 'nodeLabel' : 'edgeLabel';\n  div.html(\n    '<span class=\"' +\n      labelClass +\n      '\" ' +\n      (node.labelStyle ? 'style=\"' + node.labelStyle + '\"' : '') +\n      '>' +\n      label +\n      '</span>'\n  );\n\n  applyStyle(div, node.labelStyle);\n  div.style('display', 'inline-block');\n  // Fix for firefox\n  div.style('white-space', 'nowrap');\n  div.attr('xmlns', 'http://www.w3.org/1999/xhtml');\n  return fo.node();\n}\n\nconst createLabel = (_vertexText, style, isTitle, isNode) => {\n  let vertexText = _vertexText || '';\n  if (typeof vertexText === 'object') vertexText = vertexText[0];\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\n    vertexText = vertexText.replace(/\\\\n|\\n/g, '<br />');\n    log.info('vertexText' + vertexText);\n    const node = {\n      isNode,\n      label: vertexText.replace(\n        /fa[lrsb]?:fa-[\\w-]+/g,\n        (s) => `<i class='${s.replace(':', ' ')}'></i>`\n      ),\n      labelStyle: style.replace('fill:', 'color:'),\n    };\n    let vertexNode = addHtmlLabel(node);\n    // vertexNode.parentNode.removeChild(vertexNode);\n    return vertexNode;\n  } else {\n    const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n    svgLabel.setAttribute('style', style.replace('color:', 'fill:'));\n    let rows = [];\n    if (typeof vertexText === 'string') {\n      rows = vertexText.split(/\\\\n|\\n|<br\\s*\\/?>/gi);\n    } else if (Array.isArray(vertexText)) {\n      rows = vertexText;\n    } else {\n      rows = [];\n    }\n\n    for (let j = 0; j < rows.length; j++) {\n      const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n      tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n      tspan.setAttribute('dy', '1em');\n      tspan.setAttribute('x', '0');\n      if (isTitle) {\n        tspan.setAttribute('class', 'title-row');\n      } else {\n        tspan.setAttribute('class', 'row');\n      }\n      tspan.textContent = rows[j].trim();\n      svgLabel.appendChild(tspan);\n    }\n    return svgLabel;\n  }\n};\n\nexport default createLabel;\n","import { log } from '../logger'; // eslint-disable-line\nimport createLabel from './createLabel';\nimport { line, curveBasis, select } from 'd3';\nimport { getConfig } from '../config';\nimport utils from '../utils';\nimport { evaluate } from '../diagrams/common/common';\n\nlet edgeLabels = {};\nlet terminalLabels = {};\n\nexport const clear = () => {\n  edgeLabels = {};\n  terminalLabels = {};\n};\n\nexport const insertEdgeLabel = (elem, edge) => {\n  // Create the actual text element\n  const labelElement = createLabel(edge.label, edge.labelStyle);\n\n  // Create outer g, edgeLabel, this will be positioned after graph layout\n  const edgeLabel = elem.insert('g').attr('class', 'edgeLabel');\n\n  // Create inner g, label, this will be positioned now for centering the text\n  const label = edgeLabel.insert('g').attr('class', 'label');\n  label.node().appendChild(labelElement);\n\n  // Center the label\n  let bbox = labelElement.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = labelElement.children[0];\n    const dv = select(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n  label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + -bbox.height / 2 + ')');\n\n  // Make element accessible by id for positioning\n  edgeLabels[edge.id] = edgeLabel;\n\n  // Update the abstract data of the edge with the new information about its width and height\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n\n  let fo;\n  if (edge.startLabelLeft) {\n    // Create the actual text element\n    const startLabelElement = createLabel(edge.startLabelLeft, edge.labelStyle);\n    const startEdgeLabelLeft = elem.insert('g').attr('class', 'edgeTerminals');\n    const inner = startEdgeLabelLeft.insert('g').attr('class', 'inner');\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    // Create the actual text element\n    const startLabelElement = createLabel(edge.startLabelRight, edge.labelStyle);\n    const startEdgeLabelRight = elem.insert('g').attr('class', 'edgeTerminals');\n    const inner = startEdgeLabelRight.insert('g').attr('class', 'inner');\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    // Create the actual text element\n    const endLabelElement = createLabel(edge.endLabelLeft, edge.labelStyle);\n    const endEdgeLabelLeft = elem.insert('g').attr('class', 'edgeTerminals');\n    const inner = endEdgeLabelLeft.insert('g').attr('class', 'inner');\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    // Create the actual text element\n    const endLabelElement = createLabel(edge.endLabelRight, edge.labelStyle);\n    const endEdgeLabelRight = elem.insert('g').attr('class', 'edgeTerminals');\n    const inner = endEdgeLabelRight.insert('g').attr('class', 'inner');\n\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n};\n\n/**\n * @param {any} fo\n * @param {any} value\n */\nfunction setTerminalWidth(fo, value) {\n  if (getConfig().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + 'px';\n    fo.style.height = '12px';\n  }\n}\n\nexport const positionEdgeLabel = (edge, paths) => {\n  log.info('Moving label abc78 ', edge.id, edge.label, edgeLabels[edge.id]);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  if (edge.label) {\n    const el = edgeLabels[edge.id];\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      //   // debugger;\n      const pos = utils.calcLabelPosition(path);\n      log.info('Moving label from (', x, ',', y, ') to (', pos.x, ',', pos.y, ') abc78');\n      // x = pos.x;\n      // y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n\n  //let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  if (edge.startLabelLeft) {\n    const el = terminalLabels[edge.id].startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      // debugger;\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, 'start_left', path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels[edge.id].startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      // debugger;\n      const pos = utils.calcTerminalLabelPosition(\n        edge.arrowTypeStart ? 10 : 0,\n        'start_right',\n        path\n      );\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels[edge.id].endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      // debugger;\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, 'end_left', path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels[edge.id].endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      // debugger;\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, 'end_right', path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n};\n\n// const getRelationType = function(type) {\n//   switch (type) {\n//     case stateDb.relationType.AGGREGATION:\n//       return 'aggregation';\n//     case stateDb.relationType.EXTENSION:\n//       return 'extension';\n//     case stateDb.relationType.COMPOSITION:\n//       return 'composition';\n//     case stateDb.relationType.DEPENDENCY:\n//       return 'dependency';\n//   }\n// };\n\nconst outsideNode = (node, point) => {\n  // log.warn('Checking bounds ', node, point);\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point.x - x);\n  const dy = Math.abs(point.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  if (dx >= w || dy >= h) {\n    return true;\n  }\n  return false;\n};\n\nexport const intersection = (node, outsidePoint, insidePoint) => {\n  log.warn(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\n  const x = node.x;\n  const y = node.y;\n\n  const dx = Math.abs(x - insidePoint.x);\n  // const dy = Math.abs(y - insidePoint.y);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n\n  // const edges = {\n  //   x1: x - w,\n  //   x2: x + w,\n  //   y1: y - h,\n  //   y2: y + h\n  // };\n\n  // if (\n  //   outsidePoint.x === edges.x1 ||\n  //   outsidePoint.x === edges.x2 ||\n  //   outsidePoint.y === edges.y1 ||\n  //   outsidePoint.y === edges.y2\n  // ) {\n  //   log.warn('abc89 calc equals on edge', outsidePoint, edges);\n  //   return outsidePoint;\n  // }\n\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  // log.warn();\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) { // eslint-disable-line\n    // Intersection is top or bottom of rect.\n    // let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = (R * q) / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q,\n    };\n\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n\n    log.warn(`abc89 topp/bott calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\n\n    return res;\n  } else {\n    // Intersection onn sides of rect\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      // r = outsidePoint.x - w - x;\n      r = x - w - outsidePoint.x;\n    }\n    let q = (Q * r) / R;\n    //  OK let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x + dx - w;\n    // OK let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : outsidePoint.x + r;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    // let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : outsidePoint.x + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    log.warn(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n\n    return { x: _x, y: _y };\n  }\n};\n/**\n * This function will page a path and node where the last point(s) in the path is inside the node\n * and return an update path ending by the border of the node.\n *\n * @param {Array} _points\n * @param {any} boundryNode\n * @returns {Array} Points\n */\nconst cutPathAtIntersect = (_points, boundryNode) => {\n  log.warn('abc88 cutPathAtIntersect', _points, boundryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach((point) => {\n    // const node = clusterDb[edge.toCluster].node;\n    log.info('abc88 checking point', point, boundryNode);\n\n    // check if point is inside the boundry rect\n    if (!outsideNode(boundryNode, point) && !isInside) {\n      // First point inside the rect found\n      // Calc the intersection coord between the point anf the last opint ouside the rect\n      const inter = intersection(boundryNode, lastPointOutside, point);\n      log.warn('abc88 inside', point, lastPointOutside, inter);\n      log.warn('abc88 intersection', inter);\n\n      // // Check case where the intersection is the same as the last point\n      let pointPresent = false;\n      points.forEach((p) => {\n        pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\n      });\n      // // if (!pointPresent) {\n      if (!points.find((e) => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      } else {\n        log.warn('abc88 no intersect', inter, points);\n      }\n      // points.push(inter);\n      isInside = true;\n    } else {\n      // Outside\n      log.warn('abc88 outside', point, lastPointOutside);\n      lastPointOutside = point;\n      // points.push(point);\n      if (!isInside) points.push(point);\n    }\n  });\n  log.warn('abc88 returning points', points);\n  return points;\n};\n\n//(edgePaths, e, edge, clusterDb, diagramtype, graph)\nexport const insertEdge = function (elem, e, edge, clusterDb, diagramType, graph) {\n  let points = edge.points;\n  let pointsHasChanged = false;\n  const tail = graph.node(e.v);\n  var head = graph.node(e.w);\n\n  log.info('abc88 InsertEdge: ', edge);\n  if (head.intersect && tail.intersect) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    log.info(\n      'Last point',\n      points[points.length - 1],\n      head,\n      head.intersect(points[points.length - 1])\n    );\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  if (edge.toCluster) {\n    log.info('to cluster abc88', clusterDb[edge.toCluster]);\n    points = cutPathAtIntersect(edge.points, clusterDb[edge.toCluster].node);\n    // log.trace('edge', edge);\n    // points = [];\n    // let lastPointOutside; // = edge.points[0];\n    // let isInside = false;\n    // edge.points.forEach(point => {\n    //   const node = clusterDb[edge.toCluster].node;\n    //   log.warn('checking from', edge.fromCluster, point, node);\n\n    //   if (!outsideNode(node, point) && !isInside) {\n    //     log.trace('inside', edge.toCluster, point, lastPointOutside);\n\n    //     // First point inside the rect\n    //     const inter = intersection(node, lastPointOutside, point);\n\n    //     let pointPresent = false;\n    //     points.forEach(p => {\n    //       pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\n    //     });\n    //     // if (!pointPresent) {\n    //     if (!points.find(e => e.x === inter.x && e.y === inter.y)) {\n    //       points.push(inter);\n    //     } else {\n    //       log.warn('no intersect', inter, points);\n    //     }\n    //     isInside = true;\n    // } else {\n    //   // outtside\n    //   lastPointOutside = point;\n    //   if (!isInside) points.push(point);\n    // }\n    // });\n    pointsHasChanged = true;\n  }\n\n  if (edge.fromCluster) {\n    log.info('from cluster abc88', clusterDb[edge.fromCluster]);\n    points = cutPathAtIntersect(points.reverse(), clusterDb[edge.fromCluster].node).reverse();\n    // log.warn('edge', edge);\n    // log.warn('from cluster', clusterDb[edge.fromCluster], points);\n    // const updatedPoints = [];\n    // let lastPointOutside = edge.points[edge.points.length - 1];\n    // let isInside = false;\n    // for (let i = points.length - 1; i >= 0; i--) {\n    //   const point = points[i];\n    //   const node = clusterDb[edge.fromCluster].node;\n    //   log.warn('checking to', edge.fromCluster, point, node);\n\n    //   if (!outsideNode(node, point) && !isInside) {\n    //     log.warn('inside', edge.fromCluster, point, node);\n\n    //     // First point inside the rect\n    //     const inter = intersection(node, lastPointOutside, point);\n    //     log.warn('intersect', intersection(node, lastPointOutside, point));\n    //     let pointPresent = false;\n    //     points.forEach(p => {\n    //       pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\n    //     });\n    //     // if (!pointPresent) {\n    //     if (!points.find(e => e.x === inter.x && e.y === inter.y)) {\n    //       updatedPoints.unshift(inter);\n    //       log.warn('Adding point -updated = ', updatedPoints);\n    //     } else {\n    //       log.warn('no intersect', inter, points);\n    //     }\n    //     // points.push(insterection);\n    //     isInside = true;\n    //   } else {\n    //     // at the outside\n    //     // if (!isInside) updatedPoints.unshift(point);\n    //     updatedPoints.unshift(point);\n    //     log.warn('Outside point', point, updatedPoints);\n    //   }\n    //   lastPointOutside = point;\n    // }\n    // points = updatedPoints;\n    // points = edge.points;\n    pointsHasChanged = true;\n  }\n\n  // The data for our line\n  const lineData = points.filter((p) => !Number.isNaN(p.y));\n\n  // This is the accessor function we talked about above\n  let curve;\n  // Currently only flowcharts get the curve from the settings, perhaps this should\n  // be expanded to a common setting? Restricting it for now in order not to cause side-effects that\n  // have not been thought through\n  if (diagramType === 'graph' || diagramType === 'flowchart') {\n    curve = edge.curve || curveBasis;\n  } else {\n    curve = curveBasis;\n  }\n  // curve = curveLinear;\n  const lineFunction = line()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    })\n    .curve(curve);\n\n  // Contruct stroke classes based on properties\n  let strokeClasses;\n  switch (edge.thickness) {\n    case 'normal':\n      strokeClasses = 'edge-thickness-normal';\n      break;\n    case 'thick':\n      strokeClasses = 'edge-thickness-thick';\n      break;\n    default:\n      strokeClasses = '';\n  }\n  switch (edge.pattern) {\n    case 'solid':\n      strokeClasses += ' edge-pattern-solid';\n      break;\n    case 'dotted':\n      strokeClasses += ' edge-pattern-dotted';\n      break;\n    case 'dashed':\n      strokeClasses += ' edge-pattern-dashed';\n      break;\n  }\n\n  const svgPath = elem\n    .append('path')\n    .attr('d', lineFunction(lineData))\n    .attr('id', edge.id)\n    .attr('class', ' ' + strokeClasses + (edge.classes ? ' ' + edge.classes : ''))\n    .attr('style', edge.style);\n\n  // DEBUG code, adds a red circle at each edge coordinate\n  // edge.points.forEach(point => {\n  //   elem\n  //     .append('circle')\n  //     .style('stroke', 'red')\n  //     .style('fill', 'red')\n  //     .attr('r', 1)\n  //     .attr('cx', point.x)\n  //     .attr('cy', point.y);\n  // });\n\n  let url = '';\n  if (getConfig().state.arrowMarkerAbsolute) {\n    url =\n      window.location.protocol +\n      '//' +\n      window.location.host +\n      window.location.pathname +\n      window.location.search;\n    url = url.replace(/\\(/g, '\\\\(');\n    url = url.replace(/\\)/g, '\\\\)');\n  }\n  log.info('arrowTypeStart', edge.arrowTypeStart);\n  log.info('arrowTypeEnd', edge.arrowTypeEnd);\n\n  switch (edge.arrowTypeStart) {\n    case 'arrow_cross':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-crossStart' + ')');\n      break;\n    case 'arrow_point':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-pointStart' + ')');\n      break;\n    case 'arrow_barb':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-barbStart' + ')');\n      break;\n    case 'arrow_circle':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-circleStart' + ')');\n      break;\n    case 'aggregation':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-aggregationStart' + ')');\n      break;\n    case 'extension':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-extensionStart' + ')');\n      break;\n    case 'composition':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-compositionStart' + ')');\n      break;\n    case 'dependency':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-dependencyStart' + ')');\n      break;\n    default:\n  }\n  switch (edge.arrowTypeEnd) {\n    case 'arrow_cross':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-crossEnd' + ')');\n      break;\n    case 'arrow_point':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-pointEnd' + ')');\n      break;\n    case 'arrow_barb':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-barbEnd' + ')');\n      break;\n    case 'arrow_circle':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-circleEnd' + ')');\n      break;\n    case 'aggregation':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-aggregationEnd' + ')');\n      break;\n    case 'extension':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-extensionEnd' + ')');\n      break;\n    case 'composition':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-compositionEnd' + ')');\n      break;\n    case 'dependency':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-dependencyEnd' + ')');\n      break;\n    default:\n  }\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n};\n","import dagre from 'dagre';\nimport graphlib from 'graphlib';\nimport insertMarkers from './markers';\nimport { updateNodeBounds } from './shapes/util';\nimport {\n  clear as clearGraphlib,\n  clusterDb,\n  adjustClustersAndEdges,\n  findNonClusterChild,\n  sortNodesByHierarchy,\n} from './mermaid-graphlib';\nimport { insertNode, positionNode, clear as clearNodes, setNodeElem } from './nodes';\nimport { insertCluster, clear as clearClusters } from './clusters';\nimport { insertEdgeLabel, positionEdgeLabel, insertEdge, clear as clearEdges } from './edges';\nimport { log } from '../logger';\n\nconst recursiveRender = (_elem, graph, diagramtype, parentCluster) => {\n  log.info('Graph in recursive render: XXX', graphlib.json.write(graph), parentCluster);\n  const dir = graph.graph().rankdir;\n  log.trace('Dir in recursive render - dir:', dir);\n\n  const elem = _elem.insert('g').attr('class', 'root'); // eslint-disable-line\n  if (!graph.nodes()) {\n    log.info('No nodes found for', graph);\n  } else {\n    log.info('Recursive render XXX', graph.nodes());\n  }\n  if (graph.edges().length > 0) {\n    log.trace('Recursive edges', graph.edge(graph.edges()[0]));\n  }\n  const clusters = elem.insert('g').attr('class', 'clusters'); // eslint-disable-line\n  const edgePaths = elem.insert('g').attr('class', 'edgePaths');\n  const edgeLabels = elem.insert('g').attr('class', 'edgeLabels');\n  const nodes = elem.insert('g').attr('class', 'nodes');\n\n  // Insert nodes, this will insert them into the dom and each node will get a size. The size is updated\n  // to the abstract node and is later used by dagre for the layout\n  graph.nodes().forEach(function (v) {\n    const node = graph.node(v);\n    if (typeof parentCluster !== 'undefined') {\n      const data = JSON.parse(JSON.stringify(parentCluster.clusterData));\n      // data.clusterPositioning = true;\n      log.info('Setting data for cluster XXX (', v, ') ', data, parentCluster);\n      graph.setNode(parentCluster.id, data);\n      if (!graph.parent(v)) {\n        log.trace('Setting parent', v, parentCluster.id);\n        graph.setParent(v, parentCluster.id, data);\n      }\n    }\n    log.info('(Insert) Node XXX' + v + ': ' + JSON.stringify(graph.node(v)));\n    if (node && node.clusterNode) {\n      // const children = graph.children(v);\n      log.info('Cluster identified', v, node.width, graph.node(v));\n      const o = recursiveRender(nodes, node.graph, diagramtype, graph.node(v));\n      const newEl = o.elem;\n      updateNodeBounds(node, newEl);\n      node.diff = o.diff || 0;\n      log.info('Node bounds (abc123)', v, node, node.width, node.x, node.y);\n      setNodeElem(newEl, node);\n\n      log.warn('Recursive render complete ', newEl, node);\n    } else {\n      if (graph.children(v).length > 0) {\n        // This is a cluster but not to be rendered recusively\n        // Render as before\n        log.info('Cluster - the non recursive path XXX', v, node.id, node, graph);\n        log.info(findNonClusterChild(node.id, graph));\n        clusterDb[node.id] = { id: findNonClusterChild(node.id, graph), node };\n        // insertCluster(clusters, graph.node(v));\n      } else {\n        log.info('Node - the non recursive path', v, node.id, node);\n        insertNode(nodes, graph.node(v), dir);\n      }\n    }\n  });\n\n  // Insert labels, this will insert them into the dom so that the width can be calculated\n  // Also figure out which edges point to/from clusters and adjust them accordingly\n  // Edges from/to clusters really points to the first child in the cluster.\n  // TODO: pick optimal child in the cluster to us as link anchor\n  graph.edges().forEach(function (e) {\n    const edge = graph.edge(e.v, e.w, e.name);\n    log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\n    log.info('Edge ' + e.v + ' -> ' + e.w + ': ', e, ' ', JSON.stringify(graph.edge(e)));\n\n    // Check if link is either from or to a cluster\n    log.info('Fix', clusterDb, 'ids:', e.v, e.w, 'Translateing: ', clusterDb[e.v], clusterDb[e.w]);\n    insertEdgeLabel(edgeLabels, edge);\n  });\n\n  graph.edges().forEach(function (e) {\n    log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\n  });\n  log.info('#############################################');\n  log.info('###                Layout                 ###');\n  log.info('#############################################');\n  log.info(graph);\n  dagre.layout(graph);\n  log.info('Graph after layout:', graphlib.json.write(graph));\n  // Move the nodes to the correct place\n  let diff = 0;\n  sortNodesByHierarchy(graph).forEach(function (v) {\n    const node = graph.node(v);\n    log.info('Position ' + v + ': ' + JSON.stringify(graph.node(v)));\n    log.info(\n      'Position ' + v + ': (' + node.x,\n      ',' + node.y,\n      ') width: ',\n      node.width,\n      ' height: ',\n      node.height\n    );\n    if (node && node.clusterNode) {\n      // clusterDb[node.id].node = node;\n\n      positionNode(node);\n    } else {\n      // Non cluster node\n      if (graph.children(v).length > 0) {\n        // A cluster in the non-recurive way\n        // positionCluster(node);\n        insertCluster(clusters, node);\n        clusterDb[node.id].node = node;\n      } else {\n        positionNode(node);\n      }\n    }\n  });\n\n  // Move the edge labels to the correct place after layout\n  graph.edges().forEach(function (e) {\n    const edge = graph.edge(e);\n    log.info('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(edge), edge);\n\n    const paths = insertEdge(edgePaths, e, edge, clusterDb, diagramtype, graph);\n    positionEdgeLabel(edge, paths);\n  });\n\n  graph.nodes().forEach(function (v) {\n    const n = graph.node(v);\n    log.info(v, n.type, n.diff);\n    if (n.type === 'group') {\n      diff = n.diff;\n    }\n  });\n  return { elem, diff };\n};\n\nexport const render = (elem, graph, markers, diagramtype, id) => {\n  insertMarkers(elem, markers, diagramtype, id);\n  clearNodes();\n  clearEdges();\n  clearClusters();\n  clearGraphlib();\n\n  log.warn('Graph at first:', graphlib.json.write(graph));\n  adjustClustersAndEdges(graph);\n  log.warn('Graph after:', graphlib.json.write(graph));\n  // log.warn('Graph ever  after:', graphlib.json.write(graph.node('A').graph));\n  recursiveRender(elem, graph, diagramtype);\n};\n\n// const shapeDefinitions = {};\n// export const addShape = ({ shapeType: fun }) => {\n//   shapeDefinitions[shapeType] = fun;\n// };\n\n// const arrowDefinitions = {};\n// export const addArrow = ({ arrowType: fun }) => {\n//   arrowDefinitions[arrowType] = fun;\n// };\n","/*\n * Borrowed with love from from dagrge-d3. Many thanks to cpettitt!\n */\n\nimport node from './intersect-node.js';\nimport circle from './intersect-circle.js';\nimport ellipse from './intersect-ellipse.js';\nimport polygon from './intersect-polygon.js';\nimport rect from './intersect-rect.js';\n\nexport default {\n  node,\n  circle,\n  ellipse,\n  polygon,\n  rect,\n};\n","import intersectEllipse from './intersect-ellipse';\n\n/**\n * @param node\n * @param rx\n * @param point\n */\nfunction intersectCircle(node, rx, point) {\n  return intersectEllipse(node, rx, rx, point);\n}\n\nexport default intersectCircle;\n","/**\n * @param node\n * @param rx\n * @param ry\n * @param point\n */\nfunction intersectEllipse(node, rx, ry, point) {\n  // Formulae from: http://mathworld.wolfram.com/Ellipse-LineIntersection.html\n\n  var cx = node.x;\n  var cy = node.y;\n\n  var px = cx - point.x;\n  var py = cy - point.y;\n\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n\n  var dx = Math.abs((rx * ry * px) / det);\n  if (point.x < cx) {\n    dx = -dx;\n  }\n  var dy = Math.abs((rx * ry * py) / det);\n  if (point.y < cy) {\n    dy = -dy;\n  }\n\n  return { x: cx + dx, y: cy + dy };\n}\n\nexport default intersectEllipse;\n","/**\n * Returns the point at which two lines, p and q, intersect or returns undefined if they do not intersect.\n *\n * @param p1\n * @param p2\n * @param q1\n * @param q2\n */\nfunction intersectLine(p1, p2, q1, q2) {\n  // Algorithm from J. Avro, (ed.) Graphics Gems, No 2, Morgan Kaufmann, 1994,\n  // p7 and p473.\n\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n  var x, y;\n\n  // Compute a1, b1, c1, where line joining points 1 and 2 is F(x,y) = a1 x +\n  // b1 y + c1 = 0.\n  a1 = p2.y - p1.y;\n  b1 = p1.x - p2.x;\n  c1 = p2.x * p1.y - p1.x * p2.y;\n\n  // Compute r3 and r4.\n  r3 = a1 * q1.x + b1 * q1.y + c1;\n  r4 = a1 * q2.x + b1 * q2.y + c1;\n\n  // Check signs of r3 and r4. If both point 3 and point 4 lie on\n  // same side of line 1, the line segments do not intersect.\n  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n    return /*DONT_INTERSECT*/;\n  }\n\n  // Compute a2, b2, c2 where line joining points 3 and 4 is G(x,y) = a2 x + b2 y + c2 = 0\n  a2 = q2.y - q1.y;\n  b2 = q1.x - q2.x;\n  c2 = q2.x * q1.y - q1.x * q2.y;\n\n  // Compute r1 and r2\n  r1 = a2 * p1.x + b2 * p1.y + c2;\n  r2 = a2 * p2.x + b2 * p2.y + c2;\n\n  // Check signs of r1 and r2. If both point 1 and point 2 lie\n  // on same side of second line segment, the line segments do\n  // not intersect.\n  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\n    return /*DONT_INTERSECT*/;\n  }\n\n  // Line segments intersect: compute intersection point.\n  denom = a1 * b2 - a2 * b1;\n  if (denom === 0) {\n    return /*COLLINEAR*/;\n  }\n\n  offset = Math.abs(denom / 2);\n\n  // The denom/2 is to get rounding instead of truncating. It\n  // is added or subtracted to the numerator, depending upon the\n  // sign of the numerator.\n  num = b1 * c2 - b2 * c1;\n  x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n\n  num = a2 * c1 - a1 * c2;\n  y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n\n  return { x: x, y: y };\n}\n\n/**\n * @param r1\n * @param r2\n */\nfunction sameSign(r1, r2) {\n  return r1 * r2 > 0;\n}\n\nexport default intersectLine;\n","module.exports = intersectNode;\n\n/**\n * @param node\n * @param point\n */\nfunction intersectNode(node, point) {\n  // console.info('Intersect Node');\n  return node.intersect(point);\n}\n","/* eslint \"no-console\": off */\n\nimport intersectLine from './intersect-line';\n\nexport default intersectPolygon;\n\n/**\n * Returns the point ({x, y}) at which the point argument intersects with the node argument assuming\n * that it has the shape specified by polygon.\n *\n * @param node\n * @param polyPoints\n * @param point\n */\nfunction intersectPolygon(node, polyPoints, point) {\n  var x1 = node.x;\n  var y1 = node.y;\n\n  var intersections = [];\n\n  var minX = Number.POSITIVE_INFINITY;\n  var minY = Number.POSITIVE_INFINITY;\n  if (typeof polyPoints.forEach === 'function') {\n    polyPoints.forEach(function (entry) {\n      minX = Math.min(minX, entry.x);\n      minY = Math.min(minY, entry.y);\n    });\n  } else {\n    minX = Math.min(minX, polyPoints.x);\n    minY = Math.min(minY, polyPoints.y);\n  }\n\n  var left = x1 - node.width / 2 - minX;\n  var top = y1 - node.height / 2 - minY;\n\n  for (var i = 0; i < polyPoints.length; i++) {\n    var p1 = polyPoints[i];\n    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n    var intersect = intersectLine(\n      node,\n      point,\n      { x: left + p1.x, y: top + p1.y },\n      { x: left + p2.x, y: top + p2.y }\n    );\n    if (intersect) {\n      intersections.push(intersect);\n    }\n  }\n\n  if (!intersections.length) {\n    // console.log('NO INTERSECTION FOUND, RETURN NODE CENTER', node);\n    return node;\n  }\n\n  if (intersections.length > 1) {\n    // More intersections, find the one nearest to edge end point\n    intersections.sort(function (p, q) {\n      var pdx = p.x - point.x;\n      var pdy = p.y - point.y;\n      var distp = Math.sqrt(pdx * pdx + pdy * pdy);\n\n      var qdx = q.x - point.x;\n      var qdy = q.y - point.y;\n      var distq = Math.sqrt(qdx * qdx + qdy * qdy);\n\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\n    });\n  }\n  return intersections[0];\n}\n","const intersectRect = (node, point) => {\r\n  var x = node.x;\r\n  var y = node.y;\r\n\r\n  // Rectangle intersection algorithm from:\r\n  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\r\n  var dx = point.x - x;\r\n  var dy = point.y - y;\r\n  var w = node.width / 2;\r\n  var h = node.height / 2;\r\n\r\n  var sx, sy;\r\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\r\n    // Intersection is top or bottom of rect.\r\n    if (dy < 0) {\r\n      h = -h;\r\n    }\r\n    sx = dy === 0 ? 0 : (h * dx) / dy;\r\n    sy = h;\r\n  } else {\r\n    // Intersection is left or right of rect.\r\n    if (dx < 0) {\r\n      w = -w;\r\n    }\r\n    sx = w;\r\n    sy = dx === 0 ? 0 : (w * dy) / dx;\r\n  }\r\n\r\n  return { x: x + sx, y: y + sy };\r\n};\r\n\r\nexport default intersectRect;\r\n","/** Setup arrow head and define the marker. The result is appended to the svg. */\n\nimport { log } from '../logger';\n\n// Only add the number of markers that the diagram needs\nconst insertMarkers = (elem, markerArray, type, id) => {\n  markerArray.forEach((markerName) => {\n    markers[markerName](elem, type, id);\n  });\n};\n\nconst extension = (elem, type, id) => {\n  log.trace('Making markers for ', id);\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-extensionStart')\n    .attr('class', 'marker extension ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 1,7 L18,13 V 1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-extensionEnd')\n    .attr('class', 'marker extension ' + type)\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 1,1 V 13 L18,7 Z'); // this is actual shape for arrowhead\n};\n\nconst composition = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-compositionStart')\n    .attr('class', 'marker composition ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-compositionEnd')\n    .attr('class', 'marker composition ' + type)\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n};\nconst aggregation = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-aggregationStart')\n    .attr('class', 'marker aggregation ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-aggregationEnd')\n    .attr('class', 'marker aggregation ' + type)\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n};\nconst dependency = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-dependencyStart')\n    .attr('class', 'marker dependency ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 5,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-dependencyEnd')\n    .attr('class', 'marker dependency ' + type)\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\n};\nconst point = (elem, type) => {\n  elem\n    .append('marker')\n    .attr('id', type + '-pointEnd')\n    .attr('class', 'marker ' + type)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 9)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 12)\n    .attr('markerHeight', 12)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 0 0 L 10 5 L 0 10 z')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n  elem\n    .append('marker')\n    .attr('id', type + '-pointStart')\n    .attr('class', 'marker ' + type)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 0)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 12)\n    .attr('markerHeight', 12)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 0 5 L 10 10 L 10 0 z')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n};\nconst circle = (elem, type) => {\n  elem\n    .append('marker')\n    .attr('id', type + '-circleEnd')\n    .attr('class', 'marker ' + type)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 11)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 11)\n    .attr('markerHeight', 11)\n    .attr('orient', 'auto')\n    .append('circle')\n    .attr('cx', '5')\n    .attr('cy', '5')\n    .attr('r', '5')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n\n  elem\n    .append('marker')\n    .attr('id', type + '-circleStart')\n    .attr('class', 'marker ' + type)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', -1)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 11)\n    .attr('markerHeight', 11)\n    .attr('orient', 'auto')\n    .append('circle')\n    .attr('cx', '5')\n    .attr('cy', '5')\n    .attr('r', '5')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n};\nconst cross = (elem, type) => {\n  elem\n    .append('marker')\n    .attr('id', type + '-crossEnd')\n    .attr('class', 'marker cross ' + type)\n    .attr('viewBox', '0 0 11 11')\n    .attr('refX', 12)\n    .attr('refY', 5.2)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 11)\n    .attr('markerHeight', 11)\n    .attr('orient', 'auto')\n    .append('path')\n    // .attr('stroke', 'black')\n    .attr('d', 'M 1,1 l 9,9 M 10,1 l -9,9')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 2)\n    .style('stroke-dasharray', '1,0');\n\n  elem\n    .append('marker')\n    .attr('id', type + '-crossStart')\n    .attr('class', 'marker cross ' + type)\n    .attr('viewBox', '0 0 11 11')\n    .attr('refX', -1)\n    .attr('refY', 5.2)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 11)\n    .attr('markerHeight', 11)\n    .attr('orient', 'auto')\n    .append('path')\n    // .attr('stroke', 'black')\n    .attr('d', 'M 1,1 l 9,9 M 10,1 l -9,9')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 2)\n    .style('stroke-dasharray', '1,0');\n};\nconst barb = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-barbEnd')\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 14)\n    .attr('markerUnits', 'strokeWidth')\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 19,7 L9,13 L14,7 L9,1 Z');\n};\n\n// TODO rename the class diagram markers to something shape descriptive and semanitc free\nconst markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  point,\n  circle,\n  cross,\n  barb,\n};\nexport default insertMarkers;\n","/** Decorates with functions required by mermaids dagre-wrapper. */\nimport { log } from '../logger';\nimport graphlib from 'graphlib';\n\nexport let clusterDb = {};\nlet decendants = {};\nlet parents = {};\n\nexport const clear = () => {\n  decendants = {};\n  parents = {};\n  clusterDb = {};\n};\n\nconst isDecendant = (id, ancenstorId) => {\n  // if (id === ancenstorId) return true;\n\n  log.trace(\n    'In isDecendant',\n    ancenstorId,\n    ' ',\n    id,\n    ' = ',\n    decendants[ancenstorId].indexOf(id) >= 0\n  );\n  if (decendants[ancenstorId].indexOf(id) >= 0) return true;\n\n  return false;\n};\n\nconst edgeInCluster = (edge, clusterId) => {\n  log.info('Decendants of ', clusterId, ' is ', decendants[clusterId]);\n  log.info('Edge is ', edge);\n  // Edges to/from the cluster is not in the cluster, they are in the parent\n  if (edge.v === clusterId) return false;\n  if (edge.w === clusterId) return false;\n\n  if (!decendants[clusterId]) {\n    log.debug('Tilt, ', clusterId, ',not in decendants');\n    return false;\n  }\n  log.info('Here ');\n\n  if (decendants[clusterId].indexOf(edge.v) >= 0) return true;\n  if (isDecendant(edge.v, clusterId)) return true;\n  if (isDecendant(edge.w, clusterId)) return true;\n  if (decendants[clusterId].indexOf(edge.w) >= 0) return true;\n\n  return false;\n};\n\nconst copy = (clusterId, graph, newGraph, rootId) => {\n  log.warn(\n    'Copying children of ',\n    clusterId,\n    'root',\n    rootId,\n    'data',\n    graph.node(clusterId),\n    rootId\n  );\n  const nodes = graph.children(clusterId) || [];\n\n  // Include cluster node if it is not the root\n  if (clusterId !== rootId) {\n    nodes.push(clusterId);\n  }\n\n  log.warn('Copying (nodes) clusterId', clusterId, 'nodes', nodes);\n\n  nodes.forEach((node) => {\n    if (graph.children(node).length > 0) {\n      copy(node, graph, newGraph, rootId);\n    } else {\n      const data = graph.node(node);\n      log.info('cp ', node, ' to ', rootId, ' with parent ', clusterId); //,node, data, ' parent is ', clusterId);\n      newGraph.setNode(node, data);\n      if (rootId !== graph.parent(node)) {\n        log.warn('Setting parent', node, graph.parent(node));\n        newGraph.setParent(node, graph.parent(node));\n      }\n\n      if (clusterId !== rootId && node !== clusterId) {\n        log.debug('Setting parent', node, clusterId);\n        newGraph.setParent(node, clusterId);\n      } else {\n        log.info('In copy ', clusterId, 'root', rootId, 'data', graph.node(clusterId), rootId);\n        log.debug(\n          'Not Setting parent for node=',\n          node,\n          'cluster!==rootId',\n          clusterId !== rootId,\n          'node!==clusterId',\n          node !== clusterId\n        );\n      }\n      const edges = graph.edges(node);\n      log.debug('Copying Edges', edges);\n      edges.forEach((edge) => {\n        log.info('Edge', edge);\n        const data = graph.edge(edge.v, edge.w, edge.name);\n        log.info('Edge data', data, rootId);\n        try {\n          // Do not copy edges in and out of the root cluster, they belong to the parent graph\n          if (edgeInCluster(edge, rootId)) {\n            log.info('Copying as ', edge.v, edge.w, data, edge.name);\n            newGraph.setEdge(edge.v, edge.w, data, edge.name);\n            log.info('newGraph edges ', newGraph.edges(), newGraph.edge(newGraph.edges()[0]));\n          } else {\n            log.info(\n              'Skipping copy of edge ',\n              edge.v,\n              '-->',\n              edge.w,\n              ' rootId: ',\n              rootId,\n              ' clusterId:',\n              clusterId\n            );\n          }\n        } catch (e) {\n          log.error(e);\n        }\n      });\n    }\n    log.debug('Removing node', node);\n    graph.removeNode(node);\n  });\n};\nexport const extractDecendants = (id, graph) => {\n  // log.debug('Extracting ', id);\n  const children = graph.children(id);\n  let res = [].concat(children);\n\n  for (let i = 0; i < children.length; i++) {\n    parents[children[i]] = id;\n    res = res.concat(extractDecendants(children[i], graph));\n  }\n\n  return res;\n};\n\n/**\n * Validates the graph, checking that all parent child relation points to existing nodes and that\n * edges between nodes also ia correct. When not correct the function logs the discrepancies.\n *\n * @param graph\n */\nexport const validate = (graph) => {\n  const edges = graph.edges();\n  log.trace('Edges: ', edges);\n  for (let i = 0; i < edges.length; i++) {\n    if (graph.children(edges[i].v).length > 0) {\n      log.trace('The node ', edges[i].v, ' is part of and edge even though it has children');\n      return false;\n    }\n    if (graph.children(edges[i].w).length > 0) {\n      log.trace('The node ', edges[i].w, ' is part of and edge even though it has children');\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Finds a child that is not a cluster. When faking a edge between a node and a cluster.\n *\n * @param {Finds a} id\n * @param {any} graph\n */\nexport const findNonClusterChild = (id, graph) => {\n  // const node = graph.node(id);\n  log.trace('Searching', id);\n  // const children = graph.children(id).reverse();\n  const children = graph.children(id); //.reverse();\n  log.trace('Searching children of id ', id, children);\n  if (children.length < 1) {\n    log.trace('This is a valid node', id);\n    return id;\n  }\n  for (let i = 0; i < children.length; i++) {\n    const _id = findNonClusterChild(children[i], graph);\n    if (_id) {\n      log.trace('Found replacement for', id, ' => ', _id);\n      return _id;\n    }\n  }\n};\n\nconst getAnchorId = (id) => {\n  if (!clusterDb[id]) {\n    return id;\n  }\n  // If the cluster has no external connections\n  if (!clusterDb[id].externalConnections) {\n    return id;\n  }\n\n  // Return the replacement node\n  if (clusterDb[id]) {\n    return clusterDb[id].id;\n  }\n  return id;\n};\n\nexport const adjustClustersAndEdges = (graph, depth) => {\n  if (!graph || depth > 10) {\n    log.debug('Opting out, no graph ');\n    return;\n  } else {\n    log.debug('Opting in, graph ');\n  }\n  // Go through the nodes and for each cluster found, save a replacment node, this can be used when\n  // faking a link to a cluster\n  graph.nodes().forEach(function (id) {\n    const children = graph.children(id);\n    if (children.length > 0) {\n      log.warn(\n        'Cluster identified',\n        id,\n        ' Replacement id in edges: ',\n        findNonClusterChild(id, graph)\n      );\n      decendants[id] = extractDecendants(id, graph);\n      clusterDb[id] = { id: findNonClusterChild(id, graph), clusterData: graph.node(id) };\n    }\n  });\n\n  // Check incoming and outgoing edges for each cluster\n  graph.nodes().forEach(function (id) {\n    const children = graph.children(id);\n    const edges = graph.edges();\n    if (children.length > 0) {\n      log.debug('Cluster identified', id, decendants);\n      edges.forEach((edge) => {\n        // log.debug('Edge, decendants: ', edge, decendants[id]);\n\n        // Check if any edge leaves the cluster (not the actual cluster, thats a link from the box)\n        if (edge.v !== id && edge.w !== id) {\n          // Any edge where either the one of the nodes is decending to the cluster but not the other\n          // if (decendants[id].indexOf(edge.v) < 0 && decendants[id].indexOf(edge.w) < 0) {\n\n          const d1 = isDecendant(edge.v, id);\n          const d2 = isDecendant(edge.w, id);\n\n          // d1 xor d2 - if either d1 is true and d2 is false or the other way around\n          if (d1 ^ d2) {\n            log.warn('Edge: ', edge, ' leaves cluster ', id);\n            log.warn('Decendants of XXX ', id, ': ', decendants[id]);\n            clusterDb[id].externalConnections = true;\n          }\n        }\n      });\n    } else {\n      log.debug('Not a cluster ', id, decendants);\n    }\n  });\n\n  // For clusters with incoming and/or outgoing edges translate those edges to a real node\n  // in the cluster inorder to fake the edge\n  graph.edges().forEach(function (e) {\n    const edge = graph.edge(e);\n    log.warn('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(e));\n    log.warn('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(graph.edge(e)));\n\n    let v = e.v;\n    let w = e.w;\n    // Check if link is either from or to a cluster\n    log.warn(\n      'Fix XXX',\n      clusterDb,\n      'ids:',\n      e.v,\n      e.w,\n      'Translateing: ',\n      clusterDb[e.v],\n      ' --- ',\n      clusterDb[e.w]\n    );\n    if (clusterDb[e.v] || clusterDb[e.w]) {\n      log.warn('Fixing and trixing - removing XXX', e.v, e.w, e.name);\n      v = getAnchorId(e.v);\n      w = getAnchorId(e.w);\n      graph.removeEdge(e.v, e.w, e.name);\n      if (v !== e.v) edge.fromCluster = e.v;\n      if (w !== e.w) edge.toCluster = e.w;\n      log.warn('Fix Replacing with XXX', v, w, e.name);\n      graph.setEdge(v, w, edge, e.name);\n    }\n  });\n  log.warn('Adjusted Graph', graphlib.json.write(graph));\n  extractor(graph, 0);\n\n  log.trace(clusterDb);\n\n  // Remove references to extracted cluster\n  // graph.edges().forEach(edge => {\n  //   if (isDecendant(edge.v, clusterId) || isDecendant(edge.w, clusterId)) {\n  //     graph.removeEdge(edge);\n  //   }\n  // });\n};\n\nexport const extractor = (graph, depth) => {\n  log.warn('extractor - ', depth, graphlib.json.write(graph), graph.children('D'));\n  if (depth > 10) {\n    log.error('Bailing out');\n    return;\n  }\n  // For clusters without incoming and/or outgoing edges, create a new cluster-node\n  // containing the nodes and edges in the custer in a new graph\n  // for (let i = 0;)\n  let nodes = graph.nodes();\n  let hasChildren = false;\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    const children = graph.children(node);\n    hasChildren = hasChildren || children.length > 0;\n  }\n\n  if (!hasChildren) {\n    log.debug('Done, no node has children', graph.nodes());\n    return;\n  }\n  // const clusters = Object.keys(clusterDb);\n  // clusters.forEach(clusterId => {\n  log.debug('Nodes = ', nodes, depth);\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n\n    log.debug(\n      'Extracting node',\n      node,\n      clusterDb,\n      clusterDb[node] && !clusterDb[node].externalConnections,\n      !graph.parent(node),\n      graph.node(node),\n      graph.children('D'),\n      ' Depth ',\n      depth\n    );\n    // Note that the node might have been removed after the Object.keys call so better check\n    // that it still is in the game\n    if (!clusterDb[node]) {\n      // Skip if the node is not a cluster\n      log.debug('Not a cluster', node, depth);\n      // break;\n    } else if (\n      !clusterDb[node].externalConnections &&\n      // !graph.parent(node) &&\n      graph.children(node) &&\n      graph.children(node).length > 0\n    ) {\n      log.warn(\n        'Cluster without external connections, without a parent and with children',\n        node,\n        depth\n      );\n\n      const graphSettings = graph.graph();\n      let dir = graphSettings.rankdir === 'TB' ? 'LR' : 'TB';\n      if (clusterDb[node]) {\n        if (clusterDb[node].clusterData && clusterDb[node].clusterData.dir) {\n          dir = clusterDb[node].clusterData.dir;\n          log.warn('Fixing dir', clusterDb[node].clusterData.dir, dir);\n        }\n      }\n\n      const clusterGraph = new graphlib.Graph({\n        multigraph: true,\n        compound: true,\n      })\n        .setGraph({\n          rankdir: dir, // Todo: set proper spacing\n          nodesep: 50,\n          ranksep: 50,\n          marginx: 8,\n          marginy: 8,\n        })\n        .setDefaultEdgeLabel(function () {\n          return {};\n        });\n\n      log.warn('Old graph before copy', graphlib.json.write(graph));\n      copy(node, graph, clusterGraph, node);\n      graph.setNode(node, {\n        clusterNode: true,\n        id: node,\n        clusterData: clusterDb[node].clusterData,\n        labelText: clusterDb[node].labelText,\n        graph: clusterGraph,\n      });\n      log.warn('New graph after copy node: (', node, ')', graphlib.json.write(clusterGraph));\n      log.debug('Old graph after copy', graphlib.json.write(graph));\n    } else {\n      log.warn(\n        'Cluster ** ',\n        node,\n        ' **not meeting the criteria !externalConnections:',\n        !clusterDb[node].externalConnections,\n        ' no parent: ',\n        !graph.parent(node),\n        ' children ',\n        graph.children(node) && graph.children(node).length > 0,\n        graph.children('D'),\n        depth\n      );\n      log.debug(clusterDb);\n    }\n  }\n\n  nodes = graph.nodes();\n  log.warn('New list of nodes', nodes);\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    const data = graph.node(node);\n    log.warn(' Now next level', node, data);\n    if (data.clusterNode) {\n      extractor(data.graph, depth + 1);\n    }\n  }\n};\n\nconst sorter = (graph, nodes) => {\n  if (nodes.length === 0) return [];\n  let result = Object.assign(nodes);\n  nodes.forEach((node) => {\n    const children = graph.children(node);\n    const sorted = sorter(graph, children);\n    result = result.concat(sorted);\n  });\n\n  return result;\n};\n\nexport const sortNodesByHierarchy = (graph) => sorter(graph, graph.children());\n","import { select } from 'd3';\nimport { log } from '../logger'; // eslint-disable-line\nimport { labelHelper, updateNodeBounds, insertPolygonShape } from './shapes/util';\nimport { getConfig } from '../config';\nimport intersect from './intersect/index.js';\nimport createLabel from './createLabel';\nimport note from './shapes/note';\nimport { parseMember } from '../diagrams/class/svgDraw';\nimport { evaluate, sanitizeText as sanitize } from '../diagrams/common/common';\n\nconst sanitizeText = (txt) => sanitize(txt, getConfig());\n\nconst question = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const s = w + h;\n  const points = [\n    { x: s / 2, y: 0 },\n    { x: s, y: -s / 2 },\n    { x: s / 2, y: -s },\n    { x: 0, y: -s / 2 },\n  ];\n\n  log.info('Question main (Circle)');\n\n  const questionElem = insertPolygonShape(shapeSvg, s, s, points);\n  questionElem.attr('style', node.style);\n  updateNodeBounds(node, questionElem);\n\n  node.intersect = function (point) {\n    log.warn('Intersect called');\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst choice = (parent, node) => {\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'node default')\n    .attr('id', node.domId || node.id);\n\n  const s = 28;\n  const points = [\n    { x: 0, y: s / 2 },\n    { x: s / 2, y: 0 },\n    { x: 0, y: -s / 2 },\n    { x: -s / 2, y: 0 },\n  ];\n\n  const choice = shapeSvg.insert('polygon', ':first-child').attr(\n    'points',\n    points\n      .map(function (d) {\n        return d.x + ',' + d.y;\n      })\n      .join(' ')\n  );\n  // center the circle around its coordinate\n  choice.attr('class', 'state-start').attr('r', 7).attr('width', 28).attr('height', 28);\n  node.width = 28;\n  node.height = 28;\n\n  node.intersect = function (point) {\n    return intersect.circle(node, 14, point);\n  };\n\n  return shapeSvg;\n};\n\nconst hexagon = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const f = 4;\n  const h = bbox.height + node.padding;\n  const m = h / f;\n  const w = bbox.width + 2 * m + node.padding;\n  const points = [\n    { x: m, y: 0 },\n    { x: w - m, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w - m, y: -h },\n    { x: m, y: -h },\n    { x: 0, y: -h / 2 },\n  ];\n\n  const hex = insertPolygonShape(shapeSvg, w, h, points);\n  hex.attr('style', node.style);\n  updateNodeBounds(node, hex);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst rect_left_inv_arrow = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -h / 2, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: -h / 2, y: -h },\n    { x: 0, y: -h / 2 },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n\n  node.width = w + h;\n  node.height = h;\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst lean_right = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: (-2 * h) / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: -h },\n    { x: h / 6, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst lean_left = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: (2 * h) / 6, y: 0 },\n    { x: w + h / 6, y: 0 },\n    { x: w - (2 * h) / 6, y: -h },\n    { x: -h / 6, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst trapezoid = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: (-2 * h) / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: 0 },\n    { x: w - h / 6, y: -h },\n    { x: h / 6, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst inv_trapezoid = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: h / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: -h },\n    { x: (-2 * h) / 6, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst rect_right_inv_arrow = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w + h / 2, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w + h / 2, y: -h },\n    { x: 0, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst cylinder = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const h = bbox.height + ry + node.padding;\n\n  const shape =\n    'M 0,' +\n    ry +\n    ' a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    w +\n    ' 0 a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    -w +\n    ' 0 l 0,' +\n    h +\n    ' a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    w +\n    ' 0 l 0,' +\n    -h;\n\n  const el = shapeSvg\n    .attr('label-offset-y', ry)\n    .insert('path', ':first-child')\n    .attr('style', node.style)\n    .attr('d', shape)\n    .attr('transform', 'translate(' + -w / 2 + ',' + -(h / 2 + ry) + ')');\n\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    const pos = intersect.rect(node, point);\n    const x = pos.x - node.x;\n\n    if (\n      rx != 0 &&\n      (Math.abs(x) < node.width / 2 ||\n        (Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry))\n    ) {\n      // ellipsis equation: x*x / a*a + y*y / b*b = 1\n      // solve for y to get adjustion value for pos.y\n      let y = ry * ry * (1 - (x * x) / (rx * rx));\n      if (y != 0) y = Math.sqrt(y);\n      y = ry - y;\n      if (point.y - node.y > 0) y = -y;\n\n      pos.y += y;\n    }\n\n    return pos;\n  };\n\n  return shapeSvg;\n};\n\nconst rect = (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes, true);\n\n  log.trace('Classes = ', node.classes);\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  const totalWidth = bbox.width + node.padding;\n  const totalHeight = bbox.height + node.padding;\n  rect\n    .attr('class', 'basic label-container')\n    .attr('style', node.style)\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('x', -bbox.width / 2 - halfPadding)\n    .attr('y', -bbox.height / 2 - halfPadding)\n    .attr('width', totalWidth)\n    .attr('height', totalHeight);\n\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete('borders');\n    }\n    propKeys.forEach((propKey) => {\n      log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\n/**\n * @param rect\n * @param borders\n * @param totalWidth\n * @param totalHeight\n */\nfunction applyNodePropertyBorders(rect, borders, totalWidth, totalHeight) {\n  const strokeDashArray = [];\n  const addBorder = (length) => {\n    strokeDashArray.push(length);\n    strokeDashArray.push(0);\n  };\n  const skipBorder = (length) => {\n    strokeDashArray.push(0);\n    strokeDashArray.push(length);\n  };\n  if (borders.includes('t')) {\n    log.debug('add top border');\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes('r')) {\n    log.debug('add right border');\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  if (borders.includes('b')) {\n    log.debug('add bottom border');\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes('l')) {\n    log.debug('add left border');\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  rect.attr('stroke-dasharray', strokeDashArray.join(' '));\n}\n\nconst rectWithTitle = (parent, node) => {\n  // const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes);\n\n  let classes;\n  if (!node.classes) {\n    classes = 'node default';\n  } else {\n    classes = 'node ' + node.classes;\n  }\n  // Add outer g element\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', classes)\n    .attr('id', node.domId || node.id);\n\n  // Create the title label and insert it after the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n  // const innerRect = shapeSvg.insert('rect');\n  const innerLine = shapeSvg.insert('line');\n\n  const label = shapeSvg.insert('g').attr('class', 'label');\n\n  const text2 = node.labelText.flat ? node.labelText.flat() : node.labelText;\n  // const text2 = typeof text2prim === 'object' ? text2prim[0] : text2prim;\n\n  let title = '';\n  if (typeof text2 === 'object') {\n    title = text2[0];\n  } else {\n    title = text2;\n  }\n  log.info('Label text abc79', title, text2, typeof text2 === 'object');\n\n  const text = label.node().appendChild(createLabel(title, node.labelStyle, true, true));\n  let bbox = { width: 0, height: 0 };\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n  log.info('Text 2', text2);\n  const textRows = text2.slice(1, text2.length);\n  let titleBox = text.getBBox();\n  const descr = label\n    .node()\n    .appendChild(\n      createLabel(textRows.join ? textRows.join('<br/>') : textRows, node.labelStyle, true, true)\n    );\n\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = descr.children[0];\n    const dv = select(descr);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n  // bbox = label.getBBox();\n  // log.info(descr);\n  const halfPadding = node.padding / 2;\n  select(descr).attr(\n    'transform',\n    'translate( ' +\n      // (titleBox.width - bbox.width) / 2 +\n      (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) +\n      ', ' +\n      (titleBox.height + halfPadding + 5) +\n      ')'\n  );\n  select(text).attr(\n    'transform',\n    'translate( ' +\n      // (titleBox.width - bbox.width) / 2 +\n      (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) +\n      ', ' +\n      0 +\n      ')'\n  );\n  // Get the size of the label\n\n  // Bounding box for title and text\n  bbox = label.node().getBBox();\n\n  // Center the label\n  label.attr(\n    'transform',\n    'translate(' + -bbox.width / 2 + ', ' + (-bbox.height / 2 - halfPadding + 3) + ')'\n  );\n\n  rect\n    .attr('class', 'outer title-state')\n    .attr('x', -bbox.width / 2 - halfPadding)\n    .attr('y', -bbox.height / 2 - halfPadding)\n    .attr('width', bbox.width + node.padding)\n    .attr('height', bbox.height + node.padding);\n\n  innerLine\n    .attr('class', 'divider')\n    .attr('x1', -bbox.width / 2 - halfPadding)\n    .attr('x2', bbox.width / 2 + halfPadding)\n    .attr('y1', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding)\n    .attr('y2', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst stadium = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const h = bbox.height + node.padding;\n  const w = bbox.width + h / 4 + node.padding;\n\n  // add the rect\n  const rect = shapeSvg\n    .insert('rect', ':first-child')\n    .attr('style', node.style)\n    .attr('rx', h / 2)\n    .attr('ry', h / 2)\n    .attr('x', -w / 2)\n    .attr('y', -h / 2)\n    .attr('width', w)\n    .attr('height', h);\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst circle = (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, undefined, true);\n  const circle = shapeSvg.insert('circle', ':first-child');\n\n  // center the circle around its coordinate\n  circle\n    .attr('style', node.style)\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('r', bbox.width / 2 + halfPadding)\n    .attr('width', bbox.width + node.padding)\n    .attr('height', bbox.height + node.padding);\n\n  log.info('Circle main');\n\n  updateNodeBounds(node, circle);\n\n  node.intersect = function (point) {\n    log.info('Circle intersect', node, bbox.width / 2 + halfPadding, point);\n    return intersect.circle(node, bbox.width / 2 + halfPadding, point);\n  };\n\n  return shapeSvg;\n};\n\nconst subroutine = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: 0, y: -h },\n    { x: 0, y: 0 },\n    { x: -8, y: 0 },\n    { x: w + 8, y: 0 },\n    { x: w + 8, y: -h },\n    { x: -8, y: -h },\n    { x: -8, y: 0 },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst start = (parent, node) => {\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'node default')\n    .attr('id', node.domId || node.id);\n  const circle = shapeSvg.insert('circle', ':first-child');\n\n  // center the circle around its coordinate\n  circle.attr('class', 'state-start').attr('r', 7).attr('width', 14).attr('height', 14);\n\n  updateNodeBounds(node, circle);\n\n  node.intersect = function (point) {\n    return intersect.circle(node, 7, point);\n  };\n\n  return shapeSvg;\n};\n\nconst forkJoin = (parent, node, dir) => {\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'node default')\n    .attr('id', node.domId || node.id);\n\n  let width = 70;\n  let height = 10;\n\n  if (dir === 'LR') {\n    width = 10;\n    height = 70;\n  }\n\n  const shape = shapeSvg\n    .append('rect')\n    .attr('x', (-1 * width) / 2)\n    .attr('y', (-1 * height) / 2)\n    .attr('width', width)\n    .attr('height', height)\n    .attr('class', 'fork-join');\n\n  updateNodeBounds(node, shape);\n  node.height = node.height + node.padding / 2;\n  node.width = node.width + node.padding / 2;\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst end = (parent, node) => {\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'node default')\n    .attr('id', node.domId || node.id);\n  const innerCircle = shapeSvg.insert('circle', ':first-child');\n  const circle = shapeSvg.insert('circle', ':first-child');\n\n  circle.attr('class', 'state-start').attr('r', 7).attr('width', 14).attr('height', 14);\n\n  innerCircle.attr('class', 'state-end').attr('r', 5).attr('width', 10).attr('height', 10);\n\n  updateNodeBounds(node, circle);\n\n  node.intersect = function (point) {\n    return intersect.circle(node, 7, point);\n  };\n\n  return shapeSvg;\n};\n\nconst class_box = (parent, node) => {\n  const halfPadding = node.padding / 2;\n  const rowPadding = 4;\n  const lineHeight = 8;\n\n  let classes;\n  if (!node.classes) {\n    classes = 'node default';\n  } else {\n    classes = 'node ' + node.classes;\n  }\n  // Add outer g element\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', classes)\n    .attr('id', node.domId || node.id);\n\n  // Create the title label and insert it after the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n  const topLine = shapeSvg.insert('line');\n  const bottomLine = shapeSvg.insert('line');\n  let maxWidth = 0;\n  let maxHeight = rowPadding;\n\n  const labelContainer = shapeSvg.insert('g').attr('class', 'label');\n  let verticalPos = 0;\n  const hasInterface = node.classData.annotations && node.classData.annotations[0];\n\n  // 1. Create the labels\n  const interfaceLabelText = node.classData.annotations[0]\n    ? '' + node.classData.annotations[0] + ''\n    : '';\n  const interfaceLabel = labelContainer\n    .node()\n    .appendChild(createLabel(interfaceLabelText, node.labelStyle, true, true));\n  let interfaceBBox = interfaceLabel.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = interfaceLabel.children[0];\n    const dv = select(interfaceLabel);\n    interfaceBBox = div.getBoundingClientRect();\n    dv.attr('width', interfaceBBox.width);\n    dv.attr('height', interfaceBBox.height);\n  }\n  if (node.classData.annotations[0]) {\n    maxHeight += interfaceBBox.height + rowPadding;\n    maxWidth += interfaceBBox.width;\n  }\n\n  let classTitleString = node.classData.id;\n\n  if (node.classData.type !== undefined && node.classData.type !== '') {\n    if (getConfig().flowchart.htmlLabels) {\n      classTitleString += '&lt;' + node.classData.type + '&gt;';\n    } else {\n      classTitleString += '<' + node.classData.type + '>';\n    }\n  }\n  const classTitleLabel = labelContainer\n    .node()\n    .appendChild(createLabel(classTitleString, node.labelStyle, true, true));\n  select(classTitleLabel).attr('class', 'classTitle');\n  let classTitleBBox = classTitleLabel.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = classTitleLabel.children[0];\n    const dv = select(classTitleLabel);\n    classTitleBBox = div.getBoundingClientRect();\n    dv.attr('width', classTitleBBox.width);\n    dv.attr('height', classTitleBBox.height);\n  }\n  maxHeight += classTitleBBox.height + rowPadding;\n  if (classTitleBBox.width > maxWidth) {\n    maxWidth = classTitleBBox.width;\n  }\n  const classAttributes = [];\n  node.classData.members.forEach((str) => {\n    const parsedInfo = parseMember(str);\n    let parsedText = parsedInfo.displayText;\n    if (getConfig().flowchart.htmlLabels) {\n      parsedText = parsedText.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    }\n    const lbl = labelContainer\n      .node()\n      .appendChild(\n        createLabel(\n          parsedText,\n          parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\n          true,\n          true\n        )\n      );\n    let bbox = lbl.getBBox();\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = select(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr('width', bbox.width);\n      dv.attr('height', bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n    classAttributes.push(lbl);\n  });\n\n  maxHeight += lineHeight;\n\n  const classMethods = [];\n  node.classData.methods.forEach((str) => {\n    const parsedInfo = parseMember(str);\n    let displayText = parsedInfo.displayText;\n    if (getConfig().flowchart.htmlLabels) {\n      displayText = displayText.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    }\n    const lbl = labelContainer\n      .node()\n      .appendChild(\n        createLabel(\n          displayText,\n          parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\n          true,\n          true\n        )\n      );\n    let bbox = lbl.getBBox();\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = select(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr('width', bbox.width);\n      dv.attr('height', bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n\n    classMethods.push(lbl);\n  });\n\n  maxHeight += lineHeight;\n\n  // 2. Position the labels\n\n  // position the interface label\n  if (hasInterface) {\n    let diffX = (maxWidth - interfaceBBox.width) / 2;\n    select(interfaceLabel).attr(\n      'transform',\n      'translate( ' + ((-1 * maxWidth) / 2 + diffX) + ', ' + (-1 * maxHeight) / 2 + ')'\n    );\n    verticalPos = interfaceBBox.height + rowPadding;\n  }\n  // Positin the class title label\n  let diffX = (maxWidth - classTitleBBox.width) / 2;\n  select(classTitleLabel).attr(\n    'transform',\n    'translate( ' +\n      ((-1 * maxWidth) / 2 + diffX) +\n      ', ' +\n      ((-1 * maxHeight) / 2 + verticalPos) +\n      ')'\n  );\n  verticalPos += classTitleBBox.height + rowPadding;\n\n  topLine\n    .attr('class', 'divider')\n    .attr('x1', -maxWidth / 2 - halfPadding)\n    .attr('x2', maxWidth / 2 + halfPadding)\n    .attr('y1', -maxHeight / 2 - halfPadding + lineHeight + verticalPos)\n    .attr('y2', -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n\n  verticalPos += lineHeight;\n\n  classAttributes.forEach((lbl) => {\n    select(lbl).attr(\n      'transform',\n      'translate( ' +\n        -maxWidth / 2 +\n        ', ' +\n        ((-1 * maxHeight) / 2 + verticalPos + lineHeight / 2) +\n        ')'\n    );\n    verticalPos += classTitleBBox.height + rowPadding;\n  });\n\n  verticalPos += lineHeight;\n  bottomLine\n    .attr('class', 'divider')\n    .attr('x1', -maxWidth / 2 - halfPadding)\n    .attr('x2', maxWidth / 2 + halfPadding)\n    .attr('y1', -maxHeight / 2 - halfPadding + lineHeight + verticalPos)\n    .attr('y2', -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n\n  verticalPos += lineHeight;\n\n  classMethods.forEach((lbl) => {\n    select(lbl).attr(\n      'transform',\n      'translate( ' + -maxWidth / 2 + ', ' + ((-1 * maxHeight) / 2 + verticalPos) + ')'\n    );\n    verticalPos += classTitleBBox.height + rowPadding;\n  });\n  //\n  // let bbox;\n  // if (evaluate(getConfig().flowchart.htmlLabels)) {\n  //   const div = interfaceLabel.children[0];\n  //   const dv = select(interfaceLabel);\n  //   bbox = div.getBoundingClientRect();\n  //   dv.attr('width', bbox.width);\n  //   dv.attr('height', bbox.height);\n  // }\n  // bbox = labelContainer.getBBox();\n\n  // log.info('Text 2', text2);\n  // const textRows = text2.slice(1, text2.length);\n  // let titleBox = text.getBBox();\n  // const descr = label\n  //   .node()\n  //   .appendChild(createLabel(textRows.join('<br/>'), node.labelStyle, true, true));\n\n  // if (evaluate(getConfig().flowchart.htmlLabels)) {\n  //   const div = descr.children[0];\n  //   const dv = select(descr);\n  //   bbox = div.getBoundingClientRect();\n  //   dv.attr('width', bbox.width);\n  //   dv.attr('height', bbox.height);\n  // }\n  // // bbox = label.getBBox();\n  // // log.info(descr);\n  // select(descr).attr(\n  //   'transform',\n  //   'translate( ' +\n  //     // (titleBox.width - bbox.width) / 2 +\n  //     (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) +\n  //     ', ' +\n  //     (titleBox.height + halfPadding + 5) +\n  //     ')'\n  // );\n  // select(text).attr(\n  //   'transform',\n  //   'translate( ' +\n  //     // (titleBox.width - bbox.width) / 2 +\n  //     (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) +\n  //     ', ' +\n  //     0 +\n  //     ')'\n  // );\n  // // Get the size of the label\n\n  // // Bounding box for title and text\n  // bbox = label.node().getBBox();\n\n  // // Center the label\n  // label.attr(\n  //   'transform',\n  //   'translate(' + -bbox.width / 2 + ', ' + (-bbox.height / 2 - halfPadding + 3) + ')'\n  // );\n\n  rect\n    .attr('class', 'outer title-state')\n    .attr('x', -maxWidth / 2 - halfPadding)\n    .attr('y', -(maxHeight / 2) - halfPadding)\n    .attr('width', maxWidth + node.padding)\n    .attr('height', maxHeight + node.padding);\n\n  // innerLine\n  //   .attr('class', 'divider')\n  //   .attr('x1', -bbox.width / 2 - halfPadding)\n  //   .attr('x2', bbox.width / 2 + halfPadding)\n  //   .attr('y1', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding)\n  //   .attr('y2', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst shapes = {\n  question,\n  rect,\n  rectWithTitle,\n  choice,\n  circle,\n  stadium,\n  hexagon,\n  rect_left_inv_arrow,\n  lean_right,\n  lean_left,\n  trapezoid,\n  inv_trapezoid,\n  rect_right_inv_arrow,\n  cylinder,\n  start,\n  end,\n  note,\n  subroutine,\n  fork: forkJoin,\n  join: forkJoin,\n  class_box,\n};\n\nlet nodeElems = {};\n\nexport const insertNode = (elem, node, dir) => {\n  let newEl;\n  let el;\n\n  // Add link when appropriate\n  if (node.link) {\n    let target;\n    if (getConfig().securityLevel === 'sandbox') {\n      target = '_top';\n    } else if (node.linkTarget) {\n      target = node.linkTarget || '_blank';\n    }\n    newEl = elem.insert('svg:a').attr('xlink:href', node.link).attr('target', target);\n    el = shapes[node.shape](newEl, node, dir);\n  } else {\n    el = shapes[node.shape](elem, node, dir);\n    newEl = el;\n  }\n  if (node.tooltip) {\n    el.attr('title', node.tooltip);\n  }\n  if (node.class) {\n    el.attr('class', 'node default ' + node.class);\n  }\n\n  nodeElems[node.id] = newEl;\n\n  if (node.haveCallback) {\n    nodeElems[node.id].attr('class', nodeElems[node.id].attr('class') + ' clickable');\n  }\n};\nexport const setNodeElem = (elem, node) => {\n  nodeElems[node.id] = elem;\n};\nexport const clear = () => {\n  nodeElems = {};\n};\n\nexport const positionNode = (node) => {\n  const el = nodeElems[node.id];\n  log.trace(\n    'Transforming node',\n    node.diff,\n    node,\n    'translate(' + (node.x - node.width / 2 - 5) + ', ' + node.width / 2 + ')'\n  );\n  const padding = 8;\n  const diff = node.diff || 0;\n  if (node.clusterNode) {\n    el.attr(\n      'transform',\n      'translate(' +\n        (node.x + diff - node.width / 2) +\n        ', ' +\n        (node.y - node.height / 2 - padding) +\n        ')'\n    );\n  } else {\n    el.attr('transform', 'translate(' + node.x + ', ' + node.y + ')');\n  }\n  return diff;\n};\n","import { updateNodeBounds, labelHelper } from './util';\nimport { log } from '../../logger'; // eslint-disable-line\nimport intersect from '../intersect/index.js';\n\nconst note = (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes, true);\n\n  log.info('Classes = ', node.classes);\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  rect\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('x', -bbox.width / 2 - halfPadding)\n    .attr('y', -bbox.height / 2 - halfPadding)\n    .attr('width', bbox.width + node.padding)\n    .attr('height', bbox.height + node.padding);\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nexport default note;\n","import createLabel from '../createLabel';\nimport { getConfig } from '../../config';\nimport { decodeEntities } from '../../mermaidAPI';\nimport { select } from 'd3';\nimport { evaluate, sanitizeText } from '../../diagrams/common/common';\nexport const labelHelper = (parent, node, _classes, isNode) => {\n  let classes;\n  if (!_classes) {\n    classes = 'node default';\n  } else {\n    classes = _classes;\n  }\n  // Add outer g element\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', classes)\n    .attr('id', node.domId || node.id);\n\n  // Create the label and insert it after the rect\n  const label = shapeSvg.insert('g').attr('class', 'label').attr('style', node.labelStyle);\n\n  const labelText = typeof node.labelText === 'string' ? node.labelText : node.labelText[0];\n\n  const text = label\n    .node()\n    .appendChild(\n      createLabel(\n        sanitizeText(decodeEntities(labelText), getConfig()),\n        node.labelStyle,\n        false,\n        isNode\n      )\n    );\n\n  // Get the size of the label\n  let bbox = text.getBBox();\n\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n\n  const halfPadding = node.padding / 2;\n\n  // Center the label\n  label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + -bbox.height / 2 + ')');\n\n  return { shapeSvg, bbox, halfPadding, label };\n};\n\nexport const updateNodeBounds = (node, element) => {\n  const bbox = element.node().getBBox();\n  node.width = bbox.width;\n  node.height = bbox.height;\n};\n\n/**\n * @param parent\n * @param w\n * @param h\n * @param points\n */\nexport function insertPolygonShape(parent, w, h, points) {\n  return parent\n    .insert('polygon', ':first-child')\n    .attr(\n      'points',\n      points\n        .map(function (d) {\n          return d.x + ',' + d.y;\n        })\n        .join(' ')\n    )\n    .attr('class', 'label-container')\n    .attr('transform', 'translate(' + -w / 2 + ',' + h / 2 + ')');\n}\n","import theme from './themes';\n/**\n * **Configuration methods in Mermaid version 8.6.0 have been updated, to learn more[[click\n * here](8.6.0_docs.md)].**\n *\n * ## **What follows are config instructions for older versions**\n *\n * These are the default options which can be overridden with the initialization call like so:\n *\n * **Example 1:**<pre> mermaid.initialize({ flowchart:{ htmlLabels: false } }); </pre>\n *\n * **Example 2:**<pre> <script> var config = { startOnLoad:true, flowchart:{ useMaxWidth:true,\n * htmlLabels:true, curve:'cardinal', },\n *\n *     securityLevel:'loose',\n *\n * }; mermaid.initialize(config); </script> </pre>\n *\n * A summary of all options and their defaults is found [here](#mermaidapi-configuration-defaults).\n * A description of each option follows below.\n *\n * @name Configuration\n */\nconst config = {\n  /**\n   * Theme , the CSS style sheet\n   *\n   * | Parameter | Description     | Type   | Required | Values                                         |\n   * | --------- | --------------- | ------ | -------- | ---------------------------------------------- |\n   * | theme     | Built in Themes | string | Optional | 'default', 'forest', 'dark', 'neutral', 'null' |\n   *\n   * **Notes:** To disable any pre-defined mermaid theme, use \"null\".<pre> \"theme\": \"forest\",\n   * \"themeCSS\": \".node rect { fill: red; }\" </pre>\n   */\n  theme: 'default',\n  themeVariables: theme['default'].getThemeVariables(),\n  themeCSS: undefined,\n  /* **maxTextSize** - The maximum allowed size of the users text diagram */\n  maxTextSize: 50000,\n  darkMode: false,\n\n  /**\n   * | Parameter  | Description                                            | Type   | Required | Values                      |\n   * | ---------- | ------------------------------------------------------ | ------ | -------- | --------------------------- |\n   * | fontFamily | specifies the font to be used in the rendered diagrams | string | Required | Any Possible CSS FontFamily |\n   *\n   * **Notes:** Default value: '\"trebuchet ms\", verdana, arial, sans-serif;'.\n   */\n  fontFamily: '\"trebuchet ms\", verdana, arial, sans-serif;',\n\n  /**\n   * | Parameter | Description                                           | Type             | Required | Values        |\n   * | --------- | ----------------------------------------------------- | ---------------- | -------- | ------------- |\n   * | logLevel  | This option decides the amount of logging to be used. | string \\| number | Required | 1, 2, 3, 4, 5 |\n   *\n   * **Notes:**\n   *\n   * - Debug: 1\n   * - Info: 2\n   * - Warn: 3\n   * - Error: 4\n   * - Fatal: 5 (default)\n   */\n  logLevel: 5,\n\n  /**\n   * | Parameter     | Description                       | Type   | Required | Values                          |\n   * | ------------- | --------------------------------- | ------ | -------- | ------------------------------- |\n   * | securitylevel | Level of trust for parsed diagram | string | Required | 'strict', 'loose', 'antiscript' |\n   *\n   * **Notes**:\n   *\n   * - **strict**: (**default**) tags in text are encoded, click functionality is disabled\n   * - **loose**: tags in text are allowed, click functionality is enabled\n   * - **antiscript**: html tags in text are allowed, (only script element is removed), click\n   *   functionality is enabled\n   */\n  securityLevel: 'strict',\n\n  /**\n   * | Parameter   | Description                                  | Type    | Required | Values      |\n   * | ----------- | -------------------------------------------- | ------- | -------- | ----------- |\n   * | startOnLoad | Dictates whether mermaid starts on Page load | boolean | Required | true, false |\n   *\n   * **Notes:** Default value: true\n   */\n  startOnLoad: true,\n\n  /**\n   * | Parameter           | Description                                                                  | Type    | Required | Values      |\n   * | ------------------- | ---------------------------------------------------------------------------- | ------- | -------- | ----------- |\n   * | arrowMarkerAbsolute | Controls whether or arrow markers in html code are absolute paths or anchors | boolean | Required | true, false |\n   *\n   * **Notes**:\n   *\n   * This matters if you are using base tag settings.\n   *\n   * Default value: false\n   */\n  arrowMarkerAbsolute: false,\n\n  /**\n   * This option controls which currentConfig keys are considered *secure* and can only be changed\n   * via call to mermaidAPI.initialize. Calls to mermaidAPI.reinitialize cannot make changes to the\n   * `secure` keys in the current currentConfig. This prevents malicious graph directives from\n   * overriding a site's default security.\n   *\n   * **Notes**:\n   *\n   * Default value: ['secure', 'securityLevel', 'startOnLoad', 'maxTextSize']\n   */\n  secure: ['secure', 'securityLevel', 'startOnLoad', 'maxTextSize'],\n\n  /**\n   * This option controls if the generated ids of nodes in the SVG are generated randomly or based\n   * on a seed. If set to false, the IDs are generated based on the current date and thus are not\n   * deterministic. This is the default behaviour.\n   *\n   * **Notes**:\n   *\n   * This matters if your files are checked into sourcecontrol e.g. git and should not change unless\n   * content is changed.\n   *\n   * Default value: false\n   */\n  deterministicIds: false,\n\n  /**\n   * This option is the optional seed for deterministic ids. if set to undefined but\n   * deterministicIds is true, a simple number iterator is used. You can set this attribute to base\n   * the seed on a static string.\n   */\n  deterministicIDSeed: undefined,\n\n  /** The object containing configurations specific for flowcharts */\n  flowchart: {\n    /**\n     * | Parameter      | Description                                     | Type    | Required | Values             |\n     * | -------------- | ----------------------------------------------- | ------- | -------- | ------------------ |\n     * | diagramPadding | Amount of padding around the diagram as a whole | Integer | Required | Any Positive Value |\n     *\n     * **Notes:**\n     *\n     * The amount of padding around the diagram as a whole so that embedded diagrams have margins,\n     * expressed in pixels\n     *\n     * Default value: 8\n     */\n    diagramPadding: 8,\n\n    /**\n     * | Parameter  | Description                                                                                  | Type    | Required | Values      |\n     * | ---------- | -------------------------------------------------------------------------------------------- | ------- | -------- | ----------- |\n     * | htmlLabels | Flag for setting whether or not a html tag should be used for rendering labels on the edges. | boolean | Required | true, false |\n     *\n     * **Notes:** Default value: true.\n     */\n    htmlLabels: true,\n\n    /**\n     * | Parameter   | Description                                         | Type    | Required | Values              |\n     * | ----------- | --------------------------------------------------- | ------- | -------- | ------------------- |\n     * | nodeSpacing | Defines the spacing between nodes on the same level | Integer | Required | Any positive Number |\n     *\n     * **Notes:**\n     *\n     * Pertains to horizontal spacing for TB (top to bottom) or BT (bottom to top) graphs, and the\n     * vertical spacing for LR as well as RL graphs.**\n     *\n     * Default value: 50\n     */\n    nodeSpacing: 50,\n\n    /**\n     * | Parameter   | Description                                           | Type    | Required | Values              |\n     * | ----------- | ----------------------------------------------------- | ------- | -------- | ------------------- |\n     * | rankSpacing | Defines the spacing between nodes on different levels | Integer | Required | Any Positive Number |\n     *\n     * **Notes**:\n     *\n     * Pertains to vertical spacing for TB (top to bottom) or BT (bottom to top), and the horizontal\n     * spacing for LR as well as RL graphs.\n     *\n     * Default value 50\n     */\n    rankSpacing: 50,\n\n    /**\n     * | Parameter | Description                                        | Type   | Required | Values                        |\n     * | --------- | -------------------------------------------------- | ------ | -------- | ----------------------------- |\n     * | curve     | Defines how mermaid renders curves for flowcharts. | string | Required | 'basis', 'linear', 'cardinal' |\n     *\n     * **Notes:**\n     *\n     * Default Value: 'basis'\n     */\n    curve: 'basis',\n    // Only used in new experimental rendering\n    // represents the padding between the labels and the shape\n    padding: 15,\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See notes   | boolean | 4        | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set the height and width is set to 100% and is then scaling with the\n     * available space if not the absolute space required is used.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n\n    /**\n     * | Parameter       | Description | Type    | Required | Values                  |\n     * | --------------- | ----------- | ------- | -------- | ----------------------- |\n     * | defaultRenderer | See notes   | boolean | 4        | dagre-d3, dagre-wrapper |\n     *\n     * **Notes:**\n     *\n     * Decides which rendering engine that is to be used for the rendering. Legal values are:\n     * dagre-d3 dagre-wrapper - wrapper for dagre implemented in mermaid\n     *\n     * Default value: 'dagre-d3'\n     */\n    defaultRenderer: 'dagre-d3',\n  },\n\n  /** The object containing configurations specific for sequence diagrams */\n  sequence: {\n    /**\n     * | Parameter       | Description                  | Type    | Required | Values             |\n     * | --------------- | ---------------------------- | ------- | -------- | ------------------ |\n     * | activationWidth | Width of the activation rect | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value :10\n     */\n    activationWidth: 10,\n\n    /**\n     * | Parameter      | Description                                          | Type    | Required | Values             |\n     * | -------------- | ---------------------------------------------------- | ------- | -------- | ------------------ |\n     * | diagramMarginX | Margin to the right and left of the sequence diagram | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 50\n     */\n    diagramMarginX: 50,\n\n    /**\n     * | Parameter      | Description                                       | Type    | Required | Values             |\n     * | -------------- | ------------------------------------------------- | ------- | -------- | ------------------ |\n     * | diagramMarginY | Margin to the over and under the sequence diagram | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 10\n     */\n    diagramMarginY: 10,\n\n    /**\n     * | Parameter   | Description           | Type    | Required | Values             |\n     * | ----------- | --------------------- | ------- | -------- | ------------------ |\n     * | actorMargin | Margin between actors | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 50\n     */\n    actorMargin: 50,\n\n    /**\n     * | Parameter | Description          | Type    | Required | Values             |\n     * | --------- | -------------------- | ------- | -------- | ------------------ |\n     * | width     | Width of actor boxes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 150\n     */\n    width: 150,\n\n    /**\n     * | Parameter | Description           | Type    | Required | Values             |\n     * | --------- | --------------------- | ------- | -------- | ------------------ |\n     * | height    | Height of actor boxes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 65\n     */\n    height: 65,\n\n    /**\n     * | Parameter | Description              | Type    | Required | Values             |\n     * | --------- | ------------------------ | ------- | -------- | ------------------ |\n     * | boxMargin | Margin around loop boxes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 10\n     */\n    boxMargin: 10,\n\n    /**\n     * | Parameter     | Description                                  | Type    | Required | Values             |\n     * | ------------- | -------------------------------------------- | ------- | -------- | ------------------ |\n     * | boxTextMargin | Margin around the text in loop/alt/opt boxes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 5\n     */\n    boxTextMargin: 5,\n\n    /**\n     * | Parameter  | Description         | Type    | Required | Values             |\n     * | ---------- | ------------------- | ------- | -------- | ------------------ |\n     * | noteMargin | margin around notes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 10\n     */\n    noteMargin: 10,\n\n    /**\n     * | Parameter     | Description            | Type    | Required | Values             |\n     * | ------------- | ---------------------- | ------- | -------- | ------------------ |\n     * | messageMargin | Space between messages | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 35\n     */\n    messageMargin: 35,\n\n    /**\n     * | Parameter    | Description                 | Type   | Required | Values                    |\n     * | ------------ | --------------------------- | ------ | -------- | ------------------------- |\n     * | messageAlign | Multiline message alignment | string | Required | 'left', 'center', 'right' |\n     *\n     * **Notes:** Default value: 'center'\n     */\n    messageAlign: 'center',\n\n    /**\n     * | Parameter    | Description                 | Type    | Required | Values      |\n     * | ------------ | --------------------------- | ------- | -------- | ----------- |\n     * | mirrorActors | Mirror actors under diagram | boolean | Required | true, false |\n     *\n     * **Notes:** Default value: true\n     */\n    mirrorActors: true,\n\n    /**\n     * | Parameter  | Description                                                             | Type    | Required | Values      |\n     * | ---------- | ----------------------------------------------------------------------- | ------- | -------- | ----------- |\n     * | forceMenus | forces actor popup menus to always be visible (to support E2E testing). | Boolean | Required | True, False |\n     *\n     * **Notes:**\n     *\n     * Default value: false.\n     */\n    forceMenus: false,\n\n    /**\n     * | Parameter       | Description                                | Type    | Required | Values             |\n     * | --------------- | ------------------------------------------ | ------- | -------- | ------------------ |\n     * | bottomMarginAdj | Prolongs the edge of the diagram downwards | Integer | Required | Any Positive Value |\n     *\n     * **Notes:**\n     *\n     * Depending on css styling this might need adjustment.\n     *\n     * Default value: 1\n     */\n    bottomMarginAdj: 1,\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See Notes   | boolean | Required | true, false |\n     *\n     * **Notes:** When this flag is set to true, the height and width is set to 100% and is then\n     * scaling with the available space. If set to false, the absolute space required is used.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n\n    /**\n     * | Parameter   | Description                          | Type    | Required | Values      |\n     * | ----------- | ------------------------------------ | ------- | -------- | ----------- |\n     * | rightAngles | display curve arrows as right angles | boolean | Required | true, false |\n     *\n     * **Notes:**\n     *\n     * This will display arrows that start and begin at the same node as right angles, rather than a curve\n     *\n     * Default value: false\n     */\n    rightAngles: false,\n\n    /**\n     * | Parameter           | Description                     | Type    | Required | Values      |\n     * | ------------------- | ------------------------------- | ------- | -------- | ----------- |\n     * | showSequenceNumbers | This will show the node numbers | boolean | Required | true, false |\n     *\n     * **Notes:** Default value: false\n     */\n    showSequenceNumbers: false,\n\n    /**\n     * | Parameter     | Description                                        | Type    | Required | Values             |\n     * | ------------- | -------------------------------------------------- | ------- | -------- | ------------------ |\n     * | actorFontSize | This sets the font size of the actor's description | Integer | Require  | Any Positive Value |\n     *\n     * **Notes:** **Default value 14**..\n     */\n    actorFontSize: 14,\n\n    /**\n     * | Parameter       | Description                                          | Type   | Required | Values                      |\n     * | --------------- | ---------------------------------------------------- | ------ | -------- | --------------------------- |\n     * | actorFontFamily | This sets the font family of the actor's description | string | Required | Any Possible CSS FontFamily |\n     *\n     * **Notes:** Default value: \"'Open-Sans\", \"sans-serif\"'\n     */\n    actorFontFamily: '\"Open-Sans\", \"sans-serif\"',\n\n    /**\n     * This sets the font weight of the actor's description\n     *\n     * **Notes:** Default value: 400.\n     */\n    actorFontWeight: 400,\n\n    /**\n     * | Parameter    | Description                                     | Type    | Required | Values             |\n     * | ------------ | ----------------------------------------------- | ------- | -------- | ------------------ |\n     * | noteFontSize | This sets the font size of actor-attached notes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 14\n     */\n    noteFontSize: 14,\n\n    /**\n     * | Parameter      | Description                                        | Type   | Required | Values                      |\n     * | -------------- | -------------------------------------------------- | ------ | -------- | --------------------------- |\n     * | noteFontFamily | This sets the font family of actor-attached notes. | string | Required | Any Possible CSS FontFamily |\n     *\n     * **Notes:** Default value: ''\"trebuchet ms\", verdana, arial, sans-serif'\n     */\n    noteFontFamily: '\"trebuchet ms\", verdana, arial, sans-serif',\n\n    /**\n     * This sets the font weight of the note's description\n     *\n     * **Notes:** Default value: 400\n     */\n    noteFontWeight: 400,\n\n    /**\n     * | Parameter | Description                                          | Type   | Required | Values                    |\n     * | --------- | ---------------------------------------------------- | ------ | -------- | ------------------------- |\n     * | noteAlign | This sets the text alignment of actor-attached notes | string | required | 'left', 'center', 'right' |\n     *\n     * **Notes:** Default value: 'center'\n     */\n    noteAlign: 'center',\n\n    /**\n     * | Parameter       | Description                               | Type    | Required | Values              |\n     * | --------------- | ----------------------------------------- | ------- | -------- | ------------------- |\n     * | messageFontSize | This sets the font size of actor messages | Integer | Required | Any Positive Number |\n     *\n     * **Notes:** Default value: 16\n     */\n    messageFontSize: 16,\n\n    /**\n     * | Parameter         | Description                                 | Type   | Required | Values                      |\n     * | ----------------- | ------------------------------------------- | ------ | -------- | --------------------------- |\n     * | messageFontFamily | This sets the font family of actor messages | string | Required | Any Possible CSS FontFamily |\n     *\n     * **Notes:** Default value: '\"trebuchet ms\", verdana, arial, sans-serif'\n     */\n    messageFontFamily: '\"trebuchet ms\", verdana, arial, sans-serif',\n\n    /**\n     * This sets the font weight of the message's description\n     *\n     * **Notes:** Default value: 400.\n     */\n    messageFontWeight: 400,\n\n    /**\n     * This sets the auto-wrap state for the diagram\n     *\n     * **Notes:** Default value: false.\n     */\n    wrap: false,\n\n    /**\n     * This sets the auto-wrap padding for the diagram (sides only)\n     *\n     * **Notes:** Default value: 0.\n     */\n    wrapPadding: 10,\n\n    /**\n     * This sets the width of the loop-box (loop, alt, opt, par)\n     *\n     * **Notes:** Default value: 50.\n     */\n    labelBoxWidth: 50,\n\n    /**\n     * This sets the height of the loop-box (loop, alt, opt, par)\n     *\n     * **Notes:** Default value: 20.\n     */\n    labelBoxHeight: 20,\n\n    messageFont: function () {\n      return {\n        fontFamily: this.messageFontFamily,\n        fontSize: this.messageFontSize,\n        fontWeight: this.messageFontWeight,\n      };\n    },\n    noteFont: function () {\n      return {\n        fontFamily: this.noteFontFamily,\n        fontSize: this.noteFontSize,\n        fontWeight: this.noteFontWeight,\n      };\n    },\n    actorFont: function () {\n      return {\n        fontFamily: this.actorFontFamily,\n        fontSize: this.actorFontSize,\n        fontWeight: this.actorFontWeight,\n      };\n    },\n  },\n\n  /** The object containing configurations specific for gantt diagrams */\n  gantt: {\n    /**\n     * ### titleTopMargin\n     *\n     * | Parameter      | Description                                    | Type    | Required | Values             |\n     * | -------------- | ---------------------------------------------- | ------- | -------- | ------------------ |\n     * | titleTopMargin | Margin top for the text over the gantt diagram | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 25\n     */\n    titleTopMargin: 25,\n\n    /**\n     * | Parameter | Description                         | Type    | Required | Values             |\n     * | --------- | ----------------------------------- | ------- | -------- | ------------------ |\n     * | barHeight | The height of the bars in the graph | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 20\n     */\n    barHeight: 20,\n\n    /**\n     * | Parameter | Description                                                      | Type    | Required | Values             |\n     * | --------- | ---------------------------------------------------------------- | ------- | -------- | ------------------ |\n     * | barGap    | The margin between the different activities in the gantt diagram | Integer | Optional | Any Positive Value |\n     *\n     * **Notes:** Default value: 4\n     */\n    barGap: 4,\n\n    /**\n     * | Parameter  | Description                                                                | Type    | Required | Values             |\n     * | ---------- | -------------------------------------------------------------------------- | ------- | -------- | ------------------ |\n     * | topPadding | Margin between title and gantt diagram and between axis and gantt diagram. | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 50\n     */\n    topPadding: 50,\n\n    /**\n     * | Parameter    | Description                                                             | Type    | Required | Values             |\n     * | ------------ | ----------------------------------------------------------------------- | ------- | -------- | ------------------ |\n     * | rightPadding | The space allocated for the section name to the right of the activities | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 75\n     */\n    rightPadding: 75,\n\n    /**\n     * | Parameter   | Description                                                            | Type    | Required | Values             |\n     * | ----------- | ---------------------------------------------------------------------- | ------- | -------- | ------------------ |\n     * | leftPadding | The space allocated for the section name to the left of the activities | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 75\n     */\n    leftPadding: 75,\n\n    /**\n     * | Parameter            | Description                                  | Type    | Required | Values             |\n     * | -------------------- | -------------------------------------------- | ------- | -------- | ------------------ |\n     * | gridLineStartPadding | Vertical starting position of the grid lines | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 35\n     */\n    gridLineStartPadding: 35,\n\n    /**\n     * | Parameter | Description | Type    | Required | Values             |\n     * | --------- | ----------- | ------- | -------- | ------------------ |\n     * | fontSize  | Font size   | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 11\n     */\n    fontSize: 11,\n\n    /**\n     * | Parameter       | Description            | Type    | Required | Values             |\n     * | --------------- | ---------------------- | ------- | -------- | ------------------ |\n     * | sectionFontSize | Font size for sections | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 11\n     */\n    sectionFontSize: 11,\n\n    /**\n     * | Parameter           | Description                              | Type    | Required | Values             |\n     * | ------------------- | ---------------------------------------- | ------- | -------- | ------------------ |\n     * | numberSectionStyles | The number of alternating section styles | Integer | 4        | Any Positive Value |\n     *\n     * **Notes:** Default value: 4\n     */\n    numberSectionStyles: 4,\n\n    /**\n     * | Parameter  | Description                 | Type | Required | Values           |\n     * | ---------- | --------------------------- | ---- | -------- | ---------------- |\n     * | axisFormat | Datetime format of the axis | 3    | Required | Date in yy-mm-dd |\n     *\n     * **Notes:**\n     *\n     * This might need adjustment to match your locale and preferences\n     *\n     * Default value: '%Y-%m-%d'.\n     */\n    axisFormat: '%Y-%m-%d',\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See notes   | boolean | 4        | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set the height and width is set to 100% and is then scaling with the\n     * available space if not the absolute space required is used.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n\n    /**\n     * | Parameter | Description | Type    | Required | Values      |\n     * | --------- | ----------- | ------- | -------- | ----------- |\n     * | topAxis   | See notes   | Boolean | 4        | True, False |\n     *\n     * **Notes:** when this flag is set date labels will be added to the top of the chart\n     *\n     * **Default value false**.\n     */\n    topAxis: false,\n\n    useWidth: undefined,\n  },\n\n  /** The object containing configurations specific for journey diagrams */\n  journey: {\n    /**\n     * | Parameter      | Description                                          | Type    | Required | Values             |\n     * | -------------- | ---------------------------------------------------- | ------- | -------- | ------------------ |\n     * | diagramMarginX | Margin to the right and left of the sequence diagram | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 50\n     */\n    diagramMarginX: 50,\n\n    /**\n     * | Parameter      | Description                                        | Type    | Required | Values             |\n     * | -------------- | -------------------------------------------------- | ------- | -------- | ------------------ |\n     * | diagramMarginY | Margin to the over and under the sequence diagram. | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 10\n     */\n    diagramMarginY: 10,\n\n    /**\n     * | Parameter   | Description           | Type    | Required | Values             |\n     * | ----------- | --------------------- | ------- | -------- | ------------------ |\n     * | actorMargin | Margin between actors | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 50\n     */\n    leftMargin: 150,\n\n    /**\n     * | Parameter | Description          | Type    | Required | Values             |\n     * | --------- | -------------------- | ------- | -------- | ------------------ |\n     * | width     | Width of actor boxes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 150\n     */\n    width: 150,\n\n    /**\n     * | Parameter | Description           | Type    | Required | Values             |\n     * | --------- | --------------------- | ------- | -------- | ------------------ |\n     * | height    | Height of actor boxes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 65\n     */\n    height: 50,\n\n    /**\n     * | Parameter | Description              | Type    | Required | Values             |\n     * | --------- | ------------------------ | ------- | -------- | ------------------ |\n     * | boxMargin | Margin around loop boxes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 10\n     */\n    boxMargin: 10,\n\n    /**\n     * | Parameter     | Description                                  | Type    | Required | Values             |\n     * | ------------- | -------------------------------------------- | ------- | -------- | ------------------ |\n     * | boxTextMargin | Margin around the text in loop/alt/opt boxes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 5\n     */\n    boxTextMargin: 5,\n\n    /**\n     * | Parameter  | Description         | Type    | Required | Values             |\n     * | ---------- | ------------------- | ------- | -------- | ------------------ |\n     * | noteMargin | Margin around notes | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Default value: 10\n     */\n    noteMargin: 10,\n\n    /**\n     * | Parameter     | Description             | Type    | Required | Values             |\n     * | ------------- | ----------------------- | ------- | -------- | ------------------ |\n     * | messageMargin | Space between messages. | Integer | Required | Any Positive Value |\n     *\n     * **Notes:**\n     *\n     * Space between messages.\n     *\n     * Default value: 35\n     */\n    messageMargin: 35,\n\n    /**\n     * | Parameter    | Description                 | Type | Required | Values                    |\n     * | ------------ | --------------------------- | ---- | -------- | ------------------------- |\n     * | messageAlign | Multiline message alignment | 3    | 4        | 'left', 'center', 'right' |\n     *\n     * **Notes:** Default value: 'center'\n     */\n    messageAlign: 'center',\n\n    /**\n     * | Parameter       | Description                                | Type    | Required | Values             |\n     * | --------------- | ------------------------------------------ | ------- | -------- | ------------------ |\n     * | bottomMarginAdj | Prolongs the edge of the diagram downwards | Integer | 4        | Any Positive Value |\n     *\n     * **Notes:**\n     *\n     * Depending on css styling this might need adjustment.\n     *\n     * Default value: 1\n     */\n    bottomMarginAdj: 1,\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See notes   | boolean | 4        | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set the height and width is set to 100% and is then scaling with the\n     * available space if not the absolute space required is used.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n\n    /**\n     * | Parameter   | Description                       | Type | Required | Values      |\n     * | ----------- | --------------------------------- | ---- | -------- | ----------- |\n     * | rightAngles | Curved Arrows become Right Angles | 3    | 4        | true, false |\n     *\n     * **Notes:**\n     *\n     * This will display arrows that start and begin at the same node as right angles, rather than a curves\n     *\n     * Default value: false\n     */\n    rightAngles: false,\n    taskFontSize: 14,\n    taskFontFamily: '\"Open-Sans\", \"sans-serif\"',\n    taskMargin: 50,\n    // width of activation box\n    activationWidth: 10,\n\n    // text placement as: tspan | fo | old only text as before\n    textPlacement: 'fo',\n    actorColours: ['#8FBC8F', '#7CFC00', '#00FFFF', '#20B2AA', '#B0E0E6', '#FFFFE0'],\n\n    sectionFills: ['#191970', '#8B008B', '#4B0082', '#2F4F4F', '#800000', '#8B4513', '#00008B'],\n    sectionColours: ['#fff'],\n  },\n  class: {\n    arrowMarkerAbsolute: false,\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See notes   | boolean | 4        | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set the height and width is set to 100% and is then scaling with the\n     * available space if not the absolute space required is used.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n    /**\n     * | Parameter       | Description | Type    | Required | Values                  |\n     * | --------------- | ----------- | ------- | -------- | ----------------------- |\n     * | defaultRenderer | See notes   | boolean | 4        | dagre-d3, dagre-wrapper |\n     *\n     * **Notes**:\n     *\n     * Decides which rendering engine that is to be used for the rendering. Legal values are:\n     * dagre-d3 dagre-wrapper - wrapper for dagre implemented in mermaid\n     *\n     * Default value: 'dagre-d3'\n     */\n    defaultRenderer: 'dagre-wrapper',\n  },\n  git: {\n    arrowMarkerAbsolute: false,\n\n    useWidth: undefined,\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See notes   | boolean | 4        | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set the height and width is set to 100% and is then scaling with the\n     * available space if not the absolute space required is used.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n  },\n  state: {\n    dividerMargin: 10,\n    sizeUnit: 5,\n    padding: 8,\n    textHeight: 10,\n    titleShift: -15,\n    noteMargin: 10,\n    forkWidth: 70,\n    forkHeight: 7,\n    // Used\n    miniPadding: 2,\n    // Font size factor, this is used to guess the width of the edges labels before rendering by dagre\n    // layout. This might need updating if/when switching font\n    fontSizeFactor: 5.02,\n    fontSize: 24,\n    labelHeight: 16,\n    edgeLengthFactor: '20',\n    compositTitleSize: 35,\n    radius: 5,\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See notes   | boolean | 4        | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set the height and width is set to 100% and is then scaling with the\n     * available space if not the absolute space required is used.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n    /**\n     * | Parameter       | Description | Type    | Required | Values                  |\n     * | --------------- | ----------- | ------- | -------- | ----------------------- |\n     * | defaultRenderer | See notes   | boolean | 4        | dagre-d3, dagre-wrapper |\n     *\n     * **Notes:**\n     *\n     * Decides which rendering engine that is to be used for the rendering. Legal values are:\n     * dagre-d3 dagre-wrapper - wrapper for dagre implemented in mermaid\n     *\n     * Default value: 'dagre-d3'\n     */\n    defaultRenderer: 'dagre-wrapper',\n  },\n\n  /** The object containing configurations specific for entity relationship diagrams */\n  er: {\n    /**\n     * | Parameter      | Description                                     | Type    | Required | Values             |\n     * | -------------- | ----------------------------------------------- | ------- | -------- | ------------------ |\n     * | diagramPadding | Amount of padding around the diagram as a whole | Integer | Required | Any Positive Value |\n     *\n     * **Notes:**\n     *\n     * The amount of padding around the diagram as a whole so that embedded diagrams have margins,\n     * expressed in pixels\n     *\n     * Default value: 20\n     */\n    diagramPadding: 20,\n\n    /**\n     * | Parameter       | Description                              | Type   | Required | Values                 |\n     * | --------------- | ---------------------------------------- | ------ | -------- | ---------------------- |\n     * | layoutDirection | Directional bias for layout of entities. | string | Required | \"TB\", \"BT\", \"LR\", \"RL\" |\n     *\n     * **Notes:**\n     *\n     * 'TB' for Top-Bottom, 'BT'for Bottom-Top, 'LR' for Left-Right, or 'RL' for Right to Left.\n     *\n     * T = top, B = bottom, L = left, and R = right.\n     *\n     * Default value: 'TB'\n     */\n    layoutDirection: 'TB',\n\n    /**\n     * | Parameter      | Description                        | Type    | Required | Values             |\n     * | -------------- | ---------------------------------- | ------- | -------- | ------------------ |\n     * | minEntityWidth | The minimum width of an entity box | Integer | Required | Any Positive Value |\n     *\n     * **Notes:** Expressed in pixels. Default value: 100\n     */\n    minEntityWidth: 100,\n\n    /**\n     * | Parameter       | Description                         | Type    | Required | Values             |\n     * | --------------- | ----------------------------------- | ------- | -------- | ------------------ |\n     * | minEntityHeight | The minimum height of an entity box | Integer | 4        | Any Positive Value |\n     *\n     * **Notes:** Expressed in pixels Default value: 75\n     */\n    minEntityHeight: 75,\n\n    /**\n     * | Parameter     | Description                                                 | Type    | Required | Values             |\n     * | ------------- | ----------------------------------------------------------- | ------- | -------- | ------------------ |\n     * | entityPadding | Minimum internal padding betweentext in box and box borders | Integer | 4        | Any Positive Value |\n     *\n     * **Notes:**\n     *\n     * The minimum internal padding betweentext in an entity box and the enclosing box borders,\n     * expressed in pixels.\n     *\n     * Default value: 15\n     */\n    entityPadding: 15,\n\n    /**\n     * | Parameter | Description                         | Type   | Required | Values               |\n     * | --------- | ----------------------------------- | ------ | -------- | -------------------- |\n     * | stroke    | Stroke color of box edges and lines | string | 4        | Any recognized color |\n     *\n     * **Notes:** Default value: 'gray'\n     */\n    stroke: 'gray',\n\n    /**\n     * | Parameter | Description                | Type   | Required | Values               |\n     * | --------- | -------------------------- | ------ | -------- | -------------------- |\n     * | fill      | Fill color of entity boxes | string | 4        | Any recognized color |\n     *\n     * **Notes:** Default value: 'honeydew'\n     */\n    fill: 'honeydew',\n\n    /**\n     * | Parameter | Description         | Type    | Required | Values             |\n     * | --------- | ------------------- | ------- | -------- | ------------------ |\n     * | fontSize  | Font Size in pixels | Integer |          | Any Positive Value |\n     *\n     * **Notes:**\n     *\n     * Font size (expressed as an integer representing a number of pixels) Default value: 12\n     */\n    fontSize: 12,\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See Notes   | boolean | Required | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set to true, the diagram width is locked to 100% and scaled based on\n     * available space. If set to false, the diagram reserves its absolute width.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n  },\n\n  /** The object containing configurations specific for pie diagrams */\n  pie: {\n    useWidth: undefined,\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See Notes   | boolean | Required | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set to true, the diagram width is locked to 100% and scaled based on\n     * available space. If set to false, the diagram reserves its absolute width.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n  },\n\n  /** The object containing configurations specific for req diagrams */\n  requirement: {\n    useWidth: undefined,\n\n    /**\n     * | Parameter   | Description | Type    | Required | Values      |\n     * | ----------- | ----------- | ------- | -------- | ----------- |\n     * | useMaxWidth | See Notes   | boolean | Required | true, false |\n     *\n     * **Notes:**\n     *\n     * When this flag is set to true, the diagram width is locked to 100% and scaled based on\n     * available space. If set to false, the diagram reserves its absolute width.\n     *\n     * Default value: true\n     */\n    useMaxWidth: true,\n\n    rect_fill: '#f9f9f9',\n    text_color: '#333',\n    rect_border_size: '0.5px',\n    rect_border_color: '#bbb',\n    rect_min_width: 200,\n    rect_min_height: 200,\n    fontSize: 14,\n    rect_padding: 10,\n    line_height: 20,\n  },\n};\n\nconfig.class.arrowMarkerAbsolute = config.arrowMarkerAbsolute;\nconfig.git.arrowMarkerAbsolute = config.arrowMarkerAbsolute;\n\nconst keyify = (obj, prefix = '') =>\n  Object.keys(obj).reduce((res, el) => {\n    if (Array.isArray(obj[el])) {\n      return res;\n    } else if (typeof obj[el] === 'object' && obj[el] !== null) {\n      return [...res, prefix + el, ...keyify(obj[el], '')];\n    }\n    return [...res, prefix + el];\n  }, []);\n\nexport const configKeys = keyify(config, '');\nexport default config;\n","import { select } from 'd3';\nimport { log } from '../../logger';\nimport * as configApi from '../../config';\nimport common from '../common/common';\nimport utils from '../../utils';\nimport mermaidAPI from '../../mermaidAPI';\n\nconst MERMAID_DOM_ID_PREFIX = 'classid-';\n\nlet relations = [];\nlet classes = {};\nlet classCounter = 0;\n\nlet funs = [];\n\nconst sanitizeText = (txt) => common.sanitizeText(txt, configApi.getConfig());\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nconst splitClassNameAndType = function (id) {\n  let genericType = '';\n  let className = id;\n\n  if (id.indexOf('~') > 0) {\n    let split = id.split('~');\n    className = split[0];\n\n    genericType = common.sanitizeText(split[1], configApi.getConfig());\n  }\n\n  return { className: className, type: genericType };\n};\n\n/**\n * Function called by parser when a node definition has been found.\n *\n * @param id\n * @public\n */\nexport const addClass = function (id) {\n  let classId = splitClassNameAndType(id);\n  // Only add class if not exists\n  if (typeof classes[classId.className] !== 'undefined') return;\n\n  classes[classId.className] = {\n    id: classId.className,\n    type: classId.type,\n    cssClasses: [],\n    methods: [],\n    members: [],\n    annotations: [],\n    domId: MERMAID_DOM_ID_PREFIX + classId.className + '-' + classCounter,\n  };\n\n  classCounter++;\n};\n\n/**\n * Function to lookup domId from id in the graph definition.\n *\n * @param id\n * @public\n */\nexport const lookUpDomId = function (id) {\n  const classKeys = Object.keys(classes);\n  for (let i = 0; i < classKeys.length; i++) {\n    if (classes[classKeys[i]].id === id) {\n      return classes[classKeys[i]].domId;\n    }\n  }\n};\n\nexport const clear = function () {\n  relations = [];\n  classes = {};\n  funs = [];\n  funs.push(setupToolTips);\n};\n\nexport const getClass = function (id) {\n  return classes[id];\n};\nexport const getClasses = function () {\n  return classes;\n};\n\nexport const getRelations = function () {\n  return relations;\n};\n\nexport const addRelation = function (relation) {\n  log.debug('Adding relation: ' + JSON.stringify(relation));\n  addClass(relation.id1);\n  addClass(relation.id2);\n\n  relation.id1 = splitClassNameAndType(relation.id1).className;\n  relation.id2 = splitClassNameAndType(relation.id2).className;\n\n  relation.relationTitle1 = common.sanitizeText(\n    relation.relationTitle1.trim(),\n    configApi.getConfig()\n  );\n\n  relation.relationTitle2 = common.sanitizeText(\n    relation.relationTitle2.trim(),\n    configApi.getConfig()\n  );\n\n  relations.push(relation);\n};\n\n/**\n * Adds an annotation to the specified class Annotations mark special properties of the given type\n * (like 'interface' or 'service')\n *\n * @param className The class name\n * @param annotation The name of the annotation without any brackets\n * @public\n */\nexport const addAnnotation = function (className, annotation) {\n  const validatedClassName = splitClassNameAndType(className).className;\n  classes[validatedClassName].annotations.push(annotation);\n};\n\n/**\n * Adds a member to the specified class\n *\n * @param className The class name\n * @param member The full name of the member. If the member is enclosed in <<brackets>> it is\n *   treated as an annotation If the member is ending with a closing bracket ) it is treated as a\n *   method Otherwise the member will be treated as a normal property\n * @public\n */\nexport const addMember = function (className, member) {\n  const validatedClassName = splitClassNameAndType(className).className;\n  const theClass = classes[validatedClassName];\n\n  if (typeof member === 'string') {\n    // Member can contain white spaces, we trim them out\n    const memberString = member.trim();\n\n    if (memberString.startsWith('<<') && memberString.endsWith('>>')) {\n      // Remove leading and trailing brackets\n      // theClass.annotations.push(memberString.substring(2, memberString.length - 2));\n      theClass.annotations.push(sanitizeText(memberString.substring(2, memberString.length - 2)));\n    } else if (memberString.indexOf(')') > 0) {\n      theClass.methods.push(sanitizeText(memberString));\n    } else if (memberString) {\n      theClass.members.push(sanitizeText(memberString));\n    }\n  }\n};\n\nexport const addMembers = function (className, members) {\n  if (Array.isArray(members)) {\n    members.reverse();\n    members.forEach((member) => addMember(className, member));\n  }\n};\n\nexport const cleanupLabel = function (label) {\n  if (label.substring(0, 1) === ':') {\n    return common.sanitizeText(label.substr(1).trim(), configApi.getConfig());\n  } else {\n    return sanitizeText(label.trim());\n  }\n};\n\n/**\n * Called by parser when a special node is found, e.g. a clickable element.\n *\n * @param ids Comma separated list of ids\n * @param className Class to add\n */\nexport const setCssClass = function (ids, className) {\n  ids.split(',').forEach(function (_id) {\n    let id = _id;\n    if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n    if (typeof classes[id] !== 'undefined') {\n      classes[id].cssClasses.push(className);\n    }\n  });\n};\n\n/**\n * Called by parser when a tooltip is found, e.g. a clickable element.\n *\n * @param ids Comma separated list of ids\n * @param tooltip Tooltip to add\n */\nconst setTooltip = function (ids, tooltip) {\n  const config = configApi.getConfig();\n  ids.split(',').forEach(function (id) {\n    if (typeof tooltip !== 'undefined') {\n      classes[id].tooltip = common.sanitizeText(tooltip, config);\n    }\n  });\n};\n\n/**\n * Called by parser when a link is found. Adds the URL to the vertex data.\n *\n * @param ids Comma separated list of ids\n * @param linkStr URL to create a link for\n * @param target Target of the link, _blank by default as originally defined in the svgDraw.js file\n */\nexport const setLink = function (ids, linkStr, target) {\n  const config = configApi.getConfig();\n  ids.split(',').forEach(function (_id) {\n    let id = _id;\n    if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n    if (typeof classes[id] !== 'undefined') {\n      classes[id].link = utils.formatUrl(linkStr, config);\n      if (config.securityLevel === 'sandbox') {\n        classes[id].linkTarget = '_top';\n      } else if (typeof target === 'string') {\n        classes[id].linkTarget = sanitizeText(target);\n      } else {\n        classes[id].linkTarget = '_blank';\n      }\n    }\n  });\n  setCssClass(ids, 'clickable');\n};\n\n/**\n * Called by parser when a click definition is found. Registers an event handler.\n *\n * @param ids Comma separated list of ids\n * @param functionName Function to be called on click\n * @param functionArgs Function args the function should be called with\n */\nexport const setClickEvent = function (ids, functionName, functionArgs) {\n  ids.split(',').forEach(function (id) {\n    setClickFunc(id, functionName, functionArgs);\n    classes[id].haveCallback = true;\n  });\n  setCssClass(ids, 'clickable');\n};\n\nconst setClickFunc = function (domId, functionName, functionArgs) {\n  const config = configApi.getConfig();\n  let id = domId;\n  let elemId = lookUpDomId(id);\n\n  if (config.securityLevel !== 'loose') {\n    return;\n  }\n  if (typeof functionName === 'undefined') {\n    return;\n  }\n  if (typeof classes[id] !== 'undefined') {\n    let argList = [];\n    if (typeof functionArgs === 'string') {\n      /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\n      argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\n      for (let i = 0; i < argList.length; i++) {\n        let item = argList[i].trim();\n        /* Removes all double quotes at the start and end of an argument */\n        /* This preserves all starting and ending whitespace inside */\n        if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\n          item = item.substr(1, item.length - 2);\n        }\n        argList[i] = item;\n      }\n    }\n\n    /* if no arguments passed into callback, default to passing in id */\n    if (argList.length === 0) {\n      argList.push(elemId);\n    }\n\n    funs.push(function () {\n      const elem = document.querySelector(`[id=\"${elemId}\"]`);\n      if (elem !== null) {\n        elem.addEventListener(\n          'click',\n          function () {\n            utils.runFunc(functionName, ...argList);\n          },\n          false\n        );\n      }\n    });\n  }\n};\n\nexport const bindFunctions = function (element) {\n  funs.forEach(function (fun) {\n    fun(element);\n  });\n};\n\nexport const lineType = {\n  LINE: 0,\n  DOTTED_LINE: 1,\n};\n\nexport const relationType = {\n  AGGREGATION: 0,\n  EXTENSION: 1,\n  COMPOSITION: 2,\n  DEPENDENCY: 3,\n};\n\nconst setupToolTips = function (element) {\n  let tooltipElem = select('.mermaidTooltip');\n  if ((tooltipElem._groups || tooltipElem)[0][0] === null) {\n    tooltipElem = select('body').append('div').attr('class', 'mermaidTooltip').style('opacity', 0);\n  }\n\n  const svg = select(element).select('svg');\n\n  const nodes = svg.selectAll('g.node');\n  nodes\n    .on('mouseover', function () {\n      const el = select(this);\n      const title = el.attr('title');\n      // Dont try to draw a tooltip if no data is provided\n      if (title === null) {\n        return;\n      }\n      const rect = this.getBoundingClientRect();\n\n      tooltipElem.transition().duration(200).style('opacity', '.9');\n      tooltipElem\n        .html(el.attr('title'))\n        .style('left', window.scrollX + rect.left + (rect.right - rect.left) / 2 + 'px')\n        .style('top', window.scrollY + rect.top - 14 + document.body.scrollTop + 'px');\n      el.classed('hover', true);\n    })\n    .on('mouseout', function () {\n      tooltipElem.transition().duration(500).style('opacity', 0);\n      const el = select(this);\n      el.classed('hover', false);\n    });\n};\nfuns.push(setupToolTips);\n\nlet direction = 'TB';\nconst getDirection = () => direction;\nconst setDirection = (dir) => {\n  direction = dir;\n};\n\nexport default {\n  parseDirective,\n  getConfig: () => configApi.getConfig().class,\n  addClass,\n  bindFunctions,\n  clear,\n  getClass,\n  getClasses,\n  addAnnotation,\n  getRelations,\n  addRelation,\n  getDirection,\n  setDirection,\n  addMember,\n  addMembers,\n  cleanupLabel,\n  lineType,\n  relationType,\n  setClickEvent,\n  setCssClass,\n  setLink,\n  setTooltip,\n  lookUpDomId,\n};\n","import { select } from 'd3';\nimport dagre from 'dagre';\nimport graphlib from 'graphlib';\nimport { log } from '../../logger';\nimport classDb, { lookUpDomId } from './classDb';\nimport { parser } from './parser/classDiagram';\nimport svgDraw from './svgDraw';\nimport { getConfig } from '../../config';\nimport { render } from '../../dagre-wrapper/index.js';\n// import addHtmlLabel from 'dagre-d3/lib/label/add-html-label.js';\nimport { curveLinear } from 'd3';\nimport { interpolateToCurve, getStylesFromArray, configureSvgSize } from '../../utils';\nimport common from '../common/common';\n\nparser.yy = classDb;\n\nlet idCache = {};\nconst padding = 20;\n\nconst sanitizeText = (txt) => common.sanitizeText(txt, getConfig());\n\nconst conf = {\n  dividerMargin: 10,\n  padding: 5,\n  textHeight: 10,\n};\n\n/**\n * Function that adds the vertices found during parsing to the graph to be rendered.\n *\n * @param {Object<\n *   string,\n *   { cssClasses: string[]; text: string; id: string; type: string; domId: string }\n * >} classes\n *   Object containing the vertices.\n * @param {SVGGElement} g The graph that is to be drawn.\n */\nexport const addClasses = function (classes, g) {\n  // const svg = select(`[id=\"${svgId}\"]`);\n  const keys = Object.keys(classes);\n  log.info('keys:', keys);\n  log.info(classes);\n\n  // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\n  keys.forEach(function (id) {\n    const vertex = classes[id];\n\n    /**\n     * Variable for storing the classes for the vertex\n     *\n     * @type {string}\n     */\n    let cssClassStr = '';\n    if (vertex.cssClasses.length > 0) {\n      cssClassStr = cssClassStr + ' ' + vertex.cssClasses.join(' ');\n    }\n    // if (vertex.classes.length > 0) {\n    //   classStr = vertex.classes.join(' ');\n    // }\n\n    const styles = { labelStyle: '' }; //getStylesFromArray(vertex.styles);\n\n    // Use vertex id as text in the box if no text is provided by the graph definition\n    let vertexText = vertex.text !== undefined ? vertex.text : vertex.id;\n\n    // We create a SVG label, either by delegating to addHtmlLabel or manually\n    // let vertexNode;\n    // if (evaluate(getConfig().flowchart.htmlLabels)) {\n    //   const node = {\n    //     label: vertexText.replace(\n    //       /fa[lrsb]?:fa-[\\w-]+/g,\n    //       s => `<i class='${s.replace(':', ' ')}'></i>`\n    //     )\n    //   };\n    //   vertexNode = addHtmlLabel(svg, node).node();\n    //   vertexNode.parentNode.removeChild(vertexNode);\n    // } else {\n    //   const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n    //   svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\n\n    //   const rows = vertexText.split(common.lineBreakRegex);\n\n    //   for (let j = 0; j < rows.length; j++) {\n    //     const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n    //     tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n    //     tspan.setAttribute('dy', '1em');\n    //     tspan.setAttribute('x', '1');\n    //     tspan.textContent = rows[j];\n    //     svgLabel.appendChild(tspan);\n    //   }\n    //   vertexNode = svgLabel;\n    // }\n\n    let radious = 0;\n    let _shape = '';\n    // Set the shape based parameters\n    switch (vertex.type) {\n      case 'class':\n        _shape = 'class_box';\n        break;\n      default:\n        _shape = 'class_box';\n    }\n    // Add the node\n    g.setNode(vertex.id, {\n      labelStyle: styles.labelStyle,\n      shape: _shape,\n      labelText: sanitizeText(vertexText),\n      classData: vertex,\n      rx: radious,\n      ry: radious,\n      class: cssClassStr,\n      style: styles.style,\n      id: vertex.id,\n      domId: vertex.domId,\n      haveCallback: vertex.haveCallback,\n      link: vertex.link,\n      width: vertex.type === 'group' ? 500 : undefined,\n      type: vertex.type,\n      padding: getConfig().flowchart.padding,\n    });\n\n    log.info('setNode', {\n      labelStyle: styles.labelStyle,\n      shape: _shape,\n      labelText: vertexText,\n      rx: radious,\n      ry: radious,\n      class: cssClassStr,\n      style: styles.style,\n      id: vertex.id,\n      width: vertex.type === 'group' ? 500 : undefined,\n      type: vertex.type,\n      padding: getConfig().flowchart.padding,\n    });\n  });\n};\n\n/**\n * Add edges to graph based on parsed graph defninition\n *\n * @param relations\n * @param {object} g The graph object\n */\nexport const addRelations = function (relations, g) {\n  let cnt = 0;\n\n  let defaultStyle;\n  let defaultLabelStyle;\n\n  // if (typeof relations.defaultStyle !== 'undefined') {\n  //   const defaultStyles = getStylesFromArray(relations.defaultStyle);\n  //   defaultStyle = defaultStyles.style;\n  //   defaultLabelStyle = defaultStyles.labelStyle;\n  // }\n\n  relations.forEach(function (edge) {\n    cnt++;\n    const edgeData = {};\n    //Set relationship style and line type\n    edgeData.classes = 'relation';\n    edgeData.pattern = edge.relation.lineType == 1 ? 'dashed' : 'solid';\n\n    edgeData.id = 'id' + cnt;\n    // Set link type for rendering\n    if (edge.type === 'arrow_open') {\n      edgeData.arrowhead = 'none';\n    } else {\n      edgeData.arrowhead = 'normal';\n    }\n\n    log.info(edgeData, edge);\n    //Set edge extra labels\n    //edgeData.startLabelLeft = edge.relationTitle1;\n    edgeData.startLabelRight = edge.relationTitle1 === 'none' ? '' : edge.relationTitle1;\n    edgeData.endLabelLeft = edge.relationTitle2 === 'none' ? '' : edge.relationTitle2;\n    //edgeData.endLabelRight = edge.relationTitle2;\n\n    //Set relation arrow types\n    edgeData.arrowTypeStart = getArrowMarker(edge.relation.type1);\n    edgeData.arrowTypeEnd = getArrowMarker(edge.relation.type2);\n    let style = '';\n    let labelStyle = '';\n\n    if (typeof edge.style !== 'undefined') {\n      const styles = getStylesFromArray(edge.style);\n      style = styles.style;\n      labelStyle = styles.labelStyle;\n    } else {\n      style = 'fill:none';\n      if (typeof defaultStyle !== 'undefined') {\n        style = defaultStyle;\n      }\n      if (typeof defaultLabelStyle !== 'undefined') {\n        labelStyle = defaultLabelStyle;\n      }\n    }\n\n    edgeData.style = style;\n    edgeData.labelStyle = labelStyle;\n\n    if (typeof edge.interpolate !== 'undefined') {\n      edgeData.curve = interpolateToCurve(edge.interpolate, curveLinear);\n    } else if (typeof relations.defaultInterpolate !== 'undefined') {\n      edgeData.curve = interpolateToCurve(relations.defaultInterpolate, curveLinear);\n    } else {\n      edgeData.curve = interpolateToCurve(conf.curve, curveLinear);\n    }\n\n    edge.text = edge.title;\n    if (typeof edge.text === 'undefined') {\n      if (typeof edge.style !== 'undefined') {\n        edgeData.arrowheadStyle = 'fill: #333';\n      }\n    } else {\n      edgeData.arrowheadStyle = 'fill: #333';\n      edgeData.labelpos = 'c';\n\n      if (getConfig().flowchart.htmlLabels) {\n        // eslint-disable-line\n        edgeData.labelType = 'html';\n        edgeData.label = '<span class=\"edgeLabel\">' + edge.text + '</span>';\n      } else {\n        edgeData.labelType = 'text';\n        edgeData.label = edge.text.replace(common.lineBreakRegex, '\\n');\n\n        if (typeof edge.style === 'undefined') {\n          edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none';\n        }\n\n        edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:');\n      }\n    }\n    // Add the edge to the graph\n    g.setEdge(edge.id1, edge.id2, edgeData, cnt);\n  });\n};\n\n/**\n * Gets the ID with the same label as in the cache\n *\n * @param {string} label The label to look for\n * @returns {string} The resulting ID\n */\nconst getGraphId = function (label) {\n  const foundEntry = Object.entries(idCache).find((entry) => entry[1].label === label);\n\n  if (foundEntry) {\n    return foundEntry[0];\n  }\n};\n\n/**\n * Merges the value of `conf` with the passed `cnf`\n *\n * @param {object} cnf Config to merge\n */\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n\n  keys.forEach(function (key) {\n    conf[key] = cnf[key];\n  });\n};\n\n/**\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\n *\n * @param {string} text\n * @param {string} id\n */\nexport const draw = function (text, id) {\n  log.info('Drawing class - ', id);\n  classDb.clear();\n  // const parser = classDb.parser;\n  // parser.yy = classDb;\n\n  // Parse the graph definition\n  // try {\n  parser.parse(text);\n  // } catch (err) {\n  // log.debug('Parsing failed');\n  // }\n\n  // Fetch the default direction, use TD if none was found\n  //let dir = 'TD';\n\n  const conf = getConfig().flowchart;\n  const securityLevel = getConfig().securityLevel;\n  log.info('config:', conf);\n  const nodeSpacing = conf.nodeSpacing || 50;\n  const rankSpacing = conf.rankSpacing || 50;\n\n  // Create the input mermaid.graph\n  const g = new graphlib.Graph({\n    multigraph: true,\n    compound: true,\n  })\n    .setGraph({\n      rankdir: classDb.getDirection(),\n      nodesep: nodeSpacing,\n      ranksep: rankSpacing,\n      marginx: 8,\n      marginy: 8,\n    })\n    .setDefaultEdgeLabel(function () {\n      return {};\n    });\n\n  // let subG;\n  // const subGraphs = flowDb.getSubGraphs();\n  // log.info('Subgraphs - ', subGraphs);\n  // for (let i = subGraphs.length - 1; i >= 0; i--) {\n  //   subG = subGraphs[i];\n  //   log.info('Subgraph - ', subG);\n  //   flowDb.addVertex(subG.id, subG.title, 'group', undefined, subG.classes);\n  // }\n\n  // Fetch the verices/nodes and edges/links from the parsed graph definition\n  const classes = classDb.getClasses();\n  const relations = classDb.getRelations();\n\n  log.info(relations);\n  // let i = 0;\n  // for (i = subGraphs.length - 1; i >= 0; i--) {\n  //   subG = subGraphs[i];\n\n  //   selectAll('cluster').append('text');\n\n  //   for (let j = 0; j < subG.nodes.length; j++) {\n  //     g.setParent(subG.nodes[j], subG.id);\n  //   }\n  // }\n  addClasses(classes, g, id);\n  addRelations(relations, g);\n\n  // Add custom shapes\n  // flowChartShapes.addToRenderV2(addShape);\n\n  // Set up an SVG group so that we can translate the final graph.\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const svg = root.select(`[id=\"${id}\"]`);\n  svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n  // Run the renderer. This is what draws the final graph.\n  const element = root.select('#' + id + ' g');\n  render(element, g, ['aggregation', 'extension', 'composition', 'dependency'], 'classDiagram', id);\n\n  // element.selectAll('g.node').attr('title', function() {\n  //   return flowDb.getTooltip(this.id);\n  // });\n\n  const padding = 8;\n  const svgBounds = svg.node().getBBox();\n  const width = svgBounds.width + padding * 2;\n  const height = svgBounds.height + padding * 2;\n  log.debug(\n    `new ViewBox 0 0 ${width} ${height}`,\n    `translate(${padding - g._label.marginx}, ${padding - g._label.marginy})`\n  );\n\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\n\n  svg.attr('viewBox', `0 0 ${width} ${height}`);\n  svg\n    .select('g')\n    .attr('transform', `translate(${padding - g._label.marginx}, ${padding - svgBounds.y})`);\n\n  // Index nodes\n  // flowDb.indexNodes('subGraph' + i);\n\n  // Add label rects for non html labels\n  if (!conf.htmlLabels) {\n    const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n    const labels = doc.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n    for (let k = 0; k < labels.length; k++) {\n      const label = labels[k];\n\n      // Get dimensions of label\n      const dim = label.getBBox();\n\n      const rect = doc.createElementNS('http://www.w3.org/2000/svg', 'rect');\n      rect.setAttribute('rx', 0);\n      rect.setAttribute('ry', 0);\n      rect.setAttribute('width', dim.width);\n      rect.setAttribute('height', dim.height);\n      // rect.setAttribute('style', 'fill:#e8e8e8;');\n\n      label.insertBefore(rect, label.firstChild);\n    }\n  }\n\n  // If node has a link, wrap it in an anchor SVG object.\n  // const keys = Object.keys(classes);\n  // keys.forEach(function(key) {\n  //   const vertex = classes[key];\n\n  //   if (vertex.link) {\n  //     const node = select('#' + id + ' [id=\"' + key + '\"]');\n  //     if (node) {\n  //       const link = document.createElementNS('http://www.w3.org/2000/svg', 'a');\n  //       link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\n  //       link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\n  //       link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\n\n  //       const linkNode = node.insert(function() {\n  //         return link;\n  //       }, ':first-child');\n\n  //       const shape = node.select('.label-container');\n  //       if (shape) {\n  //         linkNode.append(function() {\n  //           return shape.node();\n  //         });\n  //       }\n\n  //       const label = node.select('.label');\n  //       if (label) {\n  //         linkNode.append(function() {\n  //           return label.node();\n  //         });\n  //       }\n  //     }\n  //   }\n  // });\n};\n\n/**\n * Gets the arrow marker for a type index\n *\n * @param {number} type The type to look for\n * @returns {'aggregation' | 'extension' | 'composition' | 'dependency'} The arrow marker\n */\nfunction getArrowMarker(type) {\n  let marker;\n  switch (type) {\n    case 0:\n      marker = 'aggregation';\n      break;\n    case 1:\n      marker = 'extension';\n      break;\n    case 2:\n      marker = 'composition';\n      break;\n    case 3:\n      marker = 'dependency';\n      break;\n    default:\n      marker = 'none';\n  }\n  return marker;\n}\n\nexport default {\n  setConf,\n  draw,\n};\n","import { select } from 'd3';\nimport dagre from 'dagre';\nimport graphlib from 'graphlib';\nimport { log } from '../../logger';\nimport classDb, { lookUpDomId } from './classDb';\nimport { parser } from './parser/classDiagram';\nimport svgDraw from './svgDraw';\nimport { configureSvgSize } from '../../utils';\nimport { getConfig } from '../../config';\n\nparser.yy = classDb;\n\nlet idCache = {};\nconst padding = 20;\n\nconst conf = {\n  dividerMargin: 10,\n  padding: 5,\n  textHeight: 10,\n};\n\n/**\n * Gets the ID with the same label as in the cache\n *\n * @param {string} label The label to look for\n * @returns {string} The resulting ID\n */\nconst getGraphId = function (label) {\n  const foundEntry = Object.entries(idCache).find((entry) => entry[1].label === label);\n\n  if (foundEntry) {\n    return foundEntry[0];\n  }\n};\n\n/**\n * Setup arrow head and define the marker. The result is appended to the svg.\n *\n * @param {SVGSVGElement} elem The SVG element to append to\n */\nconst insertMarkers = function (elem) {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'extensionStart')\n    .attr('class', 'extension')\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 1,7 L18,13 V 1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'extensionEnd')\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 1,1 V 13 L18,7 Z'); // this is actual shape for arrowhead\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'compositionStart')\n    .attr('class', 'extension')\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'compositionEnd')\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'aggregationStart')\n    .attr('class', 'extension')\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'aggregationEnd')\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'dependencyStart')\n    .attr('class', 'extension')\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 5,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'dependencyEnd')\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\n};\n\n/**\n * Merges the value of `conf` with the passed `cnf`\n *\n * @param {object} cnf Config to merge\n */\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n\n  keys.forEach(function (key) {\n    conf[key] = cnf[key];\n  });\n};\n\n/**\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\n *\n * @param {string} text\n * @param {string} id\n */\nexport const draw = function (text, id) {\n  idCache = {};\n  parser.yy.clear();\n  parser.parse(text);\n\n  log.info('Rendering diagram ' + text);\n\n  const securityLevel = getConfig().securityLevel;\n  // Handle root and ocument for when rendering in sanbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  // Fetch the default direction, use TD if none was found\n  const diagram = root.select(`[id='${id}']`);\n  diagram.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n  insertMarkers(diagram);\n\n  // Layout graph, Create a new directed graph\n  const g = new graphlib.Graph({\n    multigraph: true,\n  });\n\n  // Set an object for the graph label\n  g.setGraph({\n    isMultiGraph: true,\n  });\n\n  // Default to assigning a new object as a label for each new edge.\n  g.setDefaultEdgeLabel(function () {\n    return {};\n  });\n\n  const classes = classDb.getClasses();\n  const keys = Object.keys(classes);\n\n  for (let i = 0; i < keys.length; i++) {\n    const classDef = classes[keys[i]];\n    const node = svgDraw.drawClass(diagram, classDef, conf);\n    idCache[node.id] = node;\n\n    // Add nodes to the graph. The first argument is the node id. The second is\n    // metadata about the node. In this case we're going to add labels to each of\n    // our nodes.\n    g.setNode(node.id, node);\n\n    log.info('Org height: ' + node.height);\n  }\n\n  const relations = classDb.getRelations();\n  relations.forEach(function (relation) {\n    log.info(\n      'tjoho' + getGraphId(relation.id1) + getGraphId(relation.id2) + JSON.stringify(relation)\n    );\n    g.setEdge(\n      getGraphId(relation.id1),\n      getGraphId(relation.id2),\n      {\n        relation: relation,\n      },\n      relation.title || 'DEFAULT'\n    );\n  });\n\n  dagre.layout(g);\n  g.nodes().forEach(function (v) {\n    if (typeof v !== 'undefined' && typeof g.node(v) !== 'undefined') {\n      log.debug('Node ' + v + ': ' + JSON.stringify(g.node(v)));\n      root\n        .select('#' + lookUpDomId(v))\n        .attr(\n          'transform',\n          'translate(' +\n            (g.node(v).x - g.node(v).width / 2) +\n            ',' +\n            (g.node(v).y - g.node(v).height / 2) +\n            ' )'\n        );\n    }\n  });\n\n  g.edges().forEach(function (e) {\n    if (typeof e !== 'undefined' && typeof g.edge(e) !== 'undefined') {\n      log.debug('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(g.edge(e)));\n      svgDraw.drawEdge(diagram, g.edge(e), g.edge(e).relation, conf);\n    }\n  });\n\n  const svgBounds = diagram.node().getBBox();\n  const width = svgBounds.width + padding * 2;\n  const height = svgBounds.height + padding * 2;\n\n  configureSvgSize(diagram, height, width, conf.useMaxWidth);\n\n  // Ensure the viewBox includes the whole svgBounds area with extra space for padding\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`;\n  log.debug(`viewBox ${vBox}`);\n  diagram.attr('viewBox', vBox);\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","const getStyles = (options) =>\n  `g.classGroup text {\n  fill: ${options.nodeBorder};\n  fill: ${options.classText};\n  stroke: none;\n  font-family: ${options.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${options.classText};\n}\n.edgeLabel .label rect {\n  fill: ${options.mainBkg};\n}\n.label text {\n  fill: ${options.classText};\n}\n.edgeLabel .label span {\n  background: ${options.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${options.nodeBorder};\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${options.mainBkg};\n  stroke: ${options.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${options.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${options.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${options.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${options.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ${options.lineColor} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ${options.mainBkg} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ${options.mainBkg} !important;\n  stroke: ${options.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n`;\n\nexport default getStyles;\n","import { line, curveBasis } from 'd3';\nimport { lookUpDomId, relationType } from './classDb';\nimport utils from '../../utils';\nimport { log } from '../../logger';\n\nlet edgeCount = 0;\nexport const drawEdge = function (elem, path, relation, conf) {\n  const getRelationType = function (type) {\n    switch (type) {\n      case relationType.AGGREGATION:\n        return 'aggregation';\n      case relationType.EXTENSION:\n        return 'extension';\n      case relationType.COMPOSITION:\n        return 'composition';\n      case relationType.DEPENDENCY:\n        return 'dependency';\n    }\n  };\n\n  path.points = path.points.filter((p) => !Number.isNaN(p.y));\n\n  // The data for our line\n  const lineData = path.points;\n\n  // This is the accessor function we talked about above\n  const lineFunction = line()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    })\n    .curve(curveBasis);\n\n  const svgPath = elem\n    .append('path')\n    .attr('d', lineFunction(lineData))\n    .attr('id', 'edge' + edgeCount)\n    .attr('class', 'relation');\n  let url = '';\n  if (conf.arrowMarkerAbsolute) {\n    url =\n      window.location.protocol +\n      '//' +\n      window.location.host +\n      window.location.pathname +\n      window.location.search;\n    url = url.replace(/\\(/g, '\\\\(');\n    url = url.replace(/\\)/g, '\\\\)');\n  }\n\n  if (relation.relation.lineType == 1) {\n    svgPath.attr('class', 'relation dashed-line');\n  }\n  if (relation.relation.type1 !== 'none') {\n    svgPath.attr(\n      'marker-start',\n      'url(' + url + '#' + getRelationType(relation.relation.type1) + 'Start' + ')'\n    );\n  }\n  if (relation.relation.type2 !== 'none') {\n    svgPath.attr(\n      'marker-end',\n      'url(' + url + '#' + getRelationType(relation.relation.type2) + 'End' + ')'\n    );\n  }\n\n  let x, y;\n  const l = path.points.length;\n  // Calculate Label position\n  let labelPosition = utils.calcLabelPosition(path.points);\n  x = labelPosition.x;\n  y = labelPosition.y;\n\n  let p1_card_x, p1_card_y;\n  let p2_card_x, p2_card_y;\n\n  if (l % 2 !== 0 && l > 1) {\n    let cardinality_1_point = utils.calcCardinalityPosition(\n      relation.relation.type1 !== 'none',\n      path.points,\n      path.points[0]\n    );\n    let cardinality_2_point = utils.calcCardinalityPosition(\n      relation.relation.type2 !== 'none',\n      path.points,\n      path.points[l - 1]\n    );\n\n    log.debug('cardinality_1_point ' + JSON.stringify(cardinality_1_point));\n    log.debug('cardinality_2_point ' + JSON.stringify(cardinality_2_point));\n\n    p1_card_x = cardinality_1_point.x;\n    p1_card_y = cardinality_1_point.y;\n    p2_card_x = cardinality_2_point.x;\n    p2_card_y = cardinality_2_point.y;\n  }\n\n  if (typeof relation.title !== 'undefined') {\n    const g = elem.append('g').attr('class', 'classLabel');\n    const label = g\n      .append('text')\n      .attr('class', 'label')\n      .attr('x', x)\n      .attr('y', y)\n      .attr('fill', 'red')\n      .attr('text-anchor', 'middle')\n      .text(relation.title);\n\n    window.label = label;\n    const bounds = label.node().getBBox();\n\n    g.insert('rect', ':first-child')\n      .attr('class', 'box')\n      .attr('x', bounds.x - conf.padding / 2)\n      .attr('y', bounds.y - conf.padding / 2)\n      .attr('width', bounds.width + conf.padding)\n      .attr('height', bounds.height + conf.padding);\n  }\n\n  log.info('Rendering relation ' + JSON.stringify(relation));\n  if (typeof relation.relationTitle1 !== 'undefined' && relation.relationTitle1 !== 'none') {\n    const g = elem.append('g').attr('class', 'cardinality');\n    g.append('text')\n      .attr('class', 'type1')\n      .attr('x', p1_card_x)\n      .attr('y', p1_card_y)\n      .attr('fill', 'black')\n      .attr('font-size', '6')\n      .text(relation.relationTitle1);\n  }\n  if (typeof relation.relationTitle2 !== 'undefined' && relation.relationTitle2 !== 'none') {\n    const g = elem.append('g').attr('class', 'cardinality');\n    g.append('text')\n      .attr('class', 'type2')\n      .attr('x', p2_card_x)\n      .attr('y', p2_card_y)\n      .attr('fill', 'black')\n      .attr('font-size', '6')\n      .text(relation.relationTitle2);\n  }\n\n  edgeCount++;\n};\n\n/**\n * Renders a class diagram\n *\n * @param {SVGSVGElement} elem The element to draw it into\n * @param classDef\n * @param conf\n * @todo Add more information in the JSDOC here\n */\nexport const drawClass = function (elem, classDef, conf) {\n  log.info('Rendering class ' + classDef);\n\n  const id = classDef.id;\n  const classInfo = {\n    id: id,\n    label: classDef.id,\n    width: 0,\n    height: 0,\n  };\n\n  // add class group\n  const g = elem.append('g').attr('id', lookUpDomId(id)).attr('class', 'classGroup');\n\n  // add title\n  let title;\n  if (classDef.link) {\n    title = g\n      .append('svg:a')\n      .attr('xlink:href', classDef.link)\n      .attr('target', classDef.linkTarget)\n      .append('text')\n      .attr('y', conf.textHeight + conf.padding)\n      .attr('x', 0);\n  } else {\n    title = g\n      .append('text')\n      .attr('y', conf.textHeight + conf.padding)\n      .attr('x', 0);\n  }\n\n  // add annotations\n  let isFirst = true;\n  classDef.annotations.forEach(function (member) {\n    const titleText2 = title.append('tspan').text('' + member + '');\n    if (!isFirst) titleText2.attr('dy', conf.textHeight);\n    isFirst = false;\n  });\n\n  let classTitleString = classDef.id;\n\n  if (classDef.type !== undefined && classDef.type !== '') {\n    classTitleString += '<' + classDef.type + '>';\n  }\n\n  const classTitle = title.append('tspan').text(classTitleString).attr('class', 'title');\n\n  // If class has annotations the title needs to have an offset of the text height\n  if (!isFirst) classTitle.attr('dy', conf.textHeight);\n\n  const titleHeight = title.node().getBBox().height;\n\n  const membersLine = g\n    .append('line') // text label for the x axis\n    .attr('x1', 0)\n    .attr('y1', conf.padding + titleHeight + conf.dividerMargin / 2)\n    .attr('y2', conf.padding + titleHeight + conf.dividerMargin / 2);\n\n  const members = g\n    .append('text') // text label for the x axis\n    .attr('x', conf.padding)\n    .attr('y', titleHeight + conf.dividerMargin + conf.textHeight)\n    .attr('fill', 'white')\n    .attr('class', 'classText');\n\n  isFirst = true;\n  classDef.members.forEach(function (member) {\n    addTspan(members, member, isFirst, conf);\n    isFirst = false;\n  });\n\n  const membersBox = members.node().getBBox();\n\n  const methodsLine = g\n    .append('line') // text label for the x axis\n    .attr('x1', 0)\n    .attr('y1', conf.padding + titleHeight + conf.dividerMargin + membersBox.height)\n    .attr('y2', conf.padding + titleHeight + conf.dividerMargin + membersBox.height);\n\n  const methods = g\n    .append('text') // text label for the x axis\n    .attr('x', conf.padding)\n    .attr('y', titleHeight + 2 * conf.dividerMargin + membersBox.height + conf.textHeight)\n    .attr('fill', 'white')\n    .attr('class', 'classText');\n\n  isFirst = true;\n\n  classDef.methods.forEach(function (method) {\n    addTspan(methods, method, isFirst, conf);\n    isFirst = false;\n  });\n\n  const classBox = g.node().getBBox();\n  var cssClassStr = ' ';\n\n  if (classDef.cssClasses.length > 0) {\n    cssClassStr = cssClassStr + classDef.cssClasses.join(' ');\n  }\n\n  const rect = g\n    .insert('rect', ':first-child')\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr('width', classBox.width + 2 * conf.padding)\n    .attr('height', classBox.height + conf.padding + 0.5 * conf.dividerMargin)\n    .attr('class', cssClassStr);\n\n  const rectWidth = rect.node().getBBox().width;\n\n  // Center title\n  // We subtract the width of each text element from the class box width and divide it by 2\n  title.node().childNodes.forEach(function (x) {\n    x.setAttribute('x', (rectWidth - x.getBBox().width) / 2);\n  });\n\n  if (classDef.tooltip) {\n    title.insert('title').text(classDef.tooltip);\n  }\n\n  membersLine.attr('x2', rectWidth);\n  methodsLine.attr('x2', rectWidth);\n\n  classInfo.width = rectWidth;\n  classInfo.height = classBox.height + conf.padding + 0.5 * conf.dividerMargin;\n\n  return classInfo;\n};\n\nexport const parseMember = function (text) {\n  const fieldRegEx = /^(\\+|-|~|#)?(\\w+)(~\\w+~|\\[\\])?\\s+(\\w+) *(\\*|\\$)?$/;\n  const methodRegEx = /^([+|\\-|~|#])?(\\w+) *\\( *(.*)\\) *(\\*|\\$)? *(\\w*[~|[\\]]*\\s*\\w*~?)$/;\n\n  let fieldMatch = text.match(fieldRegEx);\n  let methodMatch = text.match(methodRegEx);\n\n  if (fieldMatch && !methodMatch) {\n    return buildFieldDisplay(fieldMatch);\n  } else if (methodMatch) {\n    return buildMethodDisplay(methodMatch);\n  } else {\n    return buildLegacyDisplay(text);\n  }\n};\n\nconst buildFieldDisplay = function (parsedText) {\n  let cssStyle = '';\n  let displayText = '';\n\n  try {\n    let visibility = parsedText[1] ? parsedText[1].trim() : '';\n    let fieldType = parsedText[2] ? parsedText[2].trim() : '';\n    let genericType = parsedText[3] ? parseGenericTypes(parsedText[3].trim()) : '';\n    let fieldName = parsedText[4] ? parsedText[4].trim() : '';\n    let classifier = parsedText[5] ? parsedText[5].trim() : '';\n\n    displayText = visibility + fieldType + genericType + ' ' + fieldName;\n    cssStyle = parseClassifier(classifier);\n  } catch (err) {\n    displayText = parsedText;\n  }\n\n  return {\n    displayText: displayText,\n    cssStyle: cssStyle,\n  };\n};\n\nconst buildMethodDisplay = function (parsedText) {\n  let cssStyle = '';\n  let displayText = '';\n\n  try {\n    let visibility = parsedText[1] ? parsedText[1].trim() : '';\n    let methodName = parsedText[2] ? parsedText[2].trim() : '';\n    let parameters = parsedText[3] ? parseGenericTypes(parsedText[3].trim()) : '';\n    let classifier = parsedText[4] ? parsedText[4].trim() : '';\n    let returnType = parsedText[5] ? ' : ' + parseGenericTypes(parsedText[5]).trim() : '';\n\n    displayText = visibility + methodName + '(' + parameters + ')' + returnType;\n    cssStyle = parseClassifier(classifier);\n  } catch (err) {\n    displayText = parsedText;\n  }\n\n  return {\n    displayText: displayText,\n    cssStyle: cssStyle,\n  };\n};\n\nconst buildLegacyDisplay = function (text) {\n  // if for some reason we dont have any match, use old format to parse text\n  let displayText = '';\n  let cssStyle = '';\n  let memberText = '';\n  let returnType = '';\n  let methodStart = text.indexOf('(');\n  let methodEnd = text.indexOf(')');\n\n  if (methodStart > 1 && methodEnd > methodStart && methodEnd <= text.length) {\n    let visibility = '';\n    let methodName = '';\n\n    let firstChar = text.substring(0, 1);\n    if (firstChar.match(/\\w/)) {\n      methodName = text.substring(0, methodStart).trim();\n    } else {\n      if (firstChar.match(/\\+|-|~|#/)) {\n        visibility = firstChar;\n      }\n\n      methodName = text.substring(1, methodStart).trim();\n    }\n\n    let parameters = text.substring(methodStart + 1, methodEnd);\n    let classifier = text.substring(methodEnd + 1, 1);\n    cssStyle = parseClassifier(classifier);\n\n    displayText = visibility + methodName + '(' + parseGenericTypes(parameters.trim()) + ')';\n\n    if (methodEnd < memberText.length) {\n      returnType = text.substring(methodEnd + 2).trim();\n      if (returnType !== '') {\n        returnType = ' : ' + parseGenericTypes(returnType);\n      }\n    }\n  } else {\n    // finally - if all else fails, just send the text back as written (other than parsing for generic types)\n    displayText = parseGenericTypes(text);\n  }\n\n  return {\n    displayText: displayText,\n    cssStyle: cssStyle,\n  };\n};\n\n/**\n * Adds a <tspan> for a member in a diagram\n *\n * @param {SVGElement} textEl The element to append to\n * @param {string} txt The member\n * @param {boolean} isFirst\n * @param {{ padding: string; textHeight: string }} conf The configuration for the member\n */\nconst addTspan = function (textEl, txt, isFirst, conf) {\n  let member = parseMember(txt);\n\n  const tSpan = textEl.append('tspan').attr('x', conf.padding).text(member.displayText);\n\n  if (member.cssStyle !== '') {\n    tSpan.attr('style', member.cssStyle);\n  }\n\n  if (!isFirst) {\n    tSpan.attr('dy', conf.textHeight);\n  }\n};\n\n/**\n * Makes generics in typescript syntax\n *\n * @example <caption>Array of array of strings in typescript syntax</caption>\n *   // returns \"Array<Array<string>>\"\n *   parseGenericTypes('Array~Array~string~~');\n *\n * @param {string} text The text to convert\n * @returns {string} The converted string\n */\nconst parseGenericTypes = function (text) {\n  let cleanedText = text;\n\n  if (text.indexOf('~') != -1) {\n    cleanedText = cleanedText.replace('~', '<');\n    cleanedText = cleanedText.replace('~', '>');\n\n    return parseGenericTypes(cleanedText);\n  } else {\n    return cleanedText;\n  }\n};\n\n/**\n * Gives the styles for a classifier\n *\n * @param {'+' | '-' | '#' | '~' | '*' | '$'} classifier The classifier string\n * @returns {string} Styling for the classifier\n */\nconst parseClassifier = function (classifier) {\n  switch (classifier) {\n    case '*':\n      return 'font-style:italic;';\n    case '$':\n      return 'text-decoration:underline;';\n    default:\n      return '';\n  }\n};\n\nexport default {\n  drawClass,\n  drawEdge,\n  parseMember,\n};\n","import DOMPurify from 'dompurify';\n\n/**\n * Gets the number of lines in a string\n *\n * @param {string | undefined} s The string to check the lines for\n * @returns {number} The number of lines in that string\n */\nexport const getRows = (s) => {\n  if (!s) return 1;\n  let str = breakToPlaceholder(s);\n  str = str.replace(/\\\\n/g, '#br#');\n  return str.split('#br#');\n};\n\nexport const removeEscapes = (text) => {\n  let newStr = text.replace(/\\\\u[\\dA-F]{4}/gi, function (match) {\n    return String.fromCharCode(parseInt(match.replace(/\\\\u/g, ''), 16));\n  });\n\n  newStr = newStr.replace(/\\\\x([0-9a-f]{2})/gi, (_, c) => String.fromCharCode(parseInt(c, 16)));\n  newStr = newStr.replace(/\\\\[\\d\\d\\d]{3}/gi, function (match) {\n    return String.fromCharCode(parseInt(match.replace(/\\\\/g, ''), 8));\n  });\n  newStr = newStr.replace(/\\\\[\\d\\d\\d]{2}/gi, function (match) {\n    return String.fromCharCode(parseInt(match.replace(/\\\\/g, ''), 8));\n  });\n\n  return newStr;\n};\n\n/**\n * Removes script tags from a text\n *\n * @param {string} txt The text to sanitize\n * @returns {string} The safer text\n */\nexport const removeScript = (txt) => {\n  var rs = '';\n  var idx = 0;\n\n  while (idx >= 0) {\n    idx = txt.indexOf('<script');\n    if (idx >= 0) {\n      rs += txt.substr(0, idx);\n      txt = txt.substr(idx + 1);\n\n      idx = txt.indexOf('</script>');\n      if (idx >= 0) {\n        idx += 9;\n        txt = txt.substr(idx);\n      }\n    } else {\n      rs += txt;\n      idx = -1;\n      break;\n    }\n  }\n  let decodedText = removeEscapes(rs);\n  decodedText = decodedText.replace(/script>/gi, '#');\n  decodedText = decodedText.replace(/javascript:/gi, '#');\n  decodedText = decodedText.replace(/onerror=/gi, 'onerror:');\n  decodedText = decodedText.replace(/<iframe/gi, '');\n  return decodedText;\n};\n\nconst sanitizeMore = (text, config) => {\n  let txt = text;\n  let htmlLabels = true;\n  if (\n    config.flowchart &&\n    (config.flowchart.htmlLabels === false || config.flowchart.htmlLabels === 'false')\n  ) {\n    htmlLabels = false;\n  }\n\n  if (htmlLabels) {\n    const level = config.securityLevel;\n\n    if (level === 'antiscript' || level === 'strict') {\n      txt = removeScript(txt);\n    } else if (level !== 'loose') {\n      // eslint-disable-line\n      txt = breakToPlaceholder(txt);\n      txt = txt.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n      txt = txt.replace(/=/g, '&equals;');\n      txt = placeholderToBreak(txt);\n    }\n  }\n\n  return txt;\n};\n\nexport const sanitizeText = (text, config) => {\n  if (!text) return text;\n  const txt = DOMPurify.sanitize(sanitizeMore(text, config));\n  return txt;\n};\n\nexport const sanitizeTextOrArray = (a, config) => {\n  if (typeof a === 'string') return sanitizeText(a, config);\n\n  const f = (x) => sanitizeText(x, config);\n  return a.flat().map(f);\n};\n\nexport const lineBreakRegex = /<br\\s*\\/?>/gi;\n\n/**\n * Whether or not a text has any linebreaks\n *\n * @param {string} text The text to test\n * @returns {boolean} Whether or not the text has breaks\n */\nexport const hasBreaks = (text) => {\n  return lineBreakRegex.test(text);\n};\n\n/**\n * Splits on <br> tags\n *\n * @param {string} text Text to split\n * @returns {string[]} List of lines as strings\n */\nexport const splitBreaks = (text) => {\n  return text.split(lineBreakRegex);\n};\n\n/**\n * Converts placeholders to linebreaks in HTML\n *\n * @param {string} s HTML with placeholders\n * @returns {string} HTML with breaks instead of placeholders\n */\nconst placeholderToBreak = (s) => {\n  return s.replace(/#br#/g, '<br/>');\n};\n\n/**\n * Opposite of `placeholderToBreak`, converts breaks to placeholders\n *\n * @param {string} s HTML string\n * @returns {string} String with placeholders\n */\nconst breakToPlaceholder = (s) => {\n  return s.replace(lineBreakRegex, '#br#');\n};\n\n/**\n * Gets the current URL\n *\n * @param {boolean} useAbsolute Whether to return the absolute URL or not\n * @returns {string} The current URL\n */\nconst getUrl = (useAbsolute) => {\n  let url = '';\n  if (useAbsolute) {\n    url =\n      window.location.protocol +\n      '//' +\n      window.location.host +\n      window.location.pathname +\n      window.location.search;\n    url = url.replace(/\\(/g, '\\\\(');\n    url = url.replace(/\\)/g, '\\\\)');\n  }\n\n  return url;\n};\n\n/**\n * Converts a string/boolean into a boolean\n *\n * @param {string | boolean} val String or boolean to convert\n * @returns {boolean} The result from the input\n */\nexport const evaluate = (val) => (val === 'false' || val === false ? false : true);\n\nexport default {\n  getRows,\n  sanitizeText,\n  sanitizeTextOrArray,\n  hasBreaks,\n  splitBreaks,\n  lineBreakRegex,\n  removeScript,\n  getUrl,\n  evaluate,\n  removeEscapes,\n};\n","import { log } from '../../logger';\nimport mermaidAPI from '../../mermaidAPI';\nimport * as configApi from '../../config';\n\nlet entities = {};\nlet relationships = [];\nlet title = '';\n\nconst Cardinality = {\n  ZERO_OR_ONE: 'ZERO_OR_ONE',\n  ZERO_OR_MORE: 'ZERO_OR_MORE',\n  ONE_OR_MORE: 'ONE_OR_MORE',\n  ONLY_ONE: 'ONLY_ONE',\n};\n\nconst Identification = {\n  NON_IDENTIFYING: 'NON_IDENTIFYING',\n  IDENTIFYING: 'IDENTIFYING',\n};\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nconst addEntity = function (name) {\n  if (typeof entities[name] === 'undefined') {\n    entities[name] = { attributes: [] };\n    log.info('Added new entity :', name);\n  }\n\n  return entities[name];\n};\n\nconst getEntities = () => entities;\n\nconst addAttributes = function (entityName, attribs) {\n  let entity = addEntity(entityName); // May do nothing (if entity has already been added)\n\n  // Process attribs in reverse order due to effect of recursive construction (last attribute is first)\n  let i;\n  for (i = attribs.length - 1; i >= 0; i--) {\n    entity.attributes.push(attribs[i]);\n    log.debug('Added attribute ', attribs[i].attributeName);\n  }\n};\n\n/**\n * Add a relationship\n *\n * @param entA The first entity in the relationship\n * @param rolA The role played by the first entity in relation to the second\n * @param entB The second entity in the relationship\n * @param rSpec The details of the relationship between the two entities\n */\nconst addRelationship = function (entA, rolA, entB, rSpec) {\n  let rel = {\n    entityA: entA,\n    roleA: rolA,\n    entityB: entB,\n    relSpec: rSpec,\n  };\n\n  relationships.push(rel);\n  log.debug('Added new relationship :', rel);\n};\n\nconst getRelationships = () => relationships;\n\n// Keep this - TODO: revisit...allow the diagram to have a title\nconst setTitle = function (txt) {\n  title = txt;\n};\n\nconst getTitle = function () {\n  return title;\n};\n\nconst clear = function () {\n  entities = {};\n  relationships = [];\n  title = '';\n};\n\nexport default {\n  Cardinality,\n  Identification,\n  parseDirective,\n  getConfig: () => configApi.getConfig().er,\n  addEntity,\n  addAttributes,\n  getEntities,\n  addRelationship,\n  getRelationships,\n  clear,\n  setTitle,\n  getTitle,\n};\n","const ERMarkers = {\n  ONLY_ONE_START: 'ONLY_ONE_START',\n  ONLY_ONE_END: 'ONLY_ONE_END',\n  ZERO_OR_ONE_START: 'ZERO_OR_ONE_START',\n  ZERO_OR_ONE_END: 'ZERO_OR_ONE_END',\n  ONE_OR_MORE_START: 'ONE_OR_MORE_START',\n  ONE_OR_MORE_END: 'ONE_OR_MORE_END',\n  ZERO_OR_MORE_START: 'ZERO_OR_MORE_START',\n  ZERO_OR_MORE_END: 'ZERO_OR_MORE_END',\n};\n\n/**\n * Put the markers into the svg DOM for later use with edge paths\n *\n * @param elem\n * @param conf\n */\nconst insertMarkers = function (elem, conf) {\n  let marker;\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', ERMarkers.ONLY_ONE_START)\n    .attr('refX', 0)\n    .attr('refY', 9)\n    .attr('markerWidth', 18)\n    .attr('markerHeight', 18)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'none')\n    .attr('d', 'M9,0 L9,18 M15,0 L15,18');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', ERMarkers.ONLY_ONE_END)\n    .attr('refX', 18)\n    .attr('refY', 9)\n    .attr('markerWidth', 18)\n    .attr('markerHeight', 18)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'none')\n    .attr('d', 'M3,0 L3,18 M9,0 L9,18');\n\n  marker = elem\n    .append('defs')\n    .append('marker')\n    .attr('id', ERMarkers.ZERO_OR_ONE_START)\n    .attr('refX', 0)\n    .attr('refY', 9)\n    .attr('markerWidth', 30)\n    .attr('markerHeight', 18)\n    .attr('orient', 'auto');\n  marker\n    .append('circle')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'white')\n    .attr('cx', 21)\n    .attr('cy', 9)\n    .attr('r', 6);\n  marker.append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M9,0 L9,18');\n\n  marker = elem\n    .append('defs')\n    .append('marker')\n    .attr('id', ERMarkers.ZERO_OR_ONE_END)\n    .attr('refX', 30)\n    .attr('refY', 9)\n    .attr('markerWidth', 30)\n    .attr('markerHeight', 18)\n    .attr('orient', 'auto');\n  marker\n    .append('circle')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'white')\n    .attr('cx', 9)\n    .attr('cy', 9)\n    .attr('r', 6);\n  marker.append('path').attr('stroke', conf.stroke).attr('fill', 'none').attr('d', 'M21,0 L21,18');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', ERMarkers.ONE_OR_MORE_START)\n    .attr('refX', 18)\n    .attr('refY', 18)\n    .attr('markerWidth', 45)\n    .attr('markerHeight', 36)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'none')\n    .attr('d', 'M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', ERMarkers.ONE_OR_MORE_END)\n    .attr('refX', 27)\n    .attr('refY', 18)\n    .attr('markerWidth', 45)\n    .attr('markerHeight', 36)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'none')\n    .attr('d', 'M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18');\n\n  marker = elem\n    .append('defs')\n    .append('marker')\n    .attr('id', ERMarkers.ZERO_OR_MORE_START)\n    .attr('refX', 18)\n    .attr('refY', 18)\n    .attr('markerWidth', 57)\n    .attr('markerHeight', 36)\n    .attr('orient', 'auto');\n  marker\n    .append('circle')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'white')\n    .attr('cx', 48)\n    .attr('cy', 18)\n    .attr('r', 6);\n  marker\n    .append('path')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'none')\n    .attr('d', 'M0,18 Q18,0 36,18 Q18,36 0,18');\n\n  marker = elem\n    .append('defs')\n    .append('marker')\n    .attr('id', ERMarkers.ZERO_OR_MORE_END)\n    .attr('refX', 39)\n    .attr('refY', 18)\n    .attr('markerWidth', 57)\n    .attr('markerHeight', 36)\n    .attr('orient', 'auto');\n  marker\n    .append('circle')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'white')\n    .attr('cx', 9)\n    .attr('cy', 18)\n    .attr('r', 6);\n  marker\n    .append('path')\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'none')\n    .attr('d', 'M21,18 Q39,0 57,18 Q39,36 21,18');\n\n  return;\n};\n\nexport default {\n  ERMarkers,\n  insertMarkers,\n};\n","import graphlib from 'graphlib';\nimport { line, curveBasis, select } from 'd3';\nimport erDb from './erDb';\nimport erParser from './parser/erDiagram';\nimport dagre from 'dagre';\nimport { getConfig } from '../../config';\nimport { log } from '../../logger';\nimport erMarkers from './erMarkers';\nimport { configureSvgSize } from '../../utils';\n\nconst conf = {};\n\n/**\n * Allows the top-level API module to inject config specific to this renderer, storing it in the\n * local conf object. Note that generic config still needs to be retrieved using getConfig()\n * imported from the config module\n *\n * @param cnf\n */\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n  for (let i = 0; i < keys.length; i++) {\n    conf[keys[i]] = cnf[keys[i]];\n  }\n};\n\n/**\n * Draw attributes for an entity\n *\n * @param groupNode The svg group node for the entity\n * @param entityTextNode The svg node for the entity label text\n * @param attributes An array of attributes defined for the entity (each attribute has a type and a name)\n * @returns The bounding box of the entity, after attributes have been added\n */\nconst drawAttributes = (groupNode, entityTextNode, attributes) => {\n  const heightPadding = conf.entityPadding / 3; // Padding internal to attribute boxes\n  const widthPadding = conf.entityPadding / 3; // Ditto\n  const attrFontSize = conf.fontSize * 0.85;\n  const labelBBox = entityTextNode.node().getBBox();\n  const attributeNodes = []; // Intermediate storage for attribute nodes created so that we can do a second pass\n  let hasKeyType = false;\n  let hasComment = false;\n  let maxTypeWidth = 0;\n  let maxNameWidth = 0;\n  let maxKeyWidth = 0;\n  let maxCommentWidth = 0;\n  let cumulativeHeight = labelBBox.height + heightPadding * 2;\n  let attrNum = 1;\n\n  // Check to see if any of the attributes has a key or a comment\n  attributes.forEach((item) => {\n    if (item.attributeKeyType !== undefined) {\n      hasKeyType = true;\n    }\n\n    if (item.attributeComment !== undefined) {\n      hasComment = true;\n    }\n  });\n\n  attributes.forEach((item) => {\n    const attrPrefix = `${entityTextNode.node().id}-attr-${attrNum}`;\n    let nodeHeight = 0;\n\n    // Add a text node for the attribute type\n    const typeNode = groupNode\n      .append('text')\n      .attr('class', 'er entityLabel')\n      .attr('id', `${attrPrefix}-type`)\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('dominant-baseline', 'middle')\n      .attr('text-anchor', 'left')\n      .attr(\n        'style',\n        'font-family: ' + getConfig().fontFamily + '; font-size: ' + attrFontSize + 'px'\n      )\n      .text(item.attributeType);\n\n    // Add a text node for the attribute name\n    const nameNode = groupNode\n      .append('text')\n      .attr('class', 'er entityLabel')\n      .attr('id', `${attrPrefix}-name`)\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('dominant-baseline', 'middle')\n      .attr('text-anchor', 'left')\n      .attr(\n        'style',\n        'font-family: ' + getConfig().fontFamily + '; font-size: ' + attrFontSize + 'px'\n      )\n      .text(item.attributeName);\n\n    const attributeNode = {};\n    attributeNode.tn = typeNode;\n    attributeNode.nn = nameNode;\n\n    const typeBBox = typeNode.node().getBBox();\n    const nameBBox = nameNode.node().getBBox();\n    maxTypeWidth = Math.max(maxTypeWidth, typeBBox.width);\n    maxNameWidth = Math.max(maxNameWidth, nameBBox.width);\n\n    nodeHeight = Math.max(typeBBox.height, nameBBox.height);\n\n    if (hasKeyType) {\n      const keyTypeNode = groupNode\n        .append('text')\n        .attr('class', 'er entityLabel')\n        .attr('id', `${attrPrefix}-key`)\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('dominant-baseline', 'middle')\n        .attr('text-anchor', 'left')\n        .attr(\n          'style',\n          'font-family: ' + getConfig().fontFamily + '; font-size: ' + attrFontSize + 'px'\n        )\n        .text(item.attributeKeyType || '');\n\n      attributeNode.kn = keyTypeNode;\n      const keyTypeBBox = keyTypeNode.node().getBBox();\n      maxKeyWidth = Math.max(maxKeyWidth, keyTypeBBox.width);\n      nodeHeight = Math.max(nodeHeight, keyTypeBBox.height);\n    }\n\n    if (hasComment) {\n      const commentNode = groupNode\n        .append('text')\n        .attr('class', 'er entityLabel')\n        .attr('id', `${attrPrefix}-comment`)\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('dominant-baseline', 'middle')\n        .attr('text-anchor', 'left')\n        .attr(\n          'style',\n          'font-family: ' + getConfig().fontFamily + '; font-size: ' + attrFontSize + 'px'\n        )\n        .text(item.attributeComment || '');\n\n      attributeNode.cn = commentNode;\n      const commentNodeBBox = commentNode.node().getBBox();\n      maxCommentWidth = Math.max(maxCommentWidth, commentNodeBBox.width);\n      nodeHeight = Math.max(nodeHeight, commentNodeBBox.height);\n    }\n\n    attributeNode.height = nodeHeight;\n    // Keep a reference to the nodes so that we can iterate through them later\n    attributeNodes.push(attributeNode);\n    cumulativeHeight += nodeHeight + heightPadding * 2;\n    attrNum += 1;\n  });\n\n  let widthPaddingFactor = 4;\n  if (hasKeyType) {\n    widthPaddingFactor += 2;\n  }\n  if (hasComment) {\n    widthPaddingFactor += 2;\n  }\n\n  const maxWidth = maxTypeWidth + maxNameWidth + maxKeyWidth + maxCommentWidth;\n\n  // Calculate the new bounding box of the overall entity, now that attributes have been added\n  const bBox = {\n    width: Math.max(\n      conf.minEntityWidth,\n      Math.max(\n        labelBBox.width + conf.entityPadding * 2,\n        maxWidth + widthPadding * widthPaddingFactor\n      )\n    ),\n    height:\n      attributes.length > 0\n        ? cumulativeHeight\n        : Math.max(conf.minEntityHeight, labelBBox.height + conf.entityPadding * 2),\n  };\n\n  if (attributes.length > 0) {\n    // There might be some spare width for padding out attributes if the entity name is very long\n    const spareColumnWidth = Math.max(\n      0,\n      (bBox.width - maxWidth - widthPadding * widthPaddingFactor) / (widthPaddingFactor / 2)\n    );\n\n    // Position the entity label near the top of the entity bounding box\n    entityTextNode.attr(\n      'transform',\n      'translate(' + bBox.width / 2 + ',' + (heightPadding + labelBBox.height / 2) + ')'\n    );\n\n    // Add rectangular boxes for the attribute types/names\n    let heightOffset = labelBBox.height + heightPadding * 2; // Start at the bottom of the entity label\n    let attribStyle = 'attributeBoxOdd'; // We will flip the style on alternate rows to achieve a banded effect\n\n    attributeNodes.forEach((attributeNode) => {\n      // Calculate the alignment y co-ordinate for the type/name of the attribute\n      const alignY = heightOffset + heightPadding + attributeNode.height / 2;\n\n      // Position the type attribute\n      attributeNode.tn.attr('transform', 'translate(' + widthPadding + ',' + alignY + ')');\n\n      // TODO Handle spareWidth in attr('width')\n      // Insert a rectangle for the type\n      const typeRect = groupNode\n        .insert('rect', '#' + attributeNode.tn.node().id)\n        .attr('class', `er ${attribStyle}`)\n        .attr('fill', conf.fill)\n        .attr('fill-opacity', '100%')\n        .attr('stroke', conf.stroke)\n        .attr('x', 0)\n        .attr('y', heightOffset)\n        .attr('width', maxTypeWidth + widthPadding * 2 + spareColumnWidth)\n        .attr('height', attributeNode.height + heightPadding * 2);\n\n      const nameXOffset = parseFloat(typeRect.attr('x')) + parseFloat(typeRect.attr('width'));\n\n      // Position the name attribute\n      attributeNode.nn.attr(\n        'transform',\n        'translate(' + (nameXOffset + widthPadding) + ',' + alignY + ')'\n      );\n\n      // Insert a rectangle for the name\n      const nameRect = groupNode\n        .insert('rect', '#' + attributeNode.nn.node().id)\n        .attr('class', `er ${attribStyle}`)\n        .attr('fill', conf.fill)\n        .attr('fill-opacity', '100%')\n        .attr('stroke', conf.stroke)\n        .attr('x', nameXOffset)\n        .attr('y', heightOffset)\n        .attr('width', maxNameWidth + widthPadding * 2 + spareColumnWidth)\n        .attr('height', attributeNode.height + heightPadding * 2);\n\n      let keyTypeAndCommentXOffset =\n        parseFloat(nameRect.attr('x')) + parseFloat(nameRect.attr('width'));\n\n      if (hasKeyType) {\n        // Position the key type attribute\n        attributeNode.kn.attr(\n          'transform',\n          'translate(' + (keyTypeAndCommentXOffset + widthPadding) + ',' + alignY + ')'\n        );\n\n        // Insert a rectangle for the key type\n        const keyTypeRect = groupNode\n          .insert('rect', '#' + attributeNode.kn.node().id)\n          .attr('class', `er ${attribStyle}`)\n          .attr('fill', conf.fill)\n          .attr('fill-opacity', '100%')\n          .attr('stroke', conf.stroke)\n          .attr('x', keyTypeAndCommentXOffset)\n          .attr('y', heightOffset)\n          .attr('width', maxKeyWidth + widthPadding * 2 + spareColumnWidth)\n          .attr('height', attributeNode.height + heightPadding * 2);\n\n        keyTypeAndCommentXOffset =\n          parseFloat(keyTypeRect.attr('x')) + parseFloat(keyTypeRect.attr('width'));\n      }\n\n      if (hasComment) {\n        // Position the comment attribute\n        attributeNode.cn.attr(\n          'transform',\n          'translate(' + (keyTypeAndCommentXOffset + widthPadding) + ',' + alignY + ')'\n        );\n\n        // Insert a rectangle for the comment\n        groupNode\n          .insert('rect', '#' + attributeNode.cn.node().id)\n          .attr('class', `er ${attribStyle}`)\n          .attr('fill', conf.fill)\n          .attr('fill-opacity', '100%')\n          .attr('stroke', conf.stroke)\n          .attr('x', keyTypeAndCommentXOffset)\n          .attr('y', heightOffset)\n          .attr('width', maxCommentWidth + widthPadding * 2 + spareColumnWidth)\n          .attr('height', attributeNode.height + heightPadding * 2);\n      }\n\n      // Increment the height offset to move to the next row\n      heightOffset += attributeNode.height + heightPadding * 2;\n\n      // Flip the attribute style for row banding\n      attribStyle = attribStyle == 'attributeBoxOdd' ? 'attributeBoxEven' : 'attributeBoxOdd';\n    });\n  } else {\n    // Ensure the entity box is a decent size without any attributes\n    bBox.height = Math.max(conf.minEntityHeight, cumulativeHeight);\n\n    // Position the entity label in the middle of the box\n    entityTextNode.attr('transform', 'translate(' + bBox.width / 2 + ',' + bBox.height / 2 + ')');\n  }\n\n  return bBox;\n};\n\n/**\n * Use D3 to construct the svg elements for the entities\n *\n * @param svgNode The svg node that contains the diagram\n * @param entities The entities to be drawn\n * @param graph The graph that contains the vertex and edge definitions post-layout\n * @returns The first entity that was inserted\n */\nconst drawEntities = function (svgNode, entities, graph) {\n  const keys = Object.keys(entities);\n  let firstOne;\n\n  keys.forEach(function (id) {\n    // Create a group for each entity\n    const groupNode = svgNode.append('g').attr('id', id);\n\n    firstOne = firstOne === undefined ? id : firstOne;\n\n    // Label the entity - this is done first so that we can get the bounding box\n    // which then determines the size of the rectangle\n    const textId = 'entity-' + id;\n    const textNode = groupNode\n      .append('text')\n      .attr('class', 'er entityLabel')\n      .attr('id', textId)\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('dominant-baseline', 'middle')\n      .attr('text-anchor', 'middle')\n      .attr(\n        'style',\n        'font-family: ' + getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\n      )\n      .text(id);\n\n    const { width: entityWidth, height: entityHeight } = drawAttributes(\n      groupNode,\n      textNode,\n      entities[id].attributes\n    );\n\n    // Draw the rectangle - insert it before the text so that the text is not obscured\n    const rectNode = groupNode\n      .insert('rect', '#' + textId)\n      .attr('class', 'er entityBox')\n      .attr('fill', conf.fill)\n      .attr('fill-opacity', '100%')\n      .attr('stroke', conf.stroke)\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('width', entityWidth)\n      .attr('height', entityHeight);\n\n    const rectBBox = rectNode.node().getBBox();\n\n    // Add the entity to the graph\n    graph.setNode(id, {\n      width: rectBBox.width,\n      height: rectBBox.height,\n      shape: 'rect',\n      id: id,\n    });\n  });\n  return firstOne;\n}; // drawEntities\n\nconst adjustEntities = function (svgNode, graph) {\n  graph.nodes().forEach(function (v) {\n    if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\n      svgNode\n        .select('#' + v)\n        .attr(\n          'transform',\n          'translate(' +\n            (graph.node(v).x - graph.node(v).width / 2) +\n            ',' +\n            (graph.node(v).y - graph.node(v).height / 2) +\n            ' )'\n        );\n    }\n  });\n  return;\n};\n\nconst getEdgeName = function (rel) {\n  return (rel.entityA + rel.roleA + rel.entityB).replace(/\\s/g, '');\n};\n\n/**\n * Add each relationship to the graph\n *\n * @param relationships The relationships to be added\n * @param g The graph\n * @returns {Array} The array of relationships\n */\nconst addRelationships = function (relationships, g) {\n  relationships.forEach(function (r) {\n    g.setEdge(r.entityA, r.entityB, { relationship: r }, getEdgeName(r));\n  });\n  return relationships;\n}; // addRelationships\n\nlet relCnt = 0;\n/**\n * Draw a relationship using edge information from the graph\n *\n * @param svg The svg node\n * @param rel The relationship to draw in the svg\n * @param g The graph containing the edge information\n * @param insert The insertion point in the svg DOM (because relationships have markers that need to\n *   sit 'behind' opaque entity boxes)\n */\nconst drawRelationshipFromLayout = function (svg, rel, g, insert) {\n  relCnt++;\n\n  // Find the edge relating to this relationship\n  const edge = g.edge(rel.entityA, rel.entityB, getEdgeName(rel));\n\n  // Get a function that will generate the line path\n  const lineFunction = line()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    })\n    .curve(curveBasis);\n\n  // Insert the line at the right place\n  const svgPath = svg\n    .insert('path', '#' + insert)\n    .attr('class', 'er relationshipLine')\n    .attr('d', lineFunction(edge.points))\n    .attr('stroke', conf.stroke)\n    .attr('fill', 'none');\n\n  // ...and with dashes if necessary\n  if (rel.relSpec.relType === erDb.Identification.NON_IDENTIFYING) {\n    svgPath.attr('stroke-dasharray', '8,8');\n  }\n\n  // TODO: Understand this better\n  let url = '';\n  if (conf.arrowMarkerAbsolute) {\n    url =\n      window.location.protocol +\n      '//' +\n      window.location.host +\n      window.location.pathname +\n      window.location.search;\n    url = url.replace(/\\(/g, '\\\\(');\n    url = url.replace(/\\)/g, '\\\\)');\n  }\n\n  // Decide which start and end markers it needs. It may be possible to be more concise here\n  // by reversing a start marker to make an end marker...but this will do for now\n\n  // Note that the 'A' entity's marker is at the end of the relationship and the 'B' entity's marker is at the start\n  switch (rel.relSpec.cardA) {\n    case erDb.Cardinality.ZERO_OR_ONE:\n      svgPath.attr('marker-end', 'url(' + url + '#' + erMarkers.ERMarkers.ZERO_OR_ONE_END + ')');\n      break;\n    case erDb.Cardinality.ZERO_OR_MORE:\n      svgPath.attr('marker-end', 'url(' + url + '#' + erMarkers.ERMarkers.ZERO_OR_MORE_END + ')');\n      break;\n    case erDb.Cardinality.ONE_OR_MORE:\n      svgPath.attr('marker-end', 'url(' + url + '#' + erMarkers.ERMarkers.ONE_OR_MORE_END + ')');\n      break;\n    case erDb.Cardinality.ONLY_ONE:\n      svgPath.attr('marker-end', 'url(' + url + '#' + erMarkers.ERMarkers.ONLY_ONE_END + ')');\n      break;\n  }\n\n  switch (rel.relSpec.cardB) {\n    case erDb.Cardinality.ZERO_OR_ONE:\n      svgPath.attr(\n        'marker-start',\n        'url(' + url + '#' + erMarkers.ERMarkers.ZERO_OR_ONE_START + ')'\n      );\n      break;\n    case erDb.Cardinality.ZERO_OR_MORE:\n      svgPath.attr(\n        'marker-start',\n        'url(' + url + '#' + erMarkers.ERMarkers.ZERO_OR_MORE_START + ')'\n      );\n      break;\n    case erDb.Cardinality.ONE_OR_MORE:\n      svgPath.attr(\n        'marker-start',\n        'url(' + url + '#' + erMarkers.ERMarkers.ONE_OR_MORE_START + ')'\n      );\n      break;\n    case erDb.Cardinality.ONLY_ONE:\n      svgPath.attr('marker-start', 'url(' + url + '#' + erMarkers.ERMarkers.ONLY_ONE_START + ')');\n      break;\n  }\n\n  // Now label the relationship\n\n  // Find the half-way point\n  const len = svgPath.node().getTotalLength();\n  const labelPoint = svgPath.node().getPointAtLength(len * 0.5);\n\n  // Append a text node containing the label\n  const labelId = 'rel' + relCnt;\n\n  const labelNode = svg\n    .append('text')\n    .attr('class', 'er relationshipLabel')\n    .attr('id', labelId)\n    .attr('x', labelPoint.x)\n    .attr('y', labelPoint.y)\n    .attr('text-anchor', 'middle')\n    .attr('dominant-baseline', 'middle')\n    .attr(\n      'style',\n      'font-family: ' + getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\n    )\n    .text(rel.roleA);\n\n  // Figure out how big the opaque 'container' rectangle needs to be\n  const labelBBox = labelNode.node().getBBox();\n\n  // Insert the opaque rectangle before the text label\n  svg\n    .insert('rect', '#' + labelId)\n    .attr('class', 'er relationshipLabelBox')\n    .attr('x', labelPoint.x - labelBBox.width / 2)\n    .attr('y', labelPoint.y - labelBBox.height / 2)\n    .attr('width', labelBBox.width)\n    .attr('height', labelBBox.height)\n    .attr('fill', 'white')\n    .attr('fill-opacity', '85%');\n\n  return;\n};\n\n/**\n * Draw en E-R diagram in the tag with id: id based on the text definition of the diagram\n *\n * @param text The text of the diagram\n * @param id The unique id of the DOM node that contains the diagram\n */\nexport const draw = function (text, id) {\n  log.info('Drawing ER diagram');\n  erDb.clear();\n  const parser = erParser.parser;\n  parser.yy = erDb;\n  const securityLevel = getConfig().securityLevel;\n  // Handle root and ocument for when rendering in sanbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  // Parse the text to populate erDb\n  try {\n    parser.parse(text);\n  } catch (err) {\n    log.debug('Parsing failed');\n  }\n\n  // Get a reference to the svg node that contains the text\n  const svg = root.select(`[id='${id}']`);\n\n  // Add cardinality marker definitions to the svg\n  erMarkers.insertMarkers(svg, conf);\n\n  // Now we have to construct the diagram in a specific way:\n  // ---\n  // 1. Create all the entities in the svg node at 0,0, but with the correct dimensions (allowing for text content)\n  // 2. Make sure they are all added to the graph\n  // 3. Add all the edges (relationships) to the graph aswell\n  // 4. Let dagre do its magic to layout the graph.  This assigns:\n  //    - the centre co-ordinates for each node, bearing in mind the dimensions and edge relationships\n  //    - the path co-ordinates for each edge\n  //    But it has no impact on the svg child nodes - the diagram remains with every entity rooted at 0,0\n  // 5. Now assign a transform to each entity in the svg node so that it gets drawn in the correct place, as determined by\n  //    its centre point, which is obtained from the graph, and it's width and height\n  // 6. And finally, create all the edges in the svg node using information from the graph\n  // ---\n\n  // Create the graph\n  let g;\n\n  // TODO: Explore directed vs undirected graphs, and how the layout is affected\n  // An E-R diagram could be said to be undirected, but there is merit in setting\n  // the direction from parent to child in a one-to-many as this influences graphlib to\n  // put the parent above the child (does it?), which is intuitive.  Most relationships\n  // in ER diagrams are one-to-many.\n  g = new graphlib.Graph({\n    multigraph: true,\n    directed: true,\n    compound: false,\n  })\n    .setGraph({\n      rankdir: conf.layoutDirection,\n      marginx: 20,\n      marginy: 20,\n      nodesep: 100,\n      edgesep: 100,\n      ranksep: 100,\n    })\n    .setDefaultEdgeLabel(function () {\n      return {};\n    });\n\n  // Draw the entities (at 0,0), returning the first svg node that got\n  // inserted - this represents the insertion point for relationship paths\n  const firstEntity = drawEntities(svg, erDb.getEntities(), g);\n\n  // TODO: externalise the addition of entities to the graph - it's a bit 'buried' in the above\n\n  // Add all the relationships to the graph\n  const relationships = addRelationships(erDb.getRelationships(), g);\n\n  dagre.layout(g); // Node and edge positions will be updated\n\n  // Adjust the positions of the entities so that they adhere to the layout\n  adjustEntities(svg, g);\n\n  // Draw the relationships\n  relationships.forEach(function (rel) {\n    drawRelationshipFromLayout(svg, rel, g, firstEntity);\n  });\n\n  const padding = conf.diagramPadding;\n\n  const svgBounds = svg.node().getBBox();\n  const width = svgBounds.width + padding * 2;\n  const height = svgBounds.height + padding * 2;\n\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\n\n  svg.attr('viewBox', `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`);\n}; // draw\n\nexport default {\n  setConf,\n  draw,\n};\n","const getStyles = (options) =>\n  `\n  .entityBox {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n  }\n\n  .attributeBoxOdd {\n    fill: #ffffff;\n    stroke: ${options.nodeBorder};\n  }\n\n  .attributeBoxEven {\n    fill: #f2f2f2;\n    stroke: ${options.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${options.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${options.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ${options.lineColor};\n    }\n`;\n\nexport default getStyles;\n","import dagreD3 from 'dagre-d3';\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction question(parent, bbox, node) {\n  const w = bbox.width;\n  const h = bbox.height;\n  const s = (w + h) * 0.9;\n  const points = [\n    { x: s / 2, y: 0 },\n    { x: s, y: -s / 2 },\n    { x: s / 2, y: -s },\n    { x: 0, y: -s / 2 },\n  ];\n  const shapeSvg = insertPolygonShape(parent, s, s, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction hexagon(parent, bbox, node) {\n  const f = 4;\n  const h = bbox.height;\n  const m = h / f;\n  const w = bbox.width + 2 * m;\n  const points = [\n    { x: m, y: 0 },\n    { x: w - m, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w - m, y: -h },\n    { x: m, y: -h },\n    { x: 0, y: -h / 2 },\n  ];\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction rect_left_inv_arrow(parent, bbox, node) {\n  const w = bbox.width;\n  const h = bbox.height;\n  const points = [\n    { x: -h / 2, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: -h / 2, y: -h },\n    { x: 0, y: -h / 2 },\n  ];\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction lean_right(parent, bbox, node) {\n  const w = bbox.width;\n  const h = bbox.height;\n  const points = [\n    { x: (-2 * h) / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: -h },\n    { x: h / 6, y: -h },\n  ];\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction lean_left(parent, bbox, node) {\n  const w = bbox.width;\n  const h = bbox.height;\n  const points = [\n    { x: (2 * h) / 6, y: 0 },\n    { x: w + h / 6, y: 0 },\n    { x: w - (2 * h) / 6, y: -h },\n    { x: -h / 6, y: -h },\n  ];\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction trapezoid(parent, bbox, node) {\n  const w = bbox.width;\n  const h = bbox.height;\n  const points = [\n    { x: (-2 * h) / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: 0 },\n    { x: w - h / 6, y: -h },\n    { x: h / 6, y: -h },\n  ];\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction inv_trapezoid(parent, bbox, node) {\n  const w = bbox.width;\n  const h = bbox.height;\n  const points = [\n    { x: h / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: -h },\n    { x: (-2 * h) / 6, y: -h },\n  ];\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction rect_right_inv_arrow(parent, bbox, node) {\n  const w = bbox.width;\n  const h = bbox.height;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w + h / 2, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w + h / 2, y: -h },\n    { x: 0, y: -h },\n  ];\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction stadium(parent, bbox, node) {\n  const h = bbox.height;\n  const w = bbox.width + h / 4;\n\n  const shapeSvg = parent\n    .insert('rect', ':first-child')\n    .attr('rx', h / 2)\n    .attr('ry', h / 2)\n    .attr('x', -w / 2)\n    .attr('y', -h / 2)\n    .attr('width', w)\n    .attr('height', h);\n\n  node.intersect = function (point) {\n    return dagreD3.intersect.rect(node, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction subroutine(parent, bbox, node) {\n  const w = bbox.width;\n  const h = bbox.height;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: 0, y: -h },\n    { x: 0, y: 0 },\n    { x: -8, y: 0 },\n    { x: w + 8, y: 0 },\n    { x: w + 8, y: -h },\n    { x: -8, y: -h },\n    { x: -8, y: 0 },\n  ];\n  const shapeSvg = insertPolygonShape(parent, w, h, points);\n  node.intersect = function (point) {\n    return dagreD3.intersect.polygon(node, points, point);\n  };\n  return shapeSvg;\n}\n\n/**\n * @param parent\n * @param bbox\n * @param node\n */\nfunction cylinder(parent, bbox, node) {\n  const w = bbox.width;\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const h = bbox.height + ry;\n\n  const shape =\n    'M 0,' +\n    ry +\n    ' a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    w +\n    ' 0 a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    -w +\n    ' 0 l 0,' +\n    h +\n    ' a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    w +\n    ' 0 l 0,' +\n    -h;\n\n  const shapeSvg = parent\n    .attr('label-offset-y', ry)\n    .insert('path', ':first-child')\n    .attr('d', shape)\n    .attr('transform', 'translate(' + -w / 2 + ',' + -(h / 2 + ry) + ')');\n\n  node.intersect = function (point) {\n    const pos = dagreD3.intersect.rect(node, point);\n    const x = pos.x - node.x;\n\n    if (\n      rx != 0 &&\n      (Math.abs(x) < node.width / 2 ||\n        (Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry))\n    ) {\n      // ellipsis equation: x*x / a*a + y*y / b*b = 1\n      // solve for y to get adjustion value for pos.y\n      let y = ry * ry * (1 - (x * x) / (rx * rx));\n      if (y != 0) y = Math.sqrt(y);\n      y = ry - y;\n      if (point.y - node.y > 0) y = -y;\n\n      pos.y += y;\n    }\n\n    return pos;\n  };\n\n  return shapeSvg;\n}\n\n/** @param render */\nexport function addToRender(render) {\n  render.shapes().question = question;\n  render.shapes().hexagon = hexagon;\n  render.shapes().stadium = stadium;\n  render.shapes().subroutine = subroutine;\n  render.shapes().cylinder = cylinder;\n\n  // Add custom shape for box with inverted arrow on left side\n  render.shapes().rect_left_inv_arrow = rect_left_inv_arrow;\n\n  // Add custom shape for box with inverted arrow on left side\n  render.shapes().lean_right = lean_right;\n\n  // Add custom shape for box with inverted arrow on left side\n  render.shapes().lean_left = lean_left;\n\n  // Add custom shape for box with inverted arrow on left side\n  render.shapes().trapezoid = trapezoid;\n\n  // Add custom shape for box with inverted arrow on left side\n  render.shapes().inv_trapezoid = inv_trapezoid;\n\n  // Add custom shape for box with inverted arrow on right side\n  render.shapes().rect_right_inv_arrow = rect_right_inv_arrow;\n}\n\n/** @param addShape */\nexport function addToRenderV2(addShape) {\n  addShape({ question });\n  addShape({ hexagon });\n  addShape({ stadium });\n  addShape({ subroutine });\n  addShape({ cylinder });\n\n  // Add custom shape for box with inverted arrow on left side\n  addShape({ rect_left_inv_arrow });\n\n  // Add custom shape for box with inverted arrow on left side\n  addShape({ lean_right });\n\n  // Add custom shape for box with inverted arrow on left side\n  addShape({ lean_left });\n\n  // Add custom shape for box with inverted arrow on left side\n  addShape({ trapezoid });\n\n  // Add custom shape for box with inverted arrow on left side\n  addShape({ inv_trapezoid });\n\n  // Add custom shape for box with inverted arrow on right side\n  addShape({ rect_right_inv_arrow });\n}\n\n/**\n * @param parent\n * @param w\n * @param h\n * @param points\n */\nfunction insertPolygonShape(parent, w, h, points) {\n  return parent\n    .insert('polygon', ':first-child')\n    .attr(\n      'points',\n      points\n        .map(function (d) {\n          return d.x + ',' + d.y;\n        })\n        .join(' ')\n    )\n    .attr('transform', 'translate(' + -w / 2 + ',' + h / 2 + ')');\n}\n\nexport default {\n  addToRender,\n  addToRenderV2,\n};\n","import { select } from 'd3';\nimport utils from '../../utils';\nimport * as configApi from '../../config';\nimport common from '../common/common';\nimport mermaidAPI from '../../mermaidAPI';\nimport { log } from '../../logger';\n\nconst MERMAID_DOM_ID_PREFIX = 'flowchart-';\nlet vertexCounter = 0;\nlet config = configApi.getConfig();\nlet vertices = {};\nlet edges = [];\nlet classes = [];\nlet subGraphs = [];\nlet subGraphLookup = {};\nlet tooltips = {};\nlet subCount = 0;\nlet firstGraphFlag = true;\nlet direction;\n\nlet version; // As in graph\n\n// Functions to be run after graph rendering\nlet funs = [];\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\n/**\n * Function to lookup domId from id in the graph definition.\n *\n * @param id\n * @public\n */\nexport const lookUpDomId = function (id) {\n  const veritceKeys = Object.keys(vertices);\n  for (let i = 0; i < veritceKeys.length; i++) {\n    if (vertices[veritceKeys[i]].id === id) {\n      return vertices[veritceKeys[i]].domId;\n    }\n  }\n  return id;\n};\n\n/**\n * Function called by parser when a node definition has been found\n *\n * @param _id\n * @param text\n * @param type\n * @param style\n * @param classes\n * @param dir\n * @param props\n */\nexport const addVertex = function (_id, text, type, style, classes, dir, props = {}) {\n  let txt;\n  let id = _id;\n  if (typeof id === 'undefined') {\n    return;\n  }\n  if (id.trim().length === 0) {\n    return;\n  }\n\n  // if (id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n\n  if (typeof vertices[id] === 'undefined') {\n    vertices[id] = {\n      id: id,\n      domId: MERMAID_DOM_ID_PREFIX + id + '-' + vertexCounter,\n      styles: [],\n      classes: [],\n    };\n  }\n  vertexCounter++;\n  if (typeof text !== 'undefined') {\n    config = configApi.getConfig();\n    txt = common.sanitizeText(text.trim(), config);\n\n    // strip quotes if string starts and ends with a quote\n    if (txt[0] === '\"' && txt[txt.length - 1] === '\"') {\n      txt = txt.substring(1, txt.length - 1);\n    }\n\n    vertices[id].text = txt;\n  } else {\n    if (typeof vertices[id].text === 'undefined') {\n      vertices[id].text = _id;\n    }\n  }\n  if (typeof type !== 'undefined') {\n    vertices[id].type = type;\n  }\n  if (typeof style !== 'undefined') {\n    if (style !== null) {\n      style.forEach(function (s) {\n        vertices[id].styles.push(s);\n      });\n    }\n  }\n  if (typeof classes !== 'undefined') {\n    if (classes !== null) {\n      classes.forEach(function (s) {\n        vertices[id].classes.push(s);\n      });\n    }\n  }\n  if (typeof dir !== 'undefined') {\n    vertices[id].dir = dir;\n  }\n  vertices[id].props = props;\n};\n\n/**\n * Function called by parser when a link/edge definition has been found\n *\n * @param _start\n * @param _end\n * @param type\n * @param linktext\n */\nexport const addSingleLink = function (_start, _end, type, linktext) {\n  let start = _start;\n  let end = _end;\n  // if (start[0].match(/\\d/)) start = MERMAID_DOM_ID_PREFIX + start;\n  // if (end[0].match(/\\d/)) end = MERMAID_DOM_ID_PREFIX + end;\n  // log.info('Got edge...', start, end);\n\n  const edge = { start: start, end: end, type: undefined, text: '' };\n  linktext = type.text;\n\n  if (typeof linktext !== 'undefined') {\n    edge.text = common.sanitizeText(linktext.trim(), config);\n\n    // strip quotes if string starts and exnds with a quote\n    if (edge.text[0] === '\"' && edge.text[edge.text.length - 1] === '\"') {\n      edge.text = edge.text.substring(1, edge.text.length - 1);\n    }\n  }\n\n  if (typeof type !== 'undefined') {\n    edge.type = type.type;\n    edge.stroke = type.stroke;\n    edge.length = type.length;\n  }\n  edges.push(edge);\n};\nexport const addLink = function (_start, _end, type, linktext) {\n  let i, j;\n  for (i = 0; i < _start.length; i++) {\n    for (j = 0; j < _end.length; j++) {\n      addSingleLink(_start[i], _end[j], type, linktext);\n    }\n  }\n};\n\n/**\n * Updates a link's line interpolation algorithm\n *\n * @param positions\n * @param interp\n */\nexport const updateLinkInterpolate = function (positions, interp) {\n  positions.forEach(function (pos) {\n    if (pos === 'default') {\n      edges.defaultInterpolate = interp;\n    } else {\n      edges[pos].interpolate = interp;\n    }\n  });\n};\n\n/**\n * Updates a link with a style\n *\n * @param positions\n * @param style\n */\nexport const updateLink = function (positions, style) {\n  positions.forEach(function (pos) {\n    if (pos === 'default') {\n      edges.defaultStyle = style;\n    } else {\n      if (utils.isSubstringInArray('fill', style) === -1) {\n        style.push('fill:none');\n      }\n      edges[pos].style = style;\n    }\n  });\n};\n\nexport const addClass = function (id, style) {\n  if (typeof classes[id] === 'undefined') {\n    classes[id] = { id: id, styles: [], textStyles: [] };\n  }\n\n  if (typeof style !== 'undefined') {\n    if (style !== null) {\n      style.forEach(function (s) {\n        if (s.match('color')) {\n          const newStyle1 = s.replace('fill', 'bgFill');\n          const newStyle2 = newStyle1.replace('color', 'fill');\n          classes[id].textStyles.push(newStyle2);\n        }\n        classes[id].styles.push(s);\n      });\n    }\n  }\n};\n\n/**\n * Called by parser when a graph definition is found, stores the direction of the chart.\n *\n * @param dir\n */\nexport const setDirection = function (dir) {\n  direction = dir;\n  if (direction.match(/.*</)) {\n    direction = 'RL';\n  }\n  if (direction.match(/.*\\^/)) {\n    direction = 'BT';\n  }\n  if (direction.match(/.*>/)) {\n    direction = 'LR';\n  }\n  if (direction.match(/.*v/)) {\n    direction = 'TB';\n  }\n};\n\n/**\n * Called by parser when a special node is found, e.g. a clickable element.\n *\n * @param ids Comma separated list of ids\n * @param className Class to add\n */\nexport const setClass = function (ids, className) {\n  ids.split(',').forEach(function (_id) {\n    // let id = version === 'gen-2' ? lookUpDomId(_id) : _id;\n    let id = _id;\n    // if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n    if (typeof vertices[id] !== 'undefined') {\n      vertices[id].classes.push(className);\n    }\n\n    if (typeof subGraphLookup[id] !== 'undefined') {\n      subGraphLookup[id].classes.push(className);\n    }\n  });\n};\n\nconst setTooltip = function (ids, tooltip) {\n  ids.split(',').forEach(function (id) {\n    if (typeof tooltip !== 'undefined') {\n      tooltips[version === 'gen-1' ? lookUpDomId(id) : id] = common.sanitizeText(tooltip, config);\n    }\n  });\n};\n\nconst setClickFun = function (id, functionName, functionArgs) {\n  let domId = lookUpDomId(id);\n  // if (_id[0].match(/\\d/)) id = MERMAID_DOM_ID_PREFIX + id;\n  if (configApi.getConfig().securityLevel !== 'loose') {\n    return;\n  }\n  if (typeof functionName === 'undefined') {\n    return;\n  }\n  let argList = [];\n  if (typeof functionArgs === 'string') {\n    /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\n    argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\n    for (let i = 0; i < argList.length; i++) {\n      let item = argList[i].trim();\n      /* Removes all double quotes at the start and end of an argument */\n      /* This preserves all starting and ending whitespace inside */\n      if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\n        item = item.substr(1, item.length - 2);\n      }\n      argList[i] = item;\n    }\n  }\n\n  /* if no arguments passed into callback, default to passing in id */\n  if (argList.length === 0) {\n    argList.push(id);\n  }\n\n  if (typeof vertices[id] !== 'undefined') {\n    vertices[id].haveCallback = true;\n    funs.push(function () {\n      const elem = document.querySelector(`[id=\"${domId}\"]`);\n      if (elem !== null) {\n        elem.addEventListener(\n          'click',\n          function () {\n            utils.runFunc(functionName, ...argList);\n          },\n          false\n        );\n      }\n    });\n  }\n};\n\n/**\n * Called by parser when a link is found. Adds the URL to the vertex data.\n *\n * @param ids Comma separated list of ids\n * @param linkStr URL to create a link for\n * @param target\n */\nexport const setLink = function (ids, linkStr, target) {\n  ids.split(',').forEach(function (id) {\n    if (typeof vertices[id] !== 'undefined') {\n      vertices[id].link = utils.formatUrl(linkStr, config);\n      vertices[id].linkTarget = target;\n    }\n  });\n  setClass(ids, 'clickable');\n};\nexport const getTooltip = function (id) {\n  return tooltips[id];\n};\n\n/**\n * Called by parser when a click definition is found. Registers an event handler.\n *\n * @param ids Comma separated list of ids\n * @param functionName Function to be called on click\n * @param functionArgs\n */\nexport const setClickEvent = function (ids, functionName, functionArgs) {\n  ids.split(',').forEach(function (id) {\n    setClickFun(id, functionName, functionArgs);\n  });\n  setClass(ids, 'clickable');\n};\n\nexport const bindFunctions = function (element) {\n  funs.forEach(function (fun) {\n    fun(element);\n  });\n};\nexport const getDirection = function () {\n  return direction.trim();\n};\n/**\n * Retrieval function for fetching the found nodes after parsing has completed.\n *\n * @returns {{} | any | vertices}\n */\nexport const getVertices = function () {\n  return vertices;\n};\n\n/**\n * Retrieval function for fetching the found links after parsing has completed.\n *\n * @returns {{} | any | edges}\n */\nexport const getEdges = function () {\n  return edges;\n};\n\n/**\n * Retrieval function for fetching the found class definitions after parsing has completed.\n *\n * @returns {{} | any | classes}\n */\nexport const getClasses = function () {\n  return classes;\n};\n\nconst setupToolTips = function (element) {\n  let tooltipElem = select('.mermaidTooltip');\n  if ((tooltipElem._groups || tooltipElem)[0][0] === null) {\n    tooltipElem = select('body').append('div').attr('class', 'mermaidTooltip').style('opacity', 0);\n  }\n\n  const svg = select(element).select('svg');\n\n  const nodes = svg.selectAll('g.node');\n  nodes\n    .on('mouseover', function () {\n      const el = select(this);\n      const title = el.attr('title');\n\n      // Dont try to draw a tooltip if no data is provided\n      if (title === null) {\n        return;\n      }\n      const rect = this.getBoundingClientRect();\n\n      tooltipElem.transition().duration(200).style('opacity', '.9');\n      tooltipElem\n        .html(el.attr('title'))\n        .style('left', window.scrollX + rect.left + (rect.right - rect.left) / 2 + 'px')\n        .style('top', window.scrollY + rect.top - 14 + document.body.scrollTop + 'px');\n      el.classed('hover', true);\n    })\n    .on('mouseout', function () {\n      tooltipElem.transition().duration(500).style('opacity', 0);\n      const el = select(this);\n      el.classed('hover', false);\n    });\n};\nfuns.push(setupToolTips);\n\n/**\n * Clears the internal graph db so that a new graph can be parsed.\n *\n * @param ver\n */\nexport const clear = function (ver) {\n  vertices = {};\n  classes = {};\n  edges = [];\n  funs = [];\n  funs.push(setupToolTips);\n  subGraphs = [];\n  subGraphLookup = {};\n  subCount = 0;\n  tooltips = [];\n  firstGraphFlag = true;\n  version = ver || 'gen-1';\n};\nexport const setGen = (ver) => {\n  version = ver || 'gen-1';\n};\n/** @returns {string} */\nexport const defaultStyle = function () {\n  return 'fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;';\n};\n\n/**\n * Clears the internal graph db so that a new graph can be parsed.\n *\n * @param _id\n * @param list\n * @param _title\n */\nexport const addSubGraph = function (_id, list, _title) {\n  // console.log('addSubGraph', _id, list, _title);\n  let id = _id.trim();\n  let title = _title;\n  if (_id === _title && _title.match(/\\s/)) {\n    id = undefined;\n  }\n  /** @param a */\n  function uniq(a) {\n    const prims = { boolean: {}, number: {}, string: {} };\n    const objs = [];\n\n    let dir; //  = unbdefined; direction.trim();\n    const nodeList = a.filter(function (item) {\n      const type = typeof item;\n      if (item.stmt && item.stmt === 'dir') {\n        dir = item.value;\n        return false;\n      }\n      if (item.trim() === '') {\n        return false;\n      }\n      if (type in prims) {\n        return prims[type].hasOwnProperty(item) ? false : (prims[type][item] = true); // eslint-disable-line\n      } else {\n        return objs.indexOf(item) >= 0 ? false : objs.push(item);\n      }\n    });\n    return { nodeList, dir };\n  }\n\n  let nodeList = [];\n\n  const { nodeList: nl, dir } = uniq(nodeList.concat.apply(nodeList, list));\n  nodeList = nl;\n  if (version === 'gen-1') {\n    log.warn('LOOKING UP');\n    for (let i = 0; i < nodeList.length; i++) {\n      nodeList[i] = lookUpDomId(nodeList[i]);\n    }\n  }\n\n  id = id || 'subGraph' + subCount;\n  // if (id[0].match(/\\d/)) id = lookUpDomId(id);\n  title = title || '';\n  title = common.sanitizeText(title, config);\n  subCount = subCount + 1;\n  const subGraph = { id: id, nodes: nodeList, title: title.trim(), classes: [], dir };\n\n  log.info('Adding', subGraph.id, subGraph.nodes, subGraph.dir);\n\n  /** Deletes an id from all subgraphs */\n  // const del = _id => {\n  //   subGraphs.forEach(sg => {\n  //     const pos = sg.nodes.indexOf(_id);\n  //     if (pos >= 0) {\n  //       sg.nodes.splice(pos, 1);\n  //     }\n  //   });\n  // };\n\n  // // Removes the members of this subgraph from any other subgraphs, a node only belong to one subgraph\n  // subGraph.nodes.forEach(_id => del(_id));\n\n  // Remove the members in the new subgraph if they already belong to another subgraph\n  subGraph.nodes = makeUniq(subGraph, subGraphs).nodes;\n  subGraphs.push(subGraph);\n  subGraphLookup[id] = subGraph;\n  return id;\n};\n\nconst getPosForId = function (id) {\n  for (let i = 0; i < subGraphs.length; i++) {\n    if (subGraphs[i].id === id) {\n      return i;\n    }\n  }\n  return -1;\n};\nlet secCount = -1;\nconst posCrossRef = [];\nconst indexNodes2 = function (id, pos) {\n  const nodes = subGraphs[pos].nodes;\n  secCount = secCount + 1;\n  if (secCount > 2000) {\n    return;\n  }\n  posCrossRef[secCount] = pos;\n  // Check if match\n  if (subGraphs[pos].id === id) {\n    return {\n      result: true,\n      count: 0,\n    };\n  }\n\n  let count = 0;\n  let posCount = 1;\n  while (count < nodes.length) {\n    const childPos = getPosForId(nodes[count]);\n    // Ignore regular nodes (pos will be -1)\n    if (childPos >= 0) {\n      const res = indexNodes2(id, childPos);\n      if (res.result) {\n        return {\n          result: true,\n          count: posCount + res.count,\n        };\n      } else {\n        posCount = posCount + res.count;\n      }\n    }\n    count = count + 1;\n  }\n\n  return {\n    result: false,\n    count: posCount,\n  };\n};\n\nexport const getDepthFirstPos = function (pos) {\n  return posCrossRef[pos];\n};\nexport const indexNodes = function () {\n  secCount = -1;\n  if (subGraphs.length > 0) {\n    indexNodes2('none', subGraphs.length - 1, 0);\n  }\n};\n\nexport const getSubGraphs = function () {\n  return subGraphs;\n};\n\nexport const firstGraph = () => {\n  if (firstGraphFlag) {\n    firstGraphFlag = false;\n    return true;\n  }\n  return false;\n};\n\nconst destructStartLink = (_str) => {\n  let str = _str.trim();\n  let type = 'arrow_open';\n\n  switch (str[0]) {\n    case '<':\n      type = 'arrow_point';\n      str = str.slice(1);\n      break;\n    case 'x':\n      type = 'arrow_cross';\n      str = str.slice(1);\n      break;\n    case 'o':\n      type = 'arrow_circle';\n      str = str.slice(1);\n      break;\n  }\n\n  let stroke = 'normal';\n\n  if (str.indexOf('=') !== -1) {\n    stroke = 'thick';\n  }\n\n  if (str.indexOf('.') !== -1) {\n    stroke = 'dotted';\n  }\n\n  return { type, stroke };\n};\n\nconst countChar = (char, str) => {\n  const length = str.length;\n  let count = 0;\n  for (let i = 0; i < length; ++i) {\n    if (str[i] === char) {\n      ++count;\n    }\n  }\n  return count;\n};\n\nconst destructEndLink = (_str) => {\n  const str = _str.trim();\n  let line = str.slice(0, -1);\n  let type = 'arrow_open';\n\n  switch (str.slice(-1)) {\n    case 'x':\n      type = 'arrow_cross';\n      if (str[0] === 'x') {\n        type = 'double_' + type;\n        line = line.slice(1);\n      }\n      break;\n    case '>':\n      type = 'arrow_point';\n      if (str[0] === '<') {\n        type = 'double_' + type;\n        line = line.slice(1);\n      }\n      break;\n    case 'o':\n      type = 'arrow_circle';\n      if (str[0] === 'o') {\n        type = 'double_' + type;\n        line = line.slice(1);\n      }\n      break;\n  }\n\n  let stroke = 'normal';\n  let length = line.length - 1;\n\n  if (line[0] === '=') {\n    stroke = 'thick';\n  }\n\n  let dots = countChar('.', line);\n\n  if (dots) {\n    stroke = 'dotted';\n    length = dots;\n  }\n\n  return { type, stroke, length };\n};\n\nconst destructLink = (_str, _startStr) => {\n  const info = destructEndLink(_str);\n  let startInfo;\n  if (_startStr) {\n    startInfo = destructStartLink(_startStr);\n\n    if (startInfo.stroke !== info.stroke) {\n      return { type: 'INVALID', stroke: 'INVALID' };\n    }\n\n    if (startInfo.type === 'arrow_open') {\n      // -- xyz -->  - take arrow type from ending\n      startInfo.type = info.type;\n    } else {\n      // x-- xyz -->  - not supported\n      if (startInfo.type !== info.type) return { type: 'INVALID', stroke: 'INVALID' };\n\n      startInfo.type = 'double_' + startInfo.type;\n    }\n\n    if (startInfo.type === 'double_arrow') {\n      startInfo.type = 'double_arrow_point';\n    }\n\n    startInfo.length = info.length;\n    return startInfo;\n  }\n\n  return info;\n};\n\n// Todo optimizer this by caching existing nodes\nconst exists = (allSgs, _id) => {\n  let res = false;\n  allSgs.forEach((sg) => {\n    const pos = sg.nodes.indexOf(_id);\n    if (pos >= 0) {\n      res = true;\n    }\n  });\n  return res;\n};\n/**\n * Deletes an id from all subgraphs\n *\n * @param sg\n * @param allSubgraphs\n */\nconst makeUniq = (sg, allSubgraphs) => {\n  const res = [];\n  sg.nodes.forEach((_id, pos) => {\n    if (!exists(allSubgraphs, _id)) {\n      res.push(sg.nodes[pos]);\n    }\n  });\n  return { nodes: res };\n};\n\nexport default {\n  parseDirective,\n  defaultConfig: () => configApi.defaultConfig.flowchart,\n  addVertex,\n  lookUpDomId,\n  addLink,\n  updateLinkInterpolate,\n  updateLink,\n  addClass,\n  setDirection,\n  setClass,\n  setTooltip,\n  getTooltip,\n  setClickEvent,\n  setLink,\n  bindFunctions,\n  getDirection,\n  getVertices,\n  getEdges,\n  getClasses,\n  clear,\n  setGen,\n  defaultStyle,\n  addSubGraph,\n  getDepthFirstPos,\n  indexNodes,\n  getSubGraphs,\n  destructLink,\n  lex: {\n    firstGraph,\n  },\n  exists,\n  makeUniq,\n};\n","import graphlib from 'graphlib';\nimport { select, curveLinear, selectAll } from 'd3';\n\nimport flowDb from './flowDb';\nimport flow from './parser/flow';\nimport { getConfig } from '../../config';\n\nimport { render } from '../../dagre-wrapper/index.js';\nimport addHtmlLabel from 'dagre-d3/lib/label/add-html-label.js';\nimport { log } from '../../logger';\nimport common, { evaluate } from '../common/common';\nimport { interpolateToCurve, getStylesFromArray, configureSvgSize } from '../../utils';\n\nconst conf = {};\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n  for (let i = 0; i < keys.length; i++) {\n    conf[keys[i]] = cnf[keys[i]];\n  }\n};\n\n/**\n * Function that adds the vertices found during parsing to the graph to be rendered.\n *\n * @param vert Object containing the vertices.\n * @param g The graph that is to be drawn.\n * @param svgId\n * @param root\n * @param doc\n */\nexport const addVertices = function (vert, g, svgId, root, doc) {\n  const svg = root.select(`[id=\"${svgId}\"]`);\n  const keys = Object.keys(vert);\n\n  // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\n  keys.forEach(function (id) {\n    const vertex = vert[id];\n\n    /**\n     * Variable for storing the classes for the vertex\n     *\n     * @type {string}\n     */\n    let classStr = 'default';\n    if (vertex.classes.length > 0) {\n      classStr = vertex.classes.join(' ');\n    }\n\n    const styles = getStylesFromArray(vertex.styles);\n\n    // Use vertex id as text in the box if no text is provided by the graph definition\n    let vertexText = vertex.text !== undefined ? vertex.text : vertex.id;\n\n    // We create a SVG label, either by delegating to addHtmlLabel or manually\n    let vertexNode;\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\n      // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\n      const node = {\n        label: vertexText.replace(\n          /fa[lrsb]?:fa-[\\w-]+/g,\n          (s) => `<i class='${s.replace(':', ' ')}'></i>`\n        ),\n      };\n      vertexNode = addHtmlLabel(svg, node).node();\n      vertexNode.parentNode.removeChild(vertexNode);\n    } else {\n      const svgLabel = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n      svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\n\n      const rows = vertexText.split(common.lineBreakRegex);\n\n      for (let j = 0; j < rows.length; j++) {\n        const tspan = doc.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n        tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        tspan.setAttribute('dy', '1em');\n        tspan.setAttribute('x', '1');\n        tspan.textContent = rows[j];\n        svgLabel.appendChild(tspan);\n      }\n      vertexNode = svgLabel;\n    }\n\n    let radious = 0;\n    let _shape = '';\n    // Set the shape based parameters\n    switch (vertex.type) {\n      case 'round':\n        radious = 5;\n        _shape = 'rect';\n        break;\n      case 'square':\n        _shape = 'rect';\n        break;\n      case 'diamond':\n        _shape = 'question';\n        break;\n      case 'hexagon':\n        _shape = 'hexagon';\n        break;\n      case 'odd':\n        _shape = 'rect_left_inv_arrow';\n        break;\n      case 'lean_right':\n        _shape = 'lean_right';\n        break;\n      case 'lean_left':\n        _shape = 'lean_left';\n        break;\n      case 'trapezoid':\n        _shape = 'trapezoid';\n        break;\n      case 'inv_trapezoid':\n        _shape = 'inv_trapezoid';\n        break;\n      case 'odd_right':\n        _shape = 'rect_left_inv_arrow';\n        break;\n      case 'circle':\n        _shape = 'circle';\n        break;\n      case 'ellipse':\n        _shape = 'ellipse';\n        break;\n      case 'stadium':\n        _shape = 'stadium';\n        break;\n      case 'subroutine':\n        _shape = 'subroutine';\n        break;\n      case 'cylinder':\n        _shape = 'cylinder';\n        break;\n      case 'group':\n        _shape = 'rect';\n        break;\n      default:\n        _shape = 'rect';\n    }\n    // Add the node\n    g.setNode(vertex.id, {\n      labelStyle: styles.labelStyle,\n      shape: _shape,\n      labelText: vertexText,\n      rx: radious,\n      ry: radious,\n      class: classStr,\n      style: styles.style,\n      id: vertex.id,\n      link: vertex.link,\n      linkTarget: vertex.linkTarget,\n      tooltip: flowDb.getTooltip(vertex.id) || '',\n      domId: flowDb.lookUpDomId(vertex.id),\n      haveCallback: vertex.haveCallback,\n      width: vertex.type === 'group' ? 500 : undefined,\n      dir: vertex.dir,\n      type: vertex.type,\n      props: vertex.props,\n      padding: getConfig().flowchart.padding,\n    });\n\n    log.info('setNode', {\n      labelStyle: styles.labelStyle,\n      shape: _shape,\n      labelText: vertexText,\n      rx: radious,\n      ry: radious,\n      class: classStr,\n      style: styles.style,\n      id: vertex.id,\n      domId: flowDb.lookUpDomId(vertex.id),\n      width: vertex.type === 'group' ? 500 : undefined,\n      type: vertex.type,\n      dir: vertex.dir,\n      props: vertex.props,\n      padding: getConfig().flowchart.padding,\n    });\n  });\n};\n\n/**\n * Add edges to graph based on parsed graph defninition\n *\n * @param {object} edges The edges to add to the graph\n * @param {object} g The graph object\n */\nexport const addEdges = function (edges, g) {\n  log.info('abc78 edges = ', edges);\n  let cnt = 0;\n  let linkIdCnt = {};\n\n  let defaultStyle;\n  let defaultLabelStyle;\n\n  if (typeof edges.defaultStyle !== 'undefined') {\n    const defaultStyles = getStylesFromArray(edges.defaultStyle);\n    defaultStyle = defaultStyles.style;\n    defaultLabelStyle = defaultStyles.labelStyle;\n  }\n\n  edges.forEach(function (edge) {\n    cnt++;\n\n    // Identify Link\n    var linkIdBase = 'L-' + edge.start + '-' + edge.end;\n    // count the links from+to the same node to give unique id\n    if (typeof linkIdCnt[linkIdBase] === 'undefined') {\n      linkIdCnt[linkIdBase] = 0;\n      log.info('abc78 new entry', linkIdBase, linkIdCnt[linkIdBase]);\n    } else {\n      linkIdCnt[linkIdBase]++;\n      log.info('abc78 new entry', linkIdBase, linkIdCnt[linkIdBase]);\n    }\n    let linkId = linkIdBase + '-' + linkIdCnt[linkIdBase];\n    log.info('abc78 new link id to be used is', linkIdBase, linkId, linkIdCnt[linkIdBase]);\n    var linkNameStart = 'LS-' + edge.start;\n    var linkNameEnd = 'LE-' + edge.end;\n\n    const edgeData = { style: '', labelStyle: '' };\n    edgeData.minlen = edge.length || 1;\n    //edgeData.id = 'id' + cnt;\n\n    // Set link type for rendering\n    if (edge.type === 'arrow_open') {\n      edgeData.arrowhead = 'none';\n    } else {\n      edgeData.arrowhead = 'normal';\n    }\n\n    // Check of arrow types, placed here in order not to break old rendering\n    edgeData.arrowTypeStart = 'arrow_open';\n    edgeData.arrowTypeEnd = 'arrow_open';\n\n    /* eslint-disable no-fallthrough */\n    switch (edge.type) {\n      case 'double_arrow_cross':\n        edgeData.arrowTypeStart = 'arrow_cross';\n      case 'arrow_cross':\n        edgeData.arrowTypeEnd = 'arrow_cross';\n        break;\n      case 'double_arrow_point':\n        edgeData.arrowTypeStart = 'arrow_point';\n      case 'arrow_point':\n        edgeData.arrowTypeEnd = 'arrow_point';\n        break;\n      case 'double_arrow_circle':\n        edgeData.arrowTypeStart = 'arrow_circle';\n      case 'arrow_circle':\n        edgeData.arrowTypeEnd = 'arrow_circle';\n        break;\n    }\n\n    let style = '';\n    let labelStyle = '';\n\n    switch (edge.stroke) {\n      case 'normal':\n        style = 'fill:none;';\n        if (typeof defaultStyle !== 'undefined') {\n          style = defaultStyle;\n        }\n        if (typeof defaultLabelStyle !== 'undefined') {\n          labelStyle = defaultLabelStyle;\n        }\n        edgeData.thickness = 'normal';\n        edgeData.pattern = 'solid';\n        break;\n      case 'dotted':\n        edgeData.thickness = 'normal';\n        edgeData.pattern = 'dotted';\n        edgeData.style = 'fill:none;stroke-width:2px;stroke-dasharray:3;';\n        break;\n      case 'thick':\n        edgeData.thickness = 'thick';\n        edgeData.pattern = 'solid';\n        edgeData.style = 'stroke-width: 3.5px;fill:none;';\n        break;\n    }\n    if (typeof edge.style !== 'undefined') {\n      const styles = getStylesFromArray(edge.style);\n      style = styles.style;\n      labelStyle = styles.labelStyle;\n    }\n\n    edgeData.style = edgeData.style += style;\n    edgeData.labelStyle = edgeData.labelStyle += labelStyle;\n\n    if (typeof edge.interpolate !== 'undefined') {\n      edgeData.curve = interpolateToCurve(edge.interpolate, curveLinear);\n    } else if (typeof edges.defaultInterpolate !== 'undefined') {\n      edgeData.curve = interpolateToCurve(edges.defaultInterpolate, curveLinear);\n    } else {\n      edgeData.curve = interpolateToCurve(conf.curve, curveLinear);\n    }\n\n    if (typeof edge.text === 'undefined') {\n      if (typeof edge.style !== 'undefined') {\n        edgeData.arrowheadStyle = 'fill: #333';\n      }\n    } else {\n      edgeData.arrowheadStyle = 'fill: #333';\n      edgeData.labelpos = 'c';\n    }\n    // if (evaluate(getConfig().flowchart.htmlLabels) && false) {\n    //   // eslint-disable-line\n    //   edgeData.labelType = 'html';\n    //   edgeData.label = `<span id=\"L-${linkId}\" class=\"edgeLabel L-${linkNameStart}' L-${linkNameEnd}\">${edge.text}</span>`;\n    // } else {\n    edgeData.labelType = 'text';\n    edgeData.label = edge.text.replace(common.lineBreakRegex, '\\n');\n\n    if (typeof edge.style === 'undefined') {\n      edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none;';\n    }\n\n    edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:');\n    // }\n\n    edgeData.id = linkId;\n    edgeData.classes = 'flowchart-link ' + linkNameStart + ' ' + linkNameEnd;\n\n    // Add the edge to the graph\n    g.setEdge(edge.start, edge.end, edgeData, cnt);\n  });\n};\n\n/**\n * Returns the all the styles from classDef statements in the graph definition.\n *\n * @param text\n * @returns {object} ClassDef styles\n */\nexport const getClasses = function (text) {\n  log.info('Extracting classes');\n  flowDb.clear();\n  const parser = flow.parser;\n  parser.yy = flowDb;\n\n  try {\n    // Parse the graph definition\n    parser.parse(text);\n  } catch (e) {\n    return;\n  }\n\n  return flowDb.getClasses();\n};\n\n/**\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\n *\n * @param text\n * @param id\n */\n\nexport const draw = function (text, id) {\n  log.info('Drawing flowchart');\n  flowDb.clear();\n  flowDb.setGen('gen-2');\n  const parser = flow.parser;\n  parser.yy = flowDb;\n\n  // Parse the graph definition\n  // try {\n  parser.parse(text);\n  // } catch (err) {\n  // log.debug('Parsing failed');\n  // }\n\n  // Fetch the default direction, use TD if none was found\n  let dir = flowDb.getDirection();\n  if (typeof dir === 'undefined') {\n    dir = 'TD';\n  }\n\n  const conf = getConfig().flowchart;\n  const nodeSpacing = conf.nodeSpacing || 50;\n  const rankSpacing = conf.rankSpacing || 50;\n\n  const securityLevel = getConfig().securityLevel;\n  // Handle root and ocument for when rendering in sanbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  // Create the input mermaid.graph\n  const g = new graphlib.Graph({\n    multigraph: true,\n    compound: true,\n  })\n    .setGraph({\n      rankdir: dir,\n      nodesep: nodeSpacing,\n      ranksep: rankSpacing,\n      marginx: 8,\n      marginy: 8,\n    })\n    .setDefaultEdgeLabel(function () {\n      return {};\n    });\n\n  let subG;\n  const subGraphs = flowDb.getSubGraphs();\n  log.info('Subgraphs - ', subGraphs);\n  for (let i = subGraphs.length - 1; i >= 0; i--) {\n    subG = subGraphs[i];\n    log.info('Subgraph - ', subG);\n    flowDb.addVertex(subG.id, subG.title, 'group', undefined, subG.classes, subG.dir);\n  }\n\n  // Fetch the verices/nodes and edges/links from the parsed graph definition\n  const vert = flowDb.getVertices();\n\n  const edges = flowDb.getEdges();\n\n  log.info(edges);\n  let i = 0;\n  for (i = subGraphs.length - 1; i >= 0; i--) {\n    // for (let i = 0; i < subGraphs.length; i++) {\n    subG = subGraphs[i];\n\n    selectAll('cluster').append('text');\n\n    for (let j = 0; j < subG.nodes.length; j++) {\n      log.info('Setting up subgraphs', subG.nodes[j], subG.id);\n      g.setParent(subG.nodes[j], subG.id);\n    }\n  }\n  addVertices(vert, g, id, root, doc);\n  addEdges(edges, g);\n\n  // Add custom shapes\n  // flowChartShapes.addToRenderV2(addShape);\n\n  // Set up an SVG group so that we can translate the final graph.\n  const svg = root.select(`[id=\"${id}\"]`);\n  svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n  // Run the renderer. This is what draws the final graph.\n  const element = root.select('#' + id + ' g');\n  render(element, g, ['point', 'circle', 'cross'], 'flowchart', id);\n\n  const padding = conf.diagramPadding;\n  const svgBounds = svg.node().getBBox();\n  const width = svgBounds.width + padding * 2;\n  const height = svgBounds.height + padding * 2;\n  log.debug(\n    `new ViewBox 0 0 ${width} ${height}`,\n    `translate(${padding - g._label.marginx}, ${padding - g._label.marginy})`\n  );\n\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\n\n  svg.attr('viewBox', `0 0 ${width} ${height}`);\n  svg\n    .select('g')\n    .attr('transform', `translate(${padding - g._label.marginx}, ${padding - svgBounds.y})`);\n\n  // Index nodes\n  flowDb.indexNodes('subGraph' + i);\n\n  // Add label rects for non html labels\n  if (!conf.htmlLabels) {\n    const labels = doc.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n    for (let k = 0; k < labels.length; k++) {\n      const label = labels[k];\n\n      // Get dimensions of label\n      const dim = label.getBBox();\n\n      const rect = doc.createElementNS('http://www.w3.org/2000/svg', 'rect');\n      rect.setAttribute('rx', 0);\n      rect.setAttribute('ry', 0);\n      rect.setAttribute('width', dim.width);\n      rect.setAttribute('height', dim.height);\n      // rect.setAttribute('style', 'fill:#e8e8e8;');\n\n      label.insertBefore(rect, label.firstChild);\n    }\n  }\n\n  // If node has a link, wrap it in an anchor SVG object.\n  const keys = Object.keys(vert);\n  keys.forEach(function (key) {\n    const vertex = vert[key];\n\n    if (vertex.link) {\n      const node = select('#' + id + ' [id=\"' + key + '\"]');\n      if (node) {\n        const link = doc.createElementNS('http://www.w3.org/2000/svg', 'a');\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\n        if (securityLevel === 'sandbox') {\n          link.setAttributeNS('http://www.w3.org/2000/svg', 'target', '_top');\n        } else if (vertex.linkTarget) {\n          link.setAttributeNS('http://www.w3.org/2000/svg', 'target', vertex.linkTarget);\n        }\n\n        const linkNode = node.insert(function () {\n          return link;\n        }, ':first-child');\n\n        const shape = node.select('.label-container');\n        if (shape) {\n          linkNode.append(function () {\n            return shape.node();\n          });\n        }\n\n        const label = node.select('.label');\n        if (label) {\n          linkNode.append(function () {\n            return label.node();\n          });\n        }\n      }\n    }\n  });\n};\n\nexport default {\n  setConf,\n  addVertices,\n  addEdges,\n  getClasses,\n  draw,\n};\n","import graphlib from 'graphlib';\nimport { select, curveLinear, selectAll } from 'd3';\n\nimport flowDb from './flowDb';\nimport flow from './parser/flow';\nimport { getConfig } from '../../config';\n\nimport dagreD3 from 'dagre-d3';\nimport addHtmlLabel from 'dagre-d3/lib/label/add-html-label.js';\nimport { log } from '../../logger';\nimport common, { evaluate } from '../common/common';\nimport { interpolateToCurve, getStylesFromArray, configureSvgSize } from '../../utils';\nimport flowChartShapes from './flowChartShapes';\n\nconst conf = {};\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n  for (let i = 0; i < keys.length; i++) {\n    conf[keys[i]] = cnf[keys[i]];\n  }\n};\n\n/**\n * Function that adds the vertices found in the graph definition to the graph to be rendered.\n *\n * @param vert Object containing the vertices.\n * @param g The graph that is to be drawn.\n * @param svgId\n * @param root\n * @param doc\n * @param _doc\n */\nexport const addVertices = function (vert, g, svgId, root, _doc) {\n  const securityLevel = getConfig().securityLevel;\n\n  const svg = !root ? select(`[id=\"${svgId}\"]`) : root.select(`[id=\"${svgId}\"]`);\n  const doc = !_doc ? document : _doc;\n  const keys = Object.keys(vert);\n\n  // Iterate through each item in the vertex object (containing all the vertices found) in the graph definition\n  keys.forEach(function (id) {\n    const vertex = vert[id];\n\n    /**\n     * Variable for storing the classes for the vertex\n     *\n     * @type {string}\n     */\n    let classStr = 'default';\n    if (vertex.classes.length > 0) {\n      classStr = vertex.classes.join(' ');\n    }\n\n    const styles = getStylesFromArray(vertex.styles);\n\n    // Use vertex id as text in the box if no text is provided by the graph definition\n    let vertexText = vertex.text !== undefined ? vertex.text : vertex.id;\n\n    // We create a SVG label, either by delegating to addHtmlLabel or manually\n    let vertexNode;\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\n      // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\n      const node = {\n        label: vertexText.replace(\n          /fa[lrsb]?:fa-[\\w-]+/g,\n          (s) => `<i class='${s.replace(':', ' ')}'></i>`\n        ),\n      };\n      vertexNode = addHtmlLabel(svg, node).node();\n      vertexNode.parentNode.removeChild(vertexNode);\n    } else {\n      const svgLabel = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n      svgLabel.setAttribute('style', styles.labelStyle.replace('color:', 'fill:'));\n\n      const rows = vertexText.split(common.lineBreakRegex);\n\n      for (let j = 0; j < rows.length; j++) {\n        const tspan = doc.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n        tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        tspan.setAttribute('dy', '1em');\n        tspan.setAttribute('x', '1');\n        tspan.textContent = rows[j];\n        svgLabel.appendChild(tspan);\n      }\n      vertexNode = svgLabel;\n    }\n\n    let radious = 0;\n    let _shape = '';\n    // Set the shape based parameters\n    switch (vertex.type) {\n      case 'round':\n        radious = 5;\n        _shape = 'rect';\n        break;\n      case 'square':\n        _shape = 'rect';\n        break;\n      case 'diamond':\n        _shape = 'question';\n        break;\n      case 'hexagon':\n        _shape = 'hexagon';\n        break;\n      case 'odd':\n        _shape = 'rect_left_inv_arrow';\n        break;\n      case 'lean_right':\n        _shape = 'lean_right';\n        break;\n      case 'lean_left':\n        _shape = 'lean_left';\n        break;\n      case 'trapezoid':\n        _shape = 'trapezoid';\n        break;\n      case 'inv_trapezoid':\n        _shape = 'inv_trapezoid';\n        break;\n      case 'odd_right':\n        _shape = 'rect_left_inv_arrow';\n        break;\n      case 'circle':\n        _shape = 'circle';\n        break;\n      case 'ellipse':\n        _shape = 'ellipse';\n        break;\n      case 'stadium':\n        _shape = 'stadium';\n        break;\n      case 'subroutine':\n        _shape = 'subroutine';\n        break;\n      case 'cylinder':\n        _shape = 'cylinder';\n        break;\n      case 'group':\n        _shape = 'rect';\n        break;\n      default:\n        _shape = 'rect';\n    }\n    // Add the node\n    log.warn('Adding node', vertex.id, vertex.domId);\n    g.setNode(flowDb.lookUpDomId(vertex.id), {\n      labelType: 'svg',\n      labelStyle: styles.labelStyle,\n      shape: _shape,\n      label: vertexNode,\n      rx: radious,\n      ry: radious,\n      class: classStr,\n      style: styles.style,\n      id: flowDb.lookUpDomId(vertex.id),\n    });\n  });\n};\n\n/**\n * Add edges to graph based on parsed graph defninition\n *\n * @param {object} edges The edges to add to the graph\n * @param {object} g The graph object\n */\nexport const addEdges = function (edges, g) {\n  let cnt = 0;\n\n  let defaultStyle;\n  let defaultLabelStyle;\n\n  if (typeof edges.defaultStyle !== 'undefined') {\n    const defaultStyles = getStylesFromArray(edges.defaultStyle);\n    defaultStyle = defaultStyles.style;\n    defaultLabelStyle = defaultStyles.labelStyle;\n  }\n\n  edges.forEach(function (edge) {\n    cnt++;\n\n    // Identify Link\n    var linkId = 'L-' + edge.start + '-' + edge.end;\n    var linkNameStart = 'LS-' + edge.start;\n    var linkNameEnd = 'LE-' + edge.end;\n\n    const edgeData = {};\n\n    // Set link type for rendering\n    if (edge.type === 'arrow_open') {\n      edgeData.arrowhead = 'none';\n    } else {\n      edgeData.arrowhead = 'normal';\n    }\n\n    let style = '';\n    let labelStyle = '';\n\n    if (typeof edge.style !== 'undefined') {\n      const styles = getStylesFromArray(edge.style);\n      style = styles.style;\n      labelStyle = styles.labelStyle;\n    } else {\n      switch (edge.stroke) {\n        case 'normal':\n          style = 'fill:none';\n          if (typeof defaultStyle !== 'undefined') {\n            style = defaultStyle;\n          }\n          if (typeof defaultLabelStyle !== 'undefined') {\n            labelStyle = defaultLabelStyle;\n          }\n          break;\n        case 'dotted':\n          style = 'fill:none;stroke-width:2px;stroke-dasharray:3;';\n          break;\n        case 'thick':\n          style = ' stroke-width: 3.5px;fill:none';\n          break;\n      }\n    }\n\n    edgeData.style = style;\n    edgeData.labelStyle = labelStyle;\n\n    if (typeof edge.interpolate !== 'undefined') {\n      edgeData.curve = interpolateToCurve(edge.interpolate, curveLinear);\n    } else if (typeof edges.defaultInterpolate !== 'undefined') {\n      edgeData.curve = interpolateToCurve(edges.defaultInterpolate, curveLinear);\n    } else {\n      edgeData.curve = interpolateToCurve(conf.curve, curveLinear);\n    }\n\n    if (typeof edge.text === 'undefined') {\n      if (typeof edge.style !== 'undefined') {\n        edgeData.arrowheadStyle = 'fill: #333';\n      }\n    } else {\n      edgeData.arrowheadStyle = 'fill: #333';\n      edgeData.labelpos = 'c';\n\n      if (evaluate(getConfig().flowchart.htmlLabels)) {\n        edgeData.labelType = 'html';\n        edgeData.label = `<span id=\"L-${linkId}\" class=\"edgeLabel L-${linkNameStart}' L-${linkNameEnd}\">${edge.text.replace(\n          /fa[lrsb]?:fa-[\\w-]+/g,\n          (s) => `<i class='${s.replace(':', ' ')}'></i>`\n        )}</span>`;\n      } else {\n        edgeData.labelType = 'text';\n        edgeData.label = edge.text.replace(common.lineBreakRegex, '\\n');\n\n        if (typeof edge.style === 'undefined') {\n          edgeData.style = edgeData.style || 'stroke: #333; stroke-width: 1.5px;fill:none';\n        }\n\n        edgeData.labelStyle = edgeData.labelStyle.replace('color:', 'fill:');\n      }\n    }\n\n    edgeData.id = linkId;\n    edgeData.class = linkNameStart + ' ' + linkNameEnd;\n    edgeData.minlen = edge.length || 1;\n\n    // Add the edge to the graph\n    g.setEdge(flowDb.lookUpDomId(edge.start), flowDb.lookUpDomId(edge.end), edgeData, cnt);\n  });\n};\n\n/**\n * Returns the all the styles from classDef statements in the graph definition.\n *\n * @param text\n * @returns {object} ClassDef styles\n */\nexport const getClasses = function (text) {\n  log.info('Extracting classes');\n  flowDb.clear();\n  try {\n    const parser = flow.parser;\n    parser.yy = flowDb;\n\n    // Parse the graph definition\n    parser.parse(text);\n    return flowDb.getClasses();\n  } catch (e) {\n    return;\n  }\n};\n\n/**\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\n *\n * @param text\n * @param id\n */\nexport const draw = function (text, id) {\n  log.info('Drawing flowchart');\n  flowDb.clear();\n  flowDb.setGen('gen-1');\n  const parser = flow.parser;\n  parser.yy = flowDb;\n\n  const securityLevel = getConfig().securityLevel;\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  // Parse the graph definition\n  // try {\n  parser.parse(text);\n  // } catch (err) {\n  // log.debug('Parsing failed');\n  // }\n\n  // Fetch the default direction, use TD if none was found\n  let dir = flowDb.getDirection();\n  if (typeof dir === 'undefined') {\n    dir = 'TD';\n  }\n\n  const conf = getConfig().flowchart;\n  const nodeSpacing = conf.nodeSpacing || 50;\n  const rankSpacing = conf.rankSpacing || 50;\n\n  // Create the input mermaid.graph\n  const g = new graphlib.Graph({\n    multigraph: true,\n    compound: true,\n  })\n    .setGraph({\n      rankdir: dir,\n      nodesep: nodeSpacing,\n      ranksep: rankSpacing,\n      marginx: 8,\n      marginy: 8,\n    })\n    .setDefaultEdgeLabel(function () {\n      return {};\n    });\n\n  let subG;\n  const subGraphs = flowDb.getSubGraphs();\n  for (let i = subGraphs.length - 1; i >= 0; i--) {\n    subG = subGraphs[i];\n    flowDb.addVertex(subG.id, subG.title, 'group', undefined, subG.classes);\n  }\n\n  // Fetch the verices/nodes and edges/links from the parsed graph definition\n  const vert = flowDb.getVertices();\n  log.warn('Get vertices', vert);\n\n  const edges = flowDb.getEdges();\n\n  let i = 0;\n  for (i = subGraphs.length - 1; i >= 0; i--) {\n    subG = subGraphs[i];\n\n    selectAll('cluster').append('text');\n\n    for (let j = 0; j < subG.nodes.length; j++) {\n      log.warn(\n        'Setting subgraph',\n        subG.nodes[j],\n        flowDb.lookUpDomId(subG.nodes[j]),\n        flowDb.lookUpDomId(subG.id)\n      );\n      g.setParent(flowDb.lookUpDomId(subG.nodes[j]), flowDb.lookUpDomId(subG.id));\n    }\n  }\n  addVertices(vert, g, id, root, doc);\n  addEdges(edges, g);\n\n  // Create the renderer\n  const Render = dagreD3.render;\n  const render = new Render();\n\n  // Add custom shapes\n  flowChartShapes.addToRender(render);\n\n  // Add our custom arrow - an empty arrowhead\n  render.arrows().none = function normal(parent, id, edge, type) {\n    const marker = parent\n      .append('marker')\n      .attr('id', id)\n      .attr('viewBox', '0 0 10 10')\n      .attr('refX', 9)\n      .attr('refY', 5)\n      .attr('markerUnits', 'strokeWidth')\n      .attr('markerWidth', 8)\n      .attr('markerHeight', 6)\n      .attr('orient', 'auto');\n\n    const path = marker.append('path').attr('d', 'M 0 0 L 0 0 L 0 0 z');\n    dagreD3.util.applyStyle(path, edge[type + 'Style']);\n  };\n\n  // Override normal arrowhead defined in d3. Remove style & add class to allow css styling.\n  render.arrows().normal = function normal(parent, id) {\n    const marker = parent\n      .append('marker')\n      .attr('id', id)\n      .attr('viewBox', '0 0 10 10')\n      .attr('refX', 9)\n      .attr('refY', 5)\n      .attr('markerUnits', 'strokeWidth')\n      .attr('markerWidth', 8)\n      .attr('markerHeight', 6)\n      .attr('orient', 'auto');\n\n    marker\n      .append('path')\n      .attr('d', 'M 0 0 L 10 5 L 0 10 z')\n      .attr('class', 'arrowheadPath')\n      .style('stroke-width', 1)\n      .style('stroke-dasharray', '1,0');\n  };\n\n  // Set up an SVG group so that we can translate the final graph.\n  const svg = root.select(`[id=\"${id}\"]`);\n  svg.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n  log.warn(g);\n\n  // Run the renderer. This is what draws the final graph.\n  const element = root.select('#' + id + ' g');\n  render(element, g);\n\n  element.selectAll('g.node').attr('title', function () {\n    return flowDb.getTooltip(this.id);\n  });\n\n  const padding = conf.diagramPadding;\n  const svgBounds = svg.node().getBBox();\n  const width = svgBounds.width + padding * 2;\n  const height = svgBounds.height + padding * 2;\n\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\n\n  // Ensure the viewBox includes the whole svgBounds area with extra space for padding\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`;\n  log.debug(`viewBox ${vBox}`);\n  svg.attr('viewBox', vBox);\n\n  // Index nodes\n  flowDb.indexNodes('subGraph' + i);\n\n  // reposition labels\n  for (i = 0; i < subGraphs.length; i++) {\n    subG = subGraphs[i];\n    if (subG.title !== 'undefined') {\n      const clusterRects = doc.querySelectorAll(\n        '#' + id + ' [id=\"' + flowDb.lookUpDomId(subG.id) + '\"] rect'\n      );\n      const clusterEl = doc.querySelectorAll(\n        '#' + id + ' [id=\"' + flowDb.lookUpDomId(subG.id) + '\"]'\n      );\n\n      const xPos = clusterRects[0].x.baseVal.value;\n      const yPos = clusterRects[0].y.baseVal.value;\n      const width = clusterRects[0].width.baseVal.value;\n      const cluster = select(clusterEl[0]);\n      const te = cluster.select('.label');\n      te.attr('transform', `translate(${xPos + width / 2}, ${yPos + 14})`);\n      te.attr('id', id + 'Text');\n\n      for (let j = 0; j < subG.classes.length; j++) {\n        clusterEl[0].classList.add(subG.classes[j]);\n      }\n    }\n  }\n\n  // Add label rects for non html labels\n  if (!evaluate(conf.htmlLabels) || true) { // eslint-disable-line\n    const labels = doc.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n    for (let k = 0; k < labels.length; k++) {\n      const label = labels[k];\n\n      // Get dimensions of label\n      const dim = label.getBBox();\n\n      const rect = doc.createElementNS('http://www.w3.org/2000/svg', 'rect');\n      rect.setAttribute('rx', 0);\n      rect.setAttribute('ry', 0);\n      rect.setAttribute('width', dim.width);\n      rect.setAttribute('height', dim.height);\n      // rect.setAttribute('style', 'fill:#e8e8e8;');\n\n      label.insertBefore(rect, label.firstChild);\n    }\n  }\n\n  // If node has a link, wrap it in an anchor SVG object.\n  const keys = Object.keys(vert);\n  keys.forEach(function (key) {\n    const vertex = vert[key];\n\n    if (vertex.link) {\n      const node = root.select('#' + id + ' [id=\"' + flowDb.lookUpDomId(key) + '\"]');\n      if (node) {\n        const link = doc.createElementNS('http://www.w3.org/2000/svg', 'a');\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'class', vertex.classes.join(' '));\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'href', vertex.link);\n        link.setAttributeNS('http://www.w3.org/2000/svg', 'rel', 'noopener');\n        if (securityLevel === 'sandbox') {\n          link.setAttributeNS('http://www.w3.org/2000/svg', 'target', '_top');\n        } else if (vertex.linkTarget) {\n          link.setAttributeNS('http://www.w3.org/2000/svg', 'target', vertex.linkTarget);\n        }\n\n        const linkNode = node.insert(function () {\n          return link;\n        }, ':first-child');\n\n        const shape = node.select('.label-container');\n        if (shape) {\n          linkNode.append(function () {\n            return shape.node();\n          });\n        }\n\n        const label = node.select('.label');\n        if (label) {\n          linkNode.append(function () {\n            return label.node();\n          });\n        }\n      }\n    }\n  });\n};\n\nexport default {\n  setConf,\n  addVertices,\n  addEdges,\n  getClasses,\n  draw,\n};\n","/**\n * Returns the styles given options\n *\n * @param {{\n *   fontFamily: string;\n *   nodeTextColor: string;\n *   textColor: string;\n *   titleColor: string;\n *   mainBkg: string;\n *   nodeBorder: string;\n *   arrowheadColor: string;\n *   lineColor: string;\n *   edgeLabelBackground: string;\n *   clusterBkg: string;\n *   clusterBorder: string;\n *   tertiaryColor: string;\n *   border2: string;\n * }} options\n *   The options for the styles\n * @returns {string} The resulting styles\n */\nconst getStyles = (options) =>\n  `.label {\n    font-family: ${options.fontFamily};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n  .cluster-label text {\n    fill: ${options.titleColor};\n  }\n  .cluster-label span {\n    color: ${options.titleColor};\n  }\n\n  .label text,span {\n    fill: ${options.nodeTextColor || options.textColor};\n    color: ${options.nodeTextColor || options.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${options.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${options.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${options.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${options.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${options.edgeLabelBackground};\n      fill: ${options.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ${options.clusterBkg};\n    stroke: ${options.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${options.titleColor};\n  }\n\n  .cluster span {\n    color: ${options.titleColor};\n  }\n  /* .cluster div {\n    color: ${options.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${options.fontFamily};\n    font-size: 12px;\n    background: ${options.tertiaryColor};\n    border: 1px solid ${options.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n`;\n\nexport default getStyles;\n","import moment from 'moment-mini';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\nimport { log } from '../../logger';\nimport * as configApi from '../../config';\nimport utils from '../../utils';\nimport mermaidAPI from '../../mermaidAPI';\n\nlet dateFormat = '';\nlet axisFormat = '';\nlet todayMarker = '';\nlet includes = [];\nlet excludes = [];\nlet links = {};\nlet title = '';\nlet sections = [];\nlet tasks = [];\nlet currentSection = '';\nconst tags = ['active', 'done', 'crit', 'milestone'];\nlet funs = [];\nlet inclusiveEndDates = false;\nlet topAxis = false;\n\n// The serial order of the task in the script\nlet lastOrder = 0;\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nexport const clear = function () {\n  sections = [];\n  tasks = [];\n  currentSection = '';\n  funs = [];\n  title = '';\n  taskCnt = 0;\n  lastTask = undefined;\n  lastTaskID = undefined;\n  rawTasks = [];\n  dateFormat = '';\n  axisFormat = '';\n  todayMarker = '';\n  includes = [];\n  excludes = [];\n  inclusiveEndDates = false;\n  topAxis = false;\n  lastOrder = 0;\n  links = {};\n};\n\nexport const setAxisFormat = function (txt) {\n  axisFormat = txt;\n};\n\nexport const getAxisFormat = function () {\n  return axisFormat;\n};\n\nexport const setTodayMarker = function (txt) {\n  todayMarker = txt;\n};\n\nexport const getTodayMarker = function () {\n  return todayMarker;\n};\n\nexport const setDateFormat = function (txt) {\n  dateFormat = txt;\n};\n\nexport const enableInclusiveEndDates = function () {\n  inclusiveEndDates = true;\n};\n\nexport const endDatesAreInclusive = function () {\n  return inclusiveEndDates;\n};\n\nexport const enableTopAxis = function () {\n  topAxis = true;\n};\n\nexport const topAxisEnabled = function () {\n  return topAxis;\n};\n\nexport const getDateFormat = function () {\n  return dateFormat;\n};\n\nexport const setIncludes = function (txt) {\n  includes = txt.toLowerCase().split(/[\\s,]+/);\n};\n\nexport const getIncludes = function () {\n  return includes;\n};\nexport const setExcludes = function (txt) {\n  excludes = txt.toLowerCase().split(/[\\s,]+/);\n};\n\nexport const getExcludes = function () {\n  return excludes;\n};\n\nexport const getLinks = function () {\n  return links;\n};\n\nexport const setTitle = function (txt) {\n  title = txt;\n};\n\nexport const getTitle = function () {\n  return title;\n};\n\nexport const addSection = function (txt) {\n  currentSection = txt;\n  sections.push(txt);\n};\n\nexport const getSections = function () {\n  return sections;\n};\n\nexport const getTasks = function () {\n  let allItemsPricessed = compileTasks();\n  const maxDepth = 10;\n  let iterationCount = 0;\n  while (!allItemsPricessed && iterationCount < maxDepth) {\n    allItemsPricessed = compileTasks();\n    iterationCount++;\n  }\n\n  tasks = rawTasks;\n\n  return tasks;\n};\n\nexport const isInvalidDate = function (date, dateFormat, excludes, includes) {\n  if (includes.indexOf(date.format(dateFormat.trim())) >= 0) {\n    return false;\n  }\n  if (date.isoWeekday() >= 6 && excludes.indexOf('weekends') >= 0) {\n    return true;\n  }\n  if (excludes.indexOf(date.format('dddd').toLowerCase()) >= 0) {\n    return true;\n  }\n  return excludes.indexOf(date.format(dateFormat.trim())) >= 0;\n};\n\nconst checkTaskDates = function (task, dateFormat, excludes, includes) {\n  if (!excludes.length || task.manualEndTime) return;\n  let startTime = moment(task.startTime, dateFormat, true);\n  startTime.add(1, 'd');\n  let endTime = moment(task.endTime, dateFormat, true);\n  let renderEndTime = fixTaskDates(startTime, endTime, dateFormat, excludes, includes);\n  task.endTime = endTime.toDate();\n  task.renderEndTime = renderEndTime;\n};\n\nconst fixTaskDates = function (startTime, endTime, dateFormat, excludes, includes) {\n  let invalid = false;\n  let renderEndTime = null;\n  while (startTime <= endTime) {\n    if (!invalid) {\n      renderEndTime = endTime.toDate();\n    }\n    invalid = isInvalidDate(startTime, dateFormat, excludes, includes);\n    if (invalid) {\n      endTime.add(1, 'd');\n    }\n    startTime.add(1, 'd');\n  }\n  return renderEndTime;\n};\n\nconst getStartDate = function (prevTime, dateFormat, str) {\n  str = str.trim();\n\n  // Test for after\n  const re = /^after\\s+([\\d\\w- ]+)/;\n  const afterStatement = re.exec(str.trim());\n\n  if (afterStatement !== null) {\n    // check all after ids and take the latest\n    let latestEndingTask = null;\n    afterStatement[1].split(' ').forEach(function (id) {\n      let task = findTaskById(id);\n      if (typeof task !== 'undefined') {\n        if (!latestEndingTask) {\n          latestEndingTask = task;\n        } else {\n          if (task.endTime > latestEndingTask.endTime) {\n            latestEndingTask = task;\n          }\n        }\n      }\n    });\n\n    if (!latestEndingTask) {\n      const dt = new Date();\n      dt.setHours(0, 0, 0, 0);\n      return dt;\n    } else {\n      return latestEndingTask.endTime;\n    }\n  }\n\n  // Check for actual date set\n  let mDate = moment(str, dateFormat.trim(), true);\n  if (mDate.isValid()) {\n    return mDate.toDate();\n  } else {\n    log.debug('Invalid date:' + str);\n    log.debug('With date format:' + dateFormat.trim());\n  }\n\n  // Default date - now\n  return new Date();\n};\n\nconst durationToDate = function (durationStatement, relativeTime) {\n  if (durationStatement !== null) {\n    switch (durationStatement[2]) {\n      case 's':\n        relativeTime.add(durationStatement[1], 'seconds');\n        break;\n      case 'm':\n        relativeTime.add(durationStatement[1], 'minutes');\n        break;\n      case 'h':\n        relativeTime.add(durationStatement[1], 'hours');\n        break;\n      case 'd':\n        relativeTime.add(durationStatement[1], 'days');\n        break;\n      case 'w':\n        relativeTime.add(durationStatement[1], 'weeks');\n        break;\n    }\n  }\n  // Default date - now\n  return relativeTime.toDate();\n};\n\nconst getEndDate = function (prevTime, dateFormat, str, inclusive) {\n  inclusive = inclusive || false;\n  str = str.trim();\n\n  // Check for actual date\n  let mDate = moment(str, dateFormat.trim(), true);\n  if (mDate.isValid()) {\n    if (inclusive) {\n      mDate.add(1, 'd');\n    }\n    return mDate.toDate();\n  }\n\n  return durationToDate(/^([\\d]+)([wdhms])/.exec(str.trim()), moment(prevTime));\n};\n\nlet taskCnt = 0;\nconst parseId = function (idStr) {\n  if (typeof idStr === 'undefined') {\n    taskCnt = taskCnt + 1;\n    return 'task' + taskCnt;\n  }\n  return idStr;\n};\n// id, startDate, endDate\n// id, startDate, length\n// id, after x, endDate\n// id, after x, length\n// startDate, endDate\n// startDate, length\n// after x, endDate\n// after x, length\n// endDate\n// length\n\nconst compileData = function (prevTask, dataStr) {\n  let ds;\n\n  if (dataStr.substr(0, 1) === ':') {\n    ds = dataStr.substr(1, dataStr.length);\n  } else {\n    ds = dataStr;\n  }\n\n  const data = ds.split(',');\n\n  const task = {};\n\n  // Get tags like active, done, crit and milestone\n  getTaskTags(data, task, tags);\n\n  for (let i = 0; i < data.length; i++) {\n    data[i] = data[i].trim();\n  }\n\n  let endTimeData = '';\n  switch (data.length) {\n    case 1:\n      task.id = parseId();\n      task.startTime = prevTask.endTime;\n      endTimeData = data[0];\n      break;\n    case 2:\n      task.id = parseId();\n      task.startTime = getStartDate(undefined, dateFormat, data[0]);\n      endTimeData = data[1];\n      break;\n    case 3:\n      task.id = parseId(data[0]);\n      task.startTime = getStartDate(undefined, dateFormat, data[1]);\n      endTimeData = data[2];\n      break;\n    default:\n  }\n\n  if (endTimeData) {\n    task.endTime = getEndDate(task.startTime, dateFormat, endTimeData, inclusiveEndDates);\n    task.manualEndTime = moment(endTimeData, 'YYYY-MM-DD', true).isValid();\n    checkTaskDates(task, dateFormat, excludes, includes);\n  }\n\n  return task;\n};\n\nconst parseData = function (prevTaskId, dataStr) {\n  let ds;\n  if (dataStr.substr(0, 1) === ':') {\n    ds = dataStr.substr(1, dataStr.length);\n  } else {\n    ds = dataStr;\n  }\n\n  const data = ds.split(',');\n\n  const task = {};\n\n  // Get tags like active, done, crit and milestone\n  getTaskTags(data, task, tags);\n\n  for (let i = 0; i < data.length; i++) {\n    data[i] = data[i].trim();\n  }\n\n  switch (data.length) {\n    case 1:\n      task.id = parseId();\n      task.startTime = {\n        type: 'prevTaskEnd',\n        id: prevTaskId,\n      };\n      task.endTime = {\n        data: data[0],\n      };\n      break;\n    case 2:\n      task.id = parseId();\n      task.startTime = {\n        type: 'getStartDate',\n        startData: data[0],\n      };\n      task.endTime = {\n        data: data[1],\n      };\n      break;\n    case 3:\n      task.id = parseId(data[0]);\n      task.startTime = {\n        type: 'getStartDate',\n        startData: data[1],\n      };\n      task.endTime = {\n        data: data[2],\n      };\n      break;\n    default:\n  }\n\n  return task;\n};\n\nlet lastTask;\nlet lastTaskID;\nlet rawTasks = [];\nconst taskDb = {};\nexport const addTask = function (descr, data) {\n  const rawTask = {\n    section: currentSection,\n    type: currentSection,\n    processed: false,\n    manualEndTime: false,\n    renderEndTime: null,\n    raw: { data: data },\n    task: descr,\n    classes: [],\n  };\n  const taskInfo = parseData(lastTaskID, data);\n  rawTask.raw.startTime = taskInfo.startTime;\n  rawTask.raw.endTime = taskInfo.endTime;\n  rawTask.id = taskInfo.id;\n  rawTask.prevTaskId = lastTaskID;\n  rawTask.active = taskInfo.active;\n  rawTask.done = taskInfo.done;\n  rawTask.crit = taskInfo.crit;\n  rawTask.milestone = taskInfo.milestone;\n  rawTask.order = lastOrder;\n\n  lastOrder++;\n\n  const pos = rawTasks.push(rawTask);\n\n  lastTaskID = rawTask.id;\n  // Store cross ref\n  taskDb[rawTask.id] = pos - 1;\n};\n\nexport const findTaskById = function (id) {\n  const pos = taskDb[id];\n  return rawTasks[pos];\n};\n\nexport const addTaskOrg = function (descr, data) {\n  const newTask = {\n    section: currentSection,\n    type: currentSection,\n    description: descr,\n    task: descr,\n    classes: [],\n  };\n  const taskInfo = compileData(lastTask, data);\n  newTask.startTime = taskInfo.startTime;\n  newTask.endTime = taskInfo.endTime;\n  newTask.id = taskInfo.id;\n  newTask.active = taskInfo.active;\n  newTask.done = taskInfo.done;\n  newTask.crit = taskInfo.crit;\n  newTask.milestone = taskInfo.milestone;\n  lastTask = newTask;\n  tasks.push(newTask);\n};\n\nconst compileTasks = function () {\n  const compileTask = function (pos) {\n    const task = rawTasks[pos];\n    let startTime = '';\n    switch (rawTasks[pos].raw.startTime.type) {\n      case 'prevTaskEnd': {\n        const prevTask = findTaskById(task.prevTaskId);\n        task.startTime = prevTask.endTime;\n        break;\n      }\n      case 'getStartDate':\n        startTime = getStartDate(undefined, dateFormat, rawTasks[pos].raw.startTime.startData);\n        if (startTime) {\n          rawTasks[pos].startTime = startTime;\n        }\n        break;\n    }\n\n    if (rawTasks[pos].startTime) {\n      rawTasks[pos].endTime = getEndDate(\n        rawTasks[pos].startTime,\n        dateFormat,\n        rawTasks[pos].raw.endTime.data,\n        inclusiveEndDates\n      );\n      if (rawTasks[pos].endTime) {\n        rawTasks[pos].processed = true;\n        rawTasks[pos].manualEndTime = moment(\n          rawTasks[pos].raw.endTime.data,\n          'YYYY-MM-DD',\n          true\n        ).isValid();\n        checkTaskDates(rawTasks[pos], dateFormat, excludes, includes);\n      }\n    }\n\n    return rawTasks[pos].processed;\n  };\n\n  let allProcessed = true;\n  for (let i = 0; i < rawTasks.length; i++) {\n    compileTask(i);\n\n    allProcessed = allProcessed && rawTasks[i].processed;\n  }\n  return allProcessed;\n};\n\n/**\n * Called by parser when a link is found. Adds the URL to the vertex data.\n *\n * @param ids Comma separated list of ids\n * @param _linkStr URL to create a link for\n */\nexport const setLink = function (ids, _linkStr) {\n  let linkStr = _linkStr;\n  if (configApi.getConfig().securityLevel !== 'loose') {\n    linkStr = sanitizeUrl(_linkStr);\n  }\n  ids.split(',').forEach(function (id) {\n    let rawTask = findTaskById(id);\n    if (typeof rawTask !== 'undefined') {\n      pushFun(id, () => {\n        window.open(linkStr, '_self');\n      });\n      links[id] = linkStr;\n    }\n  });\n  setClass(ids, 'clickable');\n};\n\n/**\n * Called by parser when a special node is found, e.g. a clickable element.\n *\n * @param ids Comma separated list of ids\n * @param className Class to add\n */\nexport const setClass = function (ids, className) {\n  ids.split(',').forEach(function (id) {\n    let rawTask = findTaskById(id);\n    if (typeof rawTask !== 'undefined') {\n      rawTask.classes.push(className);\n    }\n  });\n};\n\nconst setClickFun = function (id, functionName, functionArgs) {\n  if (configApi.getConfig().securityLevel !== 'loose') {\n    return;\n  }\n  if (typeof functionName === 'undefined') {\n    return;\n  }\n\n  let argList = [];\n  if (typeof functionArgs === 'string') {\n    /* Splits functionArgs by ',', ignoring all ',' in double quoted strings */\n    argList = functionArgs.split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\n    for (let i = 0; i < argList.length; i++) {\n      let item = argList[i].trim();\n      /* Removes all double quotes at the start and end of an argument */\n      /* This preserves all starting and ending whitespace inside */\n      if (item.charAt(0) === '\"' && item.charAt(item.length - 1) === '\"') {\n        item = item.substr(1, item.length - 2);\n      }\n      argList[i] = item;\n    }\n  }\n\n  /* if no arguments passed into callback, default to passing in id */\n  if (argList.length === 0) {\n    argList.push(id);\n  }\n\n  let rawTask = findTaskById(id);\n  if (typeof rawTask !== 'undefined') {\n    pushFun(id, () => {\n      utils.runFunc(functionName, ...argList);\n    });\n  }\n};\n\n/**\n * The callbackFunction is executed in a click event bound to the task with the specified id or the\n * task's assigned text\n *\n * @param id The task's id\n * @param callbackFunction A function to be executed when clicked on the task or the task's text\n */\nconst pushFun = function (id, callbackFunction) {\n  funs.push(function () {\n    // const elem = d3.select(element).select(`[id=\"${id}\"]`)\n    const elem = document.querySelector(`[id=\"${id}\"]`);\n    if (elem !== null) {\n      elem.addEventListener('click', function () {\n        callbackFunction();\n      });\n    }\n  });\n  funs.push(function () {\n    // const elem = d3.select(element).select(`[id=\"${id}-text\"]`)\n    const elem = document.querySelector(`[id=\"${id}-text\"]`);\n    if (elem !== null) {\n      elem.addEventListener('click', function () {\n        callbackFunction();\n      });\n    }\n  });\n};\n\n/**\n * Called by parser when a click definition is found. Registers an event handler.\n *\n * @param ids Comma separated list of ids\n * @param functionName Function to be called on click\n * @param functionArgs Function args the function should be called with\n */\nexport const setClickEvent = function (ids, functionName, functionArgs) {\n  ids.split(',').forEach(function (id) {\n    setClickFun(id, functionName, functionArgs);\n  });\n  setClass(ids, 'clickable');\n};\n\n/**\n * Binds all functions previously added to fun (specified through click) to the element\n *\n * @param element\n */\nexport const bindFunctions = function (element) {\n  funs.forEach(function (fun) {\n    fun(element);\n  });\n};\n\nexport default {\n  parseDirective,\n  getConfig: () => configApi.getConfig().gantt,\n  clear,\n  setDateFormat,\n  getDateFormat,\n  enableInclusiveEndDates,\n  endDatesAreInclusive,\n  enableTopAxis,\n  topAxisEnabled,\n  setAxisFormat,\n  getAxisFormat,\n  setTodayMarker,\n  getTodayMarker,\n  setTitle,\n  getTitle,\n  addSection,\n  getSections,\n  getTasks,\n  addTask,\n  findTaskById,\n  addTaskOrg,\n  setIncludes,\n  getIncludes,\n  setExcludes,\n  getExcludes,\n  setClickEvent,\n  setLink,\n  getLinks,\n  bindFunctions,\n  durationToDate,\n  isInvalidDate,\n};\n\n/**\n * @param data\n * @param task\n * @param tags\n */\nfunction getTaskTags(data, task, tags) {\n  let matchFound = true;\n  while (matchFound) {\n    matchFound = false;\n    tags.forEach(function (t) {\n      const pattern = '^\\\\s*' + t + '\\\\s*$';\n      const regex = new RegExp(pattern);\n      if (data[0].match(regex)) {\n        task[t] = true;\n        data.shift(1);\n        matchFound = true;\n      }\n    });\n  }\n}\n","import moment from 'moment-mini';\nimport {\n  select,\n  scaleTime,\n  min,\n  max,\n  scaleLinear,\n  interpolateHcl,\n  axisBottom,\n  axisTop,\n  timeFormat,\n} from 'd3';\nimport { parser } from './parser/gantt';\nimport common from '../common/common';\nimport ganttDb from './ganttDb';\nimport { getConfig } from '../../config';\nimport { configureSvgSize } from '../../utils';\n\nparser.yy = ganttDb;\nexport const setConf = function () {\n  // const keys = Object.keys(cnf);\n  // keys.forEach(function(key) {\n  //   conf[key] = cnf[key];\n  // });\n};\nlet w;\nexport const draw = function (text, id) {\n  const conf = getConfig().gantt;\n  parser.yy.clear();\n  parser.parse(text);\n\n  const securityLevel = getConfig().securityLevel;\n  // Handle root and ocument for when rendering in sanbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  const elem = doc.getElementById(id);\n  w = elem.parentElement.offsetWidth;\n\n  if (typeof w === 'undefined') {\n    w = 1200;\n  }\n\n  if (typeof conf.useWidth !== 'undefined') {\n    w = conf.useWidth;\n  }\n\n  const taskArray = parser.yy.getTasks();\n\n  // Set height based on number of tasks\n  const h = taskArray.length * (conf.barHeight + conf.barGap) + 2 * conf.topPadding;\n\n  // Set viewBox\n  elem.setAttribute('viewBox', '0 0 ' + w + ' ' + h);\n  const svg = root.select(`[id=\"${id}\"]`);\n\n  // Set timescale\n  const timeScale = scaleTime()\n    .domain([\n      min(taskArray, function (d) {\n        return d.startTime;\n      }),\n      max(taskArray, function (d) {\n        return d.endTime;\n      }),\n    ])\n    .rangeRound([0, w - conf.leftPadding - conf.rightPadding]);\n\n  let categories = [];\n\n  for (let i = 0; i < taskArray.length; i++) {\n    categories.push(taskArray[i].type);\n  }\n\n  const catsUnfiltered = categories; // for vert labels\n\n  categories = checkUnique(categories);\n\n  /**\n   * @param a\n   * @param b\n   */\n  function taskCompare(a, b) {\n    const taskA = a.startTime;\n    const taskB = b.startTime;\n    let result = 0;\n    if (taskA > taskB) {\n      result = 1;\n    } else if (taskA < taskB) {\n      result = -1;\n    }\n    return result;\n  }\n\n  // Sort the task array using the above taskCompare() so that\n  // tasks are created based on their order of startTime\n  taskArray.sort(taskCompare);\n\n  makeGant(taskArray, w, h);\n\n  configureSvgSize(svg, h, w, conf.useMaxWidth);\n\n  svg\n    .append('text')\n    .text(parser.yy.getTitle())\n    .attr('x', w / 2)\n    .attr('y', conf.titleTopMargin)\n    .attr('class', 'titleText');\n\n  /**\n   * @param tasks\n   * @param pageWidth\n   * @param pageHeight\n   */\n  function makeGant(tasks, pageWidth, pageHeight) {\n    const barHeight = conf.barHeight;\n    const gap = barHeight + conf.barGap;\n    const topPadding = conf.topPadding;\n    const leftPadding = conf.leftPadding;\n\n    const colorScale = scaleLinear()\n      .domain([0, categories.length])\n      .range(['#00B9FA', '#F95002'])\n      .interpolate(interpolateHcl);\n\n    drawExcludeDays(\n      gap,\n      topPadding,\n      leftPadding,\n      pageWidth,\n      pageHeight,\n      tasks,\n      parser.yy.getExcludes(),\n      parser.yy.getIncludes()\n    );\n    makeGrid(leftPadding, topPadding, pageWidth, pageHeight);\n    drawRects(tasks, gap, topPadding, leftPadding, barHeight, colorScale, pageWidth, pageHeight);\n    vertLabels(gap, topPadding, leftPadding, barHeight, colorScale);\n    drawToday(leftPadding, topPadding, pageWidth, pageHeight);\n  }\n\n  /**\n   * @param theArray\n   * @param theGap\n   * @param theTopPad\n   * @param theSidePad\n   * @param theBarHeight\n   * @param theColorScale\n   * @param w\n   */\n  function drawRects(theArray, theGap, theTopPad, theSidePad, theBarHeight, theColorScale, w) {\n    // Draw background rects covering the entire width of the graph, these form the section rows.\n    svg\n      .append('g')\n      .selectAll('rect')\n      .data(theArray)\n      .enter()\n      .append('rect')\n      .attr('x', 0)\n      .attr('y', function (d, i) {\n        // Ignore the incoming i value and use our order instead\n        i = d.order;\n        return i * theGap + theTopPad - 2;\n      })\n      .attr('width', function () {\n        return w - conf.rightPadding / 2;\n      })\n      .attr('height', theGap)\n      .attr('class', function (d) {\n        for (let i = 0; i < categories.length; i++) {\n          if (d.type === categories[i]) {\n            return 'section section' + (i % conf.numberSectionStyles);\n          }\n        }\n        return 'section section0';\n      });\n\n    // Draw the rects representing the tasks\n    const rectangles = svg.append('g').selectAll('rect').data(theArray).enter();\n\n    const links = ganttDb.getLinks();\n\n    // Render the tasks with links\n    // Render the other tasks\n    rectangles\n      .append('rect')\n      .attr('id', function (d) {\n        return d.id;\n      })\n      .attr('rx', 3)\n      .attr('ry', 3)\n      .attr('x', function (d) {\n        if (d.milestone) {\n          return (\n            timeScale(d.startTime) +\n            theSidePad +\n            0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) -\n            0.5 * theBarHeight\n          );\n        }\n        return timeScale(d.startTime) + theSidePad;\n      })\n      .attr('y', function (d, i) {\n        // Ignore the incoming i value and use our order instead\n        i = d.order;\n        return i * theGap + theTopPad;\n      })\n      .attr('width', function (d) {\n        if (d.milestone) {\n          return theBarHeight;\n        }\n        return timeScale(d.renderEndTime || d.endTime) - timeScale(d.startTime);\n      })\n      .attr('height', theBarHeight)\n      .attr('transform-origin', function (d, i) {\n        // Ignore the incoming i value and use our order instead\n        i = d.order;\n\n        return (\n          (\n            timeScale(d.startTime) +\n            theSidePad +\n            0.5 * (timeScale(d.endTime) - timeScale(d.startTime))\n          ).toString() +\n          'px ' +\n          (i * theGap + theTopPad + 0.5 * theBarHeight).toString() +\n          'px'\n        );\n      })\n      .attr('class', function (d) {\n        const res = 'task';\n\n        let classStr = '';\n        if (d.classes.length > 0) {\n          classStr = d.classes.join(' ');\n        }\n\n        let secNum = 0;\n        for (let i = 0; i < categories.length; i++) {\n          if (d.type === categories[i]) {\n            secNum = i % conf.numberSectionStyles;\n          }\n        }\n\n        let taskClass = '';\n        if (d.active) {\n          if (d.crit) {\n            taskClass += ' activeCrit';\n          } else {\n            taskClass = ' active';\n          }\n        } else if (d.done) {\n          if (d.crit) {\n            taskClass = ' doneCrit';\n          } else {\n            taskClass = ' done';\n          }\n        } else {\n          if (d.crit) {\n            taskClass += ' crit';\n          }\n        }\n\n        if (taskClass.length === 0) {\n          taskClass = ' task';\n        }\n\n        if (d.milestone) {\n          taskClass = ' milestone ' + taskClass;\n        }\n\n        taskClass += secNum;\n\n        taskClass += ' ' + classStr;\n\n        return res + taskClass;\n      });\n\n    // Append task labels\n    rectangles\n      .append('text')\n      .attr('id', function (d) {\n        return d.id + '-text';\n      })\n      .text(function (d) {\n        return d.task;\n      })\n      .attr('font-size', conf.fontSize)\n      .attr('x', function (d) {\n        let startX = timeScale(d.startTime);\n        let endX = timeScale(d.renderEndTime || d.endTime);\n        if (d.milestone) {\n          startX += 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;\n        }\n        if (d.milestone) {\n          endX = startX + theBarHeight;\n        }\n        const textWidth = this.getBBox().width;\n\n        // Check id text width > width of rectangle\n        if (textWidth > endX - startX) {\n          if (endX + textWidth + 1.5 * conf.leftPadding > w) {\n            return startX + theSidePad - 5;\n          } else {\n            return endX + theSidePad + 5;\n          }\n        } else {\n          return (endX - startX) / 2 + startX + theSidePad;\n        }\n      })\n      .attr('y', function (d, i) {\n        // Ignore the incoming i value and use our order instead\n        i = d.order;\n        return i * theGap + conf.barHeight / 2 + (conf.fontSize / 2 - 2) + theTopPad;\n      })\n      .attr('text-height', theBarHeight)\n      .attr('class', function (d) {\n        const startX = timeScale(d.startTime);\n        let endX = timeScale(d.endTime);\n        if (d.milestone) {\n          endX = startX + theBarHeight;\n        }\n        const textWidth = this.getBBox().width;\n\n        let classStr = '';\n        if (d.classes.length > 0) {\n          classStr = d.classes.join(' ');\n        }\n\n        let secNum = 0;\n        for (let i = 0; i < categories.length; i++) {\n          if (d.type === categories[i]) {\n            secNum = i % conf.numberSectionStyles;\n          }\n        }\n\n        let taskType = '';\n        if (d.active) {\n          if (d.crit) {\n            taskType = 'activeCritText' + secNum;\n          } else {\n            taskType = 'activeText' + secNum;\n          }\n        }\n\n        if (d.done) {\n          if (d.crit) {\n            taskType = taskType + ' doneCritText' + secNum;\n          } else {\n            taskType = taskType + ' doneText' + secNum;\n          }\n        } else {\n          if (d.crit) {\n            taskType = taskType + ' critText' + secNum;\n          }\n        }\n\n        if (d.milestone) {\n          taskType += ' milestoneText';\n        }\n\n        // Check id text width > width of rectangle\n        if (textWidth > endX - startX) {\n          if (endX + textWidth + 1.5 * conf.leftPadding > w) {\n            return classStr + ' taskTextOutsideLeft taskTextOutside' + secNum + ' ' + taskType;\n          } else {\n            return (\n              classStr +\n              ' taskTextOutsideRight taskTextOutside' +\n              secNum +\n              ' ' +\n              taskType +\n              ' width-' +\n              textWidth\n            );\n          }\n        } else {\n          return classStr + ' taskText taskText' + secNum + ' ' + taskType + ' width-' + textWidth;\n        }\n      });\n\n    const securityLevel = getConfig().securityLevel;\n\n    // Wrap the tasks in an a tag for working links without javascript\n    if (securityLevel === 'sandbox') {\n      let sandboxElement;\n      sandboxElement = select('#i' + id);\n      const root = select(sandboxElement.nodes()[0].contentDocument.body);\n      const doc = sandboxElement.nodes()[0].contentDocument;\n\n      rectangles\n        .filter(function (d) {\n          return typeof links[d.id] !== 'undefined';\n        })\n        .each(function (o) {\n          var taskRect = doc.querySelector('#' + o.id);\n          var taskText = doc.querySelector('#' + o.id + '-text');\n          const oldParent = taskRect.parentNode;\n          var Link = doc.createElement('a');\n          Link.setAttribute('xlink:href', links[o.id]);\n          Link.setAttribute('target', '_top');\n          oldParent.appendChild(Link);\n          Link.appendChild(taskRect);\n          Link.appendChild(taskText);\n        });\n    }\n  }\n  /**\n   * @param theGap\n   * @param theTopPad\n   * @param theSidePad\n   * @param w\n   * @param h\n   * @param tasks\n   * @param excludes\n   * @param includes\n   */\n  function drawExcludeDays(theGap, theTopPad, theSidePad, w, h, tasks, excludes, includes) {\n    const minTime = tasks.reduce(\n      (min, { startTime }) => (min ? Math.min(min, startTime) : startTime),\n      0\n    );\n    const maxTime = tasks.reduce((max, { endTime }) => (max ? Math.max(max, endTime) : endTime), 0);\n    const dateFormat = parser.yy.getDateFormat();\n    if (!minTime || !maxTime) return;\n\n    const excludeRanges = [];\n    let range = null;\n    let d = moment(minTime);\n    while (d.valueOf() <= maxTime) {\n      if (parser.yy.isInvalidDate(d, dateFormat, excludes, includes)) {\n        if (!range) {\n          range = {\n            start: d.clone(),\n            end: d.clone(),\n          };\n        } else {\n          range.end = d.clone();\n        }\n      } else {\n        if (range) {\n          excludeRanges.push(range);\n          range = null;\n        }\n      }\n      d.add(1, 'd');\n    }\n\n    const rectangles = svg.append('g').selectAll('rect').data(excludeRanges).enter();\n\n    rectangles\n      .append('rect')\n      .attr('id', function (d) {\n        return 'exclude-' + d.start.format('YYYY-MM-DD');\n      })\n      .attr('x', function (d) {\n        return timeScale(d.start) + theSidePad;\n      })\n      .attr('y', conf.gridLineStartPadding)\n      .attr('width', function (d) {\n        const renderEnd = d.end.clone().add(1, 'day');\n        return timeScale(renderEnd) - timeScale(d.start);\n      })\n      .attr('height', h - theTopPad - conf.gridLineStartPadding)\n      .attr('transform-origin', function (d, i) {\n        return (\n          (\n            timeScale(d.start) +\n            theSidePad +\n            0.5 * (timeScale(d.end) - timeScale(d.start))\n          ).toString() +\n          'px ' +\n          (i * theGap + 0.5 * h).toString() +\n          'px'\n        );\n      })\n      .attr('class', 'exclude-range');\n  }\n\n  /**\n   * @param theSidePad\n   * @param theTopPad\n   * @param w\n   * @param h\n   */\n  function makeGrid(theSidePad, theTopPad, w, h) {\n    let bottomXAxis = axisBottom(timeScale)\n      .tickSize(-h + theTopPad + conf.gridLineStartPadding)\n      .tickFormat(timeFormat(parser.yy.getAxisFormat() || conf.axisFormat || '%Y-%m-%d'));\n\n    svg\n      .append('g')\n      .attr('class', 'grid')\n      .attr('transform', 'translate(' + theSidePad + ', ' + (h - 50) + ')')\n      .call(bottomXAxis)\n      .selectAll('text')\n      .style('text-anchor', 'middle')\n      .attr('fill', '#000')\n      .attr('stroke', 'none')\n      .attr('font-size', 10)\n      .attr('dy', '1em');\n\n    if (ganttDb.topAxisEnabled() || conf.topAxis) {\n      let topXAxis = axisTop(timeScale)\n        .tickSize(-h + theTopPad + conf.gridLineStartPadding)\n        .tickFormat(timeFormat(parser.yy.getAxisFormat() || conf.axisFormat || '%Y-%m-%d'));\n\n      svg\n        .append('g')\n        .attr('class', 'grid')\n        .attr('transform', 'translate(' + theSidePad + ', ' + theTopPad + ')')\n        .call(topXAxis)\n        .selectAll('text')\n        .style('text-anchor', 'middle')\n        .attr('fill', '#000')\n        .attr('stroke', 'none')\n        .attr('font-size', 10);\n      // .attr('dy', '1em');\n    }\n  }\n\n  /**\n   * @param theGap\n   * @param theTopPad\n   */\n  function vertLabels(theGap, theTopPad) {\n    const numOccurances = [];\n    let prevGap = 0;\n\n    for (let i = 0; i < categories.length; i++) {\n      numOccurances[i] = [categories[i], getCount(categories[i], catsUnfiltered)];\n    }\n\n    svg\n      .append('g') // without doing this, impossible to put grid lines behind text\n      .selectAll('text')\n      .data(numOccurances)\n      .enter()\n      .append(function (d) {\n        const rows = d[0].split(common.lineBreakRegex);\n        const dy = -(rows.length - 1) / 2;\n\n        const svgLabel = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n        svgLabel.setAttribute('dy', dy + 'em');\n\n        for (let j = 0; j < rows.length; j++) {\n          const tspan = doc.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n          tspan.setAttribute('alignment-baseline', 'central');\n          tspan.setAttribute('x', '10');\n          if (j > 0) tspan.setAttribute('dy', '1em');\n          tspan.textContent = rows[j];\n          svgLabel.appendChild(tspan);\n        }\n        return svgLabel;\n      })\n      .attr('x', 10)\n      .attr('y', function (d, i) {\n        if (i > 0) {\n          for (let j = 0; j < i; j++) {\n            prevGap += numOccurances[i - 1][1];\n            return (d[1] * theGap) / 2 + prevGap * theGap + theTopPad;\n          }\n        } else {\n          return (d[1] * theGap) / 2 + theTopPad;\n        }\n      })\n      .attr('font-size', conf.sectionFontSize)\n      .attr('font-size', conf.sectionFontSize)\n      .attr('class', function (d) {\n        for (let i = 0; i < categories.length; i++) {\n          if (d[0] === categories[i]) {\n            return 'sectionTitle sectionTitle' + (i % conf.numberSectionStyles);\n          }\n        }\n        return 'sectionTitle';\n      });\n  }\n\n  /**\n   * @param theSidePad\n   * @param theTopPad\n   * @param w\n   * @param h\n   */\n  function drawToday(theSidePad, theTopPad, w, h) {\n    const todayMarker = ganttDb.getTodayMarker();\n    if (todayMarker === 'off') {\n      return;\n    }\n\n    const todayG = svg.append('g').attr('class', 'today');\n    const today = new Date();\n    const todayLine = todayG.append('line');\n\n    todayLine\n      .attr('x1', timeScale(today) + theSidePad)\n      .attr('x2', timeScale(today) + theSidePad)\n      .attr('y1', conf.titleTopMargin)\n      .attr('y2', h - conf.titleTopMargin)\n      .attr('class', 'today');\n\n    if (todayMarker !== '') {\n      todayLine.attr('style', todayMarker.replace(/,/g, ';'));\n    }\n  }\n\n  /**\n   * From this stackexchange question:\n   * http://stackoverflow.com/questions/1890203/unique-for-arrays-in-javascript\n   *\n   * @param arr\n   */\n  function checkUnique(arr) {\n    const hash = {};\n    const result = [];\n    for (let i = 0, l = arr.length; i < l; ++i) {\n      if (!Object.prototype.hasOwnProperty.call(hash, arr[i])) {\n        // eslint-disable-line\n        // it works with objects! in FF, at least\n        hash[arr[i]] = true;\n        result.push(arr[i]);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * From this stackexchange question:\n   * http://stackoverflow.com/questions/14227981/count-how-many-strings-in-an-array-have-duplicates-in-the-same-array\n   *\n   * @param arr\n   */\n  function getCounts(arr) {\n    let i = arr.length; // const to loop over\n    const obj = {}; // obj to store results\n    while (i) {\n      obj[arr[--i]] = (obj[arr[i]] || 0) + 1; // count occurrences\n    }\n    return obj;\n  }\n\n  /**\n   * Get specific from everything\n   *\n   * @param word\n   * @param arr\n   */\n  function getCount(word, arr) {\n    return getCounts(arr)[word] || 0;\n  }\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","const getStyles = (options) =>\n  `\n  .mermaid-main-font {\n    font-family: \"trebuchet ms\", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: ${options.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${options.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${options.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${options.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${options.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ${options.ganttFontSize};\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${options.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ${options.fontFamily};\n      fill: ${options.textColor};\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${options.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ${options.ganttFontSize};\n  // }\n\n  .taskTextOutsideRight {\n    fill: ${options.taskTextDarkColor};\n    text-anchor: start;\n    // font-size: ${options.ganttFontSize};\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${options.taskTextDarkColor};\n    text-anchor: end;\n    // font-size: ${options.ganttFontSize};\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${options.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${options.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${options.taskBkgColor};\n    stroke: ${options.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${options.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${options.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${options.activeTaskBkgColor};\n    stroke: ${options.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${options.doneTaskBorderColor};\n    fill: ${options.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${options.critBorderColor};\n    fill: ${options.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${options.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${options.textColor}    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n`;\n\nexport default getStyles;\n","import { log } from '../../logger';\nimport { random } from '../../utils';\nlet commits = {};\nlet head = null;\nlet branches = { master: head };\nlet curBranch = 'master';\nlet direction = 'LR';\nlet seq = 0;\n\nfunction getId() {\n  return random({ length: 7 });\n}\n\n/**\n * @param currentCommit\n * @param otherCommit\n */\nfunction isfastforwardable(currentCommit, otherCommit) {\n  log.debug('Entering isfastforwardable:', currentCommit.id, otherCommit.id);\n  let cnt = 0;\n  while (currentCommit.seq <= otherCommit.seq && currentCommit !== otherCommit && cnt < 1000) {\n    cnt++;\n    // only if other branch has more commits\n    if (otherCommit.parent == null) break;\n    if (Array.isArray(otherCommit.parent)) {\n      log.debug('In merge commit:', otherCommit.parent);\n      return (\n        isfastforwardable(currentCommit, commits[otherCommit.parent[0]]) ||\n        isfastforwardable(currentCommit, commits[otherCommit.parent[1]])\n      );\n    } else {\n      otherCommit = commits[otherCommit.parent];\n    }\n  }\n  log.debug(currentCommit.id, otherCommit.id);\n  return currentCommit.id === otherCommit.id;\n}\n\n/**\n * @param currentCommit\n * @param otherCommit\n */\nfunction isReachableFrom(currentCommit, otherCommit) {\n  const currentSeq = currentCommit.seq;\n  const otherSeq = otherCommit.seq;\n  if (currentSeq > otherSeq) return isfastforwardable(otherCommit, currentCommit);\n  return false;\n}\n\n/**\n * @param list\n * @param fn\n */\nfunction uniqBy(list, fn) {\n  const recordMap = Object.create(null);\n  return list.reduce((out, item) => {\n    const key = fn(item);\n    if (!recordMap[key]) {\n      recordMap[key] = true;\n      out.push(item);\n    }\n    return out;\n  }, []);\n}\n\nexport const setDirection = function (dir) {\n  direction = dir;\n};\nlet options = {};\nexport const setOptions = function (rawOptString) {\n  log.debug('options str', rawOptString);\n  rawOptString = rawOptString && rawOptString.trim();\n  rawOptString = rawOptString || '{}';\n  try {\n    options = JSON.parse(rawOptString);\n  } catch (e) {\n    log.error('error while parsing gitGraph options', e.message);\n  }\n};\n\nexport const getOptions = function () {\n  return options;\n};\n\nexport const commit = function (msg) {\n  const commit = {\n    id: getId(),\n    message: msg,\n    seq: seq++,\n    parent: head == null ? null : head.id,\n  };\n  head = commit;\n  commits[commit.id] = commit;\n  branches[curBranch] = commit.id;\n  log.debug('in pushCommit ' + commit.id);\n};\n\nexport const branch = function (name) {\n  branches[name] = head != null ? head.id : null;\n  log.debug('in createBranch');\n};\n\nexport const merge = function (otherBranch) {\n  const currentCommit = commits[branches[curBranch]];\n  const otherCommit = commits[branches[otherBranch]];\n  if (isReachableFrom(currentCommit, otherCommit)) {\n    log.debug('Already merged');\n    return;\n  }\n  if (isfastforwardable(currentCommit, otherCommit)) {\n    branches[curBranch] = branches[otherBranch];\n    head = commits[branches[curBranch]];\n  } else {\n    // create merge commit\n    const commit = {\n      id: getId(),\n      message: 'merged branch ' + otherBranch + ' into ' + curBranch,\n      seq: seq++,\n      parent: [head == null ? null : head.id, branches[otherBranch]],\n    };\n    head = commit;\n    commits[commit.id] = commit;\n    branches[curBranch] = commit.id;\n  }\n  log.debug(branches);\n  log.debug('in mergeBranch');\n};\n\nexport const checkout = function (branch) {\n  log.debug('in checkout');\n  curBranch = branch;\n  const id = branches[curBranch];\n  head = commits[id];\n};\n\nexport const reset = function (commitRef) {\n  log.debug('in reset', commitRef);\n  const ref = commitRef.split(':')[0];\n  let parentCount = parseInt(commitRef.split(':')[1]);\n  let commit = ref === 'HEAD' ? head : commits[branches[ref]];\n  log.debug(commit, parentCount);\n  while (parentCount > 0) {\n    commit = commits[commit.parent];\n    parentCount--;\n    if (!commit) {\n      const err = 'Critical error - unique parent commit not found during reset';\n      log.error(err);\n      throw err;\n    }\n  }\n  head = commit;\n  branches[curBranch] = commit.id;\n};\n\n/**\n * @param arr\n * @param key\n * @param newval\n */\nfunction upsert(arr, key, newval) {\n  const index = arr.indexOf(key);\n  if (index === -1) {\n    arr.push(newval);\n  } else {\n    arr.splice(index, 1, newval);\n  }\n}\n\n/** @param commitArr */\nfunction prettyPrintCommitHistory(commitArr) {\n  const commit = commitArr.reduce((out, commit) => {\n    if (out.seq > commit.seq) return out;\n    return commit;\n  }, commitArr[0]);\n  let line = '';\n  commitArr.forEach(function (c) {\n    if (c === commit) {\n      line += '\\t*';\n    } else {\n      line += '\\t|';\n    }\n  });\n  const label = [line, commit.id, commit.seq];\n  for (let branch in branches) {\n    if (branches[branch] === commit.id) label.push(branch);\n  }\n  log.debug(label.join(' '));\n  if (Array.isArray(commit.parent)) {\n    const newCommit = commits[commit.parent[0]];\n    upsert(commitArr, commit, newCommit);\n    commitArr.push(commits[commit.parent[1]]);\n  } else if (commit.parent == null) {\n    return;\n  } else {\n    const nextCommit = commits[commit.parent];\n    upsert(commitArr, commit, nextCommit);\n  }\n  commitArr = uniqBy(commitArr, (c) => c.id);\n  prettyPrintCommitHistory(commitArr);\n}\n\nexport const prettyPrint = function () {\n  log.debug(commits);\n  const node = getCommitsArray()[0];\n  prettyPrintCommitHistory([node]);\n};\n\nexport const clear = function () {\n  commits = {};\n  head = null;\n  branches = { master: head };\n  curBranch = 'master';\n  seq = 0;\n};\n\nexport const getBranchesAsObjArray = function () {\n  const branchArr = [];\n  for (let branch in branches) {\n    branchArr.push({ name: branch, commit: commits[branches[branch]] });\n  }\n  return branchArr;\n};\n\nexport const getBranches = function () {\n  return branches;\n};\nexport const getCommits = function () {\n  return commits;\n};\nexport const getCommitsArray = function () {\n  const commitArr = Object.keys(commits).map(function (key) {\n    return commits[key];\n  });\n  commitArr.forEach(function (o) {\n    log.debug(o.id);\n  });\n  commitArr.sort((a, b) => b.seq - a.seq);\n  return commitArr;\n};\nexport const getCurrentBranch = function () {\n  return curBranch;\n};\nexport const getDirection = function () {\n  return direction;\n};\nexport const getHead = function () {\n  return head;\n};\n\nexport default {\n  setDirection,\n  setOptions,\n  getOptions,\n  commit,\n  branch,\n  merge,\n  checkout,\n  reset,\n  prettyPrint,\n  clear,\n  getBranchesAsObjArray,\n  getBranches,\n  getCommits,\n  getCommitsArray,\n  getCurrentBranch,\n  getDirection,\n  getHead,\n};\n","import { curveBasis, line, select } from 'd3';\n\nimport db from './gitGraphAst';\nimport gitGraphParser from './parser/gitGraph';\nimport { log } from '../../logger';\nimport { interpolateToCurve } from '../../utils';\nimport { getConfig } from '../../config';\n\nlet allCommitsDict = {};\nlet branchNum;\nlet config = {\n  nodeSpacing: 150,\n  nodeFillColor: 'yellow',\n  nodeStrokeWidth: 2,\n  nodeStrokeColor: 'grey',\n  lineStrokeWidth: 4,\n  branchOffset: 50,\n  lineColor: 'grey',\n  leftMargin: 50,\n  branchColors: ['#442f74', '#983351', '#609732', '#AA9A39'],\n  nodeRadius: 10,\n  nodeLabel: {\n    width: 75,\n    height: 100,\n    x: -25,\n    y: 0,\n  },\n};\nlet apiConfig = {};\nexport const setConf = function (c) {\n  apiConfig = c;\n};\n\n/** @param svg */\nfunction svgCreateDefs(svg) {\n  svg\n    .append('defs')\n    .append('g')\n    .attr('id', 'def-commit')\n    .append('circle')\n    .attr('r', config.nodeRadius)\n    .attr('cx', 0)\n    .attr('cy', 0);\n  svg\n    .select('#def-commit')\n    .append('foreignObject')\n    .attr('width', config.nodeLabel.width)\n    .attr('height', config.nodeLabel.height)\n    .attr('x', config.nodeLabel.x)\n    .attr('y', config.nodeLabel.y)\n    .attr('class', 'node-label')\n    .attr('requiredFeatures', 'http://www.w3.org/TR/SVG11/feature#Extensibility')\n    .append('p')\n    .html('');\n}\n\n/**\n * @param svg\n * @param points\n * @param colorIdx\n * @param interpolate\n */\nfunction svgDrawLine(svg, points, colorIdx, interpolate) {\n  const curve = interpolateToCurve(interpolate, curveBasis);\n  const color = config.branchColors[colorIdx % config.branchColors.length];\n  const lineGen = line()\n    .x(function (d) {\n      return Math.round(d.x);\n    })\n    .y(function (d) {\n      return Math.round(d.y);\n    })\n    .curve(curve);\n\n  svg\n    .append('svg:path')\n    .attr('d', lineGen(points))\n    .style('stroke', color)\n    .style('stroke-width', config.lineStrokeWidth)\n    .style('fill', 'none');\n}\n\n/**\n * Pass in the element and its pre-transform coords\n *\n * @param element\n * @param coords\n */\nfunction getElementCoords(element, coords) {\n  coords = coords || element.node().getBBox();\n  const ctm = element.node().getCTM();\n  const xn = ctm.e + coords.x * ctm.a;\n  const yn = ctm.f + coords.y * ctm.d;\n  return {\n    left: xn,\n    top: yn,\n    width: coords.width,\n    height: coords.height,\n  };\n}\n\n/**\n * @param svg\n * @param fromId\n * @param toId\n * @param direction\n * @param color\n */\nfunction svgDrawLineForCommits(svg, fromId, toId, direction, color) {\n  log.debug('svgDrawLineForCommits: ', fromId, toId);\n  const fromBbox = getElementCoords(svg.select('#node-' + fromId + ' circle'));\n  const toBbox = getElementCoords(svg.select('#node-' + toId + ' circle'));\n  switch (direction) {\n    case 'LR':\n      // (toBbox)\n      //  +--------\n      //          + (fromBbox)\n      if (fromBbox.left - toBbox.left > config.nodeSpacing) {\n        const lineStart = {\n          x: fromBbox.left - config.nodeSpacing,\n          y: toBbox.top + toBbox.height / 2,\n        };\n        const lineEnd = { x: toBbox.left + toBbox.width, y: toBbox.top + toBbox.height / 2 };\n        svgDrawLine(svg, [lineStart, lineEnd], color, 'linear');\n        svgDrawLine(\n          svg,\n          [\n            { x: fromBbox.left, y: fromBbox.top + fromBbox.height / 2 },\n            { x: fromBbox.left - config.nodeSpacing / 2, y: fromBbox.top + fromBbox.height / 2 },\n            { x: fromBbox.left - config.nodeSpacing / 2, y: lineStart.y },\n            lineStart,\n          ],\n          color\n        );\n      } else {\n        svgDrawLine(\n          svg,\n          [\n            {\n              x: fromBbox.left,\n              y: fromBbox.top + fromBbox.height / 2,\n            },\n            {\n              x: fromBbox.left - config.nodeSpacing / 2,\n              y: fromBbox.top + fromBbox.height / 2,\n            },\n            {\n              x: fromBbox.left - config.nodeSpacing / 2,\n              y: toBbox.top + toBbox.height / 2,\n            },\n            {\n              x: toBbox.left + toBbox.width,\n              y: toBbox.top + toBbox.height / 2,\n            },\n          ],\n          color\n        );\n      }\n      break;\n    case 'BT':\n      //      +           (fromBbox)\n      //      |\n      //      |\n      //              +   (toBbox)\n      if (toBbox.top - fromBbox.top > config.nodeSpacing) {\n        const lineStart = {\n          x: toBbox.left + toBbox.width / 2,\n          y: fromBbox.top + fromBbox.height + config.nodeSpacing,\n        };\n        const lineEnd = { x: toBbox.left + toBbox.width / 2, y: toBbox.top };\n        svgDrawLine(svg, [lineStart, lineEnd], color, 'linear');\n        svgDrawLine(\n          svg,\n          [\n            { x: fromBbox.left + fromBbox.width / 2, y: fromBbox.top + fromBbox.height },\n            {\n              x: fromBbox.left + fromBbox.width / 2,\n              y: fromBbox.top + fromBbox.height + config.nodeSpacing / 2,\n            },\n            { x: toBbox.left + toBbox.width / 2, y: lineStart.y - config.nodeSpacing / 2 },\n            lineStart,\n          ],\n          color\n        );\n      } else {\n        svgDrawLine(\n          svg,\n          [\n            {\n              x: fromBbox.left + fromBbox.width / 2,\n              y: fromBbox.top + fromBbox.height,\n            },\n            {\n              x: fromBbox.left + fromBbox.width / 2,\n              y: fromBbox.top + config.nodeSpacing / 2,\n            },\n            {\n              x: toBbox.left + toBbox.width / 2,\n              y: toBbox.top - config.nodeSpacing / 2,\n            },\n            {\n              x: toBbox.left + toBbox.width / 2,\n              y: toBbox.top,\n            },\n          ],\n          color\n        );\n      }\n      break;\n  }\n}\n\n/**\n * @param svg\n * @param selector\n */\nfunction cloneNode(svg, selector) {\n  return svg.select(selector).node().cloneNode(true);\n}\n\n/**\n * @param svg\n * @param commitid\n * @param branches\n * @param direction\n */\nfunction renderCommitHistory(svg, commitid, branches, direction) {\n  let commit;\n  const numCommits = Object.keys(allCommitsDict).length;\n  if (typeof commitid === 'string') {\n    let cnt = 0;\n    do {\n      cnt++;\n      commit = allCommitsDict[commitid];\n      log.debug('in renderCommitHistory', commit.id, commit.seq);\n      if (svg.select('#node-' + commitid).size() > 0) {\n        return;\n      }\n      svg\n        .append(function () {\n          return cloneNode(svg, '#def-commit');\n        })\n        .attr('class', 'commit')\n        .attr('id', function () {\n          return 'node-' + commit.id;\n        })\n        .attr('transform', function () {\n          switch (direction) {\n            case 'LR':\n              return (\n                'translate(' +\n                (commit.seq * config.nodeSpacing + config.leftMargin) +\n                ', ' +\n                branchNum * config.branchOffset +\n                ')'\n              );\n            case 'BT':\n              return (\n                'translate(' +\n                (branchNum * config.branchOffset + config.leftMargin) +\n                ', ' +\n                (numCommits - commit.seq) * config.nodeSpacing +\n                ')'\n              );\n          }\n        })\n        .attr('fill', config.nodeFillColor)\n        .attr('stroke', config.nodeStrokeColor)\n        .attr('stroke-width', config.nodeStrokeWidth);\n\n      let branch;\n      for (let branchName in branches) {\n        if (branches[branchName].commit === commit) {\n          branch = branches[branchName];\n          break;\n        }\n      }\n      if (branch) {\n        log.debug('found branch ', branch.name);\n        svg\n          .select('#node-' + commit.id + ' p')\n          .append('xhtml:span')\n          .attr('class', 'branch-label')\n          .text(branch.name + ', ');\n      }\n      svg\n        .select('#node-' + commit.id + ' p')\n        .append('xhtml:span')\n        .attr('class', 'commit-id')\n        .text(commit.id);\n      if (commit.message !== '' && direction === 'BT') {\n        svg\n          .select('#node-' + commit.id + ' p')\n          .append('xhtml:span')\n          .attr('class', 'commit-msg')\n          .text(', ' + commit.message);\n      }\n      commitid = commit.parent;\n    } while (commitid && allCommitsDict[commitid] && cnt < 1000);\n  }\n\n  if (Array.isArray(commitid)) {\n    log.debug('found merge commmit', commitid);\n    renderCommitHistory(svg, commitid[0], branches, direction);\n    branchNum++;\n    renderCommitHistory(svg, commitid[1], branches, direction);\n    branchNum--;\n  }\n}\n\n/**\n * @param svg\n * @param commit\n * @param direction\n * @param branchColor\n */\nfunction renderLines(svg, commit, direction, branchColor) {\n  branchColor = branchColor || 0;\n  let cnt = 0;\n  while (commit.seq > 0 && !commit.lineDrawn && cnt < 1000) {\n    cnt++;\n    if (typeof commit.parent === 'string') {\n      svgDrawLineForCommits(svg, commit.id, commit.parent, direction, branchColor);\n      commit.lineDrawn = true;\n      commit = allCommitsDict[commit.parent];\n    } else if (Array.isArray(commit.parent)) {\n      svgDrawLineForCommits(svg, commit.id, commit.parent[0], direction, branchColor);\n      svgDrawLineForCommits(svg, commit.id, commit.parent[1], direction, branchColor + 1);\n      renderLines(svg, allCommitsDict[commit.parent[1]], direction, branchColor + 1);\n      commit.lineDrawn = true;\n      commit = allCommitsDict[commit.parent[0]];\n    }\n  }\n}\n\nexport const draw = function (txt, id, ver) {\n  try {\n    const parser = gitGraphParser.parser;\n    parser.yy = db;\n    parser.yy.clear();\n\n    const securityLevel = getConfig().securityLevel;\n    // Handle root and ocument for when rendering in sanbox mode\n    let sandboxElement;\n    if (securityLevel === 'sandbox') {\n      sandboxElement = select('#i' + id);\n    }\n    const root =\n      securityLevel === 'sandbox'\n        ? select(sandboxElement.nodes()[0].contentDocument.body)\n        : select('body');\n    const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n    log.debug('in gitgraph renderer', txt + '\\n', 'id:', id, ver);\n    // Parse the graph definition\n    parser.parse(txt + '\\n');\n\n    config = Object.assign(config, apiConfig, db.getOptions());\n    log.debug('effective options', config);\n    const direction = db.getDirection();\n    allCommitsDict = db.getCommits();\n    const branches = db.getBranchesAsObjArray();\n    if (direction === 'BT') {\n      config.nodeLabel.x = branches.length * config.branchOffset;\n      config.nodeLabel.width = '100%';\n      config.nodeLabel.y = -1 * 2 * config.nodeRadius;\n    }\n    const svg = root.select(`[id=\"${id}\"]`);\n    svgCreateDefs(svg);\n    branchNum = 1;\n    for (let branch in branches) {\n      const v = branches[branch];\n      renderCommitHistory(svg, v.commit.id, branches, direction);\n      renderLines(svg, v.commit, direction);\n      branchNum++;\n    }\n    svg.attr('height', function () {\n      if (direction === 'BT') return Object.keys(allCommitsDict).length * config.nodeSpacing;\n      return (branches.length + 1) * config.branchOffset;\n    });\n  } catch (e) {\n    log.error('Error while rendering gitgraph');\n    log.error(e.message);\n  }\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","const getStyles = () =>\r\n  `\r\n  .commit-id,\r\n  .commit-msg,\r\n  .branch-label {\r\n    fill: lightgrey;\r\n    color: lightgrey;\r\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\r\n    font-family: var(--mermaid-font-family);\r\n  }\r\n`;\r\n\r\nexport default getStyles;\r\n","/** Created by knut on 15-01-14. */\nimport { log } from '../../logger';\n\nvar message = '';\nvar info = false;\n\nexport const setMessage = (txt) => {\n  log.debug('Setting message to: ' + txt);\n  message = txt;\n};\n\nexport const getMessage = () => {\n  return message;\n};\n\nexport const setInfo = (inf) => {\n  info = inf;\n};\n\nexport const getInfo = () => {\n  return info;\n};\n\n// export const parseError = (err, hash) => {\n//   global.mermaidAPI.parseError(err, hash)\n// }\n\nexport default {\n  setMessage,\n  getMessage,\n  setInfo,\n  getInfo,\n  // parseError\n};\n","/** Created by knut on 14-12-11. */\nimport { select } from 'd3';\nimport db from './infoDb';\nimport infoParser from './parser/info';\nimport { log } from '../../logger';\nimport { getConfig } from '../../config';\n\nconst conf = {};\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n\n  keys.forEach(function (key) {\n    conf[key] = cnf[key];\n  });\n};\n\n/**\n * Draws a an info picture in the tag with id: id based on the graph definition in text.\n *\n * @param {any} text\n * @param {any} id\n * @param {any} version\n */\nexport const draw = (text, id, version) => {\n  try {\n    const parser = infoParser.parser;\n    parser.yy = db;\n    log.debug('Renering info diagram\\n' + text);\n\n    const securityLevel = getConfig().securityLevel;\n    // Handle root and ocument for when rendering in sanbox mode\n    let sandboxElement;\n    if (securityLevel === 'sandbox') {\n      sandboxElement = select('#i' + id);\n    }\n    const root =\n      securityLevel === 'sandbox'\n        ? select(sandboxElement.nodes()[0].contentDocument.body)\n        : select('body');\n    const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n    // Parse the graph definition\n    parser.parse(text);\n    log.debug('Parsed info diagram');\n    // Fetch the default direction, use TD if none was found\n    const svg = root.select('#' + id);\n\n    const g = svg.append('g');\n\n    g.append('text') // text label for the x axis\n      .attr('x', 100)\n      .attr('y', 40)\n      .attr('class', 'version')\n      .attr('font-size', '32px')\n      .style('text-anchor', 'middle')\n      .text('v ' + version);\n\n    svg.attr('height', 100);\n    svg.attr('width', 400);\n    // svg.attr('viewBox', '0 0 300 150');\n  } catch (e) {\n    log.error('Error while rendering info diagram');\n    log.error(e.message);\n  }\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","const getStyles = () => ``;\r\n\r\nexport default getStyles;\r\n","import { log } from '../../logger';\nimport mermaidAPI from '../../mermaidAPI';\nimport * as configApi from '../../config';\n\nlet sections = {};\nlet title = '';\nlet showData = false;\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nconst addSection = function (id, value) {\n  if (typeof sections[id] === 'undefined') {\n    sections[id] = value;\n    log.debug('Added new section :', id);\n  }\n};\nconst getSections = () => sections;\n\nconst setTitle = function (txt) {\n  title = txt;\n};\n\nconst setShowData = function (toggle) {\n  showData = toggle;\n};\n\nconst getShowData = function () {\n  return showData;\n};\n\nconst getTitle = function () {\n  return title;\n};\nconst cleanupValue = function (value) {\n  if (value.substring(0, 1) === ':') {\n    value = value.substring(1).trim();\n    return Number(value.trim());\n  } else {\n    return Number(value.trim());\n  }\n};\n\nconst clear = function () {\n  sections = {};\n  title = '';\n  showData = false;\n};\n// export const parseError = (err, hash) => {\n//   global.mermaidAPI.parseError(err, hash)\n// }\n\nexport default {\n  parseDirective,\n  getConfig: () => configApi.getConfig().pie,\n  addSection,\n  getSections,\n  cleanupValue,\n  clear,\n  setTitle,\n  getTitle,\n  setShowData,\n  getShowData,\n  // parseError\n};\n","/** Created by AshishJ on 11-09-2019. */\nimport { select, scaleOrdinal, pie as d3pie, arc } from 'd3';\nimport pieData from './pieDb';\nimport pieParser from './parser/pie';\nimport { log } from '../../logger';\nimport { configureSvgSize } from '../../utils';\nimport * as configApi from '../../config';\n\nlet conf = configApi.getConfig();\n\n/**\n * Draws a Pie Chart with the data given in text.\n *\n * @param text\n * @param id\n */\nlet width;\nconst height = 450;\nexport const draw = (txt, id) => {\n  try {\n    conf = configApi.getConfig();\n    const parser = pieParser.parser;\n    parser.yy = pieData;\n    log.debug('Rendering info diagram\\n' + txt);\n\n    const securityLevel = configApi.getConfig().securityLevel;\n    // Handle root and ocument for when rendering in sanbox mode\n    let sandboxElement;\n    if (securityLevel === 'sandbox') {\n      sandboxElement = select('#i' + id);\n    }\n    const root =\n      securityLevel === 'sandbox'\n        ? select(sandboxElement.nodes()[0].contentDocument.body)\n        : select('body');\n    const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n    // Parse the Pie Chart definition\n    parser.yy.clear();\n    parser.parse(txt);\n    log.debug('Parsed info diagram');\n    const elem = doc.getElementById(id);\n    width = elem.parentElement.offsetWidth;\n\n    if (typeof width === 'undefined') {\n      width = 1200;\n    }\n\n    if (typeof conf.useWidth !== 'undefined') {\n      width = conf.useWidth;\n    }\n    if (typeof conf.pie.useWidth !== 'undefined') {\n      width = conf.pie.useWidth;\n    }\n\n    const diagram = root.select('#' + id);\n    configureSvgSize(diagram, height, width, conf.pie.useMaxWidth);\n\n    // Set viewBox\n    elem.setAttribute('viewBox', '0 0 ' + width + ' ' + height);\n\n    // Fetch the default direction, use TD if none was found\n    var margin = 40;\n    var legendRectSize = 18;\n    var legendSpacing = 4;\n\n    var radius = Math.min(width, height) / 2 - margin;\n\n    var svg = diagram\n      .append('g')\n      .attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');\n\n    var data = pieData.getSections();\n    var sum = 0;\n    Object.keys(data).forEach(function (key) {\n      sum += data[key];\n    });\n\n    const themeVariables = conf.themeVariables;\n    var myGeneratedColors = [\n      themeVariables.pie1,\n      themeVariables.pie2,\n      themeVariables.pie3,\n      themeVariables.pie4,\n      themeVariables.pie5,\n      themeVariables.pie6,\n      themeVariables.pie7,\n      themeVariables.pie8,\n      themeVariables.pie9,\n      themeVariables.pie10,\n      themeVariables.pie11,\n      themeVariables.pie12,\n    ];\n\n    // Set the color scale\n    var color = scaleOrdinal().range(myGeneratedColors);\n\n    // Compute the position of each group on the pie:\n    var pie = d3pie().value(function (d) {\n      return d[1];\n    });\n    var dataReady = pie(Object.entries(data));\n\n    // Shape helper to build arcs:\n    var arcGenerator = arc().innerRadius(0).outerRadius(radius);\n\n    // Build the pie chart: each part of the pie is a path that we build using the arc function.\n    svg\n      .selectAll('mySlices')\n      .data(dataReady)\n      .enter()\n      .append('path')\n      .attr('d', arcGenerator)\n      .attr('fill', function (d) {\n        return color(d.data[0]);\n      })\n      .attr('class', 'pieCircle');\n\n    // Now add the percentage.\n    // Use the centroid method to get the best coordinates.\n    svg\n      .selectAll('mySlices')\n      .data(dataReady)\n      .enter()\n      .append('text')\n      .text(function (d) {\n        return ((d.data[1] / sum) * 100).toFixed(0) + '%';\n      })\n      .attr('transform', function (d) {\n        return 'translate(' + arcGenerator.centroid(d) + ')';\n      })\n      .style('text-anchor', 'middle')\n      .attr('class', 'slice');\n\n    svg\n      .append('text')\n      .text(parser.yy.getTitle())\n      .attr('x', 0)\n      .attr('y', -(height - 50) / 2)\n      .attr('class', 'pieTitleText');\n\n    // Add the legends/annotations for each section\n    var legend = svg\n      .selectAll('.legend')\n      .data(color.domain())\n      .enter()\n      .append('g')\n      .attr('class', 'legend')\n      .attr('transform', function (d, i) {\n        var height = legendRectSize + legendSpacing;\n        var offset = (height * color.domain().length) / 2;\n        var horz = 12 * legendRectSize;\n        var vert = i * height - offset;\n        return 'translate(' + horz + ',' + vert + ')';\n      });\n\n    legend\n      .append('rect')\n      .attr('width', legendRectSize)\n      .attr('height', legendRectSize)\n      .style('fill', color)\n      .style('stroke', color);\n\n    legend\n      .data(dataReady)\n      .append('text')\n      .attr('x', legendRectSize + legendSpacing)\n      .attr('y', legendRectSize - legendSpacing)\n      .text(function (d) {\n        if (parser.yy.getShowData() || conf.showData || conf.pie.showData) {\n          return d.data[0] + ' [' + d.data[1] + ']';\n        } else {\n          return d.data[0];\n        }\n      });\n  } catch (e) {\n    log.error('Error while rendering info diagram');\n    log.error(e);\n  }\n};\n\nexport default {\n  draw,\n};\n","const getStyles = (options) =>\n  `\n  .pieCircle{\n    stroke: ${options.pieStrokeColor};\n    stroke-width : ${options.pieStrokeWidth};\n    opacity : ${options.pieOpacity};\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${options.pieTitleTextSize};\n    fill: ${options.pieTitleTextColor};\n    font-family: ${options.fontFamily};\n  }\n  .slice {\n    font-family: ${options.fontFamily};\n    fill: ${options.pieSectionTextColor};\n    font-size:${options.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${options.pieLegendTextColor};\n    font-family: ${options.fontFamily};\n    font-size: ${options.pieLegendTextSize};\n  }\n`;\n\nexport default getStyles;\n","import * as configApi from '../../config';\nimport { log } from '../../logger';\nimport mermaidAPI from '../../mermaidAPI';\n\nlet relations = [];\nlet latestRequirement = {};\nlet requirements = {};\nlet latestElement = {};\nlet elements = {};\n\nconst RequirementType = {\n  REQUIREMENT: 'Requirement',\n  FUNCTIONAL_REQUIREMENT: 'Functional Requirement',\n  INTERFACE_REQUIREMENT: 'Interface Requirement',\n  PERFORMANCE_REQUIREMENT: 'Performance Requirement',\n  PHYSICAL_REQUIREMENT: 'Physical Requirement',\n  DESIGN_CONSTRAINT: 'Design Constraint',\n};\n\nconst RiskLevel = {\n  LOW_RISK: 'Low',\n  MED_RISK: 'Medium',\n  HIGH_RISK: 'High',\n};\n\nconst VerifyType = {\n  VERIFY_ANALYSIS: 'Analysis',\n  VERIFY_DEMONSTRATION: 'Demonstration',\n  VERIFY_INSPECTION: 'Inspection',\n  VERIFY_TEST: 'Test',\n};\n\nconst Relationships = {\n  CONTAINS: 'contains',\n  COPIES: 'copies',\n  DERIVES: 'derives',\n  SATISFIES: 'satisfies',\n  VERIFIES: 'verifies',\n  REFINES: 'refines',\n  TRACES: 'traces',\n};\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nconst addRequirement = (name, type) => {\n  if (typeof requirements[name] === 'undefined') {\n    requirements[name] = {\n      name,\n      type,\n\n      id: latestRequirement.id,\n      text: latestRequirement.text,\n      risk: latestRequirement.risk,\n      verifyMethod: latestRequirement.verifyMethod,\n    };\n  }\n  latestRequirement = {};\n\n  return requirements[name];\n};\n\nconst getRequirements = () => requirements;\n\nconst setNewReqId = (id) => {\n  if (typeof latestRequirement != 'undefined') {\n    latestRequirement.id = id;\n  }\n};\n\nconst setNewReqText = (text) => {\n  if (typeof latestRequirement != 'undefined') {\n    latestRequirement.text = text;\n  }\n};\n\nconst setNewReqRisk = (risk) => {\n  if (typeof latestRequirement != 'undefined') {\n    latestRequirement.risk = risk;\n  }\n};\n\nconst setNewReqVerifyMethod = (verifyMethod) => {\n  if (typeof latestRequirement != 'undefined') {\n    latestRequirement.verifyMethod = verifyMethod;\n  }\n};\n\nconst addElement = (name) => {\n  if (typeof elements[name] === 'undefined') {\n    elements[name] = {\n      name,\n\n      type: latestElement.type,\n      docRef: latestElement.docRef,\n    };\n    log.info('Added new requirement: ', name);\n  }\n  latestElement = {};\n\n  return elements[name];\n};\n\nconst getElements = () => elements;\n\nconst setNewElementType = (type) => {\n  if (typeof latestElement != 'undefined') {\n    latestElement.type = type;\n  }\n};\n\nconst setNewElementDocRef = (docRef) => {\n  if (typeof latestElement != 'undefined') {\n    latestElement.docRef = docRef;\n  }\n};\n\nconst addRelationship = (type, src, dst) => {\n  relations.push({\n    type,\n    src,\n    dst,\n  });\n};\n\nconst getRelationships = () => relations;\n\nconst clear = () => {\n  relations = [];\n  latestRequirement = {};\n  requirements = {};\n  latestElement = {};\n  elements = {};\n};\n\nexport default {\n  RequirementType,\n  RiskLevel,\n  VerifyType,\n  Relationships,\n\n  parseDirective,\n  getConfig: () => configApi.getConfig().req,\n\n  addRequirement,\n  getRequirements,\n  setNewReqId,\n  setNewReqText,\n  setNewReqRisk,\n  setNewReqVerifyMethod,\n\n  addElement,\n  getElements,\n  setNewElementType,\n  setNewElementDocRef,\n\n  addRelationship,\n  getRelationships,\n\n  clear,\n};\n","const ReqMarkers = {\n  CONTAINS: 'contains',\n  ARROW: 'arrow',\n};\n\nconst insertLineEndings = (parentNode, conf) => {\n  let containsNode = parentNode\n    .append('defs')\n    .append('marker')\n    .attr('id', ReqMarkers.CONTAINS + '_line_ending')\n    .attr('refX', 0)\n    .attr('refY', conf.line_height / 2)\n    .attr('markerWidth', conf.line_height)\n    .attr('markerHeight', conf.line_height)\n    .attr('orient', 'auto')\n    .append('g');\n\n  containsNode\n    .append('circle')\n    .attr('cx', conf.line_height / 2)\n    .attr('cy', conf.line_height / 2)\n    .attr('r', conf.line_height / 2)\n    // .attr('stroke', conf.rect_border_color)\n    // .attr('stroke-width', 1)\n    .attr('fill', 'none');\n\n  containsNode\n    .append('line')\n    .attr('x1', 0)\n    .attr('x2', conf.line_height)\n    .attr('y1', conf.line_height / 2)\n    .attr('y2', conf.line_height / 2)\n    // .attr('stroke', conf.rect_border_color)\n    .attr('stroke-width', 1);\n\n  containsNode\n    .append('line')\n    .attr('y1', 0)\n    .attr('y2', conf.line_height)\n    .attr('x1', conf.line_height / 2)\n    .attr('x2', conf.line_height / 2)\n    // .attr('stroke', conf.rect_border_color)\n    .attr('stroke-width', 1);\n\n  parentNode\n    .append('defs')\n    .append('marker')\n    .attr('id', ReqMarkers.ARROW + '_line_ending')\n    .attr('refX', conf.line_height)\n    .attr('refY', 0.5 * conf.line_height)\n    .attr('markerWidth', conf.line_height)\n    .attr('markerHeight', conf.line_height)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr(\n      'd',\n      `M0,0\n      L${conf.line_height},${conf.line_height / 2}\n      M${conf.line_height},${conf.line_height / 2}\n      L0,${conf.line_height}`\n    )\n    .attr('stroke-width', 1);\n  // .attr('stroke', conf.rect_border_color);\n};\n\nexport default {\n  ReqMarkers,\n  insertLineEndings,\n};\n","import { line, select } from 'd3';\nimport dagre from 'dagre';\nimport graphlib from 'graphlib';\n// import * as configApi from '../../config';\nimport { log } from '../../logger';\nimport { configureSvgSize } from '../../utils';\nimport common from '../common/common';\nimport { parser } from './parser/requirementDiagram';\nimport requirementDb from './requirementDb';\nimport markers from './requirementMarkers';\nimport { getConfig } from '../../config';\n\nconst conf = {};\nlet relCnt = 0;\n\nexport const setConf = function (cnf) {\n  if (typeof cnf === 'undefined') {\n    return;\n  }\n  const keys = Object.keys(cnf);\n  for (let i = 0; i < keys.length; i++) {\n    conf[keys[i]] = cnf[keys[i]];\n  }\n};\n\nconst newRectNode = (parentNode, id) => {\n  return parentNode\n    .insert('rect', '#' + id)\n    .attr('class', 'req reqBox')\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr('width', conf.rect_min_width + 'px')\n    .attr('height', conf.rect_min_height + 'px');\n};\n\nconst newTitleNode = (parentNode, id, txts) => {\n  let x = conf.rect_min_width / 2;\n\n  let title = parentNode\n    .append('text')\n    .attr('class', 'req reqLabel reqTitle')\n    .attr('id', id)\n    .attr('x', x)\n    .attr('y', conf.rect_padding)\n    .attr('dominant-baseline', 'hanging');\n  // .attr(\n  //   'style',\n  //   'font-family: ' + configApi.getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\n  // )\n  let i = 0;\n  txts.forEach((textStr) => {\n    if (i == 0) {\n      title\n        .append('tspan')\n        .attr('text-anchor', 'middle')\n        .attr('x', conf.rect_min_width / 2)\n        .attr('dy', 0)\n        .text(textStr);\n    } else {\n      title\n        .append('tspan')\n        .attr('text-anchor', 'middle')\n        .attr('x', conf.rect_min_width / 2)\n        .attr('dy', conf.line_height * 0.75)\n        .text(textStr);\n    }\n    i++;\n  });\n\n  let yPadding = 1.5 * conf.rect_padding;\n  let linePadding = i * conf.line_height * 0.75;\n  let totalY = yPadding + linePadding;\n\n  parentNode\n    .append('line')\n    .attr('class', 'req-title-line')\n    .attr('x1', '0')\n    .attr('x2', conf.rect_min_width)\n    .attr('y1', totalY)\n    .attr('y2', totalY);\n\n  return {\n    titleNode: title,\n    y: totalY,\n  };\n};\n\nconst newBodyNode = (parentNode, id, txts, yStart) => {\n  let body = parentNode\n    .append('text')\n    .attr('class', 'req reqLabel')\n    .attr('id', id)\n    .attr('x', conf.rect_padding)\n    .attr('y', yStart)\n    .attr('dominant-baseline', 'hanging');\n  // .attr(\n  //   'style',\n  //   'font-family: ' + configApi.getConfig().fontFamily + '; font-size: ' + conf.fontSize + 'px'\n  // );\n\n  let currentRow = 0;\n  const charLimit = 30;\n  let wrappedTxts = [];\n  txts.forEach((textStr) => {\n    let currentTextLen = textStr.length;\n    while (currentTextLen > charLimit && currentRow < 3) {\n      let firstPart = textStr.substring(0, charLimit);\n      textStr = textStr.substring(charLimit, textStr.length);\n      currentTextLen = textStr.length;\n      wrappedTxts[wrappedTxts.length] = firstPart;\n      currentRow++;\n    }\n    if (currentRow == 3) {\n      let lastStr = wrappedTxts[wrappedTxts.length - 1];\n      wrappedTxts[wrappedTxts.length - 1] = lastStr.substring(0, lastStr.length - 4) + '...';\n    } else {\n      wrappedTxts[wrappedTxts.length] = textStr;\n    }\n    currentRow = 0;\n  });\n\n  wrappedTxts.forEach((textStr) => {\n    body.append('tspan').attr('x', conf.rect_padding).attr('dy', conf.line_height).text(textStr);\n  });\n\n  return body;\n};\n\nconst addEdgeLabel = (parentNode, svgPath, conf, txt) => {\n  // Find the half-way point\n  const len = svgPath.node().getTotalLength();\n  const labelPoint = svgPath.node().getPointAtLength(len * 0.5);\n\n  // Append a text node containing the label\n  const labelId = 'rel' + relCnt;\n  relCnt++;\n\n  const labelNode = parentNode\n    .append('text')\n    .attr('class', 'req relationshipLabel')\n    .attr('id', labelId)\n    .attr('x', labelPoint.x)\n    .attr('y', labelPoint.y)\n    .attr('text-anchor', 'middle')\n    .attr('dominant-baseline', 'middle')\n    // .attr('style', 'font-family: ' + conf.fontFamily + '; font-size: ' + conf.fontSize + 'px')\n    .text(txt);\n\n  // Figure out how big the opaque 'container' rectangle needs to be\n  const labelBBox = labelNode.node().getBBox();\n\n  // Insert the opaque rectangle before the text label\n  parentNode\n    .insert('rect', '#' + labelId)\n    .attr('class', 'req reqLabelBox')\n    .attr('x', labelPoint.x - labelBBox.width / 2)\n    .attr('y', labelPoint.y - labelBBox.height / 2)\n    .attr('width', labelBBox.width)\n    .attr('height', labelBBox.height)\n    .attr('fill', 'white')\n    .attr('fill-opacity', '85%');\n};\n\nconst drawRelationshipFromLayout = function (svg, rel, g, insert) {\n  // Find the edge relating to this relationship\n  const edge = g.edge(elementString(rel.src), elementString(rel.dst));\n\n  // Get a function that will generate the line path\n  const lineFunction = line()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    });\n\n  // Insert the line at the right place\n  const svgPath = svg\n    .insert('path', '#' + insert)\n    .attr('class', 'er relationshipLine')\n    .attr('d', lineFunction(edge.points))\n    .attr('fill', 'none');\n\n  if (rel.type == requirementDb.Relationships.CONTAINS) {\n    svgPath.attr(\n      'marker-start',\n      'url(' + common.getUrl(conf.arrowMarkerAbsolute) + '#' + rel.type + '_line_ending' + ')'\n    );\n  } else {\n    svgPath.attr('stroke-dasharray', '10,7');\n    svgPath.attr(\n      'marker-end',\n      'url(' +\n        common.getUrl(conf.arrowMarkerAbsolute) +\n        '#' +\n        markers.ReqMarkers.ARROW +\n        '_line_ending' +\n        ')'\n    );\n  }\n\n  addEdgeLabel(svg, svgPath, conf, `<<${rel.type}>>`);\n\n  return;\n};\n\nexport const drawReqs = (reqs, graph, svgNode) => {\n  Object.keys(reqs).forEach((reqName) => {\n    let req = reqs[reqName];\n    reqName = elementString(reqName);\n    log.info('Added new requirement: ', reqName);\n\n    const groupNode = svgNode.append('g').attr('id', reqName);\n    const textId = 'req-' + reqName;\n    const rectNode = newRectNode(groupNode, textId);\n\n    let nodes = [];\n\n    let titleNodeInfo = newTitleNode(groupNode, reqName + '_title', [\n      `<<${req.type}>>`,\n      `${req.name}`,\n    ]);\n\n    nodes.push(titleNodeInfo.titleNode);\n\n    let bodyNode = newBodyNode(\n      groupNode,\n      reqName + '_body',\n      [\n        `Id: ${req.id}`,\n        `Text: ${req.text}`,\n        `Risk: ${req.risk}`,\n        `Verification: ${req.verifyMethod}`,\n      ],\n      titleNodeInfo.y\n    );\n\n    nodes.push(bodyNode);\n\n    const rectBBox = rectNode.node().getBBox();\n\n    // Add the entity to the graph\n    graph.setNode(reqName, {\n      width: rectBBox.width,\n      height: rectBBox.height,\n      shape: 'rect',\n      id: reqName,\n    });\n  });\n};\n\nexport const drawElements = (els, graph, svgNode) => {\n  Object.keys(els).forEach((elName) => {\n    let el = els[elName];\n    const id = elementString(elName);\n\n    const groupNode = svgNode.append('g').attr('id', id);\n    const textId = 'element-' + id;\n    const rectNode = newRectNode(groupNode, textId);\n\n    let nodes = [];\n\n    let titleNodeInfo = newTitleNode(groupNode, textId + '_title', [`<<Element>>`, `${elName}`]);\n\n    nodes.push(titleNodeInfo.titleNode);\n\n    let bodyNode = newBodyNode(\n      groupNode,\n      textId + '_body',\n      [`Type: ${el.type || 'Not Specified'}`, `Doc Ref: ${el.docRef || 'None'}`],\n      titleNodeInfo.y\n    );\n\n    nodes.push(bodyNode);\n\n    const rectBBox = rectNode.node().getBBox();\n\n    // Add the entity to the graph\n    graph.setNode(id, {\n      width: rectBBox.width,\n      height: rectBBox.height,\n      shape: 'rect',\n      id: id,\n    });\n  });\n};\n\nconst addRelationships = (relationships, g) => {\n  relationships.forEach(function (r) {\n    let src = elementString(r.src);\n    let dst = elementString(r.dst);\n    g.setEdge(src, dst, { relationship: r });\n  });\n  return relationships;\n};\n\nconst adjustEntities = function (svgNode, graph) {\n  graph.nodes().forEach(function (v) {\n    if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\n      svgNode.select('#' + v);\n      svgNode\n        .select('#' + v)\n        .attr(\n          'transform',\n          'translate(' +\n            (graph.node(v).x - graph.node(v).width / 2) +\n            ',' +\n            (graph.node(v).y - graph.node(v).height / 2) +\n            ' )'\n        );\n    }\n  });\n  return;\n};\n\nconst elementString = (str) => {\n  return str.replace(/\\s/g, '').replace(/\\./g, '_');\n};\n\nexport const draw = (text, id) => {\n  parser.yy = requirementDb;\n  parser.yy.clear();\n  parser.parse(text);\n\n  const securityLevel = getConfig().securityLevel;\n  // Handle root and ocument for when rendering in sanbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  const svg = root.select(`[id='${id}']`);\n  markers.insertLineEndings(svg, conf);\n\n  const g = new graphlib.Graph({\n    multigraph: false,\n    compound: false,\n    directed: true,\n  })\n    .setGraph({\n      rankdir: conf.layoutDirection,\n      marginx: 20,\n      marginy: 20,\n      nodesep: 100,\n      edgesep: 100,\n      ranksep: 100,\n    })\n    .setDefaultEdgeLabel(function () {\n      return {};\n    });\n\n  let requirements = requirementDb.getRequirements();\n  let elements = requirementDb.getElements();\n  let relationships = requirementDb.getRelationships();\n\n  drawReqs(requirements, g, svg);\n  drawElements(elements, g, svg);\n  addRelationships(relationships, g);\n  dagre.layout(g);\n  adjustEntities(svg, g);\n\n  relationships.forEach(function (rel) {\n    drawRelationshipFromLayout(svg, rel, g, id);\n  });\n\n  // svg.attr('height', '500px');\n  const padding = conf.rect_padding;\n  const svgBounds = svg.node().getBBox();\n  const width = svgBounds.width + padding * 2;\n  const height = svgBounds.height + padding * 2;\n\n  configureSvgSize(svg, height, width, conf.useMaxWidth);\n\n  svg.attr('viewBox', `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`);\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","const getStyles = (options) => `\n\n  marker {\n    fill: ${options.relationColor};\n    stroke: ${options.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${options.lineColor};\n  }\n\n  svg {\n    font-family: ${options.fontFamily};\n    font-size: ${options.fontSize};\n  }\n\n  .reqBox {\n    fill: ${options.requirementBackground};\n    fill-opacity: 100%;\n    stroke: ${options.requirementBorderColor};\n    stroke-width: ${options.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${options.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${options.relationLabelBackground};\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ${options.requirementBorderColor};\n    stroke-width: ${options.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${options.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${options.relationLabelColor};\n  }\n\n`;\n// fill', conf.rect_fill)\nexport default getStyles;\n","import mermaidAPI from '../../mermaidAPI';\nimport * as configApi from '../../config';\nimport { log } from '../../logger';\nimport { sanitizeText } from '../common/common';\n\nlet prevActor = undefined;\nlet actors = {};\nlet messages = [];\nconst notes = [];\nlet title = '';\nlet titleWrapped = false;\nlet sequenceNumbersEnabled = false;\nlet wrapEnabled = false;\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nexport const addActor = function (id, name, description, type) {\n  // Don't allow description nulling\n  const old = actors[id];\n  if (old && name === old.name && description == null) return;\n\n  // Don't allow null descriptions, either\n  if (description == null || description.text == null) {\n    description = { text: name, wrap: null, type };\n  }\n  if (type == null || description.text == null) {\n    description = { text: name, wrap: null, type };\n  }\n\n  actors[id] = {\n    name: name,\n    description: description.text,\n    wrap: (description.wrap === undefined && autoWrap()) || !!description.wrap,\n    prevActor: prevActor,\n    links: {},\n    properties: {},\n    actorCnt: null,\n    rectData: null,\n    type: type || 'participant',\n  };\n  if (prevActor && actors[prevActor]) {\n    actors[prevActor].nextActor = id;\n  }\n\n  prevActor = id;\n};\n\nconst activationCount = (part) => {\n  let i;\n  let count = 0;\n  for (i = 0; i < messages.length; i++) {\n    if (messages[i].type === LINETYPE.ACTIVE_START) {\n      if (messages[i].from.actor === part) {\n        count++;\n      }\n    }\n    if (messages[i].type === LINETYPE.ACTIVE_END) {\n      if (messages[i].from.actor === part) {\n        count--;\n      }\n    }\n  }\n  return count;\n};\n\nexport const addMessage = function (idFrom, idTo, message, answer) {\n  messages.push({\n    from: idFrom,\n    to: idTo,\n    message: message.text,\n    wrap: (message.wrap === undefined && autoWrap()) || !!message.wrap,\n    answer: answer,\n  });\n};\n\nexport const addSignal = function (\n  idFrom,\n  idTo,\n  message = { text: undefined, wrap: undefined },\n  messageType\n) {\n  if (messageType === LINETYPE.ACTIVE_END) {\n    const cnt = activationCount(idFrom.actor);\n    if (cnt < 1) {\n      // Bail out as there is an activation signal from an inactive participant\n      let error = new Error('Trying to inactivate an inactive participant (' + idFrom.actor + ')');\n      error.hash = {\n        text: '->>-',\n        token: '->>-',\n        line: '1',\n        loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },\n        expected: [\"'ACTIVE_PARTICIPANT'\"],\n      };\n      throw error;\n    }\n  }\n  messages.push({\n    from: idFrom,\n    to: idTo,\n    message: message.text,\n    wrap: (message.wrap === undefined && autoWrap()) || !!message.wrap,\n    type: messageType,\n  });\n  return true;\n};\n\nexport const getMessages = function () {\n  return messages;\n};\n\nexport const getActors = function () {\n  return actors;\n};\nexport const getActor = function (id) {\n  return actors[id];\n};\nexport const getActorKeys = function () {\n  return Object.keys(actors);\n};\nexport const getTitle = function () {\n  return title;\n};\nexport const getTitleWrapped = function () {\n  return titleWrapped;\n};\nexport const enableSequenceNumbers = function () {\n  sequenceNumbersEnabled = true;\n};\nexport const showSequenceNumbers = () => sequenceNumbersEnabled;\n\nexport const setWrap = function (wrapSetting) {\n  wrapEnabled = wrapSetting;\n};\n\nexport const autoWrap = () => wrapEnabled;\n\nexport const clear = function () {\n  actors = {};\n  messages = [];\n};\n\nexport const parseMessage = function (str) {\n  const _str = str.trim();\n  const message = {\n    text: _str.replace(/^[:]?(?:no)?wrap:/, '').trim(),\n    wrap:\n      _str.match(/^[:]?wrap:/) !== null\n        ? true\n        : _str.match(/^[:]?nowrap:/) !== null\n        ? false\n        : undefined,\n  };\n  log.debug('parseMessage:', message);\n  return message;\n};\n\nexport const LINETYPE = {\n  SOLID: 0,\n  DOTTED: 1,\n  NOTE: 2,\n  SOLID_CROSS: 3,\n  DOTTED_CROSS: 4,\n  SOLID_OPEN: 5,\n  DOTTED_OPEN: 6,\n  LOOP_START: 10,\n  LOOP_END: 11,\n  ALT_START: 12,\n  ALT_ELSE: 13,\n  ALT_END: 14,\n  OPT_START: 15,\n  OPT_END: 16,\n  ACTIVE_START: 17,\n  ACTIVE_END: 18,\n  PAR_START: 19,\n  PAR_AND: 20,\n  PAR_END: 21,\n  RECT_START: 22,\n  RECT_END: 23,\n  SOLID_POINT: 24,\n  DOTTED_POINT: 25,\n};\n\nexport const ARROWTYPE = {\n  FILLED: 0,\n  OPEN: 1,\n};\n\nexport const PLACEMENT = {\n  LEFTOF: 0,\n  RIGHTOF: 1,\n  OVER: 2,\n};\n\nexport const addNote = function (actor, placement, message) {\n  const note = {\n    actor: actor,\n    placement: placement,\n    message: message.text,\n    wrap: (message.wrap === undefined && autoWrap()) || !!message.wrap,\n  };\n\n  // Coerce actor into a [to, from, ...] array\n  const actors = [].concat(actor, actor);\n\n  notes.push(note);\n  messages.push({\n    from: actors[0],\n    to: actors[1],\n    message: message.text,\n    wrap: (message.wrap === undefined && autoWrap()) || !!message.wrap,\n    type: LINETYPE.NOTE,\n    placement: placement,\n  });\n};\n\nexport const addLinks = function (actorId, text) {\n  // find the actor\n  const actor = getActor(actorId);\n  // JSON.parse the text\n  try {\n    let sanitizedText = sanitizeText(text.text, configApi.getConfig());\n    sanitizedText = sanitizedText.replace(/&amp;/g, '&');\n    sanitizedText = sanitizedText.replace(/&equals;/g, '=');\n    const links = JSON.parse(sanitizedText);\n    // add the deserialized text to the actor's links field.\n    insertLinks(actor, links);\n  } catch (e) {\n    log.error('error while parsing actor link text', e);\n  }\n};\n\nexport const addALink = function (actorId, text) {\n  // find the actor\n  const actor = getActor(actorId);\n  try {\n    const links = {};\n    let sanitizedText = sanitizeText(text.text, configApi.getConfig());\n    var sep = sanitizedText.indexOf('@');\n    sanitizedText = sanitizedText.replace(/&amp;/g, '&');\n    sanitizedText = sanitizedText.replace(/&equals;/g, '=');\n    var label = sanitizedText.slice(0, sep - 1).trim();\n    var link = sanitizedText.slice(sep + 1).trim();\n\n    links[label] = link;\n    // add the deserialized text to the actor's links field.\n    insertLinks(actor, links);\n  } catch (e) {\n    log.error('error while parsing actor link text', e);\n  }\n};\n\n/**\n * @param {any} actor\n * @param {any} links\n */\nfunction insertLinks(actor, links) {\n  if (actor.links == null) {\n    actor.links = links;\n  } else {\n    for (let key in links) {\n      actor.links[key] = links[key];\n    }\n  }\n}\n\nexport const addProperties = function (actorId, text) {\n  // find the actor\n  const actor = getActor(actorId);\n  // JSON.parse the text\n  try {\n    let sanitizedText = sanitizeText(text.text, configApi.getConfig());\n    const properties = JSON.parse(sanitizedText);\n    // add the deserialized text to the actor's property field.\n    insertProperties(actor, properties);\n  } catch (e) {\n    log.error('error while parsing actor properties text', e);\n  }\n};\n\n/**\n * @param {any} actor\n * @param {any} properties\n */\nfunction insertProperties(actor, properties) {\n  if (actor.properties == null) {\n    actor.properties = properties;\n  } else {\n    for (let key in properties) {\n      actor.properties[key] = properties[key];\n    }\n  }\n}\n\nexport const addDetails = function (actorId, text) {\n  // find the actor\n  const actor = getActor(actorId);\n  const elem = document.getElementById(text.text);\n\n  // JSON.parse the text\n  try {\n    const text = elem.innerHTML;\n    const details = JSON.parse(text);\n    // add the deserialized text to the actor's property field.\n    if (details['properties']) {\n      insertProperties(actor, details['properties']);\n    }\n\n    if (details['links']) {\n      insertLinks(actor, details['links']);\n    }\n  } catch (e) {\n    log.error('error while parsing actor details text', e);\n  }\n};\n\nexport const getActorProperty = function (actor, key) {\n  if (typeof actor !== 'undefined' && typeof actor.properties !== 'undefined') {\n    return actor.properties[key];\n  }\n\n  return undefined;\n};\n\nexport const setTitle = function (titleWrap) {\n  title = titleWrap.text;\n  titleWrapped = (titleWrap.wrap === undefined && autoWrap()) || !!titleWrap.wrap;\n};\n\nexport const apply = function (param) {\n  if (param instanceof Array) {\n    param.forEach(function (item) {\n      apply(item);\n    });\n  } else {\n    switch (param.type) {\n      case 'addParticipant':\n        addActor(param.actor, param.actor, param.description, 'participant');\n        break;\n      case 'addActor':\n        addActor(param.actor, param.actor, param.description, 'actor');\n        break;\n      case 'activeStart':\n        addSignal(param.actor, undefined, undefined, param.signalType);\n        break;\n      case 'activeEnd':\n        addSignal(param.actor, undefined, undefined, param.signalType);\n        break;\n      case 'addNote':\n        addNote(param.actor, param.placement, param.text);\n        break;\n      case 'addLinks':\n        addLinks(param.actor, param.text);\n        break;\n      case 'addALink':\n        addALink(param.actor, param.text);\n        break;\n      case 'addProperties':\n        addProperties(param.actor, param.text);\n        break;\n      case 'addDetails':\n        addDetails(param.actor, param.text);\n        break;\n      case 'addMessage':\n        addSignal(param.from, param.to, param.msg, param.signalType);\n        break;\n      case 'loopStart':\n        addSignal(undefined, undefined, param.loopText, param.signalType);\n        break;\n      case 'loopEnd':\n        addSignal(undefined, undefined, undefined, param.signalType);\n        break;\n      case 'rectStart':\n        addSignal(undefined, undefined, param.color, param.signalType);\n        break;\n      case 'rectEnd':\n        addSignal(undefined, undefined, undefined, param.signalType);\n        break;\n      case 'optStart':\n        addSignal(undefined, undefined, param.optText, param.signalType);\n        break;\n      case 'optEnd':\n        addSignal(undefined, undefined, undefined, param.signalType);\n        break;\n      case 'altStart':\n        addSignal(undefined, undefined, param.altText, param.signalType);\n        break;\n      case 'else':\n        addSignal(undefined, undefined, param.altText, param.signalType);\n        break;\n      case 'altEnd':\n        addSignal(undefined, undefined, undefined, param.signalType);\n        break;\n      case 'setTitle':\n        setTitle(param.text);\n        break;\n      case 'parStart':\n        addSignal(undefined, undefined, param.parText, param.signalType);\n        break;\n      case 'and':\n        addSignal(undefined, undefined, param.parText, param.signalType);\n        break;\n      case 'parEnd':\n        addSignal(undefined, undefined, undefined, param.signalType);\n        break;\n    }\n  }\n};\n\nexport default {\n  addActor,\n  addMessage,\n  addSignal,\n  addLinks,\n  addDetails,\n  addProperties,\n  autoWrap,\n  setWrap,\n  enableSequenceNumbers,\n  showSequenceNumbers,\n  getMessages,\n  getActors,\n  getActor,\n  getActorKeys,\n  getActorProperty,\n  getTitle,\n  parseDirective,\n  getConfig: () => configApi.getConfig().sequence,\n  getTitleWrapped,\n  clear,\n  parseMessage,\n  LINETYPE,\n  ARROWTYPE,\n  PLACEMENT,\n  addNote,\n  setTitle,\n  apply,\n};\n","import { select, selectAll } from 'd3';\nimport svgDraw, { drawText, fixLifeLineHeights } from './svgDraw';\nimport { log } from '../../logger';\nimport { parser } from './parser/sequenceDiagram';\nimport common from '../common/common';\nimport sequenceDb from './sequenceDb';\nimport * as configApi from '../../config';\nimport utils, { assignWithDepth, configureSvgSize } from '../../utils';\n\nparser.yy = sequenceDb;\n\nlet conf = {};\n\nexport const bounds = {\n  data: {\n    startx: undefined,\n    stopx: undefined,\n    starty: undefined,\n    stopy: undefined,\n  },\n  verticalPos: 0,\n  sequenceItems: [],\n  activations: [],\n  models: {\n    getHeight: function () {\n      return (\n        Math.max.apply(\n          null,\n          this.actors.length === 0 ? [0] : this.actors.map((actor) => actor.height || 0)\n        ) +\n        (this.loops.length === 0\n          ? 0\n          : this.loops.map((it) => it.height || 0).reduce((acc, h) => acc + h)) +\n        (this.messages.length === 0\n          ? 0\n          : this.messages.map((it) => it.height || 0).reduce((acc, h) => acc + h)) +\n        (this.notes.length === 0\n          ? 0\n          : this.notes.map((it) => it.height || 0).reduce((acc, h) => acc + h))\n      );\n    },\n    clear: function () {\n      this.actors = [];\n      this.loops = [];\n      this.messages = [];\n      this.notes = [];\n    },\n    addActor: function (actorModel) {\n      this.actors.push(actorModel);\n    },\n    addLoop: function (loopModel) {\n      this.loops.push(loopModel);\n    },\n    addMessage: function (msgModel) {\n      this.messages.push(msgModel);\n    },\n    addNote: function (noteModel) {\n      this.notes.push(noteModel);\n    },\n    lastActor: function () {\n      return this.actors[this.actors.length - 1];\n    },\n    lastLoop: function () {\n      return this.loops[this.loops.length - 1];\n    },\n    lastMessage: function () {\n      return this.messages[this.messages.length - 1];\n    },\n    lastNote: function () {\n      return this.notes[this.notes.length - 1];\n    },\n    actors: [],\n    loops: [],\n    messages: [],\n    notes: [],\n  },\n  init: function () {\n    this.sequenceItems = [];\n    this.activations = [];\n    this.models.clear();\n    this.data = {\n      startx: undefined,\n      stopx: undefined,\n      starty: undefined,\n      stopy: undefined,\n    };\n    this.verticalPos = 0;\n    setConf(parser.yy.getConfig());\n  },\n  updateVal: function (obj, key, val, fun) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = val;\n    } else {\n      obj[key] = fun(val, obj[key]);\n    }\n  },\n  updateBounds: function (startx, starty, stopx, stopy) {\n    const _self = this;\n    let cnt = 0;\n    /** @param {any} type */\n    function updateFn(type) {\n      return function updateItemBounds(item) {\n        cnt++;\n        // The loop sequenceItems is a stack so the biggest margins in the beginning of the sequenceItems\n        const n = _self.sequenceItems.length - cnt + 1;\n\n        _self.updateVal(item, 'starty', starty - n * conf.boxMargin, Math.min);\n        _self.updateVal(item, 'stopy', stopy + n * conf.boxMargin, Math.max);\n\n        _self.updateVal(bounds.data, 'startx', startx - n * conf.boxMargin, Math.min);\n        _self.updateVal(bounds.data, 'stopx', stopx + n * conf.boxMargin, Math.max);\n\n        if (!(type === 'activation')) {\n          _self.updateVal(item, 'startx', startx - n * conf.boxMargin, Math.min);\n          _self.updateVal(item, 'stopx', stopx + n * conf.boxMargin, Math.max);\n\n          _self.updateVal(bounds.data, 'starty', starty - n * conf.boxMargin, Math.min);\n          _self.updateVal(bounds.data, 'stopy', stopy + n * conf.boxMargin, Math.max);\n        }\n      };\n    }\n\n    this.sequenceItems.forEach(updateFn());\n    this.activations.forEach(updateFn('activation'));\n  },\n  insert: function (startx, starty, stopx, stopy) {\n    const _startx = Math.min(startx, stopx);\n    const _stopx = Math.max(startx, stopx);\n    const _starty = Math.min(starty, stopy);\n    const _stopy = Math.max(starty, stopy);\n\n    this.updateVal(bounds.data, 'startx', _startx, Math.min);\n    this.updateVal(bounds.data, 'starty', _starty, Math.min);\n    this.updateVal(bounds.data, 'stopx', _stopx, Math.max);\n    this.updateVal(bounds.data, 'stopy', _stopy, Math.max);\n\n    this.updateBounds(_startx, _starty, _stopx, _stopy);\n  },\n  newActivation: function (message, diagram, actors) {\n    const actorRect = actors[message.from.actor];\n    const stackedSize = actorActivations(message.from.actor).length || 0;\n    const x = actorRect.x + actorRect.width / 2 + ((stackedSize - 1) * conf.activationWidth) / 2;\n    this.activations.push({\n      startx: x,\n      starty: this.verticalPos + 2,\n      stopx: x + conf.activationWidth,\n      stopy: undefined,\n      actor: message.from.actor,\n      anchored: svgDraw.anchorElement(diagram),\n    });\n  },\n  endActivation: function (message) {\n    // find most recent activation for given actor\n    const lastActorActivationIdx = this.activations\n      .map(function (activation) {\n        return activation.actor;\n      })\n      .lastIndexOf(message.from.actor);\n    return this.activations.splice(lastActorActivationIdx, 1)[0];\n  },\n  createLoop: function (title = { message: undefined, wrap: false, width: undefined }, fill) {\n    return {\n      startx: undefined,\n      starty: this.verticalPos,\n      stopx: undefined,\n      stopy: undefined,\n      title: title.message,\n      wrap: title.wrap,\n      width: title.width,\n      height: 0,\n      fill: fill,\n    };\n  },\n  newLoop: function (title = { message: undefined, wrap: false, width: undefined }, fill) {\n    this.sequenceItems.push(this.createLoop(title, fill));\n  },\n  endLoop: function () {\n    return this.sequenceItems.pop();\n  },\n  addSectionToLoop: function (message) {\n    const loop = this.sequenceItems.pop();\n    loop.sections = loop.sections || [];\n    loop.sectionTitles = loop.sectionTitles || [];\n    loop.sections.push({ y: bounds.getVerticalPos(), height: 0 });\n    loop.sectionTitles.push(message);\n    this.sequenceItems.push(loop);\n  },\n  bumpVerticalPos: function (bump) {\n    this.verticalPos = this.verticalPos + bump;\n    this.data.stopy = this.verticalPos;\n  },\n  getVerticalPos: function () {\n    return this.verticalPos;\n  },\n  getBounds: function () {\n    return { bounds: this.data, models: this.models };\n  },\n};\n\n/**\n * Draws an note in the diagram with the attached line\n *\n * @param {any} elem - The diagram to draw to.\n * @param {{ x: number; y: number; message: string; width: number }} noteModel - Startx: x axis\n *   start position, verticalPos: y axis position, messsage: the message to be shown, width: Set\n *   this with a custom width to override the default configured width.\n */\nconst drawNote = function (elem, noteModel) {\n  bounds.bumpVerticalPos(conf.boxMargin);\n  noteModel.height = conf.boxMargin;\n  noteModel.starty = bounds.getVerticalPos();\n  const rect = svgDraw.getNoteRect();\n  rect.x = noteModel.startx;\n  rect.y = noteModel.starty;\n  rect.width = noteModel.width || conf.width;\n  rect.class = 'note';\n\n  let g = elem.append('g');\n  const rectElem = svgDraw.drawRect(g, rect);\n  const textObj = svgDraw.getTextObj();\n  textObj.x = noteModel.startx;\n  textObj.y = noteModel.starty;\n  textObj.width = rect.width;\n  textObj.dy = '1em';\n  textObj.text = noteModel.message;\n  textObj.class = 'noteText';\n  textObj.fontFamily = conf.noteFontFamily;\n  textObj.fontSize = conf.noteFontSize;\n  textObj.fontWeight = conf.noteFontWeight;\n  textObj.anchor = conf.noteAlign;\n  textObj.textMargin = conf.noteMargin;\n  textObj.valign = conf.noteAlign;\n\n  let textElem = drawText(g, textObj);\n\n  let textHeight = Math.round(\n    textElem\n      .map((te) => (te._groups || te)[0][0].getBBox().height)\n      .reduce((acc, curr) => acc + curr)\n  );\n\n  rectElem.attr('height', textHeight + 2 * conf.noteMargin);\n  noteModel.height += textHeight + 2 * conf.noteMargin;\n  bounds.bumpVerticalPos(textHeight + 2 * conf.noteMargin);\n  noteModel.stopy = noteModel.starty + textHeight + 2 * conf.noteMargin;\n  noteModel.stopx = noteModel.startx + rect.width;\n  bounds.insert(noteModel.startx, noteModel.starty, noteModel.stopx, noteModel.stopy);\n  bounds.models.addNote(noteModel);\n};\n\nconst messageFont = (cnf) => {\n  return {\n    fontFamily: cnf.messageFontFamily,\n    fontSize: cnf.messageFontSize,\n    fontWeight: cnf.messageFontWeight,\n  };\n};\nconst noteFont = (cnf) => {\n  return {\n    fontFamily: cnf.noteFontFamily,\n    fontSize: cnf.noteFontSize,\n    fontWeight: cnf.noteFontWeight,\n  };\n};\nconst actorFont = (cnf) => {\n  return {\n    fontFamily: cnf.actorFontFamily,\n    fontSize: cnf.actorFontSize,\n    fontWeight: cnf.actorFontWeight,\n  };\n};\n\n/**\n * Draws a message\n *\n * @param {any} g - The parent of the message element\n * @param {any} msgModel - The model containing fields describing a message\n */\nconst drawMessage = function (g, msgModel) {\n  bounds.bumpVerticalPos(10);\n  const { startx, stopx, starty, message, type, sequenceIndex } = msgModel;\n  const lines = common.splitBreaks(message).length;\n  let textDims = utils.calculateTextDimensions(message, messageFont(conf));\n  const lineHeight = textDims.height / lines;\n  msgModel.height += lineHeight;\n\n  bounds.bumpVerticalPos(lineHeight);\n  const textObj = svgDraw.getTextObj();\n  textObj.x = startx;\n  textObj.y = starty + 10;\n  textObj.width = stopx - startx;\n  textObj.class = 'messageText';\n  textObj.dy = '1em';\n  textObj.text = message;\n  textObj.fontFamily = conf.messageFontFamily;\n  textObj.fontSize = conf.messageFontSize;\n  textObj.fontWeight = conf.messageFontWeight;\n  textObj.anchor = conf.messageAlign;\n  textObj.valign = conf.messageAlign;\n  textObj.textMargin = conf.wrapPadding;\n  textObj.tspan = false;\n\n  drawText(g, textObj);\n\n  let totalOffset = textDims.height - 10;\n\n  let textWidth = textDims.width;\n\n  let line, lineStarty;\n  if (startx === stopx) {\n    lineStarty = bounds.getVerticalPos() + totalOffset;\n    if (conf.rightAngles) {\n      line = g\n        .append('path')\n        .attr(\n          'd',\n          `M  ${startx},${lineStarty} H ${startx + Math.max(conf.width / 2, textWidth / 2)} V ${\n            lineStarty + 25\n          } H ${startx}`\n        );\n    } else {\n      totalOffset += conf.boxMargin;\n\n      lineStarty = bounds.getVerticalPos() + totalOffset;\n      line = g\n        .append('path')\n        .attr(\n          'd',\n          'M ' +\n            startx +\n            ',' +\n            lineStarty +\n            ' C ' +\n            (startx + 60) +\n            ',' +\n            (lineStarty - 10) +\n            ' ' +\n            (startx + 60) +\n            ',' +\n            (lineStarty + 30) +\n            ' ' +\n            startx +\n            ',' +\n            (lineStarty + 20)\n        );\n    }\n\n    totalOffset += 30;\n    const dx = Math.max(textWidth / 2, conf.width / 2);\n    bounds.insert(\n      startx - dx,\n      bounds.getVerticalPos() - 10 + totalOffset,\n      stopx + dx,\n      bounds.getVerticalPos() + 30 + totalOffset\n    );\n  } else {\n    totalOffset += conf.boxMargin;\n    lineStarty = bounds.getVerticalPos() + totalOffset;\n    line = g.append('line');\n    line.attr('x1', startx);\n    line.attr('y1', lineStarty);\n    line.attr('x2', stopx);\n    line.attr('y2', lineStarty);\n    bounds.insert(startx, lineStarty - 10, stopx, lineStarty);\n  }\n  // Make an SVG Container\n  // Draw the line\n  if (\n    type === parser.yy.LINETYPE.DOTTED ||\n    type === parser.yy.LINETYPE.DOTTED_CROSS ||\n    type === parser.yy.LINETYPE.DOTTED_POINT ||\n    type === parser.yy.LINETYPE.DOTTED_OPEN\n  ) {\n    line.style('stroke-dasharray', '3, 3');\n    line.attr('class', 'messageLine1');\n  } else {\n    line.attr('class', 'messageLine0');\n  }\n\n  let url = '';\n  if (conf.arrowMarkerAbsolute) {\n    url =\n      window.location.protocol +\n      '//' +\n      window.location.host +\n      window.location.pathname +\n      window.location.search;\n    url = url.replace(/\\(/g, '\\\\(');\n    url = url.replace(/\\)/g, '\\\\)');\n  }\n\n  line.attr('stroke-width', 2);\n  line.attr('stroke', 'none'); // handled by theme/css anyway\n  line.style('fill', 'none'); // remove any fill colour\n  if (type === parser.yy.LINETYPE.SOLID || type === parser.yy.LINETYPE.DOTTED) {\n    line.attr('marker-end', 'url(' + url + '#arrowhead)');\n  }\n  if (type === parser.yy.LINETYPE.SOLID_POINT || type === parser.yy.LINETYPE.DOTTED_POINT) {\n    line.attr('marker-end', 'url(' + url + '#filled-head)');\n  }\n\n  if (type === parser.yy.LINETYPE.SOLID_CROSS || type === parser.yy.LINETYPE.DOTTED_CROSS) {\n    line.attr('marker-end', 'url(' + url + '#crosshead)');\n  }\n\n  // add node number\n  if (sequenceDb.showSequenceNumbers() || conf.showSequenceNumbers) {\n    line.attr('marker-start', 'url(' + url + '#sequencenumber)');\n    g.append('text')\n      .attr('x', startx)\n      .attr('y', lineStarty + 4)\n      .attr('font-family', 'sans-serif')\n      .attr('font-size', '12px')\n      .attr('text-anchor', 'middle')\n      .attr('textLength', '16px')\n      .attr('class', 'sequenceNumber')\n      .text(sequenceIndex);\n  }\n  bounds.bumpVerticalPos(totalOffset);\n  msgModel.height += totalOffset;\n  msgModel.stopy = msgModel.starty + msgModel.height;\n  bounds.insert(msgModel.fromBounds, msgModel.starty, msgModel.toBounds, msgModel.stopy);\n};\n\nexport const drawActors = function (diagram, actors, actorKeys, verticalPos) {\n  // Draw the actors\n  let prevWidth = 0;\n  let prevMargin = 0;\n  let maxHeight = 0;\n  for (let i = 0; i < actorKeys.length; i++) {\n    const actor = actors[actorKeys[i]];\n\n    // Add some rendering data to the object\n    actor.width = actor.width || conf.width;\n    actor.height = Math.max(actor.height || conf.height, conf.height);\n    actor.margin = actor.margin || conf.actorMargin;\n\n    actor.x = prevWidth + prevMargin;\n    actor.y = verticalPos;\n\n    // Draw the box with the attached line\n    const height = svgDraw.drawActor(diagram, actor, conf);\n    maxHeight = Math.max(maxHeight, height);\n    bounds.insert(actor.x, verticalPos, actor.x + actor.width, actor.height);\n\n    prevWidth += actor.width;\n    prevMargin += actor.margin;\n    bounds.models.addActor(actor);\n  }\n\n  // Add a margin between the actor boxes and the first arrow\n  bounds.bumpVerticalPos(maxHeight);\n};\n\nexport const drawActorsPopup = function (diagram, actors, actorKeys, doc) {\n  var maxHeight = 0;\n  var maxWidth = 0;\n  for (let i = 0; i < actorKeys.length; i++) {\n    const actor = actors[actorKeys[i]];\n    const minMenuWidth = getRequiredPopupWidth(actor);\n    var menuDimensions = svgDraw.drawPopup(\n      diagram,\n      actor,\n      minMenuWidth,\n      conf,\n      conf.forceMenus,\n      doc\n    );\n    if (menuDimensions.height > maxHeight) {\n      maxHeight = menuDimensions.height;\n    }\n    if (menuDimensions.width + actor.x > maxWidth) {\n      maxWidth = menuDimensions.width + actor.x;\n    }\n  }\n\n  return { maxHeight: maxHeight, maxWidth: maxWidth };\n};\n\nexport const setConf = function (cnf) {\n  assignWithDepth(conf, cnf);\n\n  if (cnf.fontFamily) {\n    conf.actorFontFamily = conf.noteFontFamily = conf.messageFontFamily = cnf.fontFamily;\n  }\n  if (cnf.fontSize) {\n    conf.actorFontSize = conf.noteFontSize = conf.messageFontSize = cnf.fontSize;\n  }\n  if (cnf.fontWeight) {\n    conf.actorFontWeight = conf.noteFontWeight = conf.messageFontWeight = cnf.fontWeight;\n  }\n};\n\nconst actorActivations = function (actor) {\n  return bounds.activations.filter(function (activation) {\n    return activation.actor === actor;\n  });\n};\n\nconst activationBounds = function (actor, actors) {\n  // handle multiple stacked activations for same actor\n  const actorObj = actors[actor];\n  const activations = actorActivations(actor);\n\n  const left = activations.reduce(function (acc, activation) {\n    return Math.min(acc, activation.startx);\n  }, actorObj.x + actorObj.width / 2);\n  const right = activations.reduce(function (acc, activation) {\n    return Math.max(acc, activation.stopx);\n  }, actorObj.x + actorObj.width / 2);\n  return [left, right];\n};\n\n/**\n * @param {any} loopWidths\n * @param {any} msg\n * @param {any} preMargin\n * @param {any} postMargin\n * @param {any} addLoopFn\n */\nfunction adjustLoopHeightForWrap(loopWidths, msg, preMargin, postMargin, addLoopFn) {\n  bounds.bumpVerticalPos(preMargin);\n  let heightAdjust = postMargin;\n  if (msg.id && msg.message && loopWidths[msg.id]) {\n    let loopWidth = loopWidths[msg.id].width;\n    let textConf = messageFont(conf);\n    msg.message = utils.wrapLabel(`[${msg.message}]`, loopWidth - 2 * conf.wrapPadding, textConf);\n    msg.width = loopWidth;\n    msg.wrap = true;\n\n    // const lines = common.splitBreaks(msg.message).length;\n    const textDims = utils.calculateTextDimensions(msg.message, textConf);\n    const totalOffset = Math.max(textDims.height, conf.labelBoxHeight);\n    heightAdjust = postMargin + totalOffset;\n    log.debug(`${totalOffset} - ${msg.message}`);\n  }\n  addLoopFn(msg);\n  bounds.bumpVerticalPos(heightAdjust);\n}\n\n/**\n * Draws a sequenceDiagram in the tag with id: id based on the graph definition in text.\n *\n * @param {any} text\n * @param {any} id\n */\nexport const draw = function (text, id) {\n  conf = configApi.getConfig().sequence;\n  const securityLevel = configApi.getConfig().securityLevel;\n  // Handle root and ocument for when rendering in sanbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  parser.yy.clear();\n  parser.yy.setWrap(conf.wrap);\n  parser.parse(text + '\\n');\n  bounds.init();\n  log.debug(`C:${JSON.stringify(conf, null, 2)}`);\n\n  const diagram =\n    securityLevel === 'sandbox' ? root.select(`[id=\"${id}\"]`) : select(`[id=\"${id}\"]`);\n\n  // Fetch data from the parsing\n  const actors = parser.yy.getActors();\n  const actorKeys = parser.yy.getActorKeys();\n  const messages = parser.yy.getMessages();\n  const title = parser.yy.getTitle();\n\n  const maxMessageWidthPerActor = getMaxMessageWidthPerActor(actors, messages);\n  conf.height = calculateActorMargins(actors, maxMessageWidthPerActor);\n\n  svgDraw.insertComputerIcon(diagram);\n  svgDraw.insertDatabaseIcon(diagram);\n  svgDraw.insertClockIcon(diagram);\n\n  drawActors(diagram, actors, actorKeys, 0);\n  const loopWidths = calculateLoopBounds(messages, actors, maxMessageWidthPerActor);\n\n  // The arrow head definition is attached to the svg once\n  svgDraw.insertArrowHead(diagram);\n  svgDraw.insertArrowCrossHead(diagram);\n  svgDraw.insertArrowFilledHead(diagram);\n  svgDraw.insertSequenceNumber(diagram);\n\n  /**\n   * @param {any} msg\n   * @param {any} verticalPos\n   */\n  function activeEnd(msg, verticalPos) {\n    const activationData = bounds.endActivation(msg);\n    if (activationData.starty + 18 > verticalPos) {\n      activationData.starty = verticalPos - 6;\n      verticalPos += 12;\n    }\n    svgDraw.drawActivation(\n      diagram,\n      activationData,\n      verticalPos,\n      conf,\n      actorActivations(msg.from.actor).length\n    );\n\n    bounds.insert(activationData.startx, verticalPos - 10, activationData.stopx, verticalPos);\n  }\n\n  // Draw the messages/signals\n  let sequenceIndex = 1;\n  messages.forEach(function (msg) {\n    let loopModel, noteModel, msgModel;\n\n    switch (msg.type) {\n      case parser.yy.LINETYPE.NOTE:\n        noteModel = msg.noteModel;\n        drawNote(diagram, noteModel);\n        break;\n      case parser.yy.LINETYPE.ACTIVE_START:\n        bounds.newActivation(msg, diagram, actors);\n        break;\n      case parser.yy.LINETYPE.ACTIVE_END:\n        activeEnd(msg, bounds.getVerticalPos());\n        break;\n      case parser.yy.LINETYPE.LOOP_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case parser.yy.LINETYPE.LOOP_END:\n        loopModel = bounds.endLoop();\n        svgDraw.drawLoop(diagram, loopModel, 'loop', conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      case parser.yy.LINETYPE.RECT_START:\n        adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin, (message) =>\n          bounds.newLoop(undefined, message.message)\n        );\n        break;\n      case parser.yy.LINETYPE.RECT_END:\n        loopModel = bounds.endLoop();\n        svgDraw.drawBackgroundRect(diagram, loopModel);\n        bounds.models.addLoop(loopModel);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        break;\n      case parser.yy.LINETYPE.OPT_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case parser.yy.LINETYPE.OPT_END:\n        loopModel = bounds.endLoop();\n        svgDraw.drawLoop(diagram, loopModel, 'opt', conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      case parser.yy.LINETYPE.ALT_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case parser.yy.LINETYPE.ALT_ELSE:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin + conf.boxTextMargin,\n          conf.boxMargin,\n          (message) => bounds.addSectionToLoop(message)\n        );\n        break;\n      case parser.yy.LINETYPE.ALT_END:\n        loopModel = bounds.endLoop();\n        svgDraw.drawLoop(diagram, loopModel, 'alt', conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      case parser.yy.LINETYPE.PAR_START:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin,\n          conf.boxMargin + conf.boxTextMargin,\n          (message) => bounds.newLoop(message)\n        );\n        break;\n      case parser.yy.LINETYPE.PAR_AND:\n        adjustLoopHeightForWrap(\n          loopWidths,\n          msg,\n          conf.boxMargin + conf.boxTextMargin,\n          conf.boxMargin,\n          (message) => bounds.addSectionToLoop(message)\n        );\n        break;\n      case parser.yy.LINETYPE.PAR_END:\n        loopModel = bounds.endLoop();\n        svgDraw.drawLoop(diagram, loopModel, 'par', conf);\n        bounds.bumpVerticalPos(loopModel.stopy - bounds.getVerticalPos());\n        bounds.models.addLoop(loopModel);\n        break;\n      default:\n        try {\n          // lastMsg = msg\n          msgModel = msg.msgModel;\n          msgModel.starty = bounds.getVerticalPos();\n          msgModel.sequenceIndex = sequenceIndex;\n          drawMessage(diagram, msgModel);\n          bounds.models.addMessage(msgModel);\n        } catch (e) {\n          log.error('error while drawing message', e);\n        }\n    }\n    // Increment sequence counter if msg.type is a line (and not another event like activation or note, etc)\n    if (\n      [\n        parser.yy.LINETYPE.SOLID_OPEN,\n        parser.yy.LINETYPE.DOTTED_OPEN,\n        parser.yy.LINETYPE.SOLID,\n        parser.yy.LINETYPE.DOTTED,\n        parser.yy.LINETYPE.SOLID_CROSS,\n        parser.yy.LINETYPE.DOTTED_CROSS,\n        parser.yy.LINETYPE.SOLID_POINT,\n        parser.yy.LINETYPE.DOTTED_POINT,\n      ].includes(msg.type)\n    ) {\n      sequenceIndex++;\n    }\n  });\n\n  if (conf.mirrorActors) {\n    // Draw actors below diagram\n    bounds.bumpVerticalPos(conf.boxMargin * 2);\n    drawActors(diagram, actors, actorKeys, bounds.getVerticalPos());\n    bounds.bumpVerticalPos(conf.boxMargin);\n    fixLifeLineHeights(diagram, bounds.getVerticalPos());\n  }\n\n  // only draw popups for the top row of actors.\n  var requiredBoxSize = drawActorsPopup(diagram, actors, actorKeys, doc);\n\n  const { bounds: box } = bounds.getBounds();\n\n  // Adjust line height of actor lines now that the height of the diagram is known\n  log.debug('For line height fix Querying: #' + id + ' .actor-line');\n  const actorLines = selectAll('#' + id + ' .actor-line');\n  actorLines.attr('y2', box.stopy);\n\n  // Make sure the height of the diagram supports long menus.\n  let boxHeight = box.stopy - box.starty;\n  if (boxHeight < requiredBoxSize.maxHeight) {\n    boxHeight = requiredBoxSize.maxHeight;\n  }\n\n  let height = boxHeight + 2 * conf.diagramMarginY;\n  if (conf.mirrorActors) {\n    height = height - conf.boxMargin + conf.bottomMarginAdj;\n  }\n\n  // Make sure the width of the diagram supports wide menus.\n  let boxWidth = box.stopx - box.startx;\n  if (boxWidth < requiredBoxSize.maxWidth) {\n    boxWidth = requiredBoxSize.maxWidth;\n  }\n  const width = boxWidth + 2 * conf.diagramMarginX;\n\n  if (title) {\n    diagram\n      .append('text')\n      .text(title)\n      .attr('x', (box.stopx - box.startx) / 2 - 2 * conf.diagramMarginX)\n      .attr('y', -25);\n  }\n\n  configureSvgSize(diagram, height, width, conf.useMaxWidth);\n\n  const extraVertForTitle = title ? 40 : 0;\n  diagram.attr(\n    'viewBox',\n    box.startx -\n      conf.diagramMarginX +\n      ' -' +\n      (conf.diagramMarginY + extraVertForTitle) +\n      ' ' +\n      width +\n      ' ' +\n      (height + extraVertForTitle)\n  );\n  log.debug(`models:`, bounds.models);\n};\n\n/**\n * Retrieves the max message width of each actor, supports signals (messages, loops) and notes.\n *\n * It will enumerate each given message, and will determine its text width, in relation to the actor\n * it originates from, and destined to.\n *\n * @param {any} actors - The actors map\n * @param {Array} messages - A list of message objects to iterate\n * @returns {any}\n */\nconst getMaxMessageWidthPerActor = function (actors, messages) {\n  const maxMessageWidthPerActor = {};\n\n  messages.forEach(function (msg) {\n    if (actors[msg.to] && actors[msg.from]) {\n      const actor = actors[msg.to];\n\n      // If this is the first actor, and the message is left of it, no need to calculate the margin\n      if (msg.placement === parser.yy.PLACEMENT.LEFTOF && !actor.prevActor) {\n        return;\n      }\n\n      // If this is the last actor, and the message is right of it, no need to calculate the margin\n      if (msg.placement === parser.yy.PLACEMENT.RIGHTOF && !actor.nextActor) {\n        return;\n      }\n\n      const isNote = msg.placement !== undefined;\n      const isMessage = !isNote;\n\n      const textFont = isNote ? noteFont(conf) : messageFont(conf);\n      let wrappedMessage = msg.wrap\n        ? utils.wrapLabel(msg.message, conf.width - 2 * conf.wrapPadding, textFont)\n        : msg.message;\n      const messageDimensions = utils.calculateTextDimensions(wrappedMessage, textFont);\n      const messageWidth = messageDimensions.width + 2 * conf.wrapPadding;\n\n      /*\n       * The following scenarios should be supported:\n       *\n       * - There's a message (non-note) between fromActor and toActor\n       *   - If fromActor is on the right and toActor is on the left, we should\n       *     define the toActor's margin\n       *   - If fromActor is on the left and toActor is on the right, we should\n       *     define the fromActor's margin\n       * - There's a note, in which case fromActor == toActor\n       *   - If the note is to the left of the actor, we should define the previous actor\n       *     margin\n       *   - If the note is on the actor, we should define both the previous and next actor\n       *     margins, each being the half of the note size\n       *   - If the note is on the right of the actor, we should define the current actor\n       *     margin\n       */\n      if (isMessage && msg.from === actor.nextActor) {\n        maxMessageWidthPerActor[msg.to] = Math.max(\n          maxMessageWidthPerActor[msg.to] || 0,\n          messageWidth\n        );\n      } else if (isMessage && msg.from === actor.prevActor) {\n        maxMessageWidthPerActor[msg.from] = Math.max(\n          maxMessageWidthPerActor[msg.from] || 0,\n          messageWidth\n        );\n      } else if (isMessage && msg.from === msg.to) {\n        maxMessageWidthPerActor[msg.from] = Math.max(\n          maxMessageWidthPerActor[msg.from] || 0,\n          messageWidth / 2\n        );\n\n        maxMessageWidthPerActor[msg.to] = Math.max(\n          maxMessageWidthPerActor[msg.to] || 0,\n          messageWidth / 2\n        );\n      } else if (msg.placement === parser.yy.PLACEMENT.RIGHTOF) {\n        maxMessageWidthPerActor[msg.from] = Math.max(\n          maxMessageWidthPerActor[msg.from] || 0,\n          messageWidth\n        );\n      } else if (msg.placement === parser.yy.PLACEMENT.LEFTOF) {\n        maxMessageWidthPerActor[actor.prevActor] = Math.max(\n          maxMessageWidthPerActor[actor.prevActor] || 0,\n          messageWidth\n        );\n      } else if (msg.placement === parser.yy.PLACEMENT.OVER) {\n        if (actor.prevActor) {\n          maxMessageWidthPerActor[actor.prevActor] = Math.max(\n            maxMessageWidthPerActor[actor.prevActor] || 0,\n            messageWidth / 2\n          );\n        }\n\n        if (actor.nextActor) {\n          maxMessageWidthPerActor[msg.from] = Math.max(\n            maxMessageWidthPerActor[msg.from] || 0,\n            messageWidth / 2\n          );\n        }\n      }\n    }\n  });\n\n  log.debug('maxMessageWidthPerActor:', maxMessageWidthPerActor);\n  return maxMessageWidthPerActor;\n};\n\nconst getRequiredPopupWidth = function (actor) {\n  let requiredPopupWidth = 0;\n  const textFont = actorFont(conf);\n  for (let key in actor.links) {\n    let labelDimensions = utils.calculateTextDimensions(key, textFont);\n    let labelWidth = labelDimensions.width + 2 * conf.wrapPadding + 2 * conf.boxMargin;\n    if (requiredPopupWidth < labelWidth) {\n      requiredPopupWidth = labelWidth;\n    }\n  }\n\n  return requiredPopupWidth;\n};\n\n/**\n * This will calculate the optimal margin for each given actor, for a given actor->messageWidth map.\n *\n * An actor's margin is determined by the width of the actor, the width of the largest message that\n * originates from it, and the configured conf.actorMargin.\n *\n * @param {any} actors - The actors map to calculate margins for\n * @param {any} actorToMessageWidth - A map of actor key -> max message width it holds\n */\nconst calculateActorMargins = function (actors, actorToMessageWidth) {\n  let maxHeight = 0;\n  Object.keys(actors).forEach((prop) => {\n    const actor = actors[prop];\n    if (actor.wrap) {\n      actor.description = utils.wrapLabel(\n        actor.description,\n        conf.width - 2 * conf.wrapPadding,\n        actorFont(conf)\n      );\n    }\n    const actDims = utils.calculateTextDimensions(actor.description, actorFont(conf));\n    actor.width = actor.wrap\n      ? conf.width\n      : Math.max(conf.width, actDims.width + 2 * conf.wrapPadding);\n\n    actor.height = actor.wrap ? Math.max(actDims.height, conf.height) : conf.height;\n    maxHeight = Math.max(maxHeight, actor.height);\n  });\n\n  for (let actorKey in actorToMessageWidth) {\n    const actor = actors[actorKey];\n\n    if (!actor) {\n      continue;\n    }\n\n    const nextActor = actors[actor.nextActor];\n\n    // No need to space out an actor that doesn't have a next link\n    if (!nextActor) {\n      continue;\n    }\n\n    const messageWidth = actorToMessageWidth[actorKey];\n    const actorWidth = messageWidth + conf.actorMargin - actor.width / 2 - nextActor.width / 2;\n\n    actor.margin = Math.max(actorWidth, conf.actorMargin);\n  }\n\n  return Math.max(maxHeight, conf.height);\n};\n\nconst buildNoteModel = function (msg, actors) {\n  let startx = actors[msg.from].x;\n  let stopx = actors[msg.to].x;\n  let shouldWrap = msg.wrap && msg.message;\n\n  let textDimensions = utils.calculateTextDimensions(\n    shouldWrap ? utils.wrapLabel(msg.message, conf.width, noteFont(conf)) : msg.message,\n    noteFont(conf)\n  );\n  let noteModel = {\n    width: shouldWrap\n      ? conf.width\n      : Math.max(conf.width, textDimensions.width + 2 * conf.noteMargin),\n    height: 0,\n    startx: actors[msg.from].x,\n    stopx: 0,\n    starty: 0,\n    stopy: 0,\n    message: msg.message,\n  };\n  if (msg.placement === parser.yy.PLACEMENT.RIGHTOF) {\n    noteModel.width = shouldWrap\n      ? Math.max(conf.width, textDimensions.width)\n      : Math.max(\n          actors[msg.from].width / 2 + actors[msg.to].width / 2,\n          textDimensions.width + 2 * conf.noteMargin\n        );\n    noteModel.startx = startx + (actors[msg.from].width + conf.actorMargin) / 2;\n  } else if (msg.placement === parser.yy.PLACEMENT.LEFTOF) {\n    noteModel.width = shouldWrap\n      ? Math.max(conf.width, textDimensions.width + 2 * conf.noteMargin)\n      : Math.max(\n          actors[msg.from].width / 2 + actors[msg.to].width / 2,\n          textDimensions.width + 2 * conf.noteMargin\n        );\n    noteModel.startx = startx - noteModel.width + (actors[msg.from].width - conf.actorMargin) / 2;\n  } else if (msg.to === msg.from) {\n    textDimensions = utils.calculateTextDimensions(\n      shouldWrap\n        ? utils.wrapLabel(msg.message, Math.max(conf.width, actors[msg.from].width), noteFont(conf))\n        : msg.message,\n      noteFont(conf)\n    );\n    noteModel.width = shouldWrap\n      ? Math.max(conf.width, actors[msg.from].width)\n      : Math.max(actors[msg.from].width, conf.width, textDimensions.width + 2 * conf.noteMargin);\n    noteModel.startx = startx + (actors[msg.from].width - noteModel.width) / 2;\n  } else {\n    noteModel.width =\n      Math.abs(startx + actors[msg.from].width / 2 - (stopx + actors[msg.to].width / 2)) +\n      conf.actorMargin;\n    noteModel.startx =\n      startx < stopx\n        ? startx + actors[msg.from].width / 2 - conf.actorMargin / 2\n        : stopx + actors[msg.to].width / 2 - conf.actorMargin / 2;\n  }\n  if (shouldWrap) {\n    noteModel.message = utils.wrapLabel(\n      msg.message,\n      noteModel.width - 2 * conf.wrapPadding,\n      noteFont(conf)\n    );\n  }\n  log.debug(\n    `NM:[${noteModel.startx},${noteModel.stopx},${noteModel.starty},${noteModel.stopy}:${noteModel.width},${noteModel.height}=${msg.message}]`\n  );\n  return noteModel;\n};\n\nconst buildMessageModel = function (msg, actors) {\n  let process = false;\n  if (\n    [\n      parser.yy.LINETYPE.SOLID_OPEN,\n      parser.yy.LINETYPE.DOTTED_OPEN,\n      parser.yy.LINETYPE.SOLID,\n      parser.yy.LINETYPE.DOTTED,\n      parser.yy.LINETYPE.SOLID_CROSS,\n      parser.yy.LINETYPE.DOTTED_CROSS,\n      parser.yy.LINETYPE.SOLID_POINT,\n      parser.yy.LINETYPE.DOTTED_POINT,\n    ].includes(msg.type)\n  ) {\n    process = true;\n  }\n  if (!process) {\n    return {};\n  }\n  const fromBounds = activationBounds(msg.from, actors);\n  const toBounds = activationBounds(msg.to, actors);\n  const fromIdx = fromBounds[0] <= toBounds[0] ? 1 : 0;\n  const toIdx = fromBounds[0] < toBounds[0] ? 0 : 1;\n  const allBounds = fromBounds.concat(toBounds);\n  const boundedWidth = Math.abs(toBounds[toIdx] - fromBounds[fromIdx]);\n  if (msg.wrap && msg.message) {\n    msg.message = utils.wrapLabel(\n      msg.message,\n      Math.max(boundedWidth + 2 * conf.wrapPadding, conf.width),\n      messageFont(conf)\n    );\n  }\n  const msgDims = utils.calculateTextDimensions(msg.message, messageFont(conf));\n\n  return {\n    width: Math.max(\n      msg.wrap ? 0 : msgDims.width + 2 * conf.wrapPadding,\n      boundedWidth + 2 * conf.wrapPadding,\n      conf.width\n    ),\n    height: 0,\n    startx: fromBounds[fromIdx],\n    stopx: toBounds[toIdx],\n    starty: 0,\n    stopy: 0,\n    message: msg.message,\n    type: msg.type,\n    wrap: msg.wrap,\n    fromBounds: Math.min.apply(null, allBounds),\n    toBounds: Math.max.apply(null, allBounds),\n  };\n};\n\nconst calculateLoopBounds = function (messages, actors) {\n  const loops = {};\n  const stack = [];\n  let current, noteModel, msgModel;\n\n  messages.forEach(function (msg) {\n    msg.id = utils.random({ length: 10 });\n    switch (msg.type) {\n      case parser.yy.LINETYPE.LOOP_START:\n      case parser.yy.LINETYPE.ALT_START:\n      case parser.yy.LINETYPE.OPT_START:\n      case parser.yy.LINETYPE.PAR_START:\n        stack.push({\n          id: msg.id,\n          msg: msg.message,\n          from: Number.MAX_SAFE_INTEGER,\n          to: Number.MIN_SAFE_INTEGER,\n          width: 0,\n        });\n        break;\n      case parser.yy.LINETYPE.ALT_ELSE:\n      case parser.yy.LINETYPE.PAR_AND:\n        if (msg.message) {\n          current = stack.pop();\n          loops[current.id] = current;\n          loops[msg.id] = current;\n          stack.push(current);\n        }\n        break;\n      case parser.yy.LINETYPE.LOOP_END:\n      case parser.yy.LINETYPE.ALT_END:\n      case parser.yy.LINETYPE.OPT_END:\n      case parser.yy.LINETYPE.PAR_END:\n        current = stack.pop();\n        loops[current.id] = current;\n        break;\n      case parser.yy.LINETYPE.ACTIVE_START:\n        {\n          const actorRect = actors[msg.from ? msg.from.actor : msg.to.actor];\n          const stackedSize = actorActivations(msg.from ? msg.from.actor : msg.to.actor).length;\n          const x =\n            actorRect.x + actorRect.width / 2 + ((stackedSize - 1) * conf.activationWidth) / 2;\n          const toAdd = {\n            startx: x,\n            stopx: x + conf.activationWidth,\n            actor: msg.from.actor,\n            enabled: true,\n          };\n          bounds.activations.push(toAdd);\n        }\n        break;\n      case parser.yy.LINETYPE.ACTIVE_END:\n        {\n          const lastActorActivationIdx = bounds.activations\n            .map((a) => a.actor)\n            .lastIndexOf(msg.from.actor);\n          delete bounds.activations.splice(lastActorActivationIdx, 1)[0];\n        }\n        break;\n    }\n    const isNote = msg.placement !== undefined;\n    if (isNote) {\n      noteModel = buildNoteModel(msg, actors);\n      msg.noteModel = noteModel;\n      stack.forEach((stk) => {\n        current = stk;\n        current.from = Math.min(current.from, noteModel.startx);\n        current.to = Math.max(current.to, noteModel.startx + noteModel.width);\n        current.width =\n          Math.max(current.width, Math.abs(current.from - current.to)) - conf.labelBoxWidth;\n      });\n    } else {\n      msgModel = buildMessageModel(msg, actors);\n      msg.msgModel = msgModel;\n      if (msgModel.startx && msgModel.stopx && stack.length > 0) {\n        stack.forEach((stk) => {\n          current = stk;\n          if (msgModel.startx === msgModel.stopx) {\n            let from = actors[msg.from];\n            let to = actors[msg.to];\n            current.from = Math.min(\n              from.x - msgModel.width / 2,\n              from.x - from.width / 2,\n              current.from\n            );\n            current.to = Math.max(to.x + msgModel.width / 2, to.x + from.width / 2, current.to);\n            current.width =\n              Math.max(current.width, Math.abs(current.to - current.from)) - conf.labelBoxWidth;\n          } else {\n            current.from = Math.min(msgModel.startx, current.from);\n            current.to = Math.max(msgModel.stopx, current.to);\n            current.width = Math.max(current.width, msgModel.width) - conf.labelBoxWidth;\n          }\n        });\n      }\n    }\n  });\n  bounds.activations = [];\n  log.debug('Loop type widths:', loops);\n  return loops;\n};\n\nexport default {\n  bounds,\n  drawActors,\n  drawActorsPopup,\n  setConf,\n  draw,\n};\n","const getStyles = (options) =>\n  `.actor {\n    stroke: ${options.actorBorder};\n    fill: ${options.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${options.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${options.actorLineColor};\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${options.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${options.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${options.signalColor};\n    stroke: ${options.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${options.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${options.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${options.signalColor};\n    stroke: ${options.signalColor};\n  }\n\n  .messageText {\n    fill: ${options.signalTextColor};\n    stroke: ${options.signalTextColor};\n  }\n\n  .labelBox {\n    stroke: ${options.labelBoxBorderColor};\n    fill: ${options.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${options.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${options.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${options.labelBoxBorderColor};\n    fill: ${options.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${options.noteBorderColor};\n    fill: ${options.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${options.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${options.activationBkgColor};\n    stroke: ${options.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${options.activationBkgColor};\n    stroke: ${options.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${options.activationBkgColor};\n    stroke: ${options.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${options.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${options.actorBorder};\n    fill: ${options.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${options.actorBorder};\n    fill: ${options.actorBkg};\n    stroke-width: 2px;\n  }\n`;\n\nexport default getStyles;\n","import common from '../common/common';\nimport { addFunction } from '../../interactionDb';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\n\nexport const drawRect = function (elem, rectData) {\n  const rectElem = elem.append('rect');\n  rectElem.attr('x', rectData.x);\n  rectElem.attr('y', rectData.y);\n  rectElem.attr('fill', rectData.fill);\n  rectElem.attr('stroke', rectData.stroke);\n  rectElem.attr('width', rectData.width);\n  rectElem.attr('height', rectData.height);\n  rectElem.attr('rx', rectData.rx);\n  rectElem.attr('ry', rectData.ry);\n\n  if (typeof rectData.class !== 'undefined') {\n    rectElem.attr('class', rectData.class);\n  }\n\n  return rectElem;\n};\n\n// const sanitizeUrl = function (s) {\n//   return s\n//     .replace(/&/g, '&amp;')\n//     .replace(/</g, '&lt;')\n//     .replace(/javascript:/g, '');\n// };\n\nconst addPopupInteraction = (id, actorCnt) => {\n  addFunction(() => {\n    const arr = document.querySelectorAll(id);\n    // This will be the case when running in sandboxed mode\n    if (arr.length === 0) return;\n    arr[0].addEventListener('mouseover', function () {\n      popupMenuUpFunc('actor' + actorCnt + '_popup');\n    });\n    arr[0].addEventListener('mouseout', function () {\n      popupMenuDownFunc('actor' + actorCnt + '_popup');\n    });\n  });\n};\nexport const drawPopup = function (elem, actor, minMenuWidth, textAttrs, forceMenus) {\n  if (actor.links === undefined || actor.links === null || Object.keys(actor.links).length === 0) {\n    return { height: 0, width: 0 };\n  }\n\n  const links = actor.links;\n  const actorCnt = actor.actorCnt;\n  const rectData = actor.rectData;\n\n  var displayValue = 'none';\n  if (forceMenus) {\n    displayValue = 'block !important';\n  }\n\n  const g = elem.append('g');\n  g.attr('id', 'actor' + actorCnt + '_popup');\n  g.attr('class', 'actorPopupMenu');\n  g.attr('display', displayValue);\n  addPopupInteraction('#actor' + actorCnt + '_popup', actorCnt);\n  var actorClass = '';\n  if (typeof rectData.class !== 'undefined') {\n    actorClass = ' ' + rectData.class;\n  }\n\n  let menuWidth = rectData.width > minMenuWidth ? rectData.width : minMenuWidth;\n\n  const rectElem = g.append('rect');\n  rectElem.attr('class', 'actorPopupMenuPanel' + actorClass);\n  rectElem.attr('x', rectData.x);\n  rectElem.attr('y', rectData.height);\n  rectElem.attr('fill', rectData.fill);\n  rectElem.attr('stroke', rectData.stroke);\n  rectElem.attr('width', menuWidth);\n  rectElem.attr('height', rectData.height);\n  rectElem.attr('rx', rectData.rx);\n  rectElem.attr('ry', rectData.ry);\n  if (links != null) {\n    var linkY = 20;\n    for (let key in links) {\n      var linkElem = g.append('a');\n      var sanitizedLink = sanitizeUrl(links[key]);\n      linkElem.attr('xlink:href', sanitizedLink);\n      linkElem.attr('target', '_blank');\n\n      _drawMenuItemTextCandidateFunc(textAttrs)(\n        key,\n        linkElem,\n        rectData.x + 10,\n        rectData.height + linkY,\n        menuWidth,\n        20,\n        { class: 'actor' },\n        textAttrs\n      );\n\n      linkY += 30;\n    }\n  }\n\n  rectElem.attr('height', linkY);\n\n  return { height: rectData.height + linkY, width: menuWidth };\n};\n\nexport const drawImage = function (elem, x, y, link) {\n  const imageElem = elem.append('image');\n  imageElem.attr('x', x);\n  imageElem.attr('y', y);\n  var sanitizedLink = sanitizeUrl(link);\n  imageElem.attr('xlink:href', sanitizedLink);\n};\n\nexport const drawEmbeddedImage = function (elem, x, y, link) {\n  const imageElem = elem.append('use');\n  imageElem.attr('x', x);\n  imageElem.attr('y', y);\n  var sanitizedLink = sanitizeUrl(link);\n  imageElem.attr('xlink:href', '#' + sanitizedLink);\n};\n\nexport const popupMenu = function (popid) {\n  return (\n    \"var pu = document.getElementById('\" +\n    popid +\n    \"'); if (pu != null) { pu.style.display = 'block'; }\"\n  );\n};\n\nexport const popdownMenu = function (popid) {\n  return (\n    \"var pu = document.getElementById('\" +\n    popid +\n    \"'); if (pu != null) { pu.style.display = 'none'; }\"\n  );\n};\n\nconst popupMenuUpFunc = function (popupId) {\n  var pu = document.getElementById(popupId);\n  if (pu != null) {\n    pu.style.display = 'block';\n  }\n};\n\nconst popupMenuDownFunc = function (popupId) {\n  var pu = document.getElementById(popupId);\n  if (pu != null) {\n    pu.style.display = 'none';\n  }\n};\nexport const drawText = function (elem, textData) {\n  let prevTextHeight = 0,\n    textHeight = 0;\n  const lines = textData.text.split(common.lineBreakRegex);\n\n  let textElems = [];\n  let dy = 0;\n  let yfunc = () => textData.y;\n  if (\n    typeof textData.valign !== 'undefined' &&\n    typeof textData.textMargin !== 'undefined' &&\n    textData.textMargin > 0\n  ) {\n    switch (textData.valign) {\n      case 'top':\n      case 'start':\n        yfunc = () => Math.round(textData.y + textData.textMargin);\n        break;\n      case 'middle':\n      case 'center':\n        yfunc = () =>\n          Math.round(textData.y + (prevTextHeight + textHeight + textData.textMargin) / 2);\n        break;\n      case 'bottom':\n      case 'end':\n        yfunc = () =>\n          Math.round(\n            textData.y +\n              (prevTextHeight + textHeight + 2 * textData.textMargin) -\n              textData.textMargin\n          );\n        break;\n    }\n  }\n  if (\n    typeof textData.anchor !== 'undefined' &&\n    typeof textData.textMargin !== 'undefined' &&\n    typeof textData.width !== 'undefined'\n  ) {\n    switch (textData.anchor) {\n      case 'left':\n      case 'start':\n        textData.x = Math.round(textData.x + textData.textMargin);\n        textData.anchor = 'start';\n        textData.dominantBaseline = 'text-after-edge';\n        textData.alignmentBaseline = 'middle';\n        break;\n      case 'middle':\n      case 'center':\n        textData.x = Math.round(textData.x + textData.width / 2);\n        textData.anchor = 'middle';\n        textData.dominantBaseline = 'middle';\n        textData.alignmentBaseline = 'middle';\n        break;\n      case 'right':\n      case 'end':\n        textData.x = Math.round(textData.x + textData.width - textData.textMargin);\n        textData.anchor = 'end';\n        textData.dominantBaseline = 'text-before-edge';\n        textData.alignmentBaseline = 'middle';\n        break;\n    }\n  }\n  for (let i = 0; i < lines.length; i++) {\n    let line = lines[i];\n    if (\n      typeof textData.textMargin !== 'undefined' &&\n      textData.textMargin === 0 &&\n      typeof textData.fontSize !== 'undefined'\n    ) {\n      dy = i * textData.fontSize;\n    }\n\n    const textElem = elem.append('text');\n    textElem.attr('x', textData.x);\n    textElem.attr('y', yfunc());\n    if (typeof textData.anchor !== 'undefined') {\n      textElem\n        .attr('text-anchor', textData.anchor)\n        .attr('dominant-baseline', textData.dominantBaseline)\n        .attr('alignment-baseline', textData.alignmentBaseline);\n    }\n    if (typeof textData.fontFamily !== 'undefined') {\n      textElem.style('font-family', textData.fontFamily);\n    }\n    if (typeof textData.fontSize !== 'undefined') {\n      textElem.style('font-size', textData.fontSize);\n    }\n    if (typeof textData.fontWeight !== 'undefined') {\n      textElem.style('font-weight', textData.fontWeight);\n    }\n    if (typeof textData.fill !== 'undefined') {\n      textElem.attr('fill', textData.fill);\n    }\n    if (typeof textData.class !== 'undefined') {\n      textElem.attr('class', textData.class);\n    }\n    if (typeof textData.dy !== 'undefined') {\n      textElem.attr('dy', textData.dy);\n    } else if (dy !== 0) {\n      textElem.attr('dy', dy);\n    }\n\n    if (textData.tspan) {\n      const span = textElem.append('tspan');\n      span.attr('x', textData.x);\n      if (typeof textData.fill !== 'undefined') {\n        span.attr('fill', textData.fill);\n      }\n      span.text(line);\n    } else {\n      textElem.text(line);\n    }\n    if (\n      typeof textData.valign !== 'undefined' &&\n      typeof textData.textMargin !== 'undefined' &&\n      textData.textMargin > 0\n    ) {\n      textHeight += (textElem._groups || textElem)[0][0].getBBox().height;\n      prevTextHeight = textHeight;\n    }\n\n    textElems.push(textElem);\n  }\n\n  return textElems;\n};\n\nexport const drawLabel = function (elem, txtObject) {\n  /**\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} cut\n   * @returns {any}\n   */\n  function genPoints(x, y, width, height, cut) {\n    return (\n      x +\n      ',' +\n      y +\n      ' ' +\n      (x + width) +\n      ',' +\n      y +\n      ' ' +\n      (x + width) +\n      ',' +\n      (y + height - cut) +\n      ' ' +\n      (x + width - cut * 1.2) +\n      ',' +\n      (y + height) +\n      ' ' +\n      x +\n      ',' +\n      (y + height)\n    );\n  }\n  const polygon = elem.append('polygon');\n  polygon.attr('points', genPoints(txtObject.x, txtObject.y, txtObject.width, txtObject.height, 7));\n  polygon.attr('class', 'labelBox');\n\n  txtObject.y = txtObject.y + txtObject.height / 2;\n\n  drawText(elem, txtObject);\n  return polygon;\n};\n\nlet actorCnt = -1;\n\nexport const fixLifeLineHeights = (diagram, bounds) => {\n  if (!diagram.selectAll) return;\n  diagram\n    .selectAll('.actor-line')\n    .attr('class', '200')\n    .attr('y2', bounds - 55);\n};\n\n/**\n * Draws an actor in the diagram with the attached line\n *\n * @param {any} elem - The diagram we'll draw to.\n * @param {any} actor - The actor to draw.\n * @param {any} conf - DrawText implementation discriminator object\n */\nconst drawActorTypeParticipant = function (elem, actor, conf) {\n  const center = actor.x + actor.width / 2;\n\n  const boxpluslineGroup = elem.append('g');\n  var g = boxpluslineGroup;\n\n  if (actor.y === 0) {\n    actorCnt++;\n    g.append('line')\n      .attr('id', 'actor' + actorCnt)\n      .attr('x1', center)\n      .attr('y1', 5)\n      .attr('x2', center)\n      .attr('y2', 2000)\n      .attr('class', 'actor-line')\n      .attr('stroke-width', '0.5px')\n      .attr('stroke', '#999');\n\n    g = boxpluslineGroup.append('g');\n    actor.actorCnt = actorCnt;\n\n    if (actor.links != null) {\n      g.attr('id', 'root-' + actorCnt);\n      addPopupInteraction('#root-' + actorCnt, actorCnt);\n    }\n  }\n\n  const rect = getNoteRect();\n  var cssclass = 'actor';\n  if (actor.properties != null && actor.properties['class']) {\n    cssclass = actor.properties['class'];\n  } else {\n    rect.fill = '#eaeaea';\n  }\n  rect.x = actor.x;\n  rect.y = actor.y;\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = cssclass;\n  rect.rx = 3;\n  rect.ry = 3;\n  const rectElem = drawRect(g, rect);\n  actor.rectData = rect;\n\n  if (actor.properties != null && actor.properties['icon']) {\n    const iconSrc = actor.properties['icon'].trim();\n    if (iconSrc.charAt(0) === '@') {\n      drawEmbeddedImage(g, rect.x + rect.width - 20, rect.y + 10, iconSrc.substr(1));\n    } else {\n      drawImage(g, rect.x + rect.width - 20, rect.y + 10, iconSrc);\n    }\n  }\n\n  _drawTextCandidateFunc(conf)(\n    actor.description,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: 'actor' },\n    conf\n  );\n\n  let height = actor.height;\n  if (rectElem.node) {\n    const bounds = rectElem.node().getBBox();\n    actor.height = bounds.height;\n    height = bounds.height;\n  }\n\n  return height;\n};\n\nconst drawActorTypeActor = function (elem, actor, conf) {\n  const center = actor.x + actor.width / 2;\n\n  if (actor.y === 0) {\n    actorCnt++;\n    elem\n      .append('line')\n      .attr('id', 'actor' + actorCnt)\n      .attr('x1', center)\n      .attr('y1', 80)\n      .attr('x2', center)\n      .attr('y2', 2000)\n      .attr('class', 'actor-line')\n      .attr('stroke-width', '0.5px')\n      .attr('stroke', '#999');\n  }\n  const actElem = elem.append('g');\n  actElem.attr('class', 'actor-man');\n\n  const rect = getNoteRect();\n  rect.x = actor.x;\n  rect.y = actor.y;\n  rect.fill = '#eaeaea';\n  rect.width = actor.width;\n  rect.height = actor.height;\n  rect.class = 'actor';\n  rect.rx = 3;\n  rect.ry = 3;\n  // drawRect(actElem, rect);\n\n  actElem\n    .append('line')\n    .attr('id', 'actor-man-torso' + actorCnt)\n    .attr('x1', center)\n    .attr('y1', actor.y + 25)\n    .attr('x2', center)\n    .attr('y2', actor.y + 45);\n\n  actElem\n    .append('line')\n    .attr('id', 'actor-man-arms' + actorCnt)\n    .attr('x1', center - 18)\n    .attr('y1', actor.y + 33)\n    .attr('x2', center + 18)\n    .attr('y2', actor.y + 33);\n  actElem\n    .append('line')\n    .attr('x1', center - 18)\n    .attr('y1', actor.y + 60)\n    .attr('x2', center)\n    .attr('y2', actor.y + 45);\n  actElem\n    .append('line')\n    .attr('x1', center)\n    .attr('y1', actor.y + 45)\n    .attr('x2', center + 16)\n    .attr('y2', actor.y + 60);\n\n  const circle = actElem.append('circle');\n  circle.attr('cx', actor.x + actor.width / 2);\n  circle.attr('cy', actor.y + 10);\n  circle.attr('r', 15);\n  circle.attr('width', actor.width);\n  circle.attr('height', actor.height);\n\n  const bounds = actElem.node().getBBox();\n  actor.height = bounds.height;\n\n  _drawTextCandidateFunc(conf)(\n    actor.description,\n    actElem,\n    rect.x,\n    rect.y + 35,\n    rect.width,\n    rect.height,\n    { class: 'actor' },\n    conf\n  );\n\n  return actor.height;\n};\n\nexport const drawActor = function (elem, actor, conf) {\n  switch (actor.type) {\n    case 'actor':\n      return drawActorTypeActor(elem, actor, conf);\n    case 'participant':\n      return drawActorTypeParticipant(elem, actor, conf);\n  }\n};\n\nexport const anchorElement = function (elem) {\n  return elem.append('g');\n};\n/**\n * Draws an activation in the diagram\n *\n * @param {any} elem - Element to append activation rect.\n * @param {any} bounds - Activation box bounds.\n * @param {any} verticalPos - Precise y cooridnate of bottom activation box edge.\n * @param {any} conf - Sequence diagram config object.\n * @param {any} actorActivations - Number of activations on the actor.\n */\nexport const drawActivation = function (elem, bounds, verticalPos, conf, actorActivations) {\n  const rect = getNoteRect();\n  const g = bounds.anchored;\n  rect.x = bounds.startx;\n  rect.y = bounds.starty;\n  rect.class = 'activation' + (actorActivations % 3); // Will evaluate to 0, 1 or 2\n  rect.width = bounds.stopx - bounds.startx;\n  rect.height = verticalPos - bounds.starty;\n  drawRect(g, rect);\n};\n\n/**\n * Draws a loop in the diagram\n *\n * @param {any} elem - Elemenet to append the loop to.\n * @param {any} loopModel - LoopModel of the given loop.\n * @param {any} labelText - Text within the loop.\n * @param {any} conf - Diagrom configuration\n * @returns {any}\n */\nexport const drawLoop = function (elem, loopModel, labelText, conf) {\n  const {\n    boxMargin,\n    boxTextMargin,\n    labelBoxHeight,\n    labelBoxWidth,\n    messageFontFamily: fontFamily,\n    messageFontSize: fontSize,\n    messageFontWeight: fontWeight,\n  } = conf;\n  const g = elem.append('g');\n  const drawLoopLine = function (startx, starty, stopx, stopy) {\n    return g\n      .append('line')\n      .attr('x1', startx)\n      .attr('y1', starty)\n      .attr('x2', stopx)\n      .attr('y2', stopy)\n      .attr('class', 'loopLine');\n  };\n  drawLoopLine(loopModel.startx, loopModel.starty, loopModel.stopx, loopModel.starty);\n  drawLoopLine(loopModel.stopx, loopModel.starty, loopModel.stopx, loopModel.stopy);\n  drawLoopLine(loopModel.startx, loopModel.stopy, loopModel.stopx, loopModel.stopy);\n  drawLoopLine(loopModel.startx, loopModel.starty, loopModel.startx, loopModel.stopy);\n  if (typeof loopModel.sections !== 'undefined') {\n    loopModel.sections.forEach(function (item) {\n      drawLoopLine(loopModel.startx, item.y, loopModel.stopx, item.y).style(\n        'stroke-dasharray',\n        '3, 3'\n      );\n    });\n  }\n\n  let txt = getTextObj();\n  txt.text = labelText;\n  txt.x = loopModel.startx;\n  txt.y = loopModel.starty;\n  txt.fontFamily = fontFamily;\n  txt.fontSize = fontSize;\n  txt.fontWeight = fontWeight;\n  txt.anchor = 'middle';\n  txt.valign = 'middle';\n  txt.tspan = false;\n  txt.width = labelBoxWidth || 50;\n  txt.height = labelBoxHeight || 20;\n  txt.textMargin = boxTextMargin;\n  txt.class = 'labelText';\n\n  drawLabel(g, txt);\n  txt = getTextObj();\n  txt.text = loopModel.title;\n  txt.x = loopModel.startx + labelBoxWidth / 2 + (loopModel.stopx - loopModel.startx) / 2;\n  txt.y = loopModel.starty + boxMargin + boxTextMargin;\n  txt.anchor = 'middle';\n  txt.valign = 'middle';\n  txt.textMargin = boxTextMargin;\n  txt.class = 'loopText';\n  txt.fontFamily = fontFamily;\n  txt.fontSize = fontSize;\n  txt.fontWeight = fontWeight;\n  txt.wrap = true;\n\n  let textElem = drawText(g, txt);\n\n  if (typeof loopModel.sectionTitles !== 'undefined') {\n    loopModel.sectionTitles.forEach(function (item, idx) {\n      if (item.message) {\n        txt.text = item.message;\n        txt.x = loopModel.startx + (loopModel.stopx - loopModel.startx) / 2;\n        txt.y = loopModel.sections[idx].y + boxMargin + boxTextMargin;\n        txt.class = 'loopText';\n        txt.anchor = 'middle';\n        txt.valign = 'middle';\n        txt.tspan = false;\n        txt.fontFamily = fontFamily;\n        txt.fontSize = fontSize;\n        txt.fontWeight = fontWeight;\n        txt.wrap = loopModel.wrap;\n        textElem = drawText(g, txt);\n        let sectionHeight = Math.round(\n          textElem\n            .map((te) => (te._groups || te)[0][0].getBBox().height)\n            .reduce((acc, curr) => acc + curr)\n        );\n        loopModel.sections[idx].height += sectionHeight - (boxMargin + boxTextMargin);\n      }\n    });\n  }\n\n  loopModel.height = Math.round(loopModel.stopy - loopModel.starty);\n  return g;\n};\n\n/**\n * Draws a background rectangle\n *\n * @param {any} elem Diagram (reference for bounds)\n * @param {any} bounds Shape of the rectangle\n */\nexport const drawBackgroundRect = function (elem, bounds) {\n  const rectElem = drawRect(elem, {\n    x: bounds.startx,\n    y: bounds.starty,\n    width: bounds.stopx - bounds.startx,\n    height: bounds.stopy - bounds.starty,\n    fill: bounds.fill,\n    class: 'rect',\n  });\n  rectElem.lower();\n};\n\nexport const insertDatabaseIcon = function (elem) {\n  elem\n    .append('defs')\n    .append('symbol')\n    .attr('id', 'database')\n    .attr('fill-rule', 'evenodd')\n    .attr('clip-rule', 'evenodd')\n    .append('path')\n    .attr('transform', 'scale(.5)')\n    .attr(\n      'd',\n      'M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z'\n    );\n};\n\nexport const insertComputerIcon = function (elem) {\n  elem\n    .append('defs')\n    .append('symbol')\n    .attr('id', 'computer')\n    .attr('width', '24')\n    .attr('height', '24')\n    .append('path')\n    .attr('transform', 'scale(.5)')\n    .attr(\n      'd',\n      'M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z'\n    );\n};\n\nexport const insertClockIcon = function (elem) {\n  elem\n    .append('defs')\n    .append('symbol')\n    .attr('id', 'clock')\n    .attr('width', '24')\n    .attr('height', '24')\n    .append('path')\n    .attr('transform', 'scale(.5)')\n    .attr(\n      'd',\n      'M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z'\n    );\n};\n\n/**\n * Setup arrow head and define the marker. The result is appended to the svg.\n *\n * @param elem\n */\nexport const insertArrowHead = function (elem) {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'arrowhead')\n    .attr('refX', 9)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 12)\n    .attr('markerHeight', 12)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 0 0 L 10 5 L 0 10 z'); // this is actual shape for arrowhead\n};\n/**\n * Setup arrow head and define the marker. The result is appended to the svg.\n *\n * @param {any} elem\n */\nexport const insertArrowFilledHead = function (elem) {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'filled-head')\n    .attr('refX', 18)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\n};\n/**\n * Setup node number. The result is appended to the svg.\n *\n * @param {any} elem\n */\nexport const insertSequenceNumber = function (elem) {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'sequencenumber')\n    .attr('refX', 15)\n    .attr('refY', 15)\n    .attr('markerWidth', 60)\n    .attr('markerHeight', 40)\n    .attr('orient', 'auto')\n    .append('circle')\n    .attr('cx', 15)\n    .attr('cy', 15)\n    .attr('r', 6);\n  // .style(\"fill\", '#f00');\n};\n/**\n * Setup arrow head and define the marker. The result is appended to the svg.\n *\n * @param {any} elem\n */\nexport const insertArrowCrossHead = function (elem) {\n  const defs = elem.append('defs');\n  const marker = defs\n    .append('marker')\n    .attr('id', 'crosshead')\n    .attr('markerWidth', 15)\n    .attr('markerHeight', 8)\n    .attr('orient', 'auto')\n    .attr('refX', 16)\n    .attr('refY', 4);\n\n  // The arrow\n  marker\n    .append('path')\n    .attr('fill', 'black')\n    .attr('stroke', '#000000')\n    .style('stroke-dasharray', '0, 0')\n    .attr('stroke-width', '1px')\n    .attr('d', 'M 9,2 V 6 L16,4 Z');\n\n  // The cross\n  marker\n    .append('path')\n    .attr('fill', 'none')\n    .attr('stroke', '#000000')\n    .style('stroke-dasharray', '0, 0')\n    .attr('stroke-width', '1px')\n    .attr('d', 'M 0,1 L 6,7 M 6,1 L 0,7');\n  // this is actual shape for arrowhead\n};\n\nexport const getTextObj = function () {\n  return {\n    x: 0,\n    y: 0,\n    fill: undefined,\n    anchor: undefined,\n    style: '#666',\n    width: undefined,\n    height: undefined,\n    textMargin: 0,\n    rx: 0,\n    ry: 0,\n    tspan: true,\n    valign: undefined,\n  };\n};\n\nexport const getNoteRect = function () {\n  return {\n    x: 0,\n    y: 0,\n    fill: '#EDF2AE',\n    stroke: '#666',\n    width: 100,\n    anchor: 'start',\n    height: 100,\n    rx: 0,\n    ry: 0,\n  };\n};\n\nconst _drawTextCandidateFunc = (function () {\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   */\n  function byText(content, g, x, y, width, height, textAttrs) {\n    const text = g\n      .append('text')\n      .attr('x', x + width / 2)\n      .attr('y', y + height / 2 + 5)\n      .style('text-anchor', 'middle')\n      .text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} conf\n   */\n  function byTspan(content, g, x, y, width, height, textAttrs, conf) {\n    const { actorFontSize, actorFontFamily, actorFontWeight } = conf;\n\n    const lines = content.split(common.lineBreakRegex);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * actorFontSize - (actorFontSize * (lines.length - 1)) / 2;\n      const text = g\n        .append('text')\n        .attr('x', x + width / 2)\n        .attr('y', y)\n        .style('text-anchor', 'middle')\n        .style('font-size', actorFontSize)\n        .style('font-weight', actorFontWeight)\n        .style('font-family', actorFontFamily);\n      text\n        .append('tspan')\n        .attr('x', x + width / 2)\n        .attr('dy', dy)\n        .text(lines[i]);\n\n      text\n        .attr('y', y + height / 2.0)\n        .attr('dominant-baseline', 'central')\n        .attr('alignment-baseline', 'central');\n\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} conf\n   */\n  function byFo(content, g, x, y, width, height, textAttrs, conf) {\n    const s = g.append('switch');\n    const f = s\n      .append('foreignObject')\n      .attr('x', x)\n      .attr('y', y)\n      .attr('width', width)\n      .attr('height', height);\n\n    const text = f\n      .append('xhtml:div')\n      .style('display', 'table')\n      .style('height', '100%')\n      .style('width', '100%');\n\n    text\n      .append('div')\n      .style('display', 'table-cell')\n      .style('text-align', 'center')\n      .style('vertical-align', 'middle')\n      .text(content);\n\n    byTspan(content, s, x, y, width, height, textAttrs, conf);\n    _setTextAttrs(text, textAttrs);\n  }\n\n  /**\n   * @param {any} toText\n   * @param {any} fromTextAttrsDict\n   */\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (fromTextAttrsDict.hasOwnProperty(key)) { // eslint-disable-line\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n\n  return function (conf) {\n    return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\n  };\n})();\n\nconst _drawMenuItemTextCandidateFunc = (function () {\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   */\n  function byText(content, g, x, y, width, height, textAttrs) {\n    const text = g\n      .append('text')\n      .attr('x', x)\n      .attr('y', y)\n      .style('text-anchor', 'start')\n      .text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} conf\n   */\n  function byTspan(content, g, x, y, width, height, textAttrs, conf) {\n    const { actorFontSize, actorFontFamily, actorFontWeight } = conf;\n\n    const lines = content.split(common.lineBreakRegex);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * actorFontSize - (actorFontSize * (lines.length - 1)) / 2;\n      const text = g\n        .append('text')\n        .attr('x', x)\n        .attr('y', y)\n        .style('text-anchor', 'start')\n        .style('font-size', actorFontSize)\n        .style('font-weight', actorFontWeight)\n        .style('font-family', actorFontFamily);\n      text.append('tspan').attr('x', x).attr('dy', dy).text(lines[i]);\n\n      text\n        .attr('y', y + height / 2.0)\n        .attr('dominant-baseline', 'central')\n        .attr('alignment-baseline', 'central');\n\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} conf\n   */\n  function byFo(content, g, x, y, width, height, textAttrs, conf) {\n    const s = g.append('switch');\n    const f = s\n      .append('foreignObject')\n      .attr('x', x)\n      .attr('y', y)\n      .attr('width', width)\n      .attr('height', height);\n\n    const text = f\n      .append('xhtml:div')\n      .style('display', 'table')\n      .style('height', '100%')\n      .style('width', '100%');\n\n    text\n      .append('div')\n      .style('display', 'table-cell')\n      .style('text-align', 'center')\n      .style('vertical-align', 'middle')\n      .text(content);\n\n    byTspan(content, s, x, y, width, height, textAttrs, conf);\n    _setTextAttrs(text, textAttrs);\n  }\n\n  /**\n   * @param {any} toText\n   * @param {any} fromTextAttrsDict\n   */\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (fromTextAttrsDict.hasOwnProperty(key)) { // eslint-disable-line\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n\n  return function (conf) {\n    return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\n  };\n})();\n\nexport default {\n  drawRect,\n  drawText,\n  drawLabel,\n  drawActor,\n  drawPopup,\n  drawImage,\n  drawEmbeddedImage,\n  anchorElement,\n  drawActivation,\n  drawLoop,\n  drawBackgroundRect,\n  insertArrowHead,\n  insertArrowFilledHead,\n  insertSequenceNumber,\n  insertArrowCrossHead,\n  insertDatabaseIcon,\n  insertComputerIcon,\n  insertClockIcon,\n  getTextObj,\n  getNoteRect,\n  popupMenu,\n  popdownMenu,\n  fixLifeLineHeights,\n  sanitizeUrl,\n};\n","const idCache = {};\n\nexport const set = (key, val) => {\n  idCache[key] = val;\n};\n\nexport const get = (k) => idCache[k];\nexport const keys = () => Object.keys(idCache);\nexport const size = () => keys().length;\n\nexport default {\n  get,\n  set,\n  keys,\n  size,\n};\n","import { line, curveBasis } from 'd3';\nimport idCache from './id-cache.js';\nimport stateDb from './stateDb';\nimport utils from '../../utils';\nimport common from '../common/common';\nimport { getConfig } from '../../config';\nimport { log } from '../../logger';\n\n/**\n * Draws a start state as a black circle\n *\n * @param {any} g\n */\nexport const drawStartState = (g) =>\n  g\n    .append('circle')\n    // .style('stroke', 'black')\n    // .style('fill', 'black')\n    .attr('class', 'start-state')\n    .attr('r', getConfig().state.sizeUnit)\n    .attr('cx', getConfig().state.padding + getConfig().state.sizeUnit)\n    .attr('cy', getConfig().state.padding + getConfig().state.sizeUnit);\n\n/**\n * Draws a start state as a black circle\n *\n * @param {any} g\n */\nexport const drawDivider = (g) =>\n  g\n    .append('line')\n    .style('stroke', 'grey')\n    .style('stroke-dasharray', '3')\n    .attr('x1', getConfig().state.textHeight)\n    .attr('class', 'divider')\n    .attr('x2', getConfig().state.textHeight * 2)\n    .attr('y1', 0)\n    .attr('y2', 0);\n\n/**\n * Draws a an end state as a black circle\n *\n * @param {any} g\n * @param {any} stateDef\n */\nexport const drawSimpleState = (g, stateDef) => {\n  const state = g\n    .append('text')\n    .attr('x', 2 * getConfig().state.padding)\n    .attr('y', getConfig().state.textHeight + 2 * getConfig().state.padding)\n    .attr('font-size', getConfig().state.fontSize)\n    .attr('class', 'state-title')\n    .text(stateDef.id);\n\n  const classBox = state.node().getBBox();\n  g.insert('rect', ':first-child')\n    .attr('x', getConfig().state.padding)\n    .attr('y', getConfig().state.padding)\n    .attr('width', classBox.width + 2 * getConfig().state.padding)\n    .attr('height', classBox.height + 2 * getConfig().state.padding)\n    .attr('rx', getConfig().state.radius);\n\n  return state;\n};\n\n/**\n * Draws a state with descriptions\n *\n * @param {any} g\n * @param {any} stateDef\n * @returns\n */\nexport const drawDescrState = (g, stateDef) => {\n  const addTspan = function (textEl, txt, isFirst) {\n    const tSpan = textEl\n      .append('tspan')\n      .attr('x', 2 * getConfig().state.padding)\n      .text(txt);\n    if (!isFirst) {\n      tSpan.attr('dy', getConfig().state.textHeight);\n    }\n  };\n  const title = g\n    .append('text')\n    .attr('x', 2 * getConfig().state.padding)\n    .attr('y', getConfig().state.textHeight + 1.3 * getConfig().state.padding)\n    .attr('font-size', getConfig().state.fontSize)\n    .attr('class', 'state-title')\n    .text(stateDef.descriptions[0]);\n\n  const titleBox = title.node().getBBox();\n  const titleHeight = titleBox.height;\n\n  const description = g\n    .append('text') // text label for the x axis\n    .attr('x', getConfig().state.padding)\n    .attr(\n      'y',\n      titleHeight +\n        getConfig().state.padding * 0.4 +\n        getConfig().state.dividerMargin +\n        getConfig().state.textHeight\n    )\n    .attr('class', 'state-description');\n\n  let isFirst = true;\n  let isSecond = true;\n  stateDef.descriptions.forEach(function (descr) {\n    if (!isFirst) {\n      addTspan(description, descr, isSecond);\n      isSecond = false;\n    }\n    isFirst = false;\n  });\n\n  const descrLine = g\n    .append('line') // text label for the x axis\n    .attr('x1', getConfig().state.padding)\n    .attr('y1', getConfig().state.padding + titleHeight + getConfig().state.dividerMargin / 2)\n    .attr('y2', getConfig().state.padding + titleHeight + getConfig().state.dividerMargin / 2)\n    .attr('class', 'descr-divider');\n  const descrBox = description.node().getBBox();\n  const width = Math.max(descrBox.width, titleBox.width);\n\n  descrLine.attr('x2', width + 3 * getConfig().state.padding);\n  // const classBox = title.node().getBBox();\n\n  g.insert('rect', ':first-child')\n    .attr('x', getConfig().state.padding)\n    .attr('y', getConfig().state.padding)\n    .attr('width', width + 2 * getConfig().state.padding)\n    .attr('height', descrBox.height + titleHeight + 2 * getConfig().state.padding)\n    .attr('rx', getConfig().state.radius);\n\n  return g;\n};\n\n/** Adds the creates a box around the existing content and adds a panel for the id on top of the content. */\n/**\n * Function that creates an title row and a frame around a substate for a composit state diagram.\n * The function returns a new d3 svg object with updated width and height properties;\n *\n * @param {any} g The d3 svg object for the substate to framed\n * @param {any} stateDef The info about the\n * @param {any} altBkg\n */\nexport const addTitleAndBox = (g, stateDef, altBkg) => {\n  const pad = getConfig().state.padding;\n  const dblPad = 2 * getConfig().state.padding;\n  const orgBox = g.node().getBBox();\n  const orgWidth = orgBox.width;\n  const orgX = orgBox.x;\n\n  const title = g\n    .append('text')\n    .attr('x', 0)\n    .attr('y', getConfig().state.titleShift)\n    .attr('font-size', getConfig().state.fontSize)\n    .attr('class', 'state-title')\n    .text(stateDef.id);\n\n  const titleBox = title.node().getBBox();\n  const titleWidth = titleBox.width + dblPad;\n  let width = Math.max(titleWidth, orgWidth); // + dblPad;\n  if (width === orgWidth) {\n    width = width + dblPad;\n  }\n  let startX;\n  // const lineY = 1 - getConfig().state.textHeight;\n  // const descrLine = g\n  //   .append('line') // text label for the x axis\n  //   .attr('x1', 0)\n  //   .attr('y1', lineY)\n  //   .attr('y2', lineY)\n  //   .attr('class', 'descr-divider');\n\n  const graphBox = g.node().getBBox();\n  // descrLine.attr('x2', graphBox.width + getConfig().state.padding);\n\n  if (stateDef.doc) {\n    // cnsole.warn(\n    //   stateDef.id,\n    //   'orgX: ',\n    //   orgX,\n    //   'width: ',\n    //   width,\n    //   'titleWidth: ',\n    //   titleWidth,\n    //   'orgWidth: ',\n    //   orgWidth,\n    //   'width',\n    //   width\n    // );\n  }\n\n  startX = orgX - pad;\n  if (titleWidth > orgWidth) {\n    startX = (orgWidth - width) / 2 + pad;\n  }\n  if (Math.abs(orgX - graphBox.x) < pad) {\n    if (titleWidth > orgWidth) {\n      startX = orgX - (titleWidth - orgWidth) / 2;\n    }\n  }\n\n  const lineY = 1 - getConfig().state.textHeight;\n  // White color\n  g.insert('rect', ':first-child')\n    .attr('x', startX)\n    .attr('y', lineY)\n    .attr('class', altBkg ? 'alt-composit' : 'composit')\n    .attr('width', width)\n    .attr(\n      'height',\n      graphBox.height + getConfig().state.textHeight + getConfig().state.titleShift + 1\n    )\n    .attr('rx', '0');\n\n  title.attr('x', startX + pad);\n  if (titleWidth <= orgWidth) title.attr('x', orgX + (width - dblPad) / 2 - titleWidth / 2 + pad);\n\n  // Title background\n  g.insert('rect', ':first-child')\n    .attr('x', startX)\n    .attr(\n      'y',\n      getConfig().state.titleShift - getConfig().state.textHeight - getConfig().state.padding\n    )\n    .attr('width', width)\n    // Just needs to be higher then the descr line, will be clipped by the white color box\n    .attr('height', getConfig().state.textHeight * 3)\n    .attr('rx', getConfig().state.radius);\n\n  // Full background\n  g.insert('rect', ':first-child')\n    .attr('x', startX)\n    .attr(\n      'y',\n      getConfig().state.titleShift - getConfig().state.textHeight - getConfig().state.padding\n    )\n    .attr('width', width)\n    .attr('height', graphBox.height + 3 + 2 * getConfig().state.textHeight)\n    .attr('rx', getConfig().state.radius);\n\n  return g;\n};\n\nconst drawEndState = (g) => {\n  g.append('circle')\n    // .style('stroke', 'black')\n    // .style('fill', 'white')\n    .attr('class', 'end-state-outer')\n    .attr('r', getConfig().state.sizeUnit + getConfig().state.miniPadding)\n    .attr(\n      'cx',\n      getConfig().state.padding + getConfig().state.sizeUnit + getConfig().state.miniPadding\n    )\n    .attr(\n      'cy',\n      getConfig().state.padding + getConfig().state.sizeUnit + getConfig().state.miniPadding\n    );\n\n  return (\n    g\n      .append('circle')\n      // .style('stroke', 'black')\n      // .style('fill', 'black')\n      .attr('class', 'end-state-inner')\n      .attr('r', getConfig().state.sizeUnit)\n      .attr('cx', getConfig().state.padding + getConfig().state.sizeUnit + 2)\n      .attr('cy', getConfig().state.padding + getConfig().state.sizeUnit + 2)\n  );\n};\nconst drawForkJoinState = (g, stateDef) => {\n  let width = getConfig().state.forkWidth;\n  let height = getConfig().state.forkHeight;\n\n  if (stateDef.parentId) {\n    let tmp = width;\n    width = height;\n    height = tmp;\n  }\n  return g\n    .append('rect')\n    .style('stroke', 'black')\n    .style('fill', 'black')\n    .attr('width', width)\n    .attr('height', height)\n    .attr('x', getConfig().state.padding)\n    .attr('y', getConfig().state.padding);\n};\n\nexport const drawText = function (elem, textData) {\n  // Remove and ignore br:s\n  const nText = textData.text.replace(common.lineBreakRegex, ' ');\n\n  const textElem = elem.append('text');\n  textElem.attr('x', textData.x);\n  textElem.attr('y', textData.y);\n  textElem.style('text-anchor', textData.anchor);\n  textElem.attr('fill', textData.fill);\n  if (typeof textData.class !== 'undefined') {\n    textElem.attr('class', textData.class);\n  }\n\n  const span = textElem.append('tspan');\n  span.attr('x', textData.x + textData.textMargin * 2);\n  span.attr('fill', textData.fill);\n  span.text(nText);\n\n  return textElem;\n};\n\nconst _drawLongText = (_text, x, y, g) => {\n  let textHeight = 0;\n\n  const textElem = g.append('text');\n  textElem.style('text-anchor', 'start');\n  textElem.attr('class', 'noteText');\n\n  let text = _text.replace(/\\r\\n/g, '<br/>');\n  text = text.replace(/\\n/g, '<br/>');\n  const lines = text.split(common.lineBreakRegex);\n\n  let tHeight = 1.25 * getConfig().state.noteMargin;\n  for (const line of lines) {\n    const txt = line.trim();\n\n    if (txt.length > 0) {\n      const span = textElem.append('tspan');\n      span.text(txt);\n      if (tHeight === 0) {\n        const textBounds = span.node().getBBox();\n        tHeight += textBounds.height;\n      }\n      textHeight += tHeight;\n      span.attr('x', x + getConfig().state.noteMargin);\n      span.attr('y', y + textHeight + 1.25 * getConfig().state.noteMargin);\n    }\n  }\n  return { textWidth: textElem.node().getBBox().width, textHeight };\n};\n\n/**\n * Draws a note to the diagram\n *\n * @param text - The text of the given note.\n * @param g - The element the note is attached to.\n */\n\nexport const drawNote = (text, g) => {\n  g.attr('class', 'state-note');\n  const note = g.append('rect').attr('x', 0).attr('y', getConfig().state.padding);\n  const rectElem = g.append('g');\n\n  const { textWidth, textHeight } = _drawLongText(text, 0, 0, rectElem);\n  note.attr('height', textHeight + 2 * getConfig().state.noteMargin);\n  note.attr('width', textWidth + getConfig().state.noteMargin * 2);\n\n  return note;\n};\n\n/**\n * Starting point for drawing a state. The function finds out the specifics about the state and\n * renders with approprtiate function.\n *\n * @param {any} elem\n * @param {any} stateDef\n */\n\nexport const drawState = function (elem, stateDef) {\n  const id = stateDef.id;\n  const stateInfo = {\n    id: id,\n    label: stateDef.id,\n    width: 0,\n    height: 0,\n  };\n\n  const g = elem.append('g').attr('id', id).attr('class', 'stateGroup');\n\n  if (stateDef.type === 'start') drawStartState(g);\n  if (stateDef.type === 'end') drawEndState(g);\n  if (stateDef.type === 'fork' || stateDef.type === 'join') drawForkJoinState(g, stateDef);\n  if (stateDef.type === 'note') drawNote(stateDef.note.text, g);\n  if (stateDef.type === 'divider') drawDivider(g);\n  if (stateDef.type === 'default' && stateDef.descriptions.length === 0)\n    drawSimpleState(g, stateDef);\n  if (stateDef.type === 'default' && stateDef.descriptions.length > 0) drawDescrState(g, stateDef);\n\n  const stateBox = g.node().getBBox();\n  stateInfo.width = stateBox.width + 2 * getConfig().state.padding;\n  stateInfo.height = stateBox.height + 2 * getConfig().state.padding;\n\n  idCache.set(id, stateInfo);\n  // stateCnt++;\n  return stateInfo;\n};\n\nlet edgeCount = 0;\nexport const drawEdge = function (elem, path, relation) {\n  const getRelationType = function (type) {\n    switch (type) {\n      case stateDb.relationType.AGGREGATION:\n        return 'aggregation';\n      case stateDb.relationType.EXTENSION:\n        return 'extension';\n      case stateDb.relationType.COMPOSITION:\n        return 'composition';\n      case stateDb.relationType.DEPENDENCY:\n        return 'dependency';\n    }\n  };\n\n  path.points = path.points.filter((p) => !Number.isNaN(p.y));\n\n  // The data for our line\n  const lineData = path.points;\n\n  // This is the accessor function we talked about above\n  const lineFunction = line()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    })\n    .curve(curveBasis);\n\n  const svgPath = elem\n    .append('path')\n    .attr('d', lineFunction(lineData))\n    .attr('id', 'edge' + edgeCount)\n    .attr('class', 'transition');\n  let url = '';\n  if (getConfig().state.arrowMarkerAbsolute) {\n    url =\n      window.location.protocol +\n      '//' +\n      window.location.host +\n      window.location.pathname +\n      window.location.search;\n    url = url.replace(/\\(/g, '\\\\(');\n    url = url.replace(/\\)/g, '\\\\)');\n  }\n\n  svgPath.attr(\n    'marker-end',\n    'url(' + url + '#' + getRelationType(stateDb.relationType.DEPENDENCY) + 'End' + ')'\n  );\n\n  if (typeof relation.title !== 'undefined') {\n    const label = elem.append('g').attr('class', 'stateLabel');\n\n    const { x, y } = utils.calcLabelPosition(path.points);\n\n    const rows = common.getRows(relation.title);\n\n    let titleHeight = 0;\n    const titleRows = [];\n    let maxWidth = 0;\n    let minX = 0;\n\n    for (let i = 0; i <= rows.length; i++) {\n      const title = label\n        .append('text')\n        .attr('text-anchor', 'middle')\n        .text(rows[i])\n        .attr('x', x)\n        .attr('y', y + titleHeight);\n\n      const boundstmp = title.node().getBBox();\n      maxWidth = Math.max(maxWidth, boundstmp.width);\n      minX = Math.min(minX, boundstmp.x);\n\n      log.info(boundstmp.x, x, y + titleHeight);\n\n      if (titleHeight === 0) {\n        const titleBox = title.node().getBBox();\n        titleHeight = titleBox.height;\n        log.info('Title height', titleHeight, y);\n      }\n      titleRows.push(title);\n    }\n\n    let boxHeight = titleHeight * rows.length;\n    if (rows.length > 1) {\n      const heightAdj = (rows.length - 1) * titleHeight * 0.5;\n\n      titleRows.forEach((title, i) => title.attr('y', y + i * titleHeight - heightAdj));\n      boxHeight = titleHeight * rows.length;\n    }\n\n    const bounds = label.node().getBBox();\n\n    label\n      .insert('rect', ':first-child')\n      .attr('class', 'box')\n      .attr('x', x - maxWidth / 2 - getConfig().state.padding / 2)\n      .attr('y', y - boxHeight / 2 - getConfig().state.padding / 2 - 3.5)\n      .attr('width', maxWidth + getConfig().state.padding)\n      .attr('height', boxHeight + getConfig().state.padding);\n\n    log.info(bounds);\n\n    //label.attr('transform', '0 -' + (bounds.y / 2));\n\n    // Debug points\n    // path.points.forEach(point => {\n    //   g.append('circle')\n    //     .style('stroke', 'red')\n    //     .style('fill', 'red')\n    //     .attr('r', 1)\n    //     .attr('cx', point.x)\n    //     .attr('cy', point.y);\n    // });\n    // g.append('circle')\n    //   .style('stroke', 'blue')\n    //   .style('fill', 'blue')\n    //   .attr('r', 1)\n    //   .attr('cx', x)\n    //   .attr('cy', y);\n  }\n\n  edgeCount++;\n};\n","import { log } from '../../logger';\nimport { generateId } from '../../utils';\nimport mermaidAPI from '../../mermaidAPI';\nimport common from '../common/common';\nimport * as configApi from '../../config';\n\nconst clone = (o) => JSON.parse(JSON.stringify(o));\nlet rootDoc = [];\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nconst setRootDoc = (o) => {\n  log.info('Setting root doc', o);\n  // rootDoc = { id: 'root', doc: o };\n  rootDoc = o;\n};\n\nconst getRootDoc = () => rootDoc;\n\nconst docTranslator = (parent, node, first) => {\n  if (node.stmt === 'relation') {\n    docTranslator(parent, node.state1, true);\n    docTranslator(parent, node.state2, false);\n  } else {\n    if (node.stmt === 'state') {\n      if (node.id === '[*]') {\n        node.id = first ? parent.id + '_start' : parent.id + '_end';\n        node.start = first;\n      }\n    }\n\n    if (node.doc) {\n      const doc = [];\n      // Check for concurrency\n      let i = 0;\n      let currentDoc = [];\n      for (i = 0; i < node.doc.length; i++) {\n        if (node.doc[i].type === 'divider') {\n          // debugger;\n          const newNode = clone(node.doc[i]);\n          newNode.doc = clone(currentDoc);\n          doc.push(newNode);\n          currentDoc = [];\n        } else {\n          currentDoc.push(node.doc[i]);\n        }\n      }\n\n      // If any divider was encountered\n      if (doc.length > 0 && currentDoc.length > 0) {\n        const newNode = {\n          stmt: 'state',\n          id: generateId(),\n          type: 'divider',\n          doc: clone(currentDoc),\n        };\n        doc.push(clone(newNode));\n        node.doc = doc;\n      }\n\n      node.doc.forEach((docNode) => docTranslator(node, docNode, true));\n    }\n  }\n};\nconst getRootDocV2 = () => {\n  docTranslator({ id: 'root' }, { id: 'root', doc: rootDoc }, true);\n  return { id: 'root', doc: rootDoc };\n  // Here\n};\n\nconst extract = (_doc) => {\n  // const res = { states: [], relations: [] };\n  let doc;\n  if (_doc.doc) {\n    doc = _doc.doc;\n  } else {\n    doc = _doc;\n  }\n  // let doc = root.doc;\n  // if (!doc) {\n  //   doc = root;\n  // }\n  log.info(doc);\n  clear();\n\n  log.info('Extract', doc);\n\n  doc.forEach((item) => {\n    if (item.stmt === 'state') {\n      addState(item.id, item.type, item.doc, item.description, item.note);\n    }\n    if (item.stmt === 'relation') {\n      addRelation(item.state1.id, item.state2.id, item.description);\n    }\n  });\n};\n\nconst newDoc = () => {\n  return {\n    relations: [],\n    states: {},\n    documents: {},\n  };\n};\n\nlet documents = {\n  root: newDoc(),\n};\n\nlet currentDocument = documents.root;\n\nlet startCnt = 0;\nlet endCnt = 0; // eslint-disable-line\n// let stateCnt = 0;\n\n/**\n * Function called by parser when a node definition has been found.\n *\n * @param {any} id\n * @param {any} type\n * @param {any} doc\n * @param {any} descr\n * @param {any} note\n */\nexport const addState = function (id, type, doc, descr, note) {\n  if (typeof currentDocument.states[id] === 'undefined') {\n    currentDocument.states[id] = {\n      id: id,\n      descriptions: [],\n      type,\n      doc,\n      note,\n    };\n  } else {\n    if (!currentDocument.states[id].doc) {\n      currentDocument.states[id].doc = doc;\n    }\n    if (!currentDocument.states[id].type) {\n      currentDocument.states[id].type = type;\n    }\n  }\n  if (descr) {\n    log.info('Adding state ', id, descr);\n    if (typeof descr === 'string') addDescription(id, descr.trim());\n\n    if (typeof descr === 'object') {\n      descr.forEach((des) => addDescription(id, des.trim()));\n    }\n  }\n\n  if (note) {\n    currentDocument.states[id].note = note;\n    currentDocument.states[id].note.text = common.sanitizeText(\n      currentDocument.states[id].note.text,\n      configApi.getConfig()\n    );\n  }\n};\n\nexport const clear = function () {\n  documents = {\n    root: newDoc(),\n  };\n  currentDocument = documents.root;\n\n  currentDocument = documents.root;\n\n  startCnt = 0;\n  endCnt = 0; // eslint-disable-line\n  classes = [];\n};\n\nexport const getState = function (id) {\n  return currentDocument.states[id];\n};\n\nexport const getStates = function () {\n  return currentDocument.states;\n};\nexport const logDocuments = function () {\n  log.info('Documents = ', documents);\n};\nexport const getRelations = function () {\n  return currentDocument.relations;\n};\n\nexport const addRelation = function (_id1, _id2, title) {\n  let id1 = _id1;\n  let id2 = _id2;\n  let type1 = 'default';\n  let type2 = 'default';\n  if (_id1 === '[*]') {\n    startCnt++;\n    id1 = 'start' + startCnt;\n    type1 = 'start';\n  }\n  if (_id2 === '[*]') {\n    endCnt++;\n    id2 = 'end' + startCnt;\n    type2 = 'end';\n  }\n  addState(id1, type1);\n  addState(id2, type2);\n  currentDocument.relations.push({\n    id1,\n    id2,\n    title: common.sanitizeText(title, configApi.getConfig()),\n  });\n};\n\nconst addDescription = function (id, _descr) {\n  const theState = currentDocument.states[id];\n  let descr = _descr;\n  if (descr[0] === ':') {\n    descr = descr.substr(1).trim();\n  }\n  theState.descriptions.push(common.sanitizeText(descr, configApi.getConfig()));\n};\n\nexport const cleanupLabel = function (label) {\n  if (label.substring(0, 1) === ':') {\n    return label.substr(2).trim();\n  } else {\n    return label.trim();\n  }\n};\n\nexport const lineType = {\n  LINE: 0,\n  DOTTED_LINE: 1,\n};\n\nlet dividerCnt = 0;\nconst getDividerId = () => {\n  dividerCnt++;\n  return 'divider-id-' + dividerCnt;\n};\n\nlet classes = [];\n\nconst getClasses = () => classes;\n\nlet direction = 'TB';\nconst getDirection = () => direction;\nconst setDirection = (dir) => {\n  direction = dir;\n};\n\nexport const relationType = {\n  AGGREGATION: 0,\n  EXTENSION: 1,\n  COMPOSITION: 2,\n  DEPENDENCY: 3,\n};\n\nconst trimColon = (str) => (str && str[0] === ':' ? str.substr(1).trim() : str.trim());\n\nexport default {\n  parseDirective,\n  getConfig: () => configApi.getConfig().state,\n  addState,\n  clear,\n  getState,\n  getStates,\n  getRelations,\n  getClasses,\n  getDirection,\n  addRelation,\n  getDividerId,\n  setDirection,\n  // addDescription,\n  cleanupLabel,\n  lineType,\n  relationType,\n  logDocuments,\n  getRootDoc,\n  setRootDoc,\n  getRootDocV2,\n  extract,\n  trimColon,\n};\n","import graphlib from 'graphlib';\nimport { select } from 'd3';\nimport stateDb from './stateDb';\nimport state from './parser/stateDiagram';\nimport { getConfig } from '../../config';\nimport { render } from '../../dagre-wrapper/index.js';\nimport { log } from '../../logger';\nimport { configureSvgSize } from '../../utils';\nimport common from '../common/common';\n\nconst conf = {};\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n  for (let i = 0; i < keys.length; i++) {\n    conf[keys[i]] = cnf[keys[i]];\n  }\n};\n\nlet nodeDb = {};\n\n/**\n * Returns the all the styles from classDef statements in the graph definition.\n *\n * @param {any} text\n * @returns {object} ClassDef styles\n */\nexport const getClasses = function (text) {\n  log.trace('Extracting classes');\n  stateDb.clear();\n  const parser = state.parser;\n  parser.yy = stateDb;\n\n  // Parse the graph definition\n  parser.parse(text);\n  return stateDb.getClasses();\n};\n\nconst setupNode = (g, parent, node, altFlag) => {\n  // Add the node\n  if (node.id !== 'root') {\n    let shape = 'rect';\n    if (node.start === true) {\n      shape = 'start';\n    }\n    if (node.start === false) {\n      shape = 'end';\n    }\n    if (node.type !== 'default') {\n      shape = node.type;\n    }\n\n    if (!nodeDb[node.id]) {\n      nodeDb[node.id] = {\n        id: node.id,\n        shape,\n        description: common.sanitizeText(node.id, getConfig()),\n        classes: 'statediagram-state',\n      };\n    }\n\n    // Build of the array of description strings accordinging\n    if (node.description) {\n      if (Array.isArray(nodeDb[node.id].description)) {\n        // There already is an array of strings,add to it\n        nodeDb[node.id].shape = 'rectWithTitle';\n        nodeDb[node.id].description.push(node.description);\n      } else {\n        if (nodeDb[node.id].description.length > 0) {\n          // if there is a description already transformit to an array\n          nodeDb[node.id].shape = 'rectWithTitle';\n          if (nodeDb[node.id].description === node.id) {\n            // If the previous description was the is, remove it\n            nodeDb[node.id].description = [node.description];\n          } else {\n            nodeDb[node.id].description = [nodeDb[node.id].description, node.description];\n          }\n        } else {\n          nodeDb[node.id].shape = 'rect';\n          nodeDb[node.id].description = node.description;\n        }\n      }\n      nodeDb[node.id].description = common.sanitizeTextOrArray(\n        nodeDb[node.id].description,\n        getConfig()\n      );\n    }\n\n    //\n    if (nodeDb[node.id].description.length === 1 && nodeDb[node.id].shape === 'rectWithTitle') {\n      nodeDb[node.id].shape = 'rect';\n    }\n\n    // Save data for description and group so that for instance a statement without description overwrites\n    // one with description\n\n    // group\n    if (!nodeDb[node.id].type && node.doc) {\n      log.info('Setting cluster for ', node.id, getDir(node));\n      nodeDb[node.id].type = 'group';\n      nodeDb[node.id].dir = getDir(node);\n      nodeDb[node.id].shape = node.type === 'divider' ? 'divider' : 'roundedWithTitle';\n      nodeDb[node.id].classes =\n        nodeDb[node.id].classes +\n        ' ' +\n        (altFlag ? 'statediagram-cluster statediagram-cluster-alt' : 'statediagram-cluster');\n    }\n\n    const nodeData = {\n      labelStyle: '',\n      shape: nodeDb[node.id].shape,\n      labelText: nodeDb[node.id].description,\n      // typeof nodeDb[node.id].description === 'object'\n      //   ? nodeDb[node.id].description[0]\n      //   : nodeDb[node.id].description,\n      classes: nodeDb[node.id].classes, //classStr,\n      style: '', //styles.style,\n      id: node.id,\n      dir: nodeDb[node.id].dir,\n      domId: 'state-' + node.id + '-' + cnt,\n      type: nodeDb[node.id].type,\n      padding: 15, //getConfig().flowchart.padding\n    };\n\n    if (node.note) {\n      // Todo: set random id\n      const noteData = {\n        labelStyle: '',\n        shape: 'note',\n        labelText: node.note.text,\n        classes: 'statediagram-note', //classStr,\n        style: '', //styles.style,\n        id: node.id + '----note-' + cnt,\n        domId: 'state-' + node.id + '----note-' + cnt,\n        type: nodeDb[node.id].type,\n        padding: 15, //getConfig().flowchart.padding\n      };\n      const groupData = {\n        labelStyle: '',\n        shape: 'noteGroup',\n        labelText: node.note.text,\n        classes: nodeDb[node.id].classes, //classStr,\n        style: '', //styles.style,\n        id: node.id + '----parent',\n        domId: 'state-' + node.id + '----parent-' + cnt,\n        type: 'group',\n        padding: 0, //getConfig().flowchart.padding\n      };\n      cnt++;\n\n      g.setNode(node.id + '----parent', groupData);\n\n      g.setNode(noteData.id, noteData);\n      g.setNode(node.id, nodeData);\n\n      g.setParent(node.id, node.id + '----parent');\n      g.setParent(noteData.id, node.id + '----parent');\n\n      let from = node.id;\n      let to = noteData.id;\n\n      if (node.note.position === 'left of') {\n        from = noteData.id;\n        to = node.id;\n      }\n      g.setEdge(from, to, {\n        arrowhead: 'none',\n        arrowType: '',\n        style: 'fill:none',\n        labelStyle: '',\n        classes: 'transition note-edge',\n        arrowheadStyle: 'fill: #333',\n        labelpos: 'c',\n        labelType: 'text',\n        thickness: 'normal',\n      });\n    } else {\n      g.setNode(node.id, nodeData);\n    }\n  }\n\n  if (parent) {\n    if (parent.id !== 'root') {\n      log.trace('Setting node ', node.id, ' to be child of its parent ', parent.id);\n      g.setParent(node.id, parent.id);\n    }\n  }\n  if (node.doc) {\n    log.trace('Adding nodes children ');\n    setupDoc(g, node, node.doc, !altFlag);\n  }\n};\nlet cnt = 0;\nconst setupDoc = (g, parent, doc, altFlag) => {\n  // cnt = 0;\n  log.trace('items', doc);\n  doc.forEach((item) => {\n    if (item.stmt === 'state' || item.stmt === 'default') {\n      setupNode(g, parent, item, altFlag);\n    } else if (item.stmt === 'relation') {\n      setupNode(g, parent, item.state1, altFlag);\n      setupNode(g, parent, item.state2, altFlag);\n      const edgeData = {\n        id: 'edge' + cnt,\n        arrowhead: 'normal',\n        arrowTypeEnd: 'arrow_barb',\n        style: 'fill:none',\n        labelStyle: '',\n        label: common.sanitizeText(item.description, getConfig()),\n        arrowheadStyle: 'fill: #333',\n        labelpos: 'c',\n        labelType: 'text',\n        thickness: 'normal',\n        classes: 'transition',\n      };\n      let startId = item.state1.id;\n      let endId = item.state2.id;\n\n      g.setEdge(startId, endId, edgeData, cnt);\n      cnt++;\n    }\n  });\n};\nconst getDir = (nodes, defaultDir) => {\n  let dir = defaultDir || 'TB';\n  if (nodes.doc) {\n    for (let i = 0; i < nodes.doc.length; i++) {\n      const node = nodes.doc[i];\n      if (node.stmt === 'dir') {\n        dir = node.value;\n      }\n    }\n  }\n  return dir;\n};\n/**\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\n *\n * @param {any} text\n * @param {any} id\n */\nexport const draw = function (text, id) {\n  log.info('Drawing state diagram (v2)', id);\n  stateDb.clear();\n  nodeDb = {};\n  const parser = state.parser;\n  parser.yy = stateDb;\n\n  // Parse the graph definition\n  parser.parse(text);\n\n  // Fetch the default direction, use TD if none was found\n  let dir = stateDb.getDirection();\n  if (typeof dir === 'undefined') {\n    dir = 'LR';\n  }\n\n  const conf = getConfig().state;\n  const nodeSpacing = conf.nodeSpacing || 50;\n  const rankSpacing = conf.rankSpacing || 50;\n\n  const securityLevel = getConfig().securityLevel;\n\n  log.info(stateDb.getRootDocV2());\n  stateDb.extract(stateDb.getRootDocV2());\n  log.info(stateDb.getRootDocV2());\n\n  // Create the input mermaid.graph\n  const g = new graphlib.Graph({\n    multigraph: true,\n    compound: true,\n  })\n    .setGraph({\n      rankdir: getDir(stateDb.getRootDocV2()),\n      nodesep: nodeSpacing,\n      ranksep: rankSpacing,\n      marginx: 8,\n      marginy: 8,\n    })\n    .setDefaultEdgeLabel(function () {\n      return {};\n    });\n\n  setupNode(g, undefined, stateDb.getRootDocV2(), true);\n\n  // Set up an SVG group so that we can translate the final graph.\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n  const svg = root.select(`[id=\"${id}\"]`);\n\n  // Run the renderer. This is what draws the final graph.\n\n  const element = root.select('#' + id + ' g');\n  render(element, g, ['barb'], 'statediagram', id);\n\n  const padding = 8;\n\n  const bounds = svg.node().getBBox();\n\n  const width = bounds.width + padding * 2;\n  const height = bounds.height + padding * 2;\n\n  // Zoom in a bit\n  svg.attr('class', 'statediagram');\n\n  const svgBounds = svg.node().getBBox();\n\n  configureSvgSize(svg, height, width * 1.75, conf.useMaxWidth);\n\n  // Ensure the viewBox includes the whole svgBounds area with extra space for padding\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`;\n  log.debug(`viewBox ${vBox}`);\n  svg.attr('viewBox', vBox);\n\n  // Add label rects for non html labels\n  // if (!evaluate(conf.htmlLabels) || true) {\n  const labels = document.querySelectorAll('[id=\"' + id + '\"] .edgeLabel .label');\n  for (let k = 0; k < labels.length; k++) {\n    const label = labels[k];\n\n    // Get dimensions of label\n    const dim = label.getBBox();\n\n    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    rect.setAttribute('rx', 0);\n    rect.setAttribute('ry', 0);\n    rect.setAttribute('width', dim.width);\n    rect.setAttribute('height', dim.height);\n\n    label.insertBefore(rect, label.firstChild);\n    // }\n  }\n};\n\nexport default {\n  setConf,\n  getClasses,\n  draw,\n};\n","import { select } from 'd3';\nimport dagre from 'dagre';\nimport graphlib from 'graphlib';\nimport { log } from '../../logger';\nimport stateDb from './stateDb';\nimport common from '../common/common';\nimport { parser } from './parser/stateDiagram';\n// import idCache from './id-cache';\nimport { drawState, addTitleAndBox, drawEdge } from './shapes';\nimport { getConfig } from '../../config';\nimport { configureSvgSize } from '../../utils';\n\nparser.yy = stateDb;\n\n// TODO Move conf object to main conf in mermaidAPI\nlet conf;\n\nconst transformationLog = {};\n\nexport const setConf = function () {};\n\n/**\n * Setup arrow head and define the marker. The result is appended to the svg.\n *\n * @param {any} elem\n */\nconst insertMarkers = function (elem) {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', 'dependencyEnd')\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 19,7 L9,13 L14,7 L9,1 Z');\n};\n\n/**\n * Draws a flowchart in the tag with id: id based on the graph definition in text.\n *\n * @param {any} text\n * @param {any} id\n */\nexport const draw = function (text, id) {\n  conf = getConfig().state;\n  const securityLevel = getConfig().securityLevel;\n  // Handle root and ocument for when rendering in sanbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  parser.yy.clear();\n  parser.parse(text);\n  log.debug('Rendering diagram ' + text);\n\n  // Fetch the default direction, use TD if none was found\n  const diagram = root.select(`[id='${id}']`);\n  insertMarkers(diagram);\n\n  // Layout graph, Create a new directed graph\n  const graph = new graphlib.Graph({\n    multigraph: true,\n    compound: true,\n    // acyclicer: 'greedy',\n    rankdir: 'RL',\n    // ranksep: '20'\n  });\n\n  // Default to assigning a new object as a label for each new edge.\n  graph.setDefaultEdgeLabel(function () {\n    return {};\n  });\n\n  const rootDoc = stateDb.getRootDoc();\n  renderDoc(rootDoc, diagram, undefined, false, root, doc);\n\n  const padding = conf.padding;\n  const bounds = diagram.node().getBBox();\n\n  const width = bounds.width + padding * 2;\n  const height = bounds.height + padding * 2;\n\n  // zoom in a bit\n  const svgWidth = width * 1.75;\n  configureSvgSize(diagram, height, svgWidth, conf.useMaxWidth);\n\n  diagram.attr(\n    'viewBox',\n    `${bounds.x - conf.padding}  ${bounds.y - conf.padding} ` + width + ' ' + height\n  );\n};\nconst getLabelWidth = (text) => {\n  return text ? text.length * conf.fontSizeFactor : 1;\n};\n\nconst renderDoc = (doc, diagram, parentId, altBkg, root, domDocument) => {\n  // Layout graph, Create a new directed graph\n  const graph = new graphlib.Graph({\n    compound: true,\n    multigraph: true,\n  });\n\n  let i;\n  let edgeFreeDoc = true;\n  for (i = 0; i < doc.length; i++) {\n    if (doc[i].stmt === 'relation') {\n      edgeFreeDoc = false;\n      break;\n    }\n  }\n\n  // Set an object for the graph label\n  if (parentId)\n    graph.setGraph({\n      rankdir: 'LR',\n      multigraph: true,\n      compound: true,\n      // acyclicer: 'greedy',\n      ranker: 'tight-tree',\n      ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,\n      nodeSep: edgeFreeDoc ? 1 : 50,\n      isMultiGraph: true,\n      // ranksep: 5,\n      // nodesep: 1\n    });\n  else {\n    graph.setGraph({\n      rankdir: 'TB',\n      multigraph: true,\n      compound: true,\n      // isCompound: true,\n      // acyclicer: 'greedy',\n      // ranker: 'longest-path'\n      ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,\n      nodeSep: edgeFreeDoc ? 1 : 50,\n      ranker: 'tight-tree',\n      // ranker: 'network-simplex'\n      isMultiGraph: true,\n    });\n  }\n\n  // Default to assigning a new object as a label for each new edge.\n  graph.setDefaultEdgeLabel(function () {\n    return {};\n  });\n\n  stateDb.extract(doc);\n  const states = stateDb.getStates();\n  const relations = stateDb.getRelations();\n\n  const keys = Object.keys(states);\n\n  let first = true;\n\n  for (let i = 0; i < keys.length; i++) {\n    const stateDef = states[keys[i]];\n\n    if (parentId) {\n      stateDef.parentId = parentId;\n    }\n\n    let node;\n    if (stateDef.doc) {\n      let sub = diagram.append('g').attr('id', stateDef.id).attr('class', 'stateGroup');\n      node = renderDoc(stateDef.doc, sub, stateDef.id, !altBkg, root, domDocument);\n\n      if (first) {\n        // first = false;\n        sub = addTitleAndBox(sub, stateDef, altBkg);\n        let boxBounds = sub.node().getBBox();\n        node.width = boxBounds.width;\n        node.height = boxBounds.height + conf.padding / 2;\n        transformationLog[stateDef.id] = { y: conf.compositTitleSize };\n      } else {\n        // sub = addIdAndBox(sub, stateDef);\n        let boxBounds = sub.node().getBBox();\n        node.width = boxBounds.width;\n        node.height = boxBounds.height;\n        // transformationLog[stateDef.id] = { y: conf.compositTitleSize };\n      }\n    } else {\n      node = drawState(diagram, stateDef, graph);\n    }\n\n    if (stateDef.note) {\n      // Draw note note\n      const noteDef = {\n        descriptions: [],\n        id: stateDef.id + '-note',\n        note: stateDef.note,\n        type: 'note',\n      };\n      const note = drawState(diagram, noteDef, graph);\n\n      // graph.setNode(node.id, node);\n      if (stateDef.note.position === 'left of') {\n        graph.setNode(node.id + '-note', note);\n        graph.setNode(node.id, node);\n      } else {\n        graph.setNode(node.id, node);\n        graph.setNode(node.id + '-note', note);\n      }\n      // graph.setNode(node.id);\n      graph.setParent(node.id, node.id + '-group');\n      graph.setParent(node.id + '-note', node.id + '-group');\n    } else {\n      // Add nodes to the graph. The first argument is the node id. The second is\n      // metadata about the node. In this case we're going to add labels to each of\n      // our nodes.\n      graph.setNode(node.id, node);\n    }\n  }\n\n  log.debug('Count=', graph.nodeCount(), graph);\n  let cnt = 0;\n  relations.forEach(function (relation) {\n    cnt++;\n    log.debug('Setting edge', relation);\n    graph.setEdge(\n      relation.id1,\n      relation.id2,\n      {\n        relation: relation,\n        width: getLabelWidth(relation.title),\n        height: conf.labelHeight * common.getRows(relation.title).length,\n        labelpos: 'c',\n      },\n      'id' + cnt\n    );\n  });\n\n  dagre.layout(graph);\n\n  log.debug('Graph after layout', graph.nodes());\n  const svgElem = diagram.node();\n\n  graph.nodes().forEach(function (v) {\n    if (typeof v !== 'undefined' && typeof graph.node(v) !== 'undefined') {\n      log.warn('Node ' + v + ': ' + JSON.stringify(graph.node(v)));\n      root\n        .select('#' + svgElem.id + ' #' + v)\n        .attr(\n          'transform',\n          'translate(' +\n            (graph.node(v).x - graph.node(v).width / 2) +\n            ',' +\n            (graph.node(v).y +\n              (transformationLog[v] ? transformationLog[v].y : 0) -\n              graph.node(v).height / 2) +\n            ' )'\n        );\n      root\n        .select('#' + svgElem.id + ' #' + v)\n        .attr('data-x-shift', graph.node(v).x - graph.node(v).width / 2);\n      const dividers = domDocument.querySelectorAll('#' + svgElem.id + ' #' + v + ' .divider');\n      dividers.forEach((divider) => {\n        const parent = divider.parentElement;\n        let pWidth = 0;\n        let pShift = 0;\n        if (parent) {\n          if (parent.parentElement) pWidth = parent.parentElement.getBBox().width;\n          pShift = parseInt(parent.getAttribute('data-x-shift'), 10);\n          if (Number.isNaN(pShift)) {\n            pShift = 0;\n          }\n        }\n        divider.setAttribute('x1', 0 - pShift + 8);\n        divider.setAttribute('x2', pWidth - pShift - 8);\n      });\n    } else {\n      log.debug('No Node ' + v + ': ' + JSON.stringify(graph.node(v)));\n    }\n  });\n\n  let stateBox = svgElem.getBBox();\n\n  graph.edges().forEach(function (e) {\n    if (typeof e !== 'undefined' && typeof graph.edge(e) !== 'undefined') {\n      log.debug('Edge ' + e.v + ' -> ' + e.w + ': ' + JSON.stringify(graph.edge(e)));\n      drawEdge(diagram, graph.edge(e), graph.edge(e).relation);\n    }\n  });\n\n  stateBox = svgElem.getBBox();\n\n  const stateInfo = {\n    id: parentId ? parentId : 'root',\n    label: parentId ? parentId : 'root',\n    width: 0,\n    height: 0,\n  };\n\n  stateInfo.width = stateBox.width + 2 * conf.padding;\n  stateInfo.height = stateBox.height + 2 * conf.padding;\n\n  log.debug('Doc rendered', stateInfo, graph);\n  return stateInfo;\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","const getStyles = (options) =>\n  `\ndefs #statediagram-barbEnd {\n    fill: ${options.transitionColor};\n    stroke: ${options.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${options.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${options.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${options.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${options.mainBkg};\n  stroke: ${options.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${options.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${options.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${options.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${options.noteBorderColor};\n  fill: ${options.noteBkgColor};\n\n  text {\n    fill: ${options.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${options.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${options.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ${options.transitionLabelColor || options.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${options.transitionLabelColor || options.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${options.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${options.specialStateColor};\n  stroke: ${options.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${options.specialStateColor};\n  stroke: ${options.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${options.innerEndBackground};\n  stroke: ${options.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${options.compositeBackground || options.background};\n  // stroke: ${options.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${options.stateBkg || options.mainBkg};\n  stroke: ${options.stateBorder || options.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${options.mainBkg};\n  stroke: ${options.stateBorder || options.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${options.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${options.compositeTitleBackground};\n  stroke: ${options.stateBorder || options.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${options.stateLabelColor};\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${options.stateBorder || options.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${options.compositeBackground || options.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${options.altBackground ? options.altBackground : '#efefef'};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${options.altBackground ? options.altBackground : '#efefef'};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${options.noteBkgColor};\n  stroke: ${options.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${options.noteBkgColor};\n  stroke: ${options.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${options.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${options.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${options.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${options.lineColor};\n  stroke: ${options.lineColor};\n  stroke-width: 1;\n}\n`;\n\nexport default getStyles;\n","import mermaidAPI from '../../mermaidAPI';\nimport * as configApi from '../../config';\n\nlet title = '';\nlet currentSection = '';\n\nconst sections = [];\nconst tasks = [];\nconst rawTasks = [];\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nexport const clear = function () {\n  sections.length = 0;\n  tasks.length = 0;\n  currentSection = '';\n  title = '';\n  rawTasks.length = 0;\n};\n\nexport const setTitle = function (txt) {\n  title = txt;\n};\n\nexport const getTitle = function () {\n  return title;\n};\n\nexport const addSection = function (txt) {\n  currentSection = txt;\n  sections.push(txt);\n};\n\nexport const getSections = function () {\n  return sections;\n};\n\nexport const getTasks = function () {\n  let allItemsProcessed = compileTasks();\n  const maxDepth = 100;\n  let iterationCount = 0;\n  while (!allItemsProcessed && iterationCount < maxDepth) {\n    allItemsProcessed = compileTasks();\n    iterationCount++;\n  }\n\n  tasks.push(...rawTasks);\n\n  return tasks;\n};\n\nconst updateActors = function () {\n  const tempActors = [];\n  tasks.forEach((task) => {\n    if (task.people) {\n      tempActors.push(...task.people);\n    }\n  });\n\n  const unique = new Set(tempActors);\n  return [...unique].sort();\n};\n\nexport const addTask = function (descr, taskData) {\n  const pieces = taskData.substr(1).split(':');\n\n  let score = 0;\n  let peeps = [];\n  if (pieces.length === 1) {\n    score = Number(pieces[0]);\n    peeps = [];\n  } else {\n    score = Number(pieces[0]);\n    peeps = pieces[1].split(',');\n  }\n  const peopleList = peeps.map((s) => s.trim());\n\n  const rawTask = {\n    section: currentSection,\n    type: currentSection,\n    people: peopleList,\n    task: descr,\n    score,\n  };\n\n  rawTasks.push(rawTask);\n};\n\nexport const addTaskOrg = function (descr) {\n  const newTask = {\n    section: currentSection,\n    type: currentSection,\n    description: descr,\n    task: descr,\n    classes: [],\n  };\n  tasks.push(newTask);\n};\n\nconst compileTasks = function () {\n  const compileTask = function (pos) {\n    return rawTasks[pos].processed;\n  };\n\n  let allProcessed = true;\n  for (let i = 0; i < rawTasks.length; i++) {\n    compileTask(i);\n\n    allProcessed = allProcessed && rawTasks[i].processed;\n  }\n  return allProcessed;\n};\n\nconst getActors = function () {\n  return updateActors();\n};\n\nexport default {\n  parseDirective,\n  getConfig: () => configApi.getConfig().journey,\n  clear,\n  setTitle,\n  getTitle,\n  addSection,\n  getSections,\n  getTasks,\n  addTask,\n  addTaskOrg,\n  getActors,\n};\n","import { select } from 'd3';\nimport { parser } from './parser/journey';\nimport journeyDb from './journeyDb';\nimport svgDraw from './svgDraw';\nimport { getConfig } from '../../config';\nimport { configureSvgSize } from '../../utils';\n\nparser.yy = journeyDb;\n\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n\n  keys.forEach(function (key) {\n    conf[key] = cnf[key];\n  });\n};\n\nconst actors = {};\n\n/** @param {any} diagram */\nfunction drawActorLegend(diagram) {\n  const conf = getConfig().journey;\n  // Draw the actors\n  let yPos = 60;\n  Object.keys(actors).forEach((person) => {\n    const colour = actors[person].color;\n\n    const circleData = {\n      cx: 20,\n      cy: yPos,\n      r: 7,\n      fill: colour,\n      stroke: '#000',\n      pos: actors[person].position,\n    };\n    svgDraw.drawCircle(diagram, circleData);\n\n    const labelData = {\n      x: 40,\n      y: yPos + 7,\n      fill: '#666',\n      text: person,\n      textMargin: conf.boxTextMargin | 5,\n    };\n    svgDraw.drawText(diagram, labelData);\n\n    yPos += 20;\n  });\n}\nconst conf = getConfig().journey;\nconst LEFT_MARGIN = getConfig().journey.leftMargin;\nexport const draw = function (text, id) {\n  const conf = getConfig().journey;\n  parser.yy.clear();\n  parser.parse(text + '\\n');\n\n  const securityLevel = getConfig().securityLevel;\n  // Handle root and ocument for when rendering in sanbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  bounds.init();\n  const diagram = root.select('#' + id);\n  diagram.attr('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n  svgDraw.initGraphics(diagram);\n\n  const tasks = parser.yy.getTasks();\n  const title = parser.yy.getTitle();\n\n  const actorNames = parser.yy.getActors();\n  for (let member in actors) delete actors[member];\n  let actorPos = 0;\n  actorNames.forEach((actorName) => {\n    actors[actorName] = {\n      color: conf.actorColours[actorPos % conf.actorColours.length],\n      position: actorPos,\n    };\n    actorPos++;\n  });\n\n  drawActorLegend(diagram);\n  bounds.insert(0, 0, LEFT_MARGIN, Object.keys(actors).length * 50);\n  drawTasks(diagram, tasks, 0);\n\n  const box = bounds.getBounds();\n  if (title) {\n    diagram\n      .append('text')\n      .text(title)\n      .attr('x', LEFT_MARGIN)\n      .attr('font-size', '4ex')\n      .attr('font-weight', 'bold')\n      .attr('y', 25);\n  }\n  const height = box.stopy - box.starty + 2 * conf.diagramMarginY;\n  const width = LEFT_MARGIN + box.stopx + 2 * conf.diagramMarginX;\n\n  configureSvgSize(diagram, height, width, conf.useMaxWidth);\n\n  // Draw activity line\n  diagram\n    .append('line')\n    .attr('x1', LEFT_MARGIN)\n    .attr('y1', conf.height * 4) // One section head + one task + margins\n    .attr('x2', width - LEFT_MARGIN - 4) // Subtract stroke width so arrow point is retained\n    .attr('y2', conf.height * 4)\n    .attr('stroke-width', 4)\n    .attr('stroke', 'black')\n    .attr('marker-end', 'url(#arrowhead)');\n\n  const extraVertForTitle = title ? 70 : 0;\n  diagram.attr('viewBox', `${box.startx} -25 ${width} ${height + extraVertForTitle}`);\n  diagram.attr('preserveAspectRatio', 'xMinYMin meet');\n  diagram.attr('height', height + extraVertForTitle + 25);\n};\n\nexport const bounds = {\n  data: {\n    startx: undefined,\n    stopx: undefined,\n    starty: undefined,\n    stopy: undefined,\n  },\n  verticalPos: 0,\n\n  sequenceItems: [],\n  init: function () {\n    this.sequenceItems = [];\n    this.data = {\n      startx: undefined,\n      stopx: undefined,\n      starty: undefined,\n      stopy: undefined,\n    };\n    this.verticalPos = 0;\n  },\n  updateVal: function (obj, key, val, fun) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = val;\n    } else {\n      obj[key] = fun(val, obj[key]);\n    }\n  },\n  updateBounds: function (startx, starty, stopx, stopy) {\n    const conf = getConfig().journey;\n    const _self = this;\n    let cnt = 0;\n    /** @param {any} type */\n    function updateFn(type) {\n      return function updateItemBounds(item) {\n        cnt++;\n        // The loop sequenceItems is a stack so the biggest margins in the beginning of the sequenceItems\n        const n = _self.sequenceItems.length - cnt + 1;\n        _self.updateVal(item, 'starty', starty - n * conf.boxMargin, Math.min);\n        _self.updateVal(item, 'stopy', stopy + n * conf.boxMargin, Math.max);\n\n        _self.updateVal(bounds.data, 'startx', startx - n * conf.boxMargin, Math.min);\n        _self.updateVal(bounds.data, 'stopx', stopx + n * conf.boxMargin, Math.max);\n\n        if (!(type === 'activation')) {\n          _self.updateVal(item, 'startx', startx - n * conf.boxMargin, Math.min);\n          _self.updateVal(item, 'stopx', stopx + n * conf.boxMargin, Math.max);\n\n          _self.updateVal(bounds.data, 'starty', starty - n * conf.boxMargin, Math.min);\n          _self.updateVal(bounds.data, 'stopy', stopy + n * conf.boxMargin, Math.max);\n        }\n      };\n    }\n\n    this.sequenceItems.forEach(updateFn());\n  },\n  insert: function (startx, starty, stopx, stopy) {\n    const _startx = Math.min(startx, stopx);\n    const _stopx = Math.max(startx, stopx);\n    const _starty = Math.min(starty, stopy);\n    const _stopy = Math.max(starty, stopy);\n\n    this.updateVal(bounds.data, 'startx', _startx, Math.min);\n    this.updateVal(bounds.data, 'starty', _starty, Math.min);\n    this.updateVal(bounds.data, 'stopx', _stopx, Math.max);\n    this.updateVal(bounds.data, 'stopy', _stopy, Math.max);\n\n    this.updateBounds(_startx, _starty, _stopx, _stopy);\n  },\n  bumpVerticalPos: function (bump) {\n    this.verticalPos = this.verticalPos + bump;\n    this.data.stopy = this.verticalPos;\n  },\n  getVerticalPos: function () {\n    return this.verticalPos;\n  },\n  getBounds: function () {\n    return this.data;\n  },\n};\n\nconst fills = conf.sectionFills;\nconst textColours = conf.sectionColours;\n\nexport const drawTasks = function (diagram, tasks, verticalPos) {\n  const conf = getConfig().journey;\n  let lastSection = '';\n  const sectionVHeight = conf.height * 2 + conf.diagramMarginY;\n  const taskPos = verticalPos + sectionVHeight;\n\n  let sectionNumber = 0;\n  let fill = '#CCC';\n  let colour = 'black';\n  let num = 0;\n\n  // Draw the tasks\n  for (let i = 0; i < tasks.length; i++) {\n    let task = tasks[i];\n    if (lastSection !== task.section) {\n      fill = fills[sectionNumber % fills.length];\n      num = sectionNumber % fills.length;\n      colour = textColours[sectionNumber % textColours.length];\n\n      const section = {\n        x: i * conf.taskMargin + i * conf.width + LEFT_MARGIN,\n        y: 50,\n        text: task.section,\n        fill,\n        num,\n        colour,\n      };\n\n      svgDraw.drawSection(diagram, section, conf);\n      lastSection = task.section;\n      sectionNumber++;\n    }\n\n    // Collect the actors involved in the task\n    const taskActors = task.people.reduce((acc, actorName) => {\n      if (actors[actorName]) {\n        acc[actorName] = actors[actorName];\n      }\n\n      return acc;\n    }, {});\n\n    // Add some rendering data to the object\n    task.x = i * conf.taskMargin + i * conf.width + LEFT_MARGIN;\n    task.y = taskPos;\n    task.width = conf.diagramMarginX;\n    task.height = conf.diagramMarginY;\n    task.colour = colour;\n    task.fill = fill;\n    task.num = num;\n    task.actors = taskActors;\n\n    // Draw the box with the attached line\n    svgDraw.drawTask(diagram, task, conf);\n    bounds.insert(task.x, task.y, task.x + task.width + conf.taskMargin, 300 + 5 * 30); // stopy is the length of the descenders.\n  }\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","const getStyles = (options) =>\n  `.label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ${options.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${options.textColor}\n  }\n\n  .legend {\n    fill: ${options.textColor};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${options.textColor}\n  }\n\n  .face {\n    ${options.faceColor ? `fill: ${options.faceColor}` : 'fill: #FFF8DC'};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${options.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${options.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${options.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${options.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${options.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ${options.tertiaryColor};\n    border: 1px solid ${options.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${options.fillType0 ? `fill: ${options.fillType0}` : ''};\n  }\n  .task-type-1, .section-type-1  {\n    ${options.fillType0 ? `fill: ${options.fillType1}` : ''};\n  }\n  .task-type-2, .section-type-2  {\n    ${options.fillType0 ? `fill: ${options.fillType2}` : ''};\n  }\n  .task-type-3, .section-type-3  {\n    ${options.fillType0 ? `fill: ${options.fillType3}` : ''};\n  }\n  .task-type-4, .section-type-4  {\n    ${options.fillType0 ? `fill: ${options.fillType4}` : ''};\n  }\n  .task-type-5, .section-type-5  {\n    ${options.fillType0 ? `fill: ${options.fillType5}` : ''};\n  }\n  .task-type-6, .section-type-6  {\n    ${options.fillType0 ? `fill: ${options.fillType6}` : ''};\n  }\n  .task-type-7, .section-type-7  {\n    ${options.fillType0 ? `fill: ${options.fillType7}` : ''};\n  }\n\n  .actor-0 {\n    ${options.actor0 ? `fill: ${options.actor0}` : ''};\n  }\n  .actor-1 {\n    ${options.actor1 ? `fill: ${options.actor1}` : ''};\n  }\n  .actor-2 {\n    ${options.actor2 ? `fill: ${options.actor2}` : ''};\n  }\n  .actor-3 {\n    ${options.actor3 ? `fill: ${options.actor3}` : ''};\n  }\n  .actor-4 {\n    ${options.actor4 ? `fill: ${options.actor4}` : ''};\n  }\n  .actor-5 {\n    ${options.actor5 ? `fill: ${options.actor5}` : ''};\n  }\n\n  }\n`;\n\nexport default getStyles;\n","import { arc as d3arc } from 'd3';\n\nexport const drawRect = function (elem, rectData) {\n  const rectElem = elem.append('rect');\n  rectElem.attr('x', rectData.x);\n  rectElem.attr('y', rectData.y);\n  rectElem.attr('fill', rectData.fill);\n  rectElem.attr('stroke', rectData.stroke);\n  rectElem.attr('width', rectData.width);\n  rectElem.attr('height', rectData.height);\n  rectElem.attr('rx', rectData.rx);\n  rectElem.attr('ry', rectData.ry);\n\n  if (typeof rectData.class !== 'undefined') {\n    rectElem.attr('class', rectData.class);\n  }\n\n  return rectElem;\n};\n\nexport const drawFace = function (element, faceData) {\n  const radius = 15;\n  const circleElement = element\n    .append('circle')\n    .attr('cx', faceData.cx)\n    .attr('cy', faceData.cy)\n    .attr('class', 'face')\n    .attr('r', radius)\n    .attr('stroke-width', 2)\n    .attr('overflow', 'visible');\n\n  const face = element.append('g');\n\n  //left eye\n  face\n    .append('circle')\n    .attr('cx', faceData.cx - radius / 3)\n    .attr('cy', faceData.cy - radius / 3)\n    .attr('r', 1.5)\n    .attr('stroke-width', 2)\n    .attr('fill', '#666')\n    .attr('stroke', '#666');\n\n  //right eye\n  face\n    .append('circle')\n    .attr('cx', faceData.cx + radius / 3)\n    .attr('cy', faceData.cy - radius / 3)\n    .attr('r', 1.5)\n    .attr('stroke-width', 2)\n    .attr('fill', '#666')\n    .attr('stroke', '#666');\n\n  /** @param {any} face */\n  function smile(face) {\n    const arc = d3arc()\n      .startAngle(Math.PI / 2)\n      .endAngle(3 * (Math.PI / 2))\n      .innerRadius(radius / 2)\n      .outerRadius(radius / 2.2);\n    //mouth\n    face\n      .append('path')\n      .attr('class', 'mouth')\n      .attr('d', arc)\n      .attr('transform', 'translate(' + faceData.cx + ',' + (faceData.cy + 2) + ')');\n  }\n\n  /** @param {any} face */\n  function sad(face) {\n    const arc = d3arc()\n      .startAngle((3 * Math.PI) / 2)\n      .endAngle(5 * (Math.PI / 2))\n      .innerRadius(radius / 2)\n      .outerRadius(radius / 2.2);\n    //mouth\n    face\n      .append('path')\n      .attr('class', 'mouth')\n      .attr('d', arc)\n      .attr('transform', 'translate(' + faceData.cx + ',' + (faceData.cy + 7) + ')');\n  }\n\n  /** @param {any} face */\n  function ambivalent(face) {\n    face\n      .append('line')\n      .attr('class', 'mouth')\n      .attr('stroke', 2)\n      .attr('x1', faceData.cx - 5)\n      .attr('y1', faceData.cy + 7)\n      .attr('x2', faceData.cx + 5)\n      .attr('y2', faceData.cy + 7)\n      .attr('class', 'mouth')\n      .attr('stroke-width', '1px')\n      .attr('stroke', '#666');\n  }\n\n  if (faceData.score > 3) {\n    smile(face);\n  } else if (faceData.score < 3) {\n    sad(face);\n  } else {\n    ambivalent(face);\n  }\n\n  return circleElement;\n};\n\nexport const drawCircle = function (element, circleData) {\n  const circleElement = element.append('circle');\n  circleElement.attr('cx', circleData.cx);\n  circleElement.attr('cy', circleData.cy);\n  circleElement.attr('class', 'actor-' + circleData.pos);\n  circleElement.attr('fill', circleData.fill);\n  circleElement.attr('stroke', circleData.stroke);\n  circleElement.attr('r', circleData.r);\n\n  if (typeof circleElement.class !== 'undefined') {\n    circleElement.attr('class', circleElement.class);\n  }\n\n  if (typeof circleData.title !== 'undefined') {\n    circleElement.append('title').text(circleData.title);\n  }\n\n  return circleElement;\n};\n\nexport const drawText = function (elem, textData) {\n  // Remove and ignore br:s\n  const nText = textData.text.replace(/<br\\s*\\/?>/gi, ' ');\n\n  const textElem = elem.append('text');\n  textElem.attr('x', textData.x);\n  textElem.attr('y', textData.y);\n  textElem.attr('class', 'legend');\n\n  textElem.style('text-anchor', textData.anchor);\n\n  if (typeof textData.class !== 'undefined') {\n    textElem.attr('class', textData.class);\n  }\n\n  const span = textElem.append('tspan');\n  span.attr('x', textData.x + textData.textMargin * 2);\n  span.text(nText);\n\n  return textElem;\n};\n\nexport const drawLabel = function (elem, txtObject) {\n  /**\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} cut\n   */\n  function genPoints(x, y, width, height, cut) {\n    return (\n      x +\n      ',' +\n      y +\n      ' ' +\n      (x + width) +\n      ',' +\n      y +\n      ' ' +\n      (x + width) +\n      ',' +\n      (y + height - cut) +\n      ' ' +\n      (x + width - cut * 1.2) +\n      ',' +\n      (y + height) +\n      ' ' +\n      x +\n      ',' +\n      (y + height)\n    );\n  }\n  const polygon = elem.append('polygon');\n  polygon.attr('points', genPoints(txtObject.x, txtObject.y, 50, 20, 7));\n  polygon.attr('class', 'labelBox');\n\n  txtObject.y = txtObject.y + txtObject.labelMargin;\n  txtObject.x = txtObject.x + 0.5 * txtObject.labelMargin;\n  drawText(elem, txtObject);\n};\n\nexport const drawSection = function (elem, section, conf) {\n  const g = elem.append('g');\n\n  const rect = getNoteRect();\n  rect.x = section.x;\n  rect.y = section.y;\n  rect.fill = section.fill;\n  rect.width = conf.width;\n  rect.height = conf.height;\n  rect.class = 'journey-section section-type-' + section.num;\n  rect.rx = 3;\n  rect.ry = 3;\n  drawRect(g, rect);\n\n  _drawTextCandidateFunc(conf)(\n    section.text,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: 'journey-section section-type-' + section.num },\n    conf,\n    section.colour\n  );\n};\n\nlet taskCount = -1;\n/**\n * Draws an actor in the diagram with the attaced line\n *\n * @param {any} elem The HTML element\n * @param {any} task The task to render\n * @param {any} conf The global configuration\n */\nexport const drawTask = function (elem, task, conf) {\n  const center = task.x + conf.width / 2;\n  const g = elem.append('g');\n  taskCount++;\n  const maxHeight = 300 + 5 * 30;\n  g.append('line')\n    .attr('id', 'task' + taskCount)\n    .attr('x1', center)\n    .attr('y1', task.y)\n    .attr('x2', center)\n    .attr('y2', maxHeight)\n    .attr('class', 'task-line')\n    .attr('stroke-width', '1px')\n    .attr('stroke-dasharray', '4 2')\n    .attr('stroke', '#666');\n\n  drawFace(g, {\n    cx: center,\n    cy: 300 + (5 - task.score) * 30,\n    score: task.score,\n  });\n\n  const rect = getNoteRect();\n  rect.x = task.x;\n  rect.y = task.y;\n  rect.fill = task.fill;\n  rect.width = conf.width;\n  rect.height = conf.height;\n  rect.class = 'task task-type-' + task.num;\n  rect.rx = 3;\n  rect.ry = 3;\n  drawRect(g, rect);\n\n  let xPos = task.x + 14;\n  task.people.forEach((person) => {\n    const colour = task.actors[person].color;\n\n    const circle = {\n      cx: xPos,\n      cy: task.y,\n      r: 7,\n      fill: colour,\n      stroke: '#000',\n      title: person,\n      pos: task.actors[person].position,\n    };\n\n    drawCircle(g, circle);\n    xPos += 10;\n  });\n\n  _drawTextCandidateFunc(conf)(\n    task.task,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: 'task' },\n    conf,\n    task.colour\n  );\n};\n\n/**\n * Draws a background rectangle\n *\n * @param {any} elem The html element\n * @param {any} bounds The bounds of the drawing\n */\nexport const drawBackgroundRect = function (elem, bounds) {\n  const rectElem = drawRect(elem, {\n    x: bounds.startx,\n    y: bounds.starty,\n    width: bounds.stopx - bounds.startx,\n    height: bounds.stopy - bounds.starty,\n    fill: bounds.fill,\n    class: 'rect',\n  });\n  rectElem.lower();\n};\n\nexport const getTextObj = function () {\n  return {\n    x: 0,\n    y: 0,\n    fill: undefined,\n    'text-anchor': 'start',\n    width: 100,\n    height: 100,\n    textMargin: 0,\n    rx: 0,\n    ry: 0,\n  };\n};\n\nexport const getNoteRect = function () {\n  return {\n    x: 0,\n    y: 0,\n    width: 100,\n    anchor: 'start',\n    height: 100,\n    rx: 0,\n    ry: 0,\n  };\n};\n\nconst _drawTextCandidateFunc = (function () {\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} colour\n   */\n  function byText(content, g, x, y, width, height, textAttrs, colour) {\n    const text = g\n      .append('text')\n      .attr('x', x + width / 2)\n      .attr('y', y + height / 2 + 5)\n      .style('font-color', colour)\n      .style('text-anchor', 'middle')\n      .text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} conf\n   * @param {any} colour\n   */\n  function byTspan(content, g, x, y, width, height, textAttrs, conf, colour) {\n    const { taskFontSize, taskFontFamily } = conf;\n\n    const lines = content.split(/<br\\s*\\/?>/gi);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * taskFontSize - (taskFontSize * (lines.length - 1)) / 2;\n      const text = g\n        .append('text')\n        .attr('x', x + width / 2)\n        .attr('y', y)\n        .attr('fill', colour)\n        .style('text-anchor', 'middle')\n        .style('font-size', taskFontSize)\n        .style('font-family', taskFontFamily);\n      text\n        .append('tspan')\n        .attr('x', x + width / 2)\n        .attr('dy', dy)\n        .text(lines[i]);\n\n      text\n        .attr('y', y + height / 2.0)\n        .attr('dominant-baseline', 'central')\n        .attr('alignment-baseline', 'central');\n\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} conf\n   */\n  function byFo(content, g, x, y, width, height, textAttrs, conf) {\n    const body = g.append('switch');\n    const f = body\n      .append('foreignObject')\n      .attr('x', x)\n      .attr('y', y)\n      .attr('width', width)\n      .attr('height', height)\n      .attr('position', 'fixed');\n\n    const text = f\n      .append('xhtml:div')\n      .style('display', 'table')\n      .style('height', '100%')\n      .style('width', '100%');\n\n    text\n      .append('div')\n      .attr('class', 'label')\n      .style('display', 'table-cell')\n      .style('text-align', 'center')\n      .style('vertical-align', 'middle')\n      .text(content);\n\n    byTspan(content, body, x, y, width, height, textAttrs, conf);\n    _setTextAttrs(text, textAttrs);\n  }\n\n  /**\n   * @param {any} toText\n   * @param {any} fromTextAttrsDict\n   */\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (key in fromTextAttrsDict) {\n        // eslint-disable-line\n        // noinspection JSUnfilteredForInLoop\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n\n  return function (conf) {\n    return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\n  };\n})();\n\nconst initGraphics = function (graphics) {\n  graphics\n    .append('defs')\n    .append('marker')\n    .attr('id', 'arrowhead')\n    .attr('refX', 5)\n    .attr('refY', 2)\n    .attr('markerWidth', 6)\n    .attr('markerHeight', 4)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 0,0 V 4 L6,2 Z'); // this is actual shape for arrowhead\n};\n\nexport default {\n  drawRect,\n  drawCircle,\n  drawSection,\n  drawText,\n  drawLabel,\n  drawTask,\n  drawBackgroundRect,\n  getTextObj,\n  getNoteRect,\n  initGraphics,\n};\n","/** Created by knut on 14-12-11. */\nimport { select } from 'd3';\nimport { log } from './logger';\n\nconst conf = {};\n\n/**\n * Merges the value of `conf` with the passed `cnf`\n *\n * @param {object} cnf Config to merge\n */\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n\n  keys.forEach(function (key) {\n    conf[key] = cnf[key];\n  });\n};\n\n/**\n * Draws a an info picture in the tag with id: id based on the graph definition in text.\n *\n * @param {string} id The text for the error\n * @param {string} ver The version\n */\nexport const draw = (id, ver) => {\n  try {\n    log.debug('Renering svg for syntax error\\n');\n\n    const svg = select('#' + id);\n\n    const g = svg.append('g');\n\n    g.append('path')\n      .attr('class', 'error-icon')\n      .attr(\n        'd',\n        'm411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z'\n      );\n\n    g.append('path')\n      .attr('class', 'error-icon')\n      .attr(\n        'd',\n        'm459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z'\n      );\n\n    g.append('path')\n      .attr('class', 'error-icon')\n      .attr(\n        'd',\n        'm340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z'\n      );\n\n    g.append('path')\n      .attr('class', 'error-icon')\n      .attr(\n        'd',\n        'm400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z'\n      );\n\n    g.append('path')\n      .attr('class', 'error-icon')\n      .attr(\n        'd',\n        'm496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z'\n      );\n\n    g.append('path')\n      .attr('class', 'error-icon')\n      .attr(\n        'd',\n        'm436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z'\n      );\n\n    g.append('text') // text label for the x axis\n      .attr('class', 'error-text')\n      .attr('x', 1240)\n      .attr('y', 250)\n      .attr('font-size', '150px')\n      .style('text-anchor', 'middle')\n      .text('Syntax error in graph');\n    g.append('text') // text label for the x axis\n      .attr('class', 'error-text')\n      .attr('x', 1050)\n      .attr('y', 400)\n      .attr('font-size', '100px')\n      .style('text-anchor', 'middle')\n      .text('mermaid version ' + ver);\n\n    svg.attr('height', 100);\n    svg.attr('width', 400);\n    svg.attr('viewBox', '768 0 512 512');\n  } catch (e) {\n    log.error('Error while rendering info diagram');\n    log.error(e.message);\n  }\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","let interactionFunctions = [];\nexport const addFunction = (func) => {\n  interactionFunctions.push(func);\n};\nexport const attachFunctions = () => {\n  interactionFunctions.forEach((f) => {\n    f();\n  });\n  interactionFunctions = [];\n};\n","import moment from 'moment-mini';\n\n/** @typedef {'debug' | 'info' | 'warn' | 'error' | 'fatal'} LogLevel A log level */\n\n/** @type {object<LogLevel, number>} */\nexport const LEVELS = {\n  debug: 1,\n  info: 2,\n  warn: 3,\n  error: 4,\n  fatal: 5,\n};\n\nexport const log = {\n  debug: () => {},\n  info: () => {},\n  warn: () => {},\n  error: () => {},\n  fatal: () => {},\n};\n\n/**\n * Sets a log level\n *\n * @param {LogLevel} [level=\"fatal\"] The level to set the logging to. Default is `\"fatal\"`\n */\nexport const setLogLevel = function (level = 'fatal') {\n  if (isNaN(level)) {\n    level = level.toLowerCase();\n    if (LEVELS[level] !== undefined) {\n      level = LEVELS[level];\n    }\n  }\n  log.trace = () => {};\n  log.debug = () => {};\n  log.info = () => {};\n  log.warn = () => {};\n  log.error = () => {};\n  log.fatal = () => {};\n  if (level <= LEVELS.fatal) {\n    log.fatal = console.error\n      ? console.error.bind(console, format('FATAL'), 'color: orange')\n      : console.log.bind(console, '\\x1b[35m', format('FATAL'));\n  }\n  if (level <= LEVELS.error) {\n    log.error = console.error\n      ? console.error.bind(console, format('ERROR'), 'color: orange')\n      : console.log.bind(console, '\\x1b[31m', format('ERROR'));\n  }\n  if (level <= LEVELS.warn) {\n    log.warn = console.warn\n      ? console.warn.bind(console, format('WARN'), 'color: orange')\n      : console.log.bind(console, `\\x1b[33m`, format('WARN'));\n  }\n  if (level <= LEVELS.info) {\n    log.info = console.info // ? console.info.bind(console, '\\x1b[34m', format('INFO'), 'color: blue')\n      ? console.info.bind(console, format('INFO'), 'color: lightblue')\n      : console.log.bind(console, '\\x1b[34m', format('INFO'));\n  }\n  if (level <= LEVELS.debug) {\n    log.debug = console.debug\n      ? console.debug.bind(console, format('DEBUG'), 'color: lightgreen')\n      : console.log.bind(console, '\\x1b[32m', format('DEBUG'));\n  }\n};\n\n/**\n * Returns a format with the timestamp and the log level\n *\n * @param {LogLevel} level The level for the log format\n * @returns {string} The format with the timestamp and log level\n */\nconst format = (level) => {\n  const time = moment().format('ss.SSS');\n  return `%c${time} : ${level} : `;\n};\n","/**\n * Web page integration module for the mermaid framework. It uses the mermaidAPI for mermaid\n * functionality and to render the diagrams to svg code.\n */\nimport { log } from './logger';\nimport mermaidAPI from './mermaidAPI';\nimport utils from './utils';\n\n/**\n * ## init\n *\n * Function that goes through the document to find the chart definitions in there and render them.\n *\n * The function tags the processed attributes with the attribute data-processed and ignores found\n * elements with the attribute already set. This way the init function can be triggered several times.\n *\n * Optionally, `init` can accept in the second argument one of the following:\n *\n * - A DOM Node\n * - An array of DOM nodes (as would come from a jQuery selector)\n * - A W3C selector, a la `.mermaid`\n *\n * ```mermaid\n * graph LR;\n *  a(Find elements)-->b{Processed}\n *  b-->|Yes|c(Leave element)\n *  b-->|No |d(Transform)\n * ```\n *\n * Renders the mermaid diagrams\n */\nconst init = function () {\n  const conf = mermaidAPI.getConfig();\n  // console.log('Starting rendering diagrams (init) - mermaid.init', conf);\n  let nodes;\n  if (arguments.length >= 2) {\n    /*! sequence config was passed as #1 */\n    if (typeof arguments[0] !== 'undefined') {\n      mermaid.sequenceConfig = arguments[0];\n    }\n\n    nodes = arguments[1];\n  } else {\n    nodes = arguments[0];\n  }\n\n  // if last argument is a function this is the callback function\n  let callback;\n  if (typeof arguments[arguments.length - 1] === 'function') {\n    callback = arguments[arguments.length - 1];\n    log.debug('Callback function found');\n  } else {\n    if (typeof conf.mermaid !== 'undefined') {\n      if (typeof conf.mermaid.callback === 'function') {\n        callback = conf.mermaid.callback;\n        log.debug('Callback function found');\n      } else {\n        log.debug('No Callback function found');\n      }\n    }\n  }\n  nodes =\n    nodes === undefined\n      ? document.querySelectorAll('.mermaid')\n      : typeof nodes === 'string'\n      ? document.querySelectorAll(nodes)\n      : nodes instanceof window.Node\n      ? [nodes]\n      : nodes; // Last case  - sequence config was passed pick next\n\n  log.debug('Start On Load before: ' + mermaid.startOnLoad);\n  if (typeof mermaid.startOnLoad !== 'undefined') {\n    log.debug('Start On Load inner: ' + mermaid.startOnLoad);\n    mermaidAPI.updateSiteConfig({ startOnLoad: mermaid.startOnLoad });\n  }\n\n  if (typeof mermaid.ganttConfig !== 'undefined') {\n    mermaidAPI.updateSiteConfig({ gantt: mermaid.ganttConfig });\n  }\n\n  const idGeneratior = new utils.initIdGeneratior(conf.deterministicIds, conf.deterministicIDSeed);\n\n  let txt;\n\n  for (let i = 0; i < nodes.length; i++) {\n    // element is the current div with mermaid class\n    const element = nodes[i];\n\n    /*! Check if previously processed */\n    if (!element.getAttribute('data-processed')) {\n      element.setAttribute('data-processed', true);\n    } else {\n      continue;\n    }\n\n    const id = `mermaid-${idGeneratior.next()}`;\n\n    // Fetch the graph definition including tags\n    txt = element.innerHTML;\n\n    // transforms the html to pure text\n    txt = utils\n      .entityDecode(txt)\n      .trim()\n      .replace(/<br\\s*\\/?>/gi, '<br/>');\n\n    const init = utils.detectInit(txt);\n    if (init) {\n      log.debug('Detected early reinit: ', init);\n    }\n\n    try {\n      mermaidAPI.render(\n        id,\n        txt,\n        (svgCode, bindFunctions) => {\n          element.innerHTML = svgCode;\n          if (typeof callback !== 'undefined') {\n            callback(id);\n          }\n          if (bindFunctions) bindFunctions(element);\n        },\n        element\n      );\n    } catch (e) {\n      log.warn('Syntax Error rendering');\n      log.warn(e);\n      if (this.parseError) {\n        this.parseError(e);\n      }\n    }\n  }\n};\n\nconst initialize = function (config) {\n  // mermaidAPI.reset();\n  if (typeof config.mermaid !== 'undefined') {\n    if (typeof config.mermaid.startOnLoad !== 'undefined') {\n      mermaid.startOnLoad = config.mermaid.startOnLoad;\n    }\n    if (typeof config.mermaid.htmlLabels !== 'undefined') {\n      mermaid.htmlLabels =\n        config.mermaid.htmlLabels === 'false' || config.mermaid.htmlLabels === false ? false : true;\n    }\n  }\n  mermaidAPI.initialize(config);\n  // mermaidAPI.reset();\n};\n\n/**\n * ##contentLoaded Callback function that is called when page is loaded. This functions fetches\n * configuration for mermaid rendering and calls init for rendering the mermaid diagrams on the page.\n */\nconst contentLoaded = function () {\n  let config;\n\n  if (mermaid.startOnLoad) {\n    // No config found, do check API config\n    config = mermaidAPI.getConfig();\n    if (config.startOnLoad) {\n      mermaid.init();\n    }\n  } else {\n    if (typeof mermaid.startOnLoad === 'undefined') {\n      log.debug('In start, no config');\n      config = mermaidAPI.getConfig();\n      if (config.startOnLoad) {\n        mermaid.init();\n      }\n    }\n  }\n};\n\nif (typeof document !== 'undefined') {\n  /*!\n   * Wait for document loaded before starting the execution\n   */\n  window.addEventListener(\n    'load',\n    function () {\n      contentLoaded();\n    },\n    false\n  );\n}\n\nconst mermaid = {\n  startOnLoad: true,\n  htmlLabels: true,\n\n  mermaidAPI,\n  parse: mermaidAPI.parse,\n  render: mermaidAPI.render,\n\n  init,\n  initialize,\n\n  contentLoaded,\n};\n\nexport default mermaid;\n","/**\n * Edit this\n * Page[[N|Solid](img/GitHub-Mark-32px.png)](https://github.com/mermaid-js/mermaid/blob/develop/src/mermaidAPI.js)\n *\n * This is the API to be used when optionally handling the integration with the web page, instead of\n * using the default integration provided by mermaid.js.\n *\n * The core of this api is the [**render**](Setup.md?id=render) function which, given a graph\n * definition as text, renders the graph/diagram and returns an svg element for the graph.\n *\n * It is is then up to the user of the API to make use of the svg, either insert it somewhere in the\n * page or do something completely different.\n *\n * In addition to the render function, a number of behavioral configuration options are available.\n *\n * @name mermaidAPI\n */\nimport { select } from 'd3';\nimport { compile, serialize, stringify } from 'stylis';\nimport pkg from '../package.json';\nimport * as configApi from './config';\nimport classDb from './diagrams/class/classDb';\nimport classRenderer from './diagrams/class/classRenderer';\nimport classRendererV2 from './diagrams/class/classRenderer-v2';\nimport classParser from './diagrams/class/parser/classDiagram';\nimport erDb from './diagrams/er/erDb';\nimport erRenderer from './diagrams/er/erRenderer';\nimport erParser from './diagrams/er/parser/erDiagram';\nimport flowDb from './diagrams/flowchart/flowDb';\nimport flowRenderer from './diagrams/flowchart/flowRenderer';\nimport flowRendererV2 from './diagrams/flowchart/flowRenderer-v2';\nimport flowParser from './diagrams/flowchart/parser/flow';\nimport ganttDb from './diagrams/gantt/ganttDb';\nimport ganttRenderer from './diagrams/gantt/ganttRenderer';\nimport ganttParser from './diagrams/gantt/parser/gantt';\nimport gitGraphAst from './diagrams/git/gitGraphAst';\nimport gitGraphRenderer from './diagrams/git/gitGraphRenderer';\nimport gitGraphParser from './diagrams/git/parser/gitGraph';\nimport infoDb from './diagrams/info/infoDb';\nimport infoRenderer from './diagrams/info/infoRenderer';\nimport infoParser from './diagrams/info/parser/info';\nimport pieParser from './diagrams/pie/parser/pie';\nimport pieDb from './diagrams/pie/pieDb';\nimport pieRenderer from './diagrams/pie/pieRenderer';\nimport requirementParser from './diagrams/requirement/parser/requirementDiagram';\nimport requirementDb from './diagrams/requirement/requirementDb';\nimport requirementRenderer from './diagrams/requirement/requirementRenderer';\nimport sequenceParser from './diagrams/sequence/parser/sequenceDiagram';\nimport sequenceDb from './diagrams/sequence/sequenceDb';\nimport sequenceRenderer from './diagrams/sequence/sequenceRenderer';\nimport stateParser from './diagrams/state/parser/stateDiagram';\nimport stateDb from './diagrams/state/stateDb';\nimport stateRenderer from './diagrams/state/stateRenderer';\nimport stateRendererV2 from './diagrams/state/stateRenderer-v2';\nimport journeyDb from './diagrams/user-journey/journeyDb';\nimport journeyRenderer from './diagrams/user-journey/journeyRenderer';\nimport journeyParser from './diagrams/user-journey/parser/journey';\nimport errorRenderer from './errorRenderer';\nimport { attachFunctions } from './interactionDb';\nimport { log, setLogLevel } from './logger';\nimport getStyles from './styles';\nimport theme from './themes';\nimport utils, { directiveSanitizer, assignWithDepth, sanitizeCss } from './utils';\n\n/**\n * @param text\n * @returns {any}\n */\nfunction parse(text) {\n  const cnf = configApi.getConfig();\n  const graphInit = utils.detectInit(text, cnf);\n  if (graphInit) {\n    reinitialize(graphInit);\n    log.debug('reinit ', graphInit);\n  }\n  const graphType = utils.detectType(text, cnf);\n  let parser;\n\n  log.debug('Type ' + graphType);\n  switch (graphType) {\n    case 'git':\n      parser = gitGraphParser;\n      parser.parser.yy = gitGraphAst;\n      break;\n    case 'flowchart':\n      flowDb.clear();\n      parser = flowParser;\n      parser.parser.yy = flowDb;\n      break;\n    case 'flowchart-v2':\n      flowDb.clear();\n      parser = flowParser;\n      parser.parser.yy = flowDb;\n      break;\n    case 'sequence':\n      parser = sequenceParser;\n      parser.parser.yy = sequenceDb;\n      break;\n    case 'gantt':\n      parser = ganttParser;\n      parser.parser.yy = ganttDb;\n      break;\n    case 'class':\n      parser = classParser;\n      parser.parser.yy = classDb;\n      break;\n    case 'classDiagram':\n      parser = classParser;\n      parser.parser.yy = classDb;\n      break;\n    case 'state':\n      parser = stateParser;\n      parser.parser.yy = stateDb;\n      break;\n    case 'stateDiagram':\n      parser = stateParser;\n      parser.parser.yy = stateDb;\n      break;\n    case 'info':\n      log.debug('info info info');\n      parser = infoParser;\n      parser.parser.yy = infoDb;\n      break;\n    case 'pie':\n      log.debug('pie');\n      parser = pieParser;\n      parser.parser.yy = pieDb;\n      break;\n    case 'er':\n      log.debug('er');\n      parser = erParser;\n      parser.parser.yy = erDb;\n      break;\n    case 'journey':\n      log.debug('Journey');\n      parser = journeyParser;\n      parser.parser.yy = journeyDb;\n      break;\n    case 'requirement':\n    case 'requirementDiagram':\n      log.debug('RequirementDiagram');\n      parser = requirementParser;\n      parser.parser.yy = requirementDb;\n      break;\n  }\n  parser.parser.yy.graphType = graphType;\n  parser.parser.yy.parseError = (str, hash) => {\n    const error = { str, hash };\n    throw error;\n  };\n\n  parser.parse(text);\n  return parser;\n}\n\nexport const encodeEntities = function (text) {\n  let txt = text;\n\n  txt = txt.replace(/style.*:\\S*#.*;/g, function (s) {\n    const innerTxt = s.substring(0, s.length - 1);\n    return innerTxt;\n  });\n  txt = txt.replace(/classDef.*:\\S*#.*;/g, function (s) {\n    const innerTxt = s.substring(0, s.length - 1);\n    return innerTxt;\n  });\n\n  txt = txt.replace(/#\\w+;/g, function (s) {\n    const innerTxt = s.substring(1, s.length - 1);\n\n    const isInt = /^\\+?\\d+$/.test(innerTxt);\n    if (isInt) {\n      return '' + innerTxt + '';\n    } else {\n      return '' + innerTxt + '';\n    }\n  });\n\n  return txt;\n};\n\nexport const decodeEntities = function (text) {\n  let txt = text;\n\n  txt = txt.replace(//g, function () {\n    return '&#';\n  });\n  txt = txt.replace(//g, function () {\n    return '&';\n  });\n  txt = txt.replace(//g, function () {\n    return ';';\n  });\n\n  return txt;\n};\n/**\n * Function that renders an svg with a graph from a chart definition. Usage example below.\n *\n * ```javascript\n * mermaidAPI.initialize({\n *   startOnLoad: true,\n * });\n * $(function () {\n *   const graphDefinition = 'graph TB\\na-->b';\n *   const cb = function (svgGraph) {\n *     console.log(svgGraph);\n *   };\n *   mermaidAPI.render('id1', graphDefinition, cb);\n * });\n * ```\n *\n * @param {any} id The id of the element to be rendered\n * @param {any} _txt The graph definition\n * @param {any} cb Callback which is called after rendering is finished with the svg code as inparam.\n * @param {any} container Selector to element in which a div with the graph temporarily will be\n *   inserted. In one is provided a hidden div will be inserted in the body of the page instead. The\n *   element will be removed when rendering is completed.\n * @returns {any}\n */\nconst render = function (id, _txt, cb, container) {\n  configApi.reset();\n  let txt = _txt;\n  const graphInit = utils.detectInit(txt);\n  if (graphInit) {\n    directiveSanitizer(graphInit);\n    configApi.addDirective(graphInit);\n  }\n  let cnf = configApi.getConfig();\n  // Check the maximum allowed text size\n  if (_txt.length > cnf.maxTextSize) {\n    txt = 'graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa';\n  }\n\n  // let d3Iframe;\n  let root = select('body');\n\n  // In regular execurtion the container will be the div with a mermaid class\n  if (typeof container !== 'undefined') {\n    if (cnf.securityLevel === 'sandbox') {\n      // IF we are in sandboxed mode, we do everyting mermaid related\n      // in a sandboxed div\n      const iframe = select('body')\n        .append('iframe')\n        .attr('id', 'i' + id)\n        .attr('style', 'width: 100%; height: 100%;')\n        .attr('sandbox', '');\n      // const iframeBody = ;\n      root = select(iframe.nodes()[0].contentDocument.body);\n      root.node().style.margin = 0;\n    }\n\n    // A container was provided by the caller\n    container.innerHTML = '';\n\n    if (cnf.securityLevel === 'sandbox') {\n      // IF we are in sandboxed mode, we do everyting mermaid related\n      // in a sandboxed div\n      const iframe = select(container)\n        .append('iframe')\n        .attr('id', 'i' + id)\n        .attr('style', 'width: 100%; height: 100%;')\n        .attr('sandbox', '');\n      // const iframeBody = ;\n      root = select(iframe.nodes()[0].contentDocument.body);\n      root.node().style.margin = 0;\n    } else {\n      root = select(container);\n    }\n\n    root\n      .append('div')\n      .attr('id', 'd' + id)\n      .attr('style', 'font-family: ' + cnf.fontFamily)\n      .append('svg')\n      .attr('id', id)\n      .attr('width', '100%')\n      .attr('xmlns', 'http://www.w3.org/2000/svg')\n      .append('g');\n  } else {\n    // No container was provided\n    // If there is an existsing element with the id, we remove it\n    // this likley a previously rendered diagram\n    const existingSvg = document.getElementById(id);\n    if (existingSvg) {\n      existingSvg.remove();\n    }\n\n    // Remove previous tpm element if it exists\n    let element;\n    if (cnf.securityLevel !== 'sandbox') {\n      element = document.querySelector('#' + 'd' + id);\n    } else {\n      element = document.querySelector('#' + 'i' + id);\n    }\n    if (element) {\n      element.remove();\n    }\n\n    // if (cnf.securityLevel === 'sandbox') {\n    //   const iframe = select('body')\n    //     .append('iframe')\n    //     .attr('id', 'i' + id)\n    //     .attr('sandbox', '');\n    //   // const iframeBody = ;\n    //   root = select(iframe.nodes()[0].contentDocument.body);\n    // }\n\n    // Add the tmp div used for rendering with the id `d${id}`\n    // d+id it will contain a svg with the id \"id\"\n\n    if (cnf.securityLevel === 'sandbox') {\n      // IF we are in sandboxed mode, we do everyting mermaid related\n      // in a sandboxed div\n      const iframe = select('body')\n        .append('iframe')\n        .attr('id', 'i' + id)\n        .attr('style', 'width: 100%; height: 100%;')\n        .attr('sandbox', '');\n      // const iframeBody = ;\n      root = select(iframe.nodes()[0].contentDocument.body);\n      root.node().style.margin = 0;\n    } else {\n      root = select('body');\n    }\n\n    // This is the temporary div\n    root\n      .append('div')\n      .attr('id', 'd' + id)\n      // this is the seed of the svg to be rendered\n      .append('svg')\n      .attr('id', id)\n      .attr('width', '100%')\n      .attr('xmlns', 'http://www.w3.org/2000/svg')\n      .append('g');\n  }\n\n  txt = encodeEntities(txt);\n\n  // Get the tmp element containing the the svg\n  const element = root.select('#d' + id).node();\n  const graphType = utils.detectType(txt, cnf);\n\n  // insert inline style into svg\n  const svg = element.firstChild;\n  const firstChild = svg.firstChild;\n\n  let userStyles = '';\n  // user provided theme CSS\n  if (cnf.themeCSS !== undefined) {\n    userStyles += `\\n${cnf.themeCSS}`;\n  }\n  // user provided theme CSS\n  if (cnf.fontFamily !== undefined) {\n    userStyles += `\\n:root { --mermaid-font-family: ${cnf.fontFamily}}`;\n  }\n  // user provided theme CSS\n  if (cnf.altFontFamily !== undefined) {\n    userStyles += `\\n:root { --mermaid-alt-font-family: ${cnf.altFontFamily}}`;\n  }\n\n  // classDef\n  if (graphType === 'flowchart' || graphType === 'flowchart-v2' || graphType === 'graph') {\n    const classes = flowRenderer.getClasses(txt);\n    const htmlLabels = cnf.htmlLabels || cnf.flowchart.htmlLabels;\n    for (const className in classes) {\n      if (htmlLabels) {\n        userStyles += `\\n.${className} > * { ${classes[className].styles.join(\n          ' !important; '\n        )} !important; }`;\n        userStyles += `\\n.${className} span { ${classes[className].styles.join(\n          ' !important; '\n        )} !important; }`;\n      } else {\n        userStyles += `\\n.${className} path { ${classes[className].styles.join(\n          ' !important; '\n        )} !important; }`;\n        userStyles += `\\n.${className} rect { ${classes[className].styles.join(\n          ' !important; '\n        )} !important; }`;\n        userStyles += `\\n.${className} polygon { ${classes[className].styles.join(\n          ' !important; '\n        )} !important; }`;\n        userStyles += `\\n.${className} ellipse { ${classes[className].styles.join(\n          ' !important; '\n        )} !important; }`;\n        userStyles += `\\n.${className} circle { ${classes[className].styles.join(\n          ' !important; '\n        )} !important; }`;\n        if (classes[className].textStyles) {\n          userStyles += `\\n.${className} tspan { ${classes[className].textStyles.join(\n            ' !important; '\n          )} !important; }`;\n        }\n      }\n    }\n  }\n\n  // log.warn(cnf.themeVariables);\n\n  const stylis = (selector, styles) => serialize(compile(`${selector}{${styles}}`), stringify);\n  const rules = stylis(`#${id}`, getStyles(graphType, userStyles, cnf.themeVariables));\n\n  const style1 = document.createElement('style');\n  style1.innerHTML = `#${id} ` + rules;\n  svg.insertBefore(style1, firstChild);\n\n  // Verify that the generated svgs are ok before removing this\n\n  // const style2 = document.createElement('style');\n  // const cs = window.getComputedStyle(svg);\n  // style2.innerHTML = `#d${id} * {\n  //   color: ${cs.color};\n  //   // font: ${cs.font};\n  //   // font-family: Arial;\n  //   // font-size: 24px;\n  // }`;\n  // svg.insertBefore(style2, firstChild);\n\n  try {\n    switch (graphType) {\n      case 'git':\n        cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        gitGraphRenderer.setConf(cnf.git);\n        gitGraphRenderer.draw(txt, id, false);\n        break;\n      case 'flowchart':\n        cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        flowRenderer.setConf(cnf.flowchart);\n        flowRenderer.draw(txt, id, false);\n        break;\n      case 'flowchart-v2':\n        cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        flowRendererV2.setConf(cnf.flowchart);\n        flowRendererV2.draw(txt, id, false);\n        break;\n      case 'sequence':\n        cnf.sequence.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        if (cnf.sequenceDiagram) {\n          // backwards compatibility\n          sequenceRenderer.setConf(Object.assign(cnf.sequence, cnf.sequenceDiagram));\n          console.error(\n            '`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.'\n          );\n        } else {\n          sequenceRenderer.setConf(cnf.sequence);\n        }\n        sequenceRenderer.draw(txt, id);\n        break;\n      case 'gantt':\n        cnf.gantt.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        ganttRenderer.setConf(cnf.gantt);\n        ganttRenderer.draw(txt, id);\n        break;\n      case 'class':\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        classRenderer.setConf(cnf.class);\n        classRenderer.draw(txt, id);\n        break;\n      case 'classDiagram':\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        classRendererV2.setConf(cnf.class);\n        classRendererV2.draw(txt, id);\n        break;\n      case 'state':\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        stateRenderer.setConf(cnf.state);\n        stateRenderer.draw(txt, id);\n        break;\n      case 'stateDiagram':\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        stateRendererV2.setConf(cnf.state);\n        stateRendererV2.draw(txt, id);\n        break;\n      case 'info':\n        cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        infoRenderer.setConf(cnf.class);\n        infoRenderer.draw(txt, id, pkg.version);\n        break;\n      case 'pie':\n        //cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n        //pieRenderer.setConf(cnf.pie);\n        pieRenderer.draw(txt, id, pkg.version);\n        break;\n      case 'er':\n        erRenderer.setConf(cnf.er);\n        erRenderer.draw(txt, id, pkg.version);\n        break;\n      case 'journey':\n        journeyRenderer.setConf(cnf.journey);\n        journeyRenderer.draw(txt, id, pkg.version);\n        break;\n      case 'requirement':\n        requirementRenderer.setConf(cnf.requirement);\n        requirementRenderer.draw(txt, id, pkg.version);\n        break;\n    }\n  } catch (e) {\n    // errorRenderer.setConf(cnf.class);\n    errorRenderer.draw(id, pkg.version);\n    throw e;\n  }\n\n  root\n    .select(`[id=\"${id}\"]`)\n    .selectAll('foreignobject > *')\n    .attr('xmlns', 'http://www.w3.org/1999/xhtml');\n\n  // Fix for when the base tag is used\n  let svgCode = root.select('#d' + id).node().innerHTML;\n\n  log.debug('cnf.arrowMarkerAbsolute', cnf.arrowMarkerAbsolute);\n  if (\n    (!cnf.arrowMarkerAbsolute || cnf.arrowMarkerAbsolute === 'false') &&\n    cnf.arrowMarkerAbsolute !== 'sandbox'\n  ) {\n    svgCode = svgCode.replace(/marker-end=\"url\\(.*?#/g, 'marker-end=\"url(#', 'g');\n  }\n\n  svgCode = decodeEntities(svgCode);\n\n  // Fix for when the br tag is used\n  svgCode = svgCode.replace(/<br>/g, '<br/>');\n\n  if (cnf.securityLevel === 'sandbox') {\n    let svgEl = root.select('#d' + id + ' svg').node();\n    let width = '100%';\n    let height = '100%';\n    if (svgEl) {\n      // width = svgEl.viewBox.baseVal.width + 'px';\n      height = svgEl.viewBox.baseVal.height + 'px';\n    }\n    svgCode = `<iframe style=\"width:${width};height:${height};border:0;margin:0;\" src=\"data:text/html;base64,${btoa(\n      '<body style=\"margin:0\">' + svgCode + '</body>'\n    )}\" sandbox=\"allow-top-navigation-by-user-activation allow-popups\">\n  The iframe tag is not supported by your browser.\n</iframe>`;\n  }\n\n  if (typeof cb !== 'undefined') {\n    switch (graphType) {\n      case 'flowchart':\n      case 'flowchart-v2':\n        cb(svgCode, flowDb.bindFunctions);\n        break;\n      case 'gantt':\n        cb(svgCode, ganttDb.bindFunctions);\n        break;\n      case 'class':\n      case 'classDiagram':\n        cb(svgCode, classDb.bindFunctions);\n        break;\n      default:\n        cb(svgCode);\n    }\n  } else {\n    log.debug('CB = undefined!');\n  }\n  attachFunctions();\n\n  const tmpElementSelector = cnf.securityLevel === 'sandbox' ? '#i' + id : '#d' + id;\n  const node = select(tmpElementSelector).node();\n  if (node !== null && typeof node.remove === 'function') {\n    select(tmpElementSelector).node().remove();\n  }\n\n  return svgCode;\n};\n\nlet currentDirective = {};\n\nconst parseDirective = function (p, statement, context, type) {\n  try {\n    if (statement !== undefined) {\n      statement = statement.trim();\n      switch (context) {\n        case 'open_directive':\n          currentDirective = {};\n          break;\n        case 'type_directive':\n          currentDirective.type = statement.toLowerCase();\n          break;\n        case 'arg_directive':\n          currentDirective.args = JSON.parse(statement);\n          break;\n        case 'close_directive':\n          handleDirective(p, currentDirective, type);\n          currentDirective = null;\n          break;\n      }\n    }\n  } catch (error) {\n    log.error(\n      `Error while rendering sequenceDiagram directive: ${statement} jison context: ${context}`\n    );\n    log.error(error.message);\n  }\n};\n\nconst handleDirective = function (p, directive, type) {\n  log.debug(`Directive type=${directive.type} with args:`, directive.args);\n  switch (directive.type) {\n    case 'init':\n    case 'initialize': {\n      ['config'].forEach((prop) => {\n        if (typeof directive.args[prop] !== 'undefined') {\n          if (type === 'flowchart-v2') {\n            type = 'flowchart';\n          }\n          directive.args[type] = directive.args[prop];\n          delete directive.args[prop];\n        }\n      });\n      log.debug('sanitize in handleDirective', directive.args);\n      directiveSanitizer(directive.args);\n      log.debug('sanitize in handleDirective (done)', directive.args);\n      reinitialize(directive.args);\n      configApi.addDirective(directive.args);\n      break;\n    }\n    case 'wrap':\n    case 'nowrap':\n      if (p && p['setWrap']) {\n        p.setWrap(directive.type === 'wrap');\n      }\n      break;\n    case 'themeCss':\n      log.warn('themeCss encountered');\n      break;\n    default:\n      log.warn(\n        `Unhandled directive: source: '%%{${directive.type}: ${JSON.stringify(\n          directive.args ? directive.args : {}\n        )}}%%`,\n        directive\n      );\n      break;\n  }\n};\n\n/** @param {any} conf */\nfunction updateRendererConfigs(conf) {\n  // Todo remove, all diagrams should get config on demoand from the config object, no need for this\n  gitGraphRenderer.setConf(conf.git);\n  flowRenderer.setConf(conf.flowchart);\n  flowRendererV2.setConf(conf.flowchart);\n  if (typeof conf['sequenceDiagram'] !== 'undefined') {\n    sequenceRenderer.setConf(assignWithDepth(conf.sequence, conf['sequenceDiagram']));\n  }\n  sequenceRenderer.setConf(conf.sequence);\n  ganttRenderer.setConf(conf.gantt);\n  classRenderer.setConf(conf.class);\n  stateRenderer.setConf(conf.state);\n  stateRendererV2.setConf(conf.state);\n  infoRenderer.setConf(conf.class);\n  // pieRenderer.setConf(conf.class);\n  erRenderer.setConf(conf.er);\n  journeyRenderer.setConf(conf.journey);\n  requirementRenderer.setConf(conf.requirement);\n  errorRenderer.setConf(conf.class);\n}\n\n/** To be removed */\nfunction reinitialize() {\n  // `mermaidAPI.reinitialize: v${pkg.version}`,\n  //   JSON.stringify(options),\n  //   options.themeVariables.primaryColor;\n  // // if (options.theme && theme[options.theme]) {\n  // //   options.themeVariables = theme[options.theme].getThemeVariables(options.themeVariables);\n  // // }\n  // // Set default options\n  // const config =\n  //   typeof options === 'object' ? configApi.setConfig(options) : configApi.getSiteConfig();\n  // updateRendererConfigs(config);\n  // setLogLevel(config.logLevel);\n  // log.debug('mermaidAPI.reinitialize: ', config);\n}\n\n/** @param {any} options */\nfunction initialize(options) {\n  // console.warn(`mermaidAPI.initialize: v${pkg.version} `, options);\n\n  // Handle legacy location of font-family configuration\n  if (options && options.fontFamily) {\n    if (!options.themeVariables) {\n      options.themeVariables = { fontFamily: options.fontFamily };\n    } else {\n      if (!options.themeVariables.fontFamily) {\n        options.themeVariables = { fontFamily: options.fontFamily };\n      }\n    }\n  }\n  // Set default options\n  configApi.saveConfigFromInitilize(options);\n\n  if (options && options.theme && theme[options.theme]) {\n    // Todo merge with user options\n    options.themeVariables = theme[options.theme].getThemeVariables(options.themeVariables);\n  } else {\n    if (options) options.themeVariables = theme.default.getThemeVariables(options.themeVariables);\n  }\n\n  const config =\n    typeof options === 'object' ? configApi.setSiteConfig(options) : configApi.getSiteConfig();\n\n  updateRendererConfigs(config);\n  setLogLevel(config.logLevel);\n  // log.debug('mermaidAPI.initialize: ', config);\n}\n\nconst mermaidAPI = Object.freeze({\n  render,\n  parse,\n  parseDirective,\n  initialize,\n  reinitialize,\n  getConfig: configApi.getConfig,\n  setConfig: configApi.setConfig,\n  getSiteConfig: configApi.getSiteConfig,\n  updateSiteConfig: configApi.updateSiteConfig,\n  reset: () => {\n    // console.warn('reset');\n    configApi.reset();\n    // const siteConfig = configApi.getSiteConfig();\n    // updateRendererConfigs(siteConfig);\n  },\n  globalReset: () => {\n    configApi.reset(configApi.defaultConfig);\n    updateRendererConfigs(configApi.getConfig());\n  },\n  defaultConfig: configApi.defaultConfig,\n});\n\nsetLogLevel(configApi.getConfig().logLevel);\nconfigApi.reset(configApi.getConfig());\n\nexport default mermaidAPI;\n/**\n * ## mermaidAPI configuration defaults\n *\n * ```html\n * <script>\n *   var config = {\n *     theme: 'default',\n *     logLevel: 'fatal',\n *     securityLevel: 'strict',\n *     startOnLoad: true,\n *     arrowMarkerAbsolute: false,\n *\n *     er: {\n *       diagramPadding: 20,\n *       layoutDirection: 'TB',\n *       minEntityWidth: 100,\n *       minEntityHeight: 75,\n *       entityPadding: 15,\n *       stroke: 'gray',\n *       fill: 'honeydew',\n *       fontSize: 12,\n *       useMaxWidth: true,\n *     },\n *     flowchart: {\n *       diagramPadding: 8,\n *       htmlLabels: true,\n *       curve: 'basis',\n *     },\n *     sequence: {\n *       diagramMarginX: 50,\n *       diagramMarginY: 10,\n *       actorMargin: 50,\n *       width: 150,\n *       height: 65,\n *       boxMargin: 10,\n *       boxTextMargin: 5,\n *       noteMargin: 10,\n *       messageMargin: 35,\n *       messageAlign: 'center',\n *       mirrorActors: true,\n *       bottomMarginAdj: 1,\n *       useMaxWidth: true,\n *       rightAngles: false,\n *       showSequenceNumbers: false,\n *     },\n *     gantt: {\n *       titleTopMargin: 25,\n *       barHeight: 20,\n *       barGap: 4,\n *       topPadding: 50,\n *       leftPadding: 75,\n *       gridLineStartPadding: 35,\n *       fontSize: 11,\n *       fontFamily: '\"Open-Sans\", \"sans-serif\"',\n *       numberSectionStyles: 4,\n *       axisFormat: '%Y-%m-%d',\n *       topAxis: false,\n *     },\n *   };\n *   mermaid.initialize(config);\n * </script>\n * ```\n */\n","import classDiagram from './diagrams/class/styles';\nimport er from './diagrams/er/styles';\nimport flowchart from './diagrams/flowchart/styles';\nimport gantt from './diagrams/gantt/styles';\nimport git from './diagrams/git/styles';\nimport info from './diagrams/info/styles';\nimport pie from './diagrams/pie/styles';\nimport requirement from './diagrams/requirement/styles';\nimport sequence from './diagrams/sequence/styles';\nimport stateDiagram from './diagrams/state/styles';\nimport journey from './diagrams/user-journey/styles';\n\nconst themes = {\n  flowchart,\n  'flowchart-v2': flowchart,\n  sequence,\n  gantt,\n  classDiagram,\n  'classDiagram-v2': classDiagram,\n  class: classDiagram,\n  stateDiagram,\n  state: stateDiagram,\n  git,\n  info,\n  pie,\n  er,\n  journey,\n  requirement,\n};\n\nexport const calcThemeVariables = (theme, userOverRides) => theme.calcColors(userOverRides);\n\nconst getStyles = (type, userStyles, options) => {\n  //console.warn('options in styles: ', options);\n  return ` {\n    font-family: ${options.fontFamily};\n    font-size: ${options.fontSize};\n    fill: ${options.textColor}\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ${options.errorBkgColor};\n  }\n  .error-text {\n    fill: ${options.errorTextColor};\n    stroke: ${options.errorTextColor};\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ${options.lineColor};\n    stroke: ${options.lineColor};\n  }\n  .marker.cross {\n    stroke: ${options.lineColor};\n  }\n\n  svg {\n    font-family: ${options.fontFamily};\n    font-size: ${options.fontSize};\n  }\n\n  ${themes[type](options)}\n\n  ${userStyles}\n`;\n};\n\nexport default getStyles;\n","import { getThemeVariables as baseThemeVariables } from './theme-base';\nimport { getThemeVariables as darkThemeVariables } from './theme-dark';\nimport { getThemeVariables as defaultThemeVariables } from './theme-default';\nimport { getThemeVariables as forestThemeVariables } from './theme-forest';\nimport { getThemeVariables as neutralThemeVariables } from './theme-neutral';\n\nexport default {\n  base: {\n    getThemeVariables: baseThemeVariables,\n  },\n  dark: {\n    getThemeVariables: darkThemeVariables,\n  },\n  default: {\n    getThemeVariables: defaultThemeVariables,\n  },\n  forest: {\n    getThemeVariables: forestThemeVariables,\n  },\n  neutral: {\n    getThemeVariables: neutralThemeVariables,\n  },\n};\n","import { darken, lighten, adjust, invert } from 'khroma';\nimport { mkBorder } from './theme-helpers';\nclass Theme {\n  constructor() {\n    /** # Base variables */\n    /**\n     * - Background - used to know what the background color is of the diagram. This is used for\n     *   deducing colors for istance line color. Defaulr value is #f4f4f4.\n     */\n    this.background = '#f4f4f4';\n    this.darkMode = false;\n\n    // this.background = '#0c0c0c';\n    // this.darkMode = true;\n    this.primaryColor = '#fff4dd';\n    // this.background = '#0c0c0c';\n    // this.primaryColor = '#1f1f00';\n\n    this.noteBkgColor = '#fff5ad';\n    this.noteTextColor = '#333';\n\n    // dark\n\n    // this.primaryColor = '#034694';\n    // this.primaryColor = '#f2ee7e';\n    // this.primaryColor = '#9f33be';\n    // this.primaryColor = '#f0fff0';\n    // this.primaryColor = '#fa255e';\n    // this.primaryColor = '#ECECFF';\n\n    // this.secondaryColor = '#c39ea0';\n    // this.tertiaryColor = '#f8e5e5';\n\n    // this.secondaryColor = '#dfdfde';\n    // this.tertiaryColor = '#CCCCFF';\n\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n    this.fontSize = '16px';\n    // this.updateColors();\n  }\n  updateColors() {\n    // The || is to make sure that if the variable has been defiend by a user override that value is to be used\n\n    /* Main */\n    this.primaryTextColor = this.primaryTextColor || (this.darkMode ? '#ddd' : '#333'); // invert(this.primaryColor);\n    this.secondaryColor = this.secondaryColor || adjust(this.primaryColor, { h: -120 });\n    this.tertiaryColor = this.tertiaryColor || adjust(this.primaryColor, { h: 180, l: 5 });\n\n    this.primaryBorderColor = this.primaryBorderColor || mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor =\n      this.secondaryBorderColor || mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor =\n      this.tertiaryBorderColor || mkBorder(this.tertiaryColor, this.darkMode);\n    this.noteBorderColor = this.noteBorderColor || mkBorder(this.noteBkgColor, this.darkMode);\n    this.noteBkgColor = this.noteBkgColor || '#fff5ad';\n    this.noteTextColor = this.noteTextColor || '#333';\n\n    this.secondaryTextColor = this.secondaryTextColor || invert(this.secondaryColor);\n    this.tertiaryTextColor = this.tertiaryTextColor || invert(this.tertiaryColor);\n    this.lineColor = this.lineColor || invert(this.background);\n    this.textColor = this.textColor || this.primaryTextColor;\n\n    /* Flowchart variables */\n    this.nodeBkg = this.nodeBkg || this.primaryColor;\n    this.mainBkg = this.mainBkg || this.primaryColor;\n    this.nodeBorder = this.nodeBorder || this.primaryBorderColor;\n    this.clusterBkg = this.clusterBkg || this.tertiaryColor;\n    this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor;\n    this.defaultLinkColor = this.defaultLinkColor || this.lineColor;\n    this.titleColor = this.titleColor || this.tertiaryTextColor;\n    this.edgeLabelBackground =\n      this.edgeLabelBackground ||\n      (this.darkMode ? darken(this.secondaryColor, 30) : this.secondaryColor);\n    this.nodeTextColor = this.nodeTextColor || this.primaryTextColor;\n    /* Sequence Diagram variables */\n\n    // this.actorBorder = lighten(this.border1, 0.5);\n    this.actorBorder = this.actorBorder || this.primaryBorderColor;\n    this.actorBkg = this.actorBkg || this.mainBkg;\n    this.actorTextColor = this.actorTextColor || this.primaryTextColor;\n    this.actorLineColor = this.actorLineColor || 'grey';\n    this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg;\n    this.signalColor = this.signalColor || this.textColor;\n    this.signalTextColor = this.signalTextColor || this.textColor;\n    this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder;\n    this.labelTextColor = this.labelTextColor || this.actorTextColor;\n    this.loopTextColor = this.loopTextColor || this.actorTextColor;\n    this.activationBorderColor = this.activationBorderColor || darken(this.secondaryColor, 10);\n    this.activationBkgColor = this.activationBkgColor || this.secondaryColor;\n    this.sequenceNumberColor = this.sequenceNumberColor || invert(this.lineColor);\n\n    /* Gantt chart variables */\n\n    this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor;\n    this.altSectionBkgColor = this.altSectionBkgColor || 'white';\n    this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor;\n    this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor;\n    this.excludeBkgColor = this.excludeBkgColor || '#eeeeee';\n    this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor;\n    this.taskBkgColor = this.taskBkgColor || this.primaryColor;\n    this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor;\n    this.activeTaskBkgColor = this.activeTaskBkgColor || lighten(this.primaryColor, 23);\n    this.gridColor = this.gridColor || 'lightgrey';\n    this.doneTaskBkgColor = this.doneTaskBkgColor || 'lightgrey';\n    this.doneTaskBorderColor = this.doneTaskBorderColor || 'grey';\n    this.critBorderColor = this.critBorderColor || '#ff8888';\n    this.critBkgColor = this.critBkgColor || 'red';\n    this.todayLineColor = this.todayLineColor || 'red';\n    this.taskTextColor = this.taskTextColor || this.textColor;\n    this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor;\n    this.taskTextLightColor = this.taskTextLightColor || this.textColor;\n    this.taskTextColor = this.taskTextColor || this.primaryTextColor;\n    this.taskTextDarkColor = this.taskTextDarkColor || this.textColor;\n    this.taskTextClickableColor = this.taskTextClickableColor || '#003163';\n\n    /* state colors */\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    /* The color of the text tables of the tstates*/\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || this.tertiaryColor;\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\n    this.innerEndBackground = this.nodeBorder;\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.specialStateColor = this.lineColor;\n\n    /* class */\n    this.classText = this.classText || this.textColor;\n\n    /* user-journey */\n    this.fillType0 = this.fillType0 || this.primaryColor;\n    this.fillType1 = this.fillType1 || this.secondaryColor;\n    this.fillType2 = this.fillType2 || adjust(this.primaryColor, { h: 64 });\n    this.fillType3 = this.fillType3 || adjust(this.secondaryColor, { h: 64 });\n    this.fillType4 = this.fillType4 || adjust(this.primaryColor, { h: -64 });\n    this.fillType5 = this.fillType5 || adjust(this.secondaryColor, { h: -64 });\n    this.fillType6 = this.fillType6 || adjust(this.primaryColor, { h: 128 });\n    this.fillType7 = this.fillType7 || adjust(this.secondaryColor, { h: 128 });\n\n    /* pie */\n    this.pie1 = this.pie1 || this.primaryColor;\n    this.pie2 = this.pie2 || this.secondaryColor;\n    this.pie3 = this.pie3 || this.tertiaryColor;\n    this.pie4 = this.pie4 || adjust(this.primaryColor, { l: -10 });\n    this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -10 });\n    this.pie6 = this.pie6 || adjust(this.tertiaryColor, { l: -10 });\n    this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -10 });\n    this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -10 });\n    this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: 0 });\n    this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -20 });\n    this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -60, l: -20 });\n    this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -10 });\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n    this.pieOpacity = this.pieOpacity || '0.7';\n\n    /* requirement-diagram */\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground =\n      this.relationLabelBackground ||\n      (this.darkMode ? darken(this.secondaryColor, 30) : this.secondaryColor);\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n  }\n  calculate(overrides) {\n    if (typeof overrides !== 'object') {\n      // Calculate colors form base colors\n      this.updateColors();\n      return;\n    }\n\n    const keys = Object.keys(overrides);\n\n    // Copy values from overrides, this is mainly for base colors\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n\n    // Calculate colors form base colors\n    this.updateColors();\n    // Copy values from overrides again in case of an override of derived value\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n}\n\nexport const getThemeVariables = (userOverrides) => {\n  const theme = new Theme();\n  theme.calculate(userOverrides);\n  return theme;\n};\n","import { invert, lighten, darken, rgba, adjust } from 'khroma';\nimport { mkBorder } from './theme-helpers';\nclass Theme {\n  constructor() {\n    this.background = '#333';\n    this.primaryColor = '#1f2020';\n    this.secondaryColor = lighten(this.primaryColor, 16);\n\n    this.tertiaryColor = adjust(this.primaryColor, { h: -160 });\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\n    this.primaryTextColor = invert(this.primaryColor);\n    this.secondaryTextColor = invert(this.secondaryColor);\n    this.tertiaryTextColor = invert(this.tertiaryColor);\n    this.lineColor = invert(this.background);\n    this.textColor = invert(this.background);\n\n    this.mainBkg = '#1f2020';\n    this.secondBkg = 'calculated';\n    this.mainContrastColor = 'lightgrey';\n    this.darkTextColor = lighten(invert('#323D47'), 10);\n    this.lineColor = 'calculated';\n    this.border1 = '#81B1DB';\n    this.border2 = rgba(255, 255, 255, 0.25);\n    this.arrowheadColor = 'calculated';\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n    this.fontSize = '16px';\n    this.labelBackground = '#181818';\n    this.textColor = '#ccc';\n    /* Flowchart variables */\n\n    this.nodeBkg = 'calculated';\n    this.nodeBorder = 'calculated';\n    this.clusterBkg = 'calculated';\n    this.clusterBorder = 'calculated';\n    this.defaultLinkColor = 'calculated';\n    this.titleColor = '#F9FFFE';\n    this.edgeLabelBackground = 'calculated';\n\n    /* Sequence Diagram variables */\n\n    this.actorBorder = 'calculated';\n    this.actorBkg = 'calculated';\n    this.actorTextColor = 'calculated';\n    this.actorLineColor = 'calculated';\n    this.signalColor = 'calculated';\n    this.signalTextColor = 'calculated';\n    this.labelBoxBkgColor = 'calculated';\n    this.labelBoxBorderColor = 'calculated';\n    this.labelTextColor = 'calculated';\n    this.loopTextColor = 'calculated';\n    this.noteBorderColor = 'calculated';\n    this.noteBkgColor = '#fff5ad';\n    this.noteTextColor = 'calculated';\n    this.activationBorderColor = 'calculated';\n    this.activationBkgColor = 'calculated';\n    this.sequenceNumberColor = 'black';\n\n    /* Gantt chart variables */\n\n    this.sectionBkgColor = darken('#EAE8D9', 30);\n    this.altSectionBkgColor = 'calculated';\n    this.sectionBkgColor2 = '#EAE8D9';\n    this.taskBorderColor = rgba(255, 255, 255, 70);\n    this.taskBkgColor = 'calculated';\n    this.taskTextColor = 'calculated';\n    this.taskTextLightColor = 'calculated';\n    this.taskTextOutsideColor = 'calculated';\n    this.taskTextClickableColor = '#003163';\n    this.activeTaskBorderColor = rgba(255, 255, 255, 50);\n    this.activeTaskBkgColor = '#81B1DB';\n    this.gridColor = 'calculated';\n    this.doneTaskBkgColor = 'calculated';\n    this.doneTaskBorderColor = 'grey';\n    this.critBorderColor = '#E83737';\n    this.critBkgColor = '#E83737';\n    this.taskTextDarkColor = 'calculated';\n    this.todayLineColor = '#DB5757';\n\n    /* state colors */\n    this.labelColor = 'calculated';\n\n    this.errorBkgColor = '#a44141';\n    this.errorTextColor = '#ddd';\n  }\n  updateColors() {\n    this.secondBkg = lighten(this.mainBkg, 16);\n    this.lineColor = this.mainContrastColor;\n    this.arrowheadColor = this.mainContrastColor;\n    /* Flowchart variables */\n\n    this.nodeBkg = this.mainBkg;\n    this.nodeBorder = this.border1;\n    this.clusterBkg = this.secondBkg;\n    this.clusterBorder = this.border2;\n    this.defaultLinkColor = this.lineColor;\n    this.edgeLabelBackground = lighten(this.labelBackground, 25);\n\n    /* Sequence Diagram variables */\n\n    this.actorBorder = this.border1;\n    this.actorBkg = this.mainBkg;\n    this.actorTextColor = this.mainContrastColor;\n    this.actorLineColor = this.mainContrastColor;\n    this.signalColor = this.mainContrastColor;\n    this.signalTextColor = this.mainContrastColor;\n    this.labelBoxBkgColor = this.actorBkg;\n    this.labelBoxBorderColor = this.actorBorder;\n    this.labelTextColor = this.mainContrastColor;\n    this.loopTextColor = this.mainContrastColor;\n    this.noteBorderColor = this.secondaryBorderColor;\n    this.noteBkgColor = this.secondBkg;\n    this.noteTextColor = this.secondaryTextColor;\n    this.activationBorderColor = this.border1;\n    this.activationBkgColor = this.secondBkg;\n\n    /* Gantt chart variables */\n\n    this.altSectionBkgColor = this.background;\n    this.taskBkgColor = lighten(this.mainBkg, 23);\n    this.taskTextColor = this.darkTextColor;\n    this.taskTextLightColor = this.mainContrastColor;\n    this.taskTextOutsideColor = this.taskTextLightColor;\n    this.gridColor = this.mainContrastColor;\n    this.doneTaskBkgColor = this.mainContrastColor;\n    this.taskTextDarkColor = this.darkTextColor;\n\n    /* state colors */\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || '#555';\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\n    this.innerEndBackground = this.primaryBorderColor;\n    this.specialStateColor = '#f4f4f4'; // this.lineColor;\n\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n\n    this.fillType0 = this.primaryColor;\n    this.fillType1 = this.secondaryColor;\n    this.fillType2 = adjust(this.primaryColor, { h: 64 });\n    this.fillType3 = adjust(this.secondaryColor, { h: 64 });\n    this.fillType4 = adjust(this.primaryColor, { h: -64 });\n    this.fillType5 = adjust(this.secondaryColor, { h: -64 });\n    this.fillType6 = adjust(this.primaryColor, { h: 128 });\n    this.fillType7 = adjust(this.secondaryColor, { h: 128 });\n\n    /* pie */\n    this.pie1 = this.pie1 || '#0b0000';\n    this.pie2 = this.pie2 || '#4d1037';\n    this.pie3 = this.pie3 || '#3f5258';\n    this.pie4 = this.pie4 || '#4f2f1b';\n    this.pie5 = this.pie5 || '#6e0a0a';\n    this.pie6 = this.pie6 || '#3b0048';\n    this.pie7 = this.pie7 || '#995a01';\n    this.pie8 = this.pie8 || '#154706';\n    this.pie9 = this.pie9 || '#161722';\n    this.pie10 = this.pie10 || '#00296f';\n    this.pie11 = this.pie11 || '#01629c';\n    this.pie12 = this.pie12 || '#010029';\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n    this.pieOpacity = this.pieOpacity || '0.7';\n\n    /* class */\n    this.classText = this.primaryTextColor;\n\n    /* requirement-diagram */\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground =\n      this.relationLabelBackground ||\n      (this.darkMode ? darken(this.secondaryColor, 30) : this.secondaryColor);\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n  }\n  calculate(overrides) {\n    if (typeof overrides !== 'object') {\n      // Calculate colors form base colors\n      this.updateColors();\n      return;\n    }\n\n    const keys = Object.keys(overrides);\n\n    // Copy values from overrides, this is mainly for base colors\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n\n    // Calculate colors form base colors\n    this.updateColors();\n    // Copy values from overrides again in case of an override of derived value\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n}\n\nexport const getThemeVariables = (userOverrides) => {\n  const theme = new Theme();\n  theme.calculate(userOverrides);\n  return theme;\n};\n","import { invert, lighten, rgba, adjust } from 'khroma';\nimport { mkBorder } from './theme-helpers';\n\nclass Theme {\n  constructor() {\n    /* Base variables */\n    this.background = '#f4f4f4';\n    this.primaryColor = '#ECECFF';\n\n    this.secondaryColor = adjust(this.primaryColor, { h: 120 });\n    this.secondaryColor = '#ffffde';\n    this.tertiaryColor = adjust(this.primaryColor, { h: -160 });\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\n    // this.noteBorderColor = mkBorder(this.noteBkgColor, this.darkMode);\n\n    this.primaryTextColor = invert(this.primaryColor);\n    this.secondaryTextColor = invert(this.secondaryColor);\n    this.tertiaryTextColor = invert(this.tertiaryColor);\n    this.lineColor = invert(this.background);\n    this.textColor = invert(this.background);\n\n    this.background = 'white';\n    this.mainBkg = '#ECECFF';\n    this.secondBkg = '#ffffde';\n    this.lineColor = '#333333';\n    this.border1 = '#9370DB';\n    this.border2 = '#aaaa33';\n    this.arrowheadColor = '#333333';\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n    this.fontSize = '16px';\n    this.labelBackground = '#e8e8e8';\n    this.textColor = '#333';\n\n    /* Flowchart variables */\n\n    this.nodeBkg = 'calculated';\n    this.nodeBorder = 'calculated';\n    this.clusterBkg = 'calculated';\n    this.clusterBorder = 'calculated';\n    this.defaultLinkColor = 'calculated';\n    this.titleColor = 'calculated';\n    this.edgeLabelBackground = 'calculated';\n\n    /* Sequence Diagram variables */\n\n    this.actorBorder = 'calculated';\n    this.actorBkg = 'calculated';\n    this.actorTextColor = 'black';\n    this.actorLineColor = 'grey';\n    this.signalColor = 'calculated';\n    this.signalTextColor = 'calculated';\n    this.labelBoxBkgColor = 'calculated';\n    this.labelBoxBorderColor = 'calculated';\n    this.labelTextColor = 'calculated';\n    this.loopTextColor = 'calculated';\n    this.noteBorderColor = 'calculated';\n    this.noteBkgColor = '#fff5ad';\n    this.noteTextColor = 'calculated';\n    this.activationBorderColor = '#666';\n    this.activationBkgColor = '#f4f4f4';\n    this.sequenceNumberColor = 'white';\n\n    /* Gantt chart variables */\n\n    this.sectionBkgColor = 'calculated';\n    this.altSectionBkgColor = 'calculated';\n    this.sectionBkgColor2 = 'calculated';\n    this.excludeBkgColor = '#eeeeee';\n    this.taskBorderColor = 'calculated';\n    this.taskBkgColor = 'calculated';\n    this.taskTextLightColor = 'calculated';\n    this.taskTextColor = this.taskTextLightColor;\n    this.taskTextDarkColor = 'calculated';\n    this.taskTextOutsideColor = this.taskTextDarkColor;\n    this.taskTextClickableColor = 'calculated';\n    this.activeTaskBorderColor = 'calculated';\n    this.activeTaskBkgColor = 'calculated';\n    this.gridColor = 'calculated';\n    this.doneTaskBkgColor = 'calculated';\n    this.doneTaskBorderColor = 'calculated';\n    this.critBorderColor = 'calculated';\n    this.critBkgColor = 'calculated';\n    this.todayLineColor = 'calculated';\n\n    this.sectionBkgColor = rgba(102, 102, 255, 0.49);\n    this.altSectionBkgColor = 'white';\n    this.sectionBkgColor2 = '#fff400';\n    this.taskBorderColor = '#534fbc';\n    this.taskBkgColor = '#8a90dd';\n    this.taskTextLightColor = 'white';\n    this.taskTextColor = 'calculated';\n    this.taskTextDarkColor = 'black';\n    this.taskTextOutsideColor = 'calculated';\n    this.taskTextClickableColor = '#003163';\n    this.activeTaskBorderColor = '#534fbc';\n    this.activeTaskBkgColor = '#bfc7ff';\n    this.gridColor = 'lightgrey';\n    this.doneTaskBkgColor = 'lightgrey';\n    this.doneTaskBorderColor = 'grey';\n    this.critBorderColor = '#ff8888';\n    this.critBkgColor = 'red';\n    this.todayLineColor = 'red';\n\n    /* state colors */\n    this.labelColor = 'black';\n    this.errorBkgColor = '#552222';\n    this.errorTextColor = '#552222';\n    this.updateColors();\n  }\n  updateColors() {\n    /* Flowchart variables */\n\n    this.nodeBkg = this.mainBkg;\n    this.nodeBorder = this.border1; // border 1\n    this.clusterBkg = this.secondBkg;\n    this.clusterBorder = this.border2;\n    this.defaultLinkColor = this.lineColor;\n    this.titleColor = this.textColor;\n    this.edgeLabelBackground = this.labelBackground;\n\n    /* Sequence Diagram variables */\n\n    // this.actorBorder = lighten(this.border1, 0.5);\n    this.actorBorder = lighten(this.border1, 23);\n    this.actorBkg = this.mainBkg;\n    this.labelBoxBkgColor = this.actorBkg;\n    this.signalColor = this.textColor;\n    this.signalTextColor = this.textColor;\n    this.labelBoxBorderColor = this.actorBorder;\n    this.labelTextColor = this.actorTextColor;\n    this.loopTextColor = this.actorTextColor;\n    this.noteBorderColor = this.border2;\n    this.noteTextColor = this.actorTextColor;\n\n    /* Gantt chart variables */\n\n    this.taskTextColor = this.taskTextLightColor;\n    this.taskTextOutsideColor = this.taskTextDarkColor;\n\n    /* state colors */\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || '#f0f0f0';\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\n    this.innerEndBackground = this.nodeBorder;\n    this.specialStateColor = this.lineColor;\n\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n    this.transitionColor = this.transitionColor || this.lineColor;\n    /* class */\n    this.classText = this.primaryTextColor;\n    /* journey */\n    this.fillType0 = this.primaryColor;\n    this.fillType1 = this.secondaryColor;\n    this.fillType2 = adjust(this.primaryColor, { h: 64 });\n    this.fillType3 = adjust(this.secondaryColor, { h: 64 });\n    this.fillType4 = adjust(this.primaryColor, { h: -64 });\n    this.fillType5 = adjust(this.secondaryColor, { h: -64 });\n    this.fillType6 = adjust(this.primaryColor, { h: 128 });\n    this.fillType7 = adjust(this.secondaryColor, { h: 128 });\n\n    /* pie */\n    this.pie1 = this.pie1 || this.primaryColor;\n    this.pie2 = this.pie2 || this.secondaryColor;\n    this.pie3 = this.pie3 || adjust(this.tertiaryColor, { l: -40 });\n    this.pie4 = this.pie4 || adjust(this.primaryColor, { l: -10 });\n    this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -30 });\n    this.pie6 = this.pie6 || adjust(this.tertiaryColor, { l: -20 });\n    this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -20 });\n    this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -40 });\n    this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: -40 });\n    this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -40 });\n    this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -90, l: -40 });\n    this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -30 });\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n    this.pieOpacity = this.pieOpacity || '0.7';\n\n    /* requirement-diagram */\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground = this.relationLabelBackground || this.labelBackground;\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n  }\n  calculate(overrides) {\n    if (typeof overrides !== 'object') {\n      // Calculate colors form base colors\n      this.updateColors();\n      return;\n    }\n\n    const keys = Object.keys(overrides);\n\n    // Copy values from overrides, this is mainly for base colors\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n\n    // Calculate colors form base colors\n    this.updateColors();\n    // Copy values from overrides again in case of an override of derived value\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n}\n\nexport const getThemeVariables = (userOverrides) => {\n  const theme = new Theme();\n  theme.calculate(userOverrides);\n  return theme;\n};\n","import { darken, lighten, adjust, invert } from 'khroma';\nimport { mkBorder } from './theme-helpers';\nclass Theme {\n  constructor() {\n    /* Base vales */\n    this.background = '#f4f4f4';\n    this.primaryColor = '#cde498';\n    this.secondaryColor = '#cdffb2';\n    this.background = 'white';\n    this.mainBkg = '#cde498';\n    this.secondBkg = '#cdffb2';\n    this.lineColor = 'green';\n    this.border1 = '#13540c';\n    this.border2 = '#6eaa49';\n    this.arrowheadColor = 'green';\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n    this.fontSize = '16px';\n\n    this.tertiaryColor = lighten('#cde498', 10);\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\n    this.primaryTextColor = invert(this.primaryColor);\n    this.secondaryTextColor = invert(this.secondaryColor);\n    this.tertiaryTextColor = invert(this.primaryColor);\n    this.lineColor = invert(this.background);\n    this.textColor = invert(this.background);\n\n    /* Flowchart variables */\n    this.nodeBkg = 'calculated';\n    this.nodeBorder = 'calculated';\n    this.clusterBkg = 'calculated';\n    this.clusterBorder = 'calculated';\n    this.defaultLinkColor = 'calculated';\n    this.titleColor = '#333';\n    this.edgeLabelBackground = '#e8e8e8';\n\n    /* Sequence Diagram variables */\n\n    this.actorBorder = 'calculated';\n    this.actorBkg = 'calculated';\n    this.actorTextColor = 'black';\n    this.actorLineColor = 'grey';\n    this.signalColor = '#333';\n    this.signalTextColor = '#333';\n    this.labelBoxBkgColor = 'calculated';\n    this.labelBoxBorderColor = '#326932';\n    this.labelTextColor = 'calculated';\n    this.loopTextColor = 'calculated';\n    this.noteBorderColor = 'calculated';\n    this.noteBkgColor = '#fff5ad';\n    this.noteTextColor = 'calculated';\n    this.activationBorderColor = '#666';\n    this.activationBkgColor = '#f4f4f4';\n    this.sequenceNumberColor = 'white';\n\n    /* Gantt chart variables */\n\n    this.sectionBkgColor = '#6eaa49';\n    this.altSectionBkgColor = 'white';\n    this.sectionBkgColor2 = '#6eaa49';\n    this.excludeBkgColor = '#eeeeee';\n    this.taskBorderColor = 'calculated';\n    this.taskBkgColor = '#487e3a';\n    this.taskTextLightColor = 'white';\n    this.taskTextColor = 'calculated';\n    this.taskTextDarkColor = 'black';\n    this.taskTextOutsideColor = 'calculated';\n    this.taskTextClickableColor = '#003163';\n    this.activeTaskBorderColor = 'calculated';\n    this.activeTaskBkgColor = 'calculated';\n    this.gridColor = 'lightgrey';\n    this.doneTaskBkgColor = 'lightgrey';\n    this.doneTaskBorderColor = 'grey';\n    this.critBorderColor = '#ff8888';\n    this.critBkgColor = 'red';\n    this.todayLineColor = 'red';\n\n    /* state colors */\n    this.labelColor = 'black';\n\n    this.errorBkgColor = '#552222';\n    this.errorTextColor = '#552222';\n  }\n  updateColors() {\n    /* Flowchart variables */\n\n    this.nodeBkg = this.mainBkg;\n    this.nodeBorder = this.border1;\n    this.clusterBkg = this.secondBkg;\n    this.clusterBorder = this.border2;\n    this.defaultLinkColor = this.lineColor;\n\n    /* Sequence Diagram variables */\n\n    this.actorBorder = darken(this.mainBkg, 20);\n    this.actorBkg = this.mainBkg;\n    this.labelBoxBkgColor = this.actorBkg;\n    this.labelTextColor = this.actorTextColor;\n    this.loopTextColor = this.actorTextColor;\n    this.noteBorderColor = this.border2;\n    this.noteTextColor = this.actorTextColor;\n\n    /* Gantt chart variables */\n\n    this.taskBorderColor = this.border1;\n    this.taskTextColor = this.taskTextLightColor;\n    this.taskTextOutsideColor = this.taskTextDarkColor;\n    this.activeTaskBorderColor = this.taskBorderColor;\n    this.activeTaskBkgColor = this.mainBkg;\n\n    /* state colors */\n    this.transitionColor = this.transitionColor || this.lineColor;\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || '#f0f0f0';\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.compositeBorder = this.compositeBorder || this.nodeBorder;\n    this.innerEndBackground = this.primaryBorderColor;\n    this.specialStateColor = this.lineColor;\n\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n    this.transitionColor = this.transitionColor || this.lineColor;\n    /* class */\n    this.classText = this.primaryTextColor;\n    /* journey */\n    this.fillType0 = this.primaryColor;\n    this.fillType1 = this.secondaryColor;\n    this.fillType2 = adjust(this.primaryColor, { h: 64 });\n    this.fillType3 = adjust(this.secondaryColor, { h: 64 });\n    this.fillType4 = adjust(this.primaryColor, { h: -64 });\n    this.fillType5 = adjust(this.secondaryColor, { h: -64 });\n    this.fillType6 = adjust(this.primaryColor, { h: 128 });\n    this.fillType7 = adjust(this.secondaryColor, { h: 128 });\n\n    /* pie */\n    this.pie1 = this.pie1 || this.primaryColor;\n    this.pie2 = this.pie2 || this.secondaryColor;\n    this.pie3 = this.pie3 || this.tertiaryColor;\n    this.pie4 = this.pie4 || adjust(this.primaryColor, { l: -30 });\n    this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -30 });\n    this.pie6 = this.pie6 || adjust(this.tertiaryColor, { h: +40, l: -40 });\n    this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -10 });\n    this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -10 });\n    this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: 0 });\n    this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -50 });\n    this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -60, l: -50 });\n    this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -50 });\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n    this.pieOpacity = this.pieOpacity || '0.7';\n\n    /* requirement-diagram */\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n  }\n  calculate(overrides) {\n    if (typeof overrides !== 'object') {\n      // Calculate colors form base colors\n      this.updateColors();\n      return;\n    }\n\n    const keys = Object.keys(overrides);\n\n    // Copy values from overrides, this is mainly for base colors\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n\n    // Calculate colors form base colors\n    this.updateColors();\n    // Copy values from overrides again in case of an override of derived value\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n}\n\nexport const getThemeVariables = (userOverrides) => {\n  const theme = new Theme();\n  theme.calculate(userOverrides);\n  return theme;\n};\n","import { adjust } from 'khroma';\r\n\r\nexport const mkBorder = (col, darkMode) =>\r\n  darkMode ? adjust(col, { s: -40, l: 10 }) : adjust(col, { s: -40, l: -10 });\r\n","import { invert, darken, lighten, adjust } from 'khroma';\nimport { mkBorder } from './theme-helpers';\n\n// const Color = require ( 'khroma/dist/color' ).default\n// Color.format.hex.stringify(Color.parse('hsl(210, 66.6666666667%, 95%)')); // => \"#EAF2FB\"\n\nclass Theme {\n  constructor() {\n    this.primaryColor = '#eee';\n    this.contrast = '#707070';\n    this.secondaryColor = lighten(this.contrast, 55);\n    this.background = '#ffffff';\n\n    // this.secondaryColor = adjust(this.primaryColor, { h: 120 });\n    this.tertiaryColor = adjust(this.primaryColor, { h: -160 });\n    this.primaryBorderColor = mkBorder(this.primaryColor, this.darkMode);\n    this.secondaryBorderColor = mkBorder(this.secondaryColor, this.darkMode);\n    this.tertiaryBorderColor = mkBorder(this.tertiaryColor, this.darkMode);\n    // this.noteBorderColor = mkBorder(this.noteBkgColor, this.darkMode);\n\n    this.primaryTextColor = invert(this.primaryColor);\n    this.secondaryTextColor = invert(this.secondaryColor);\n    this.tertiaryTextColor = invert(this.tertiaryColor);\n    this.lineColor = invert(this.background);\n    this.textColor = invert(this.background);\n\n    // this.altBackground = lighten(this.contrast, 55);\n    this.mainBkg = '#eee';\n    this.secondBkg = 'calculated';\n    this.lineColor = '#666';\n    this.border1 = '#999';\n    this.border2 = 'calculated';\n    this.note = '#ffa';\n    this.text = '#333';\n    this.critical = '#d42';\n    this.done = '#bbb';\n    this.arrowheadColor = '#333333';\n    this.fontFamily = '\"trebuchet ms\", verdana, arial, sans-serif';\n    this.fontSize = '16px';\n\n    /* Flowchart variables */\n\n    this.nodeBkg = 'calculated';\n    this.nodeBorder = 'calculated';\n    this.clusterBkg = 'calculated';\n    this.clusterBorder = 'calculated';\n    this.defaultLinkColor = 'calculated';\n    this.titleColor = 'calculated';\n    this.edgeLabelBackground = 'white';\n\n    /* Sequence Diagram variables */\n\n    this.actorBorder = 'calculated';\n    this.actorBkg = 'calculated';\n    this.actorTextColor = 'calculated';\n    this.actorLineColor = 'calculated';\n    this.signalColor = 'calculated';\n    this.signalTextColor = 'calculated';\n    this.labelBoxBkgColor = 'calculated';\n    this.labelBoxBorderColor = 'calculated';\n    this.labelTextColor = 'calculated';\n    this.loopTextColor = 'calculated';\n    this.noteBorderColor = 'calculated';\n    this.noteBkgColor = 'calculated';\n    this.noteTextColor = 'calculated';\n    this.activationBorderColor = '#666';\n    this.activationBkgColor = '#f4f4f4';\n    this.sequenceNumberColor = 'white';\n\n    /* Gantt chart variables */\n\n    this.sectionBkgColor = 'calculated';\n    this.altSectionBkgColor = 'white';\n    this.sectionBkgColor2 = 'calculated';\n    this.excludeBkgColor = '#eeeeee';\n    this.taskBorderColor = 'calculated';\n    this.taskBkgColor = 'calculated';\n    this.taskTextLightColor = 'white';\n    this.taskTextColor = 'calculated';\n    this.taskTextDarkColor = 'calculated';\n    this.taskTextOutsideColor = 'calculated';\n    this.taskTextClickableColor = '#003163';\n    this.activeTaskBorderColor = 'calculated';\n    this.activeTaskBkgColor = 'calculated';\n    this.gridColor = 'calculated';\n    this.doneTaskBkgColor = 'calculated';\n    this.doneTaskBorderColor = 'calculated';\n    this.critBkgColor = 'calculated';\n    this.critBorderColor = 'calculated';\n    this.todayLineColor = 'calculated';\n\n    /* state colors */\n    this.labelColor = 'black';\n\n    this.errorBkgColor = '#552222';\n    this.errorTextColor = '#552222';\n  }\n  updateColors() {\n    this.secondBkg = lighten(this.contrast, 55);\n    this.border2 = this.contrast;\n\n    /* Flowchart variables */\n\n    this.nodeBkg = this.mainBkg;\n    this.nodeBorder = this.border1;\n    this.clusterBkg = this.secondBkg;\n    this.clusterBorder = this.border2;\n    this.defaultLinkColor = this.lineColor;\n    this.titleColor = this.text;\n\n    /* Sequence Diagram variables */\n\n    this.actorBorder = lighten(this.border1, 23);\n    this.actorBkg = this.mainBkg;\n    this.actorTextColor = this.text;\n    this.actorLineColor = this.lineColor;\n    this.signalColor = this.text;\n    this.signalTextColor = this.text;\n    this.labelBoxBkgColor = this.actorBkg;\n    this.labelBoxBorderColor = this.actorBorder;\n    this.labelTextColor = this.text;\n    this.loopTextColor = this.text;\n    this.noteBorderColor = '#999';\n    this.noteBkgColor = '#666';\n    this.noteTextColor = '#fff';\n\n    /* Gantt chart variables */\n\n    this.sectionBkgColor = lighten(this.contrast, 30);\n    this.sectionBkgColor2 = lighten(this.contrast, 30);\n\n    this.taskBorderColor = darken(this.contrast, 10);\n\n    this.taskBkgColor = this.contrast;\n    this.taskTextColor = this.taskTextLightColor;\n    this.taskTextDarkColor = this.text;\n    this.taskTextOutsideColor = this.taskTextDarkColor;\n    this.activeTaskBorderColor = this.taskBorderColor;\n    this.activeTaskBkgColor = this.mainBkg;\n    this.gridColor = lighten(this.border1, 30);\n\n    this.doneTaskBkgColor = this.done;\n    this.doneTaskBorderColor = this.lineColor;\n    this.critBkgColor = this.critical;\n    this.critBorderColor = darken(this.critBkgColor, 10);\n\n    this.todayLineColor = this.critBkgColor;\n\n    /* state colors */\n    this.transitionColor = this.transitionColor || '#000';\n    this.transitionLabelColor = this.transitionLabelColor || this.textColor;\n    this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;\n\n    this.stateBkg = this.stateBkg || this.mainBkg;\n    this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;\n    this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;\n    this.altBackground = this.altBackground || '#f4f4f4';\n    this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;\n    this.stateBorder = this.stateBorder || '#000';\n    this.innerEndBackground = this.primaryBorderColor;\n    this.specialStateColor = '#222';\n\n    this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;\n    this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;\n\n    /* class */\n    this.classText = this.primaryTextColor;\n    /* journey */\n    this.fillType0 = this.primaryColor;\n    this.fillType1 = this.secondaryColor;\n    this.fillType2 = adjust(this.primaryColor, { h: 64 });\n    this.fillType3 = adjust(this.secondaryColor, { h: 64 });\n    this.fillType4 = adjust(this.primaryColor, { h: -64 });\n    this.fillType5 = adjust(this.secondaryColor, { h: -64 });\n    this.fillType6 = adjust(this.primaryColor, { h: 128 });\n    this.fillType7 = adjust(this.secondaryColor, { h: 128 });\n\n    // /* pie */\n    this.pie1 = this.pie1 || '#F4F4F4';\n    this.pie2 = this.pie2 || '#555';\n    this.pie3 = this.pie3 || '#BBB';\n    this.pie4 = this.pie4 || '#777';\n    this.pie5 = this.pie5 || '#999';\n    this.pie6 = this.pie6 || '#DDD';\n    this.pie7 = this.pie7 || '#FFF';\n    this.pie8 = this.pie8 || '#DDD';\n    this.pie9 = this.pie9 || '#BBB';\n    this.pie10 = this.pie10 || '#999';\n    this.pie11 = this.pie11 || '#777';\n    this.pie12 = this.pie12 || '#555';\n    this.pieTitleTextSize = this.pieTitleTextSize || '25px';\n    this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;\n    this.pieSectionTextSize = this.pieSectionTextSize || '17px';\n    this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;\n    this.pieLegendTextSize = this.pieLegendTextSize || '17px';\n    this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;\n    this.pieStrokeColor = this.pieStrokeColor || 'black';\n    this.pieStrokeWidth = this.pieStrokeWidth || '2px';\n    this.pieOpacity = this.pieOpacity || '0.7';\n\n    // this.pie1 = this.pie1 || '#212529';\n    // this.pie2 = this.pie2 || '#343A40';\n    // this.pie3 = this.pie3 || '#495057';\n    // this.pie4 = this.pie4 || '#6C757D';\n    // this.pie5 = this.pie5 || adjust(this.secondaryColor, { l: -10 });\n    // this.pie6 = this.pie6 || adjust(this.tertiaryColor, { l: -10 });\n    // this.pie7 = this.pie7 || adjust(this.primaryColor, { h: +60, l: -10 });\n    // this.pie8 = this.pie8 || adjust(this.primaryColor, { h: -60, l: -10 });\n    // this.pie9 = this.pie9 || adjust(this.primaryColor, { h: 120, l: 0 });\n    // this.pie10 = this.pie10 || adjust(this.primaryColor, { h: +60, l: -20 });\n    // this.pie11 = this.pie11 || adjust(this.primaryColor, { h: -60, l: -20 });\n    // this.pie12 = this.pie12 || adjust(this.primaryColor, { h: 120, l: -10 });\n\n    /* requirement-diagram */\n    this.requirementBackground = this.requirementBackground || this.primaryColor;\n    this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;\n    this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;\n    this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;\n    this.relationColor = this.relationColor || this.lineColor;\n    this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;\n    this.relationLabelColor = this.relationLabelColor || this.actorTextColor;\n  }\n  calculate(overrides) {\n    if (typeof overrides !== 'object') {\n      // Calculate colors form base colors\n      this.updateColors();\n      return;\n    }\n\n    const keys = Object.keys(overrides);\n\n    // Copy values from overrides, this is mainly for base colors\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n\n    // Calculate colors form base colors\n    this.updateColors();\n    // Copy values from overrides again in case of an override of derived value\n    keys.forEach((k) => {\n      this[k] = overrides[k];\n    });\n  }\n}\n\nexport const getThemeVariables = (userOverrides) => {\n  const theme = new Theme();\n  theme.calculate(userOverrides);\n  return theme;\n};\n","import { sanitizeUrl } from '@braintree/sanitize-url';\nimport {\n  curveBasis,\n  curveBasisClosed,\n  curveBasisOpen,\n  curveLinear,\n  curveLinearClosed,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n  select,\n} from 'd3';\nimport common from './diagrams/common/common';\nimport { configKeys } from './defaultConfig';\nimport { log } from './logger';\n\n// Effectively an enum of the supported curve types, accessible by name\nconst d3CurveTypes = {\n  curveBasis: curveBasis,\n  curveBasisClosed: curveBasisClosed,\n  curveBasisOpen: curveBasisOpen,\n  curveLinear: curveLinear,\n  curveLinearClosed: curveLinearClosed,\n  curveMonotoneX: curveMonotoneX,\n  curveMonotoneY: curveMonotoneY,\n  curveNatural: curveNatural,\n  curveStep: curveStep,\n  curveStepAfter: curveStepAfter,\n  curveStepBefore: curveStepBefore,\n};\nconst directive =\n  /[%]{2}[{]\\s*(?:(?:(\\w+)\\s*:|(\\w+))\\s*(?:(?:(\\w+))|((?:(?![}][%]{2}).|\\r?\\n)*))?\\s*)(?:[}][%]{2})?/gi;\nconst directiveWithoutOpen =\n  /\\s*(?:(?:(\\w+)(?=:):|(\\w+))\\s*(?:(?:(\\w+))|((?:(?![}][%]{2}).|\\r?\\n)*))?\\s*)(?:[}][%]{2})?/gi;\nconst anyComment = /\\s*%%.*\\n/gm;\n\n/**\n * @function detectInit Detects the init config object from the text\n *\n *   ```mermaid\n *   %%{init: {\"theme\": \"debug\", \"logLevel\": 1 }}%%\n *   graph LR\n *    a-->b\n *    b-->c\n *    c-->d\n *    d-->e\n *    e-->f\n *    f-->g\n *    g-->h\n * ```\n *\n *   Or\n *\n *   ```mermaid\n *   %%{initialize: {\"theme\": \"dark\", logLevel: \"debug\" }}%%\n *   graph LR\n *    a-->b\n *    b-->c\n *    c-->d\n *    d-->e\n *    e-->f\n *    f-->g\n *    g-->h\n * ```\n * @param {string} text The text defining the graph\n * @param {any} cnf\n * @returns {object} The json object representing the init passed to mermaid.initialize()\n */\nexport const detectInit = function (text, cnf) {\n  let inits = detectDirective(text, /(?:init\\b)|(?:initialize\\b)/);\n  let results = {};\n\n  if (Array.isArray(inits)) {\n    let args = inits.map((init) => init.args);\n    directiveSanitizer(args);\n\n    results = assignWithDepth(results, [...args]);\n  } else {\n    results = inits.args;\n  }\n  if (results) {\n    let type = detectType(text, cnf);\n    ['config'].forEach((prop) => {\n      if (typeof results[prop] !== 'undefined') {\n        if (type === 'flowchart-v2') {\n          type = 'flowchart';\n        }\n        results[type] = results[prop];\n        delete results[prop];\n      }\n    });\n  }\n\n  // Todo: refactor this, these results are never used\n  return results;\n};\n\n/**\n * @function detectDirective Detects the directive from the text. Text can be single line or\n *   multiline. If type is null or omitted the first directive encountered in text will be returned\n *\n *   ```mermaid\n *   graph LR\n *    %%{somedirective}%%\n *    a-->b\n *    b-->c\n *    c-->d\n *    d-->e\n *    e-->f\n *    f-->g\n *    g-->h\n * ```\n * @param {string} text The text defining the graph\n * @param {string | RegExp} type The directive to return (default: null)\n * @returns {object | Array} An object or Array representing the directive(s): { type: string, args:\n *   object|null } matched by the input type if a single directive was found, that directive object\n *   will be returned.\n */\nexport const detectDirective = function (text, type = null) {\n  try {\n    const commentWithoutDirectives = new RegExp(\n      `[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*\\n`,\n      'ig'\n    );\n    text = text.trim().replace(commentWithoutDirectives, '').replace(/'/gm, '\"');\n    log.debug(\n      `Detecting diagram directive${type !== null ? ' type:' + type : ''} based on the text:${text}`\n    );\n    let match,\n      result = [];\n    while ((match = directive.exec(text)) !== null) {\n      // This is necessary to avoid infinite loops with zero-width matches\n      if (match.index === directive.lastIndex) {\n        directive.lastIndex++;\n      }\n      if (\n        (match && !type) ||\n        (type && match[1] && match[1].match(type)) ||\n        (type && match[2] && match[2].match(type))\n      ) {\n        let type = match[1] ? match[1] : match[2];\n        let args = match[3] ? match[3].trim() : match[4] ? JSON.parse(match[4].trim()) : null;\n        result.push({ type, args });\n      }\n    }\n    if (result.length === 0) {\n      result.push({ type: text, args: null });\n    }\n\n    return result.length === 1 ? result[0] : result;\n  } catch (error) {\n    log.error(\n      `ERROR: ${error.message} - Unable to parse directive\n      ${type !== null ? ' type:' + type : ''} based on the text:${text}`\n    );\n    return { type: null, args: null };\n  }\n};\n\n/**\n * @function detectType Detects the type of the graph text. Takes into consideration the possible\n *   existence of an %%init directive\n *\n *   ```mermaid\n *   %%{initialize: {\"startOnLoad\": true, logLevel: \"fatal\" }}%%\n *   graph LR\n *    a-->b\n *    b-->c\n *    c-->d\n *    d-->e\n *    e-->f\n *    f-->g\n *    g-->h\n * ```\n * @param {string} text The text defining the graph\n * @param {{\n *   class: { defaultRenderer: string } | undefined;\n *   state: { defaultRenderer: string } | undefined;\n *   flowchart: { defaultRenderer: string } | undefined;\n * }} [cnf]\n * @returns {string} A graph definition key\n */\nexport const detectType = function (text, cnf) {\n  text = text.replace(directive, '').replace(anyComment, '\\n');\n  if (text.match(/^\\s*sequenceDiagram/)) {\n    return 'sequence';\n  }\n\n  if (text.match(/^\\s*gantt/)) {\n    return 'gantt';\n  }\n  if (text.match(/^\\s*classDiagram-v2/)) {\n    return 'classDiagram';\n  }\n  if (text.match(/^\\s*classDiagram/)) {\n    if (cnf && cnf.class && cnf.class.defaultRenderer === 'dagre-wrapper') return 'classDiagram';\n    return 'class';\n  }\n\n  if (text.match(/^\\s*stateDiagram-v2/)) {\n    return 'stateDiagram';\n  }\n\n  if (text.match(/^\\s*stateDiagram/)) {\n    if (cnf && cnf.class && cnf.state.defaultRenderer === 'dagre-wrapper') return 'stateDiagram';\n    return 'state';\n  }\n\n  if (text.match(/^\\s*gitGraph/)) {\n    return 'git';\n  }\n  if (text.match(/^\\s*flowchart/)) {\n    return 'flowchart-v2';\n  }\n\n  if (text.match(/^\\s*info/)) {\n    return 'info';\n  }\n  if (text.match(/^\\s*pie/)) {\n    return 'pie';\n  }\n\n  if (text.match(/^\\s*erDiagram/)) {\n    return 'er';\n  }\n\n  if (text.match(/^\\s*journey/)) {\n    return 'journey';\n  }\n\n  if (text.match(/^\\s*requirement/) || text.match(/^\\s*requirementDiagram/)) {\n    return 'requirement';\n  }\n  if (cnf && cnf.flowchart && cnf.flowchart.defaultRenderer === 'dagre-wrapper')\n    return 'flowchart-v2';\n\n  return 'flowchart';\n};\n\n/**\n * Caches results of functions based on input\n *\n * @param {Function} fn Function to run\n * @param {Function} resolver Function that resolves to an ID given arguments the `fn` takes\n * @returns {Function} An optimized caching function\n */\nconst memoize = (fn, resolver) => {\n  let cache = {};\n  return (...args) => {\n    let n = resolver ? resolver.apply(this, args) : args[0];\n    if (n in cache) {\n      return cache[n];\n    } else {\n      let result = fn(...args);\n      cache[n] = result;\n      return result;\n    }\n  };\n};\n\n/**\n * @function isSubstringInArray Detects whether a substring in present in a given array\n * @param {string} str The substring to detect\n * @param {Array} arr The array to search\n * @returns {number} The array index containing the substring or -1 if not present\n */\nexport const isSubstringInArray = function (str, arr) {\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i].match(str)) return i;\n  }\n  return -1;\n};\n\n/**\n * Returns a d3 curve given a curve name\n *\n * @param {string | undefined} interpolate The interpolation name\n * @param {any} defaultCurve The default curve to return\n * @returns {import('d3-shape').CurveFactory} The curve factory to use\n */\nexport const interpolateToCurve = (interpolate, defaultCurve) => {\n  if (!interpolate) {\n    return defaultCurve;\n  }\n  const curveName = `curve${interpolate.charAt(0).toUpperCase() + interpolate.slice(1)}`;\n  return d3CurveTypes[curveName] || defaultCurve;\n};\n\n/**\n * Formats a URL string\n *\n * @param {string} linkStr String of the URL\n * @param {{ securityLevel: string }} config Configuration passed to MermaidJS\n * @returns {string | undefined} The formatted URL\n */\nexport const formatUrl = (linkStr, config) => {\n  let url = linkStr.trim();\n\n  if (url) {\n    if (config.securityLevel !== 'loose') {\n      return sanitizeUrl(url);\n    }\n\n    return url;\n  }\n};\n\n/**\n * Runs a function\n *\n * @param {string} functionName A dot seperated path to the function relative to the `window`\n * @param {...any} params Parameters to pass to the function\n */\nexport const runFunc = (functionName, ...params) => {\n  const arrPaths = functionName.split('.');\n\n  const len = arrPaths.length - 1;\n  const fnName = arrPaths[len];\n\n  let obj = window;\n  for (let i = 0; i < len; i++) {\n    obj = obj[arrPaths[i]];\n    if (!obj) return;\n  }\n\n  obj[fnName](...params);\n};\n\n/**\n * @typedef {object} Point A (x, y) point\n * @property {number} x The x value\n * @property {number} y The y value\n */\n\n/**\n * Finds the distance between two points using the Distance Formula\n *\n * @param {Point} p1 The first point\n * @param {Point} p2 The second point\n * @returns {number} The distance\n */\nconst distance = (p1, p2) =>\n  p1 && p2 ? Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2)) : 0;\n\n/**\n * @param {Point[]} points List of points\n * @returns {Point}\n * @todo Give this a description\n */\nconst traverseEdge = (points) => {\n  let prevPoint;\n  let totalDistance = 0;\n\n  points.forEach((point) => {\n    totalDistance += distance(point, prevPoint);\n    prevPoint = point;\n  });\n\n  // Traverse half of total distance along points\n  let remainingDistance = totalDistance / 2;\n  let center = undefined;\n  prevPoint = undefined;\n  points.forEach((point) => {\n    if (prevPoint && !center) {\n      const vectorDistance = distance(point, prevPoint);\n      if (vectorDistance < remainingDistance) {\n        remainingDistance -= vectorDistance;\n      } else {\n        // The point is remainingDistance from prevPoint in the vector between prevPoint and point\n        // Calculate the coordinates\n        const distanceRatio = remainingDistance / vectorDistance;\n        if (distanceRatio <= 0) center = prevPoint;\n        if (distanceRatio >= 1) center = { x: point.x, y: point.y };\n        if (distanceRatio > 0 && distanceRatio < 1) {\n          center = {\n            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\n            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y,\n          };\n        }\n      }\n    }\n    prevPoint = point;\n  });\n  return center;\n};\n\n/**\n * Alias for `traverseEdge`\n *\n * @param {Point[]} points List of points\n * @returns {Point} Return result of `transverseEdge`\n */\nconst calcLabelPosition = (points) => {\n  return traverseEdge(points);\n};\n\nconst calcCardinalityPosition = (isRelationTypePresent, points, initialPosition) => {\n  let prevPoint;\n  let totalDistance = 0; // eslint-disable-line\n  log.info('our points', points);\n  if (points[0] !== initialPosition) {\n    points = points.reverse();\n  }\n  points.forEach((point) => {\n    totalDistance += distance(point, prevPoint);\n    prevPoint = point;\n  });\n\n  // Traverse only 25 total distance along points to find cardinality point\n  const distanceToCardinalityPoint = 25;\n\n  let remainingDistance = distanceToCardinalityPoint;\n  let center;\n  prevPoint = undefined;\n  points.forEach((point) => {\n    if (prevPoint && !center) {\n      const vectorDistance = distance(point, prevPoint);\n      if (vectorDistance < remainingDistance) {\n        remainingDistance -= vectorDistance;\n      } else {\n        // The point is remainingDistance from prevPoint in the vector between prevPoint and point\n        // Calculate the coordinates\n        const distanceRatio = remainingDistance / vectorDistance;\n        if (distanceRatio <= 0) center = prevPoint;\n        if (distanceRatio >= 1) center = { x: point.x, y: point.y };\n        if (distanceRatio > 0 && distanceRatio < 1) {\n          center = {\n            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\n            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y,\n          };\n        }\n      }\n    }\n    prevPoint = point;\n  });\n  // if relation is present (Arrows will be added), change cardinality point off-set distance (d)\n  let d = isRelationTypePresent ? 10 : 5;\n  //Calculate Angle for x and y axis\n  let angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);\n  let cardinalityPosition = { x: 0, y: 0 };\n  //Calculation cardinality position using angle, center point on the line/curve but pendicular and with offset-distance\n  cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;\n  cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;\n  return cardinalityPosition;\n};\n\n/**\n * Position ['start_left', 'start_right', 'end_left', 'end_right']\n *\n * @param {any} terminalMarkerSize\n * @param {any} position\n * @param {any} _points\n * @returns {any}\n */\nconst calcTerminalLabelPosition = (terminalMarkerSize, position, _points) => {\n  // Todo looking to faster cloning method\n  let points = JSON.parse(JSON.stringify(_points));\n  let prevPoint;\n  let totalDistance = 0; // eslint-disable-line\n  log.info('our points', points);\n  if (position !== 'start_left' && position !== 'start_right') {\n    points = points.reverse();\n  }\n\n  points.forEach((point) => {\n    totalDistance += distance(point, prevPoint);\n    prevPoint = point;\n  });\n\n  // Traverse only 25 total distance along points to find cardinality point\n  const distanceToCardinalityPoint = 25 + terminalMarkerSize;\n\n  let remainingDistance = distanceToCardinalityPoint;\n  let center;\n  prevPoint = undefined;\n  points.forEach((point) => {\n    if (prevPoint && !center) {\n      const vectorDistance = distance(point, prevPoint);\n      if (vectorDistance < remainingDistance) {\n        remainingDistance -= vectorDistance;\n      } else {\n        // The point is remainingDistance from prevPoint in the vector between prevPoint and point\n        // Calculate the coordinates\n        const distanceRatio = remainingDistance / vectorDistance;\n        if (distanceRatio <= 0) center = prevPoint;\n        if (distanceRatio >= 1) center = { x: point.x, y: point.y };\n        if (distanceRatio > 0 && distanceRatio < 1) {\n          center = {\n            x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point.x,\n            y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point.y,\n          };\n        }\n      }\n    }\n    prevPoint = point;\n  });\n  // if relation is present (Arrows will be added), change cardinality point off-set distance (d)\n  let d = 10 + terminalMarkerSize * 0.5;\n  //Calculate Angle for x and y axis\n  let angle = Math.atan2(points[0].y - center.y, points[0].x - center.x);\n\n  let cardinalityPosition = { x: 0, y: 0 };\n\n  //Calculation cardinality position using angle, center point on the line/curve but pendicular and with offset-distance\n\n  cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2;\n  cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2;\n  if (position === 'start_left') {\n    cardinalityPosition.x = Math.sin(angle + Math.PI) * d + (points[0].x + center.x) / 2;\n    cardinalityPosition.y = -Math.cos(angle + Math.PI) * d + (points[0].y + center.y) / 2;\n  }\n  if (position === 'end_right') {\n    cardinalityPosition.x = Math.sin(angle - Math.PI) * d + (points[0].x + center.x) / 2 - 5;\n    cardinalityPosition.y = -Math.cos(angle - Math.PI) * d + (points[0].y + center.y) / 2 - 5;\n  }\n  if (position === 'end_left') {\n    cardinalityPosition.x = Math.sin(angle) * d + (points[0].x + center.x) / 2 - 5;\n    cardinalityPosition.y = -Math.cos(angle) * d + (points[0].y + center.y) / 2 - 5;\n  }\n  return cardinalityPosition;\n};\n\n/**\n * Gets styles from an array of declarations\n *\n * @param {string[]} arr Declarations\n * @returns {{ style: string; labelStyle: string }} The styles grouped as strings\n */\nexport const getStylesFromArray = (arr) => {\n  let style = '';\n  let labelStyle = '';\n\n  for (let i = 0; i < arr.length; i++) {\n    if (typeof arr[i] !== 'undefined') {\n      // add text properties to label style definition\n      if (arr[i].startsWith('color:') || arr[i].startsWith('text-align:')) {\n        labelStyle = labelStyle + arr[i] + ';';\n      } else {\n        style = style + arr[i] + ';';\n      }\n    }\n  }\n\n  return { style: style, labelStyle: labelStyle };\n};\n\nlet cnt = 0;\nexport const generateId = () => {\n  cnt++;\n  return 'id-' + Math.random().toString(36).substr(2, 12) + '-' + cnt;\n};\n\n/**\n * @param {any} length\n * @returns {any}\n */\nfunction makeid(length) {\n  var result = '';\n  var characters = '0123456789abcdef';\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\nexport const random = (options) => {\n  return makeid(options.length);\n};\n\n/**\n * @function assignWithDepth Extends the functionality of {@link ObjectConstructor.assign} with the\n *   ability to merge arbitrary-depth objects For each key in src with path `k` (recursively)\n *   performs an Object.assign(dst[`k`], src[`k`]) with a slight change from the typical handling of\n *   undefined for dst[`k`]: instead of raising an error, dst[`k`] is auto-initialized to {} and\n *   effectively merged with src[`k`]<p> Additionally, dissimilar types will not clobber unless the\n *   config.clobber parameter === true. Example:\n *\n *   ```js\n *   let config_0 = { foo: { bar: 'bar' }, bar: 'foo' };\n *   let config_1 = { foo: 'foo', bar: 'bar' };\n *   let result = assignWithDepth(config_0, config_1);\n *   console.log(result);\n *   //-> result: { foo: { bar: 'bar' }, bar: 'bar' }\n *   ```\n *\n *   Traditional Object.assign would have clobbered foo in config_0 with foo in config_1. If src is a\n *   destructured array of objects and dst is not an array, assignWithDepth will apply each element\n *   of src to dst in order.\n * @param dst\n * @param src\n * @param config\n * @param dst\n * @param src\n * @param config\n * @param dst\n * @param src\n * @param config\n * @param {any} dst - The destination of the merge\n * @param {any} src - The source object(s) to merge into destination\n * @param {{ depth: number; clobber: boolean }} [config={ depth: 2, clobber: false }] - Depth: depth\n *   to traverse within src and dst for merging - clobber: should dissimilar types clobber (default:\n *   { depth: 2, clobber: false }). Default is `{ depth: 2, clobber: false }`\n * @returns {any}\n */\nexport const assignWithDepth = function (dst, src, config) {\n  const { depth, clobber } = Object.assign({ depth: 2, clobber: false }, config);\n  if (Array.isArray(src) && !Array.isArray(dst)) {\n    src.forEach((s) => assignWithDepth(dst, s, config));\n    return dst;\n  } else if (Array.isArray(src) && Array.isArray(dst)) {\n    src.forEach((s) => {\n      if (dst.indexOf(s) === -1) {\n        dst.push(s);\n      }\n    });\n    return dst;\n  }\n  if (typeof dst === 'undefined' || depth <= 0) {\n    if (dst !== undefined && dst !== null && typeof dst === 'object' && typeof src === 'object') {\n      return Object.assign(dst, src);\n    } else {\n      return src;\n    }\n  }\n  if (typeof src !== 'undefined' && typeof dst === 'object' && typeof src === 'object') {\n    Object.keys(src).forEach((key) => {\n      if (\n        typeof src[key] === 'object' &&\n        (dst[key] === undefined || typeof dst[key] === 'object')\n      ) {\n        if (dst[key] === undefined) {\n          dst[key] = Array.isArray(src[key]) ? [] : {};\n        }\n        dst[key] = assignWithDepth(dst[key], src[key], { depth: depth - 1, clobber });\n      } else if (clobber || (typeof dst[key] !== 'object' && typeof src[key] !== 'object')) {\n        dst[key] = src[key];\n      }\n    });\n  }\n  return dst;\n};\n\nexport const getTextObj = function () {\n  return {\n    x: 0,\n    y: 0,\n    fill: undefined,\n    anchor: 'start',\n    style: '#666',\n    width: 100,\n    height: 100,\n    textMargin: 0,\n    rx: 0,\n    ry: 0,\n    valign: undefined,\n  };\n};\n\n/**\n * Adds text to an element\n *\n * @param {SVGElement} elem Element to add text to\n * @param {{\n *   text: string;\n *   x: number;\n *   y: number;\n *   anchor: 'start' | 'middle' | 'end';\n *   fontFamily: string;\n *   fontSize: string | number;\n *   fontWeight: string | number;\n *   fill: string;\n *   class: string | undefined;\n *   textMargin: number;\n * }} textData\n * @returns {SVGTextElement} Text element with given styling and content\n */\nexport const drawSimpleText = function (elem, textData) {\n  // Remove and ignore br:s\n  const nText = textData.text.replace(common.lineBreakRegex, ' ');\n\n  const textElem = elem.append('text');\n  textElem.attr('x', textData.x);\n  textElem.attr('y', textData.y);\n  textElem.style('text-anchor', textData.anchor);\n  textElem.style('font-family', textData.fontFamily);\n  textElem.style('font-size', textData.fontSize);\n  textElem.style('font-weight', textData.fontWeight);\n  textElem.attr('fill', textData.fill);\n  if (typeof textData.class !== 'undefined') {\n    textElem.attr('class', textData.class);\n  }\n\n  const span = textElem.append('tspan');\n  span.attr('x', textData.x + textData.textMargin * 2);\n  span.attr('fill', textData.fill);\n  span.text(nText);\n\n  return textElem;\n};\n\nexport const wrapLabel = memoize(\n  (label, maxWidth, config) => {\n    if (!label) {\n      return label;\n    }\n    config = Object.assign(\n      { fontSize: 12, fontWeight: 400, fontFamily: 'Arial', joinWith: '<br/>' },\n      config\n    );\n    if (common.lineBreakRegex.test(label)) {\n      return label;\n    }\n    const words = label.split(' ');\n    const completedLines = [];\n    let nextLine = '';\n    words.forEach((word, index) => {\n      const wordLength = calculateTextWidth(`${word} `, config);\n      const nextLineLength = calculateTextWidth(nextLine, config);\n      if (wordLength > maxWidth) {\n        const { hyphenatedStrings, remainingWord } = breakString(word, maxWidth, '-', config);\n        completedLines.push(nextLine, ...hyphenatedStrings);\n        nextLine = remainingWord;\n      } else if (nextLineLength + wordLength >= maxWidth) {\n        completedLines.push(nextLine);\n        nextLine = word;\n      } else {\n        nextLine = [nextLine, word].filter(Boolean).join(' ');\n      }\n      const currentWord = index + 1;\n      const isLastWord = currentWord === words.length;\n      if (isLastWord) {\n        completedLines.push(nextLine);\n      }\n    });\n    return completedLines.filter((line) => line !== '').join(config.joinWith);\n  },\n  (label, maxWidth, config) =>\n    `${label}-${maxWidth}-${config.fontSize}-${config.fontWeight}-${config.fontFamily}-${config.joinWith}`\n);\n\nconst breakString = memoize(\n  (word, maxWidth, hyphenCharacter = '-', config) => {\n    config = Object.assign(\n      { fontSize: 12, fontWeight: 400, fontFamily: 'Arial', margin: 0 },\n      config\n    );\n    const characters = word.split('');\n    const lines = [];\n    let currentLine = '';\n    characters.forEach((character, index) => {\n      const nextLine = `${currentLine}${character}`;\n      const lineWidth = calculateTextWidth(nextLine, config);\n      if (lineWidth >= maxWidth) {\n        const currentCharacter = index + 1;\n        const isLastLine = characters.length === currentCharacter;\n        const hyphenatedNextLine = `${nextLine}${hyphenCharacter}`;\n        lines.push(isLastLine ? nextLine : hyphenatedNextLine);\n        currentLine = '';\n      } else {\n        currentLine = nextLine;\n      }\n    });\n    return { hyphenatedStrings: lines, remainingWord: currentLine };\n  },\n  (word, maxWidth, hyphenCharacter = '-', config) =>\n    `${word}-${maxWidth}-${hyphenCharacter}-${config.fontSize}-${config.fontWeight}-${config.fontFamily}`\n);\n\n/**\n * This calculates the text's height, taking into account the wrap breaks and both the statically\n * configured height, width, and the length of the text (in pixels).\n *\n * If the wrapped text text has greater height, we extend the height, so it's value won't overflow.\n *\n * @param {any} text The text to measure\n * @param {any} config - The config for fontSize, fontFamily, and fontWeight all impacting the resulting size\n * @returns {any} - The height for the given text\n */\nexport const calculateTextHeight = function (text, config) {\n  config = Object.assign(\n    { fontSize: 12, fontWeight: 400, fontFamily: 'Arial', margin: 15 },\n    config\n  );\n  return calculateTextDimensions(text, config).height;\n};\n\n/**\n * This calculates the width of the given text, font size and family.\n *\n * @param {any} text - The text to calculate the width of\n * @param {any} config - The config for fontSize, fontFamily, and fontWeight all impacting the resulting size\n * @returns {any} - The width for the given text\n */\nexport const calculateTextWidth = function (text, config) {\n  config = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: 'Arial' }, config);\n  return calculateTextDimensions(text, config).width;\n};\n\n/**\n * This calculates the dimensions of the given text, font size, font family, font weight, and margins.\n *\n * @param {any} text - The text to calculate the width of\n * @param {any} config - The config for fontSize, fontFamily, fontWeight, and margin all impacting\n *   the resulting size\n * @returns - The width for the given text\n */\nexport const calculateTextDimensions = memoize(\n  function (text, config) {\n    config = Object.assign({ fontSize: 12, fontWeight: 400, fontFamily: 'Arial' }, config);\n    const { fontSize, fontFamily, fontWeight } = config;\n    if (!text) {\n      return { width: 0, height: 0 };\n    }\n\n    // We can't really know if the user supplied font family will render on the user agent;\n    // thus, we'll take the max width between the user supplied font family, and a default\n    // of sans-serif.\n    const fontFamilies = ['sans-serif', fontFamily];\n    const lines = text.split(common.lineBreakRegex);\n    let dims = [];\n\n    const body = select('body');\n    // We don't want to leak DOM elements - if a removal operation isn't available\n    // for any reason, do not continue.\n    if (!body.remove) {\n      return { width: 0, height: 0, lineHeight: 0 };\n    }\n\n    const g = body.append('svg');\n\n    for (let fontFamily of fontFamilies) {\n      let cheight = 0;\n      let dim = { width: 0, height: 0, lineHeight: 0 };\n      for (let line of lines) {\n        const textObj = getTextObj();\n        textObj.text = line;\n        const textElem = drawSimpleText(g, textObj)\n          .style('font-size', fontSize)\n          .style('font-weight', fontWeight)\n          .style('font-family', fontFamily);\n\n        let bBox = (textElem._groups || textElem)[0][0].getBBox();\n        dim.width = Math.round(Math.max(dim.width, bBox.width));\n        cheight = Math.round(bBox.height);\n        dim.height += cheight;\n        dim.lineHeight = Math.round(Math.max(dim.lineHeight, cheight));\n      }\n      dims.push(dim);\n    }\n\n    g.remove();\n\n    let index =\n      isNaN(dims[1].height) ||\n      isNaN(dims[1].width) ||\n      isNaN(dims[1].lineHeight) ||\n      (dims[0].height > dims[1].height &&\n        dims[0].width > dims[1].width &&\n        dims[0].lineHeight > dims[1].lineHeight)\n        ? 0\n        : 1;\n    return dims[index];\n  },\n  (text, config) => `${text}-${config.fontSize}-${config.fontWeight}-${config.fontFamily}`\n);\n\n/**\n * Applys d3 attributes\n *\n * @param {any} d3Elem D3 Element to apply the attributes onto\n * @param {[string, string][]} attrs Object.keys equivalent format of key to value mapping of attributes\n */\nconst d3Attrs = function (d3Elem, attrs) {\n  for (let attr of attrs) {\n    d3Elem.attr(attr[0], attr[1]);\n  }\n};\n\n/**\n * Gives attributes for an SVG's size given arguments\n *\n * @param {number} height The height of the SVG\n * @param {number} width The width of the SVG\n * @param {boolean} useMaxWidth Whether or not to use max-width and set width to 100%\n * @returns {Map<'height' | 'width' | 'style', string>} Attributes for the SVG\n */\nexport const calculateSvgSizeAttrs = function (height, width, useMaxWidth) {\n  let attrs = new Map();\n  attrs.set('height', height);\n  if (useMaxWidth) {\n    attrs.set('width', '100%');\n    attrs.set('style', `max-width: ${width}px;`);\n  } else {\n    attrs.set('width', width);\n  }\n  return attrs;\n};\n\n/**\n * Applies attributes from `calculateSvgSizeAttrs`\n *\n * @param {SVGSVGElement} svgElem The SVG Element to configure\n * @param {number} height The height of the SVG\n * @param {number} width The width of the SVG\n * @param {boolean} useMaxWidth Whether or not to use max-width and set width to 100%\n */\nexport const configureSvgSize = function (svgElem, height, width, useMaxWidth) {\n  const attrs = calculateSvgSizeAttrs(height, width, useMaxWidth);\n  d3Attrs(svgElem, attrs);\n};\n\nexport const initIdGeneratior = class iterator {\n  constructor(deterministic, seed) {\n    this.deterministic = deterministic;\n    this.seed = seed;\n\n    this.count = seed ? seed.length : 0;\n  }\n\n  next() {\n    if (!this.deterministic) return Date.now();\n\n    return this.count++;\n  }\n};\n\nlet decoder;\n\n/**\n * Decodes HTML, source: {@link https://github.com/shrpne/entity-decode/blob/v2.0.1/browser.js}\n *\n * @param {string} html HTML as a string\n * @returns Unescaped HTML\n */\nexport const entityDecode = function (html) {\n  decoder = decoder || document.createElement('div');\n  // Escape HTML before decoding for HTML Entities\n  html = escape(html).replace(/%26/g, '&').replace(/%23/g, '#').replace(/%3B/g, ';');\n  // decoding\n  decoder.innerHTML = html;\n  return unescape(decoder.textContent);\n};\n\n/**\n * Sanitizes directive objects\n *\n * @param {object} args Directive's JSON\n */\nexport const directiveSanitizer = (args) => {\n  log.debug('directiveSanitizer called with', args);\n  if (typeof args === 'object') {\n    // check for array\n    if (args.length) {\n      args.forEach((arg) => directiveSanitizer(arg));\n    } else {\n      // This is an object\n      Object.keys(args).forEach((key) => {\n        log.debug('Checking key', key);\n        if (key.indexOf('__') === 0) {\n          log.debug('sanitize deleting __ option', key);\n          delete args[key];\n        }\n\n        if (key.indexOf('proto') >= 0) {\n          log.debug('sanitize deleting proto option', key);\n          delete args[key];\n        }\n\n        if (key.indexOf('constr') >= 0) {\n          log.debug('sanitize deleting constr option', key);\n          delete args[key];\n        }\n\n        if (key.indexOf('themeCSS') >= 0) {\n          log.debug('sanitizing themeCss option');\n          args[key] = sanitizeCss(args[key]);\n        }\n        if (configKeys.indexOf(key) < 0) {\n          log.debug('sanitize deleting option', key);\n          delete args[key];\n        } else {\n          if (typeof args[key] === 'object') {\n            log.debug('sanitize deleting object', key);\n            directiveSanitizer(args[key]);\n          }\n        }\n      });\n    }\n  }\n};\nexport const sanitizeCss = (str) => {\n  const stringsearch = 'o';\n  const startCnt = (str.match(/\\{/g) || []).length;\n  const endCnt = (str.match(/\\}/g) || []).length;\n  if (startCnt !== endCnt) {\n    return '{ /* ERROR: Unbalanced CSS */ }';\n  }\n  // Todo add more checks here\n  return str;\n};\n\nexport default {\n  assignWithDepth,\n  wrapLabel,\n  calculateTextHeight,\n  calculateTextWidth,\n  calculateTextDimensions,\n  calculateSvgSizeAttrs,\n  configureSvgSize,\n  detectInit,\n  detectDirective,\n  detectType,\n  isSubstringInArray,\n  interpolateToCurve,\n  calcLabelPosition,\n  calcCardinalityPosition,\n  calcTerminalLabelPosition,\n  formatUrl,\n  getStylesFromArray,\n  generateId,\n  random,\n  memoize,\n  runFunc,\n  entityDecode,\n  initIdGeneratior,\n  directiveSanitizer,\n  sanitizeCss,\n};\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","module.exports = require(\"@braintree/sanitize-url\");","module.exports = require(\"d3\");","module.exports = require(\"dagre\");","module.exports = require(\"dagre-d3\");","module.exports = require(\"dagre-d3/lib/label/add-html-label.js\");","module.exports = require(\"dompurify\");","module.exports = require(\"graphlib\");","module.exports = require(\"khroma\");","module.exports = require(\"moment-mini\");","module.exports = require(\"stylis\");","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/mermaid.js\");\n",""],"mappings":"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;oBAAiC;oBAChE;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA,iCAAwC,KAAAE,QAAA;oBAAmB;oBAC3D;kBACA;oBAAA;oBACA;kBACA;oBAAA,6CAAoD;oBACpD;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA,KAAAF,KAAA;oBACA;kBACA;oBAAA,KAAAE,QAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA,KAAAF,KAAA;oBACA;kBACA;oBAAA,KAAAE,QAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA,KAAAF,KAAA;oBACA;kBACA;oBAAA,KAAAE,QAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA,KAAAF,KAAA;oBACA;kBACA;oBAAA,KAAAE,QAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA,KAAAF,KAAA;oBACA;kBACA;oBAAA,KAAAE,QAAA;oBACA;kBACA;oBAAA,KAAAA,QAAA;oBAAyB,KAAAF,KAAA;oBACzB;kBACA;oBAAA;oBACA;kBACA;oBAAA,KAAAE,QAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAAA;oBACA;kBACA;oBAA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wT,MAAM,GAAG;UACb;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEze,KAAK,EAAE,SAXM;UAYbE,cAAc,EAAEwe,oCAAA,uBAAAte,iBAAA,EAZH;UAabue,QAAQ,EAAElnB,SAbG;UAcb;UACAmnB,WAAW,EAAE,KAfA;UAgBbC,QAAQ,EAAE,KAhBG;UAkBb;AACF;AACA;AACA;AACA;AACA;AACA;UACEvd,UAAU,EAAE,6CAzBC;UA2Bb;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEwd,QAAQ,EAAE,CAxCG;UA0Cb;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEf,aAAa,EAAE,QAtDF;UAwDb;AACF;AACA;AACA;AACA;AACA;AACA;UACEgB,WAAW,EAAE,IA/DA;UAiEb;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACElR,mBAAmB,EAAE,KA5ER;UA8Eb;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEhN,MAAM,EAAE,CAAC,QAAD,EAAW,eAAX,EAA4B,aAA5B,EAA2C,aAA3C,CAxFK;UA0Fb;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;UACEme,gBAAgB,EAAE,KAtGL;UAwGb;AACF;AACA;AACA;AACA;UACEC,mBAAmB,EAAExnB,SA7GR;UA+Gb;UACAgL,SAAS,EAAE;YACT;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIyc,cAAc,EAAE,CAbP;YAeT;AACJ;AACA;AACA;AACA;AACA;AACA;YACIxc,UAAU,EAAE,IAtBH;YAwBT;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIyc,WAAW,EAAE,EApCJ;YAsCT;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIC,WAAW,EAAE,EAlDJ;YAoDT;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI/R,KAAK,EAAE,OA7DE;YA8DT;YACA;YACAlK,OAAO,EAAE,EAhEA;YAkET;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIkc,WAAW,EAAE,IA9EJ;YAgFT;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIC,eAAe,EAAE;UA5FR,CAhHE;UA+Mb;UACAC,QAAQ,EAAE;YACR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,eAAe,EAAE,EART;YAUR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,cAAc,EAAE,EAjBR;YAmBR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,cAAc,EAAE,EA1BR;YA4BR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,WAAW,EAAE,EAnCL;YAqCR;AACJ;AACA;AACA;AACA;AACA;AACA;YACI1c,KAAK,EAAE,GA5CC;YA8CR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,MAAM,EAAE,EArDA;YAuDR;AACJ;AACA;AACA;AACA;AACA;AACA;YACI0c,SAAS,EAAE,EA9DH;YAgER;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,aAAa,EAAE,CAvEP;YAyER;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,UAAU,EAAE,EAhFJ;YAkFR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,aAAa,EAAE,EAzFP;YA2FR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,YAAY,EAAE,QAlGN;YAoGR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,YAAY,EAAE,IA3GN;YA6GR;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIC,UAAU,EAAE,KAtHJ;YAwHR;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIC,eAAe,EAAE,CAnIT;YAqIR;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACId,WAAW,EAAE,IA/IL;YAiJR;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIe,WAAW,EAAE,KA5JL;YA8JR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,mBAAmB,EAAE,KArKb;YAuKR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,aAAa,EAAE,EA9KP;YAgLR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,eAAe,EAAE,2BAvLT;YAyLR;AACJ;AACA;AACA;AACA;YACIC,eAAe,EAAE,GA9LT;YAgMR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,YAAY,EAAE,EAvMN;YAyMR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,cAAc,EAAE,4CAhNR;YAkNR;AACJ;AACA;AACA;AACA;YACIC,cAAc,EAAE,GAvNR;YAyNR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,SAAS,EAAE,QAhOH;YAkOR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,eAAe,EAAE,EAzOT;YA2OR;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,iBAAiB,EAAE,4CAlPX;YAoPR;AACJ;AACA;AACA;AACA;YACIC,iBAAiB,EAAE,GAzPX;YA2PR;AACJ;AACA;AACA;AACA;YACIC,IAAI,EAAE,KAhQE;YAkQR;AACJ;AACA;AACA;AACA;YACIC,WAAW,EAAE,EAvQL;YAyQR;AACJ;AACA;AACA;AACA;YACIC,aAAa,EAAE,EA9QP;YAgRR;AACJ;AACA;AACA;AACA;YACIC,cAAc,EAAE,EArRR;YAuRRC,WAAW,EAAE,SAAAA,YAAA,EAAY;cACvB,OAAO;gBACL9f,UAAU,EAAE,KAAKwf,iBADZ;gBAELO,QAAQ,EAAE,KAAKR,eAFV;gBAGLS,UAAU,EAAE,KAAKP;cAHZ,CAAP;YAKD,CA7RO;YA8RRQ,QAAQ,EAAE,SAAAA,SAAA,EAAY;cACpB,OAAO;gBACLjgB,UAAU,EAAE,KAAKof,cADZ;gBAELW,QAAQ,EAAE,KAAKZ,YAFV;gBAGLa,UAAU,EAAE,KAAKX;cAHZ,CAAP;YAKD,CApSO;YAqSRa,SAAS,EAAE,SAAAA,UAAA,EAAY;cACrB,OAAO;gBACLlgB,UAAU,EAAE,KAAKif,eADZ;gBAELc,QAAQ,EAAE,KAAKf,aAFV;gBAGLgB,UAAU,EAAE,KAAKd;cAHZ,CAAP;YAKD;UA3SO,CAhNG;UA8fb;UACAiB,KAAK,EAAE;YACL;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIC,cAAc,EAAE,EAVX;YAYL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,SAAS,EAAE,EAnBN;YAqBL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,MAAM,EAAE,CA5BH;YA8BL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,UAAU,EAAE,EArCP;YAuCL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,YAAY,EAAE,EA9CT;YAgDL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,WAAW,EAAE,EAvDR;YAyDL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,oBAAoB,EAAE,EAhEjB;YAkEL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIX,QAAQ,EAAE,EAzEL;YA2EL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIY,eAAe,EAAE,EAlFZ;YAoFL;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,mBAAmB,EAAE,CA3FhB;YA6FL;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACIC,UAAU,EAAE,UAxGP;YA0GL;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI9C,WAAW,EAAE,IAtHR;YAwHL;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;YACI+C,OAAO,EAAE,KAjIJ;YAmILC,QAAQ,EAAE5qB;UAnIL,CA/fM;UAqoBb;UACA6qB,OAAO,EAAE;YACP;AACJ;AACA;AACA;AACA;AACA;AACA;YACI7C,cAAc,EAAE,EART;YAUP;AACJ;AACA;AACA;AACA;AACA;AACA;YACIC,cAAc,EAAE,EAjBT;YAmBP;AACJ;AACA;AACA;AACA;AACA;AACA;YACI6C,UAAU,EAAE,GA1BL;YA4BP;AACJ;AA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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}