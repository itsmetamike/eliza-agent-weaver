{"ast":null,"code":"var util = require(\"./util\");\nvar d3 = require(\"./d3\");\nvar addLabel = require(\"./label/add-label\");\nmodule.exports = createClusters;\nfunction createClusters(selection, g) {\n  var clusters = g.nodes().filter(function (v) {\n    return util.isSubgraph(g, v);\n  });\n  var svgClusters = selection.selectAll(\"g.cluster\").data(clusters, function (v) {\n    return v;\n  });\n  svgClusters.selectAll(\"*\").remove();\n  svgClusters.enter().append(\"g\").attr(\"class\", \"cluster\").attr(\"id\", function (v) {\n    var node = g.node(v);\n    return node.id;\n  }).style(\"opacity\", 0);\n  svgClusters = selection.selectAll(\"g.cluster\");\n  util.applyTransition(svgClusters, g).style(\"opacity\", 1);\n  svgClusters.each(function (v) {\n    var node = g.node(v);\n    var thisGroup = d3.select(this);\n    d3.select(this).append(\"rect\");\n    var labelGroup = thisGroup.append(\"g\").attr(\"class\", \"label\");\n    addLabel(labelGroup, node, node.clusterLabelPos);\n  });\n  svgClusters.selectAll(\"rect\").each(function (c) {\n    var node = g.node(c);\n    var domCluster = d3.select(this);\n    util.applyStyle(domCluster, node.style);\n  });\n  var exitSelection;\n  if (svgClusters.exit) {\n    exitSelection = svgClusters.exit();\n  } else {\n    exitSelection = svgClusters.selectAll(null); // empty selection\n  }\n  util.applyTransition(exitSelection, g).style(\"opacity\", 0).remove();\n  return svgClusters;\n}","map":{"version":3,"names":["util","require","d3","addLabel","module","exports","createClusters","selection","g","clusters","nodes","filter","v","isSubgraph","svgClusters","selectAll","data","remove","enter","append","attr","node","id","style","applyTransition","each","thisGroup","select","labelGroup","clusterLabelPos","c","domCluster","applyStyle","exitSelection","exit"],"sources":["C:/Users/emmed/Documents/char_test/frontend/node_modules/dagre-d3/lib/create-clusters.js"],"sourcesContent":["var util = require(\"./util\");\nvar d3 = require(\"./d3\");\nvar addLabel = require(\"./label/add-label\");\n\nmodule.exports = createClusters;\n\nfunction createClusters(selection, g) {\n  var clusters = g.nodes().filter(function(v) { return util.isSubgraph(g, v); });\n  var svgClusters = selection.selectAll(\"g.cluster\")\n    .data(clusters, function(v) { return v; });\n\n  svgClusters.selectAll(\"*\").remove();\n  svgClusters.enter().append(\"g\")\n    .attr(\"class\", \"cluster\")\n    .attr(\"id\",function(v){\n      var node = g.node(v);\n      return node.id;\n    })\n    .style(\"opacity\", 0);\n  \n  svgClusters = selection.selectAll(\"g.cluster\");\n\n  util.applyTransition(svgClusters, g)\n    .style(\"opacity\", 1);\n\n  svgClusters.each(function(v) {\n    var node = g.node(v);\n    var thisGroup = d3.select(this);\n    d3.select(this).append(\"rect\");\n    var labelGroup = thisGroup.append(\"g\").attr(\"class\", \"label\");\n    addLabel(labelGroup, node, node.clusterLabelPos);\n  });\n\n  svgClusters.selectAll(\"rect\").each(function(c) {\n    var node = g.node(c);\n    var domCluster = d3.select(this);\n    util.applyStyle(domCluster, node.style);\n  });\n\n  var exitSelection;\n\n  if (svgClusters.exit) {\n    exitSelection = svgClusters.exit();\n  } else {\n    exitSelection = svgClusters.selectAll(null); // empty selection\n  }\n\n  util.applyTransition(exitSelection, g)\n    .style(\"opacity\", 0)\n    .remove();\n\n  return svgClusters;\n}\n"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC5B,IAAIC,EAAE,GAAGD,OAAO,CAAC,MAAM,CAAC;AACxB,IAAIE,QAAQ,GAAGF,OAAO,CAAC,mBAAmB,CAAC;AAE3CG,MAAM,CAACC,OAAO,GAAGC,cAAc;AAE/B,SAASA,cAAcA,CAACC,SAAS,EAAEC,CAAC,EAAE;EACpC,IAAIC,QAAQ,GAAGD,CAAC,CAACE,KAAK,CAAC,CAAC,CAACC,MAAM,CAAC,UAASC,CAAC,EAAE;IAAE,OAAOZ,IAAI,CAACa,UAAU,CAACL,CAAC,EAAEI,CAAC,CAAC;EAAE,CAAC,CAAC;EAC9E,IAAIE,WAAW,GAAGP,SAAS,CAACQ,SAAS,CAAC,WAAW,CAAC,CAC/CC,IAAI,CAACP,QAAQ,EAAE,UAASG,CAAC,EAAE;IAAE,OAAOA,CAAC;EAAE,CAAC,CAAC;EAE5CE,WAAW,CAACC,SAAS,CAAC,GAAG,CAAC,CAACE,MAAM,CAAC,CAAC;EACnCH,WAAW,CAACI,KAAK,CAAC,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC,CAC5BC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CACxBA,IAAI,CAAC,IAAI,EAAC,UAASR,CAAC,EAAC;IACpB,IAAIS,IAAI,GAAGb,CAAC,CAACa,IAAI,CAACT,CAAC,CAAC;IACpB,OAAOS,IAAI,CAACC,EAAE;EAChB,CAAC,CAAC,CACDC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;EAEtBT,WAAW,GAAGP,SAAS,CAACQ,SAAS,CAAC,WAAW,CAAC;EAE9Cf,IAAI,CAACwB,eAAe,CAACV,WAAW,EAAEN,CAAC,CAAC,CACjCe,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC;EAEtBT,WAAW,CAACW,IAAI,CAAC,UAASb,CAAC,EAAE;IAC3B,IAAIS,IAAI,GAAGb,CAAC,CAACa,IAAI,CAACT,CAAC,CAAC;IACpB,IAAIc,SAAS,GAAGxB,EAAE,CAACyB,MAAM,CAAC,IAAI,CAAC;IAC/BzB,EAAE,CAACyB,MAAM,CAAC,IAAI,CAAC,CAACR,MAAM,CAAC,MAAM,CAAC;IAC9B,IAAIS,UAAU,GAAGF,SAAS,CAACP,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;IAC7DjB,QAAQ,CAACyB,UAAU,EAAEP,IAAI,EAAEA,IAAI,CAACQ,eAAe,CAAC;EAClD,CAAC,CAAC;EAEFf,WAAW,CAACC,SAAS,CAAC,MAAM,CAAC,CAACU,IAAI,CAAC,UAASK,CAAC,EAAE;IAC7C,IAAIT,IAAI,GAAGb,CAAC,CAACa,IAAI,CAACS,CAAC,CAAC;IACpB,IAAIC,UAAU,GAAG7B,EAAE,CAACyB,MAAM,CAAC,IAAI,CAAC;IAChC3B,IAAI,CAACgC,UAAU,CAACD,UAAU,EAAEV,IAAI,CAACE,KAAK,CAAC;EACzC,CAAC,CAAC;EAEF,IAAIU,aAAa;EAEjB,IAAInB,WAAW,CAACoB,IAAI,EAAE;IACpBD,aAAa,GAAGnB,WAAW,CAACoB,IAAI,CAAC,CAAC;EACpC,CAAC,MAAM;IACLD,aAAa,GAAGnB,WAAW,CAACC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;EAC/C;EAEAf,IAAI,CAACwB,eAAe,CAACS,aAAa,EAAEzB,CAAC,CAAC,CACnCe,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CACnBN,MAAM,CAAC,CAAC;EAEX,OAAOH,WAAW;AACpB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}